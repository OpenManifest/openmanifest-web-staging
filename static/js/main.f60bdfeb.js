(()=>{var e={23817:(e,n,t)=>{"use strict";t.r(n);var r=t(75629),o=t(46300),i=t(63292),l=t(89526),a=t(4152),s=t(801),u=t(51214),d=t(66144),c=t(84357),f=t(81133),p=t(35693),m=t(680),g=t(7132);"android"===g.default.OS&&(t(75523),t(93444),t(91782),t(5859),t(30357),t(73427),t(81296),t(8156),t(53924),t(66396),t(89833),t(59520),t(34029),t(28811),t(80383),"__setDefaultTimeZone"in Intl.DateTimeFormat&&Intl.DateTimeFormat.__setDefaultTimeZone(t(20743).timezone));var h,v,y,b,x=t(14365);const j=(null==(h=x.default.manifest)?void 0:h.extra)||(null==(v=x.default.manifest2)||null==(y=v.extra)||null==(b=y.expoClient)?void 0:b.extra);var k=t(53129),O=t(59506),w=g.default.select({ios:null==j?void 0:j.googleMapsIos,android:null==j?void 0:j.googleMapsAndroid,web:null==j?void 0:j.googleMapsWeb});k.default.init(w),(0,O.setGoogleApiKey)(w);var S=t(15861);t(68749).setNotificationHandler({handleNotification:function(){var e=(0,S.default)((function*(){return{shouldShowAlert:!0,shouldPlaySound:!0,shouldSetBadge:!0}}));return function(){return e.apply(this,arguments)}}()});var P,C,D,E,z,T,I,A,F,R,U,B,L=t(91008),M=t(75659),N=t(4942),$=t(86493),V=t(24450),q=t(45519),G=t(8594),W=t(29439);!function(e){e.Archived="archived",e.Demo="demo",e.InReview="in_review",e.Private="private",e.Public="public"}(P||(P={})),function(e){e.Archive="archive",e.Demo="demo",e.Publish="publish",e.RequestPublication="request_publication",e.Unpublish="unpublish"}(C||(C={})),function(e){e.Admin="admin",e.System="system",e.User="user"}(D||(D={})),function(e){e.Assigned="assigned",e.Confirmed="confirmed",e.Created="created",e.Deleted="deleted",e.Updated="updated"}(E||(E={})),function(e){e.Debug="debug",e.Error="error",e.Info="info"}(z||(z={})),function(e){e.BoardingCall="boarding_call",e.Cancelled="cancelled",e.InFlight="in_flight",e.Landed="landed",e.Open="open"}(T||(T={})),function(e){e.Administrator="administrator",e.Moderator="moderator",e.Support="support",e.User="user"}(I||(I={})),function(e){e.BoardingCall="boarding_call",e.BoardingCallCanceled="boarding_call_canceled",e.CreditsUpdated="credits_updated",e.MembershipUpdated="membership_updated",e.PackjobConfirmed="packjob_confirmed",e.PackjobPendingConfirm="packjob_pending_confirm",e.PermissionGranted="permission_granted",e.PermissionRevoked="permission_revoked",e.PublicationRequested="publication_requested",e.RigInspectionCompleted="rig_inspection_completed",e.RigInspectionRequested="rig_inspection_requested",e.RigPendingInspection="rig_pending_inspection",e.System="system",e.UserManifested="user_manifested"}(A||(A={})),function(e){e.Cancelled="cancelled",e.Completed="completed",e.Pending="pending",e.Refunded="refunded"}(F||(F={})),function(e){e.ActAsDzso="actAsDZSO",e.ActAsGca="actAsGCA",e.ActAsLoadMaster="actAsLoadMaster",e.ActAsPilot="actAsPilot",e.ActAsRigInspector="actAsRigInspector",e.CreateDoubleSlot="createDoubleSlot",e.CreateDropzoneRig="createDropzoneRig",e.CreateExtra="createExtra",e.CreateFormTemplate="createFormTemplate",e.CreateLoad="createLoad",e.CreatePackjob="createPackjob",e.CreatePlane="createPlane",e.CreateRig="createRig",e.CreateSlot="createSlot",e.CreateStudentSlot="createStudentSlot",e.CreateTicketType="createTicketType",e.CreateUser="createUser",e.CreateUserDoubleSlot="createUserDoubleSlot",e.CreateUserSlot="createUserSlot",e.CreateUserSlotWithSelf="createUserSlotWithSelf",e.CreateUserTransaction="createUserTransaction",e.DeleteDropzone="deleteDropzone",e.DeleteDropzoneRig="deleteDropzoneRig",e.DeleteExtra="deleteExtra",e.DeleteFormTemplate="deleteFormTemplate",e.DeleteLoad="deleteLoad",e.DeletePackjob="deletePackjob",e.DeletePlane="deletePlane",e.DeleteRig="deleteRig",e.DeleteSlot="deleteSlot",e.DeleteStudentSlot="deleteStudentSlot",e.DeleteTicketType="deleteTicketType",e.DeleteUser="deleteUser",e.DeleteUserSlot="deleteUserSlot",e.GrantPermission="grantPermission",e.ReadDropzoneRig="readDropzoneRig",e.ReadExtra="readExtra",e.ReadFormTemplate="readFormTemplate",e.ReadLoad="readLoad",e.ReadPackjob="readPackjob",e.ReadPermissions="readPermissions",e.ReadRig="readRig",e.ReadUser="readUser",e.ReadUserTransactions="readUserTransactions",e.RevokePermission="revokePermission",e.UndeleteDropzone="undeleteDropzone",e.UndeleteDropzoneRig="undeleteDropzoneRig",e.UndeleteExtra="undeleteExtra",e.UndeletePlane="undeletePlane",e.UndeleteRig="undeleteRig",e.UndeleteStudentSlot="undeleteStudentSlot",e.UndeleteTicketType="undeleteTicketType",e.UndeleteUser="undeleteUser",e.UndeleteUserSlot="undeleteUserSlot",e.UpdateDropzone="updateDropzone",e.UpdateDropzoneRig="updateDropzoneRig",e.UpdateExtra="updateExtra",e.UpdateFormTemplate="updateFormTemplate",e.UpdateLoad="updateLoad",e.UpdatePackjob="updatePackjob",e.UpdatePermissions="updatePermissions",e.UpdatePlane="updatePlane",e.UpdateRig="updateRig",e.UpdateSlot="updateSlot",e.UpdateStudentSlot="updateStudentSlot",e.UpdateTicketType="updateTicketType",e.UpdateUser="updateUser",e.UpdateUserSlot="updateUserSlot",e.UpdateWeatherConditions="updateWeatherConditions",e.ViewAdminActivity="viewAdminActivity",e.ViewRevenue="viewRevenue",e.ViewStatistics="viewStatistics",e.ViewSystemActivity="viewSystemActivity",e.ViewUserActivity="viewUserActivity"}(R||(R={})),function(e){e.Cancelled="cancelled",e.Completed="completed",e.Reserved="reserved"}(U||(U={})),function(e){e.Deposit="deposit",e.Purchase="purchase",e.Refund="refund",e.Sale="sale",e.Withdrawal="withdrawal"}(B||(B={}));var _={original:null,open:!1,fields:{federation:{value:null,error:null},lat:{value:null,error:null},lng:{value:null,error:null},name:{value:"",error:null},secondaryColor:{value:"",error:null},primaryColor:{value:"",error:null},banner:{value:"",error:null},isCreditSystemEnabled:{value:!1,error:null},status:{value:P.Public,error:null}}};const H=(0,V.createSlice)({name:"forms/dropzone",initialState:_,reducers:{setField:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];e.fields[r].value=o,e.fields[r].error=null},setFieldError:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];r in e.fields&&"error"in e.fields[r]&&(e.fields[r].error=o)},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=_.fields):(e.original=n.payload,e.open=!0,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var o=r;e.fields[o].value=n.payload[o]}})))},setOriginal:function(e,n){e.original=n.payload,e.open=!0,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var o=r;e.fields[o].value=n.payload[o]}}))},reset:function(e){e.fields=_.fields,e.original=null}}});var Y={original:null,open:!1,fields:{role:{value:null,error:null},expiresAt:{value:null,error:null}}};const J=(0,V.createSlice)({name:"forms/dropzoneUser",initialState:Y,reducers:{setField:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];e.fields[r].value=o,e.fields[r].error=null},setFieldError:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];e.fields[r].error=o},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=Y.fields):(e.original=n.payload,e.open=!0,e.fields.role.value=n.payload.role,e.fields.expiresAt.value=n.payload.expiresAt)},reset:function(e){e.fields=Y.fields,e.original=null}}});var Q={original:null,open:!1,fields:{make:{value:"",error:null},name:{value:"",error:null},model:{value:"",error:null},serial:{value:"",error:null},repackExpiresAt:{value:null,error:null},canopySize:{value:null,error:null},rigType:{value:"sport",error:null}}};const K=(0,V.createSlice)({name:"forms/rig",initialState:Q,reducers:{setField:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];e.fields[r].value=o,e.fields[r].error=null},setFieldError:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];e.fields[r].error=o},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=Q.fields):(e.original=n.payload,e.open=!0,e.fields.make.value=n.payload.make,e.fields.name.value=n.payload.name,e.fields.model.value=n.payload.model,e.fields.serial.value=n.payload.serial,e.fields.repackExpiresAt.value=n.payload.repackExpiresAt,e.fields.canopySize.value=n.payload.canopySize,e.fields.rigType.value=n.payload.rigType)},setOriginal:function(e,n){e.original=n.payload,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var o=r;e.fields[o].value=n.payload[o]}}))},reset:function(e){e.fields=Q.fields,e.original=null}}});var X={fields:[],open:!1,ok:!1};const Z=(0,V.createSlice)({name:"forms/rigInspection",initialState:X,reducers:{setOk:function(e,n){e.ok=n.payload},setField:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];e.fields=e.fields.map((function(e,n){return n===r?o:e}))},setFields:function(e,n){try{e.fields=JSON.parse(n.payload)}catch(Bn){console.log(n.payload),Bn instanceof Error&&console.error("Failed to read rig inspection template",Bn.message,n.payload)}},reset:function(e){e.fields=X.fields,e.ok=X.ok}}});var ee={original:null,fields:[]};const ne=(0,V.createSlice)({name:"forms/rigInspectionTemplate",initialState:ee,reducers:{setFields:function(e,n){e.fields=n.payload},setOpen:function(e,n){e.original=n.payload;try{e.fields=JSON.parse(n.payload.definition||"[]")}catch(t){console.log("Invalid json: ",n.payload.definition)}},reset:function(e){e.fields=ee.fields,e.original=null}}});var te={original:null,open:!1,fields:{jumpType:{value:null,error:null},extras:{value:[],error:null},load:{value:null,error:null},rig:{value:null,error:null},ticketType:{value:null,error:null},dropzoneUser:{value:null,error:null},exitWeight:{value:null,error:null},passengerName:{value:null,error:null},passengerExitWeight:{value:null,error:null}}};const re=(0,V.createSlice)({name:"forms/manifest",initialState:te,reducers:{setField:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];r in e.fields&&(e.fields[r].value=o,e.fields[r].error=null)},setFieldError:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];r in e.fields&&(e.fields[r].error=o)},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=te.fields):(e.original=n.payload,e.open=!0,e.fields.jumpType.value=n.payload.jumpType,e.fields.extras.value=n.payload.extras,e.fields.rig.value=n.payload.rig,e.fields.ticketType.value=n.payload.ticketType,e.fields.dropzoneUser.value=n.payload.dropzoneUser,e.fields.exitWeight.value=n.payload.exitWeight,e.fields.passengerName.value=n.payload.passengerName,e.fields.passengerExitWeight.value=n.payload.passengerExitWeight)},reset:function(e){e.fields=te.fields,e.original=null}}});var oe=t(53059),ie={original:null,open:!1,fields:{jumpType:{value:null,error:null},groupNumber:{value:null,error:null},extras:{value:[],error:null},load:{value:null,error:null},ticketType:{value:null,error:null},users:{value:[],error:null}}};const le=(0,V.createSlice)({name:"forms/manifestGroup",initialState:ie,reducers:{setField:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];e.fields[r].value=o,e.fields[r].error=null},setFieldError:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];e.fields[r].error=o},setFromSlots:function(e,n){var t,r,o;e.fields.users.value=n.payload.slots.map((function(e){var n,t;return{id:Number(null==(n=e.dropzoneUser)?void 0:n.id),rigId:Number(null==(t=e.rig)?void 0:t.id),rig:e.rig,exitWeight:Number(e.exitWeight)}})),e.fields.jumpType.value=null==(t=n.payload.slots.find((function(e){return e})))?void 0:t.jumpType,e.fields.groupNumber.value=(null==(r=n.payload.slots.find((function(e){return e})))?void 0:r.groupNumber)||null,e.fields.load.value=n.payload.load,e.fields.extras.value=null==(o=n.payload.slots.find((function(e){return e})))?void 0:o.extras},setDropzoneUsers:function(e,n){var t;e.fields.users.value=(0,oe.xorBy)(e.fields.users.value,null==(t=n.payload)?void 0:t.map((function(e){var n,t,r,o=null!=e&&null!=(n=e.user)&&null!=(t=n.rigs)&&t.length?(0,oe.first)(e.user.rigs):(0,oe.first)(e.availableRigs);return{id:Number(e.id),rigId:null!=o&&o.id?Number(o.id):null,rig:o,name:e.user.name,avatar:e.user.image,exitWeight:Number(null==e||null==(r=e.user)?void 0:r.exitWeight)}})),"id")},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=ie.fields):(e.original=n.payload,e.open=!0,e.fields.extras.value=n.payload.extras,e.fields.jumpType.value=n.payload.jumpType,e.fields.load.value=n.payload.load,e.fields.users.value=n.payload.users,e.fields.ticketType.value=n.payload.ticketType)},reset:function(e){e.fields=ie.fields,e.original=null}}});var ae={original:null,open:!1,federation:{value:null,error:null},fields:{exitWeight:{value:"",error:null},image:{value:null,error:null},apfNumber:{value:"",error:null},email:{value:"",error:null},phone:{value:"",error:null},name:{value:null,error:null},nickname:{value:null,error:null},rigs:{value:[],error:null},license:{value:null,error:null}}};const se=(0,V.createSlice)({name:"forms/user",initialState:ae,reducers:{setFederation:function(e,n){e.federation.value=n.payload},setField:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];e.fields[r].value=o,e.fields[r].error=null},setFieldError:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];e.fields[r].error=o},setOriginal:function(e,n){var t,r,o,i,l,a,s,u;if(e.original=n.payload,Object.keys(n.payload.user).forEach((function(t){var r=t;if(r in e.fields){var o=r;o in n.payload?e.fields[o].value=n.payload[o]:o in n.payload.user&&(e.fields[o].value=n.payload.user[o])}})),e.federation.value=(null==(t=n.payload.license)?void 0:t.federation)||(null==(r=n.payload)||null==(o=r.user)||null==(i=o.userFederations)||null==(l=i.find((function(e){return e})))?void 0:l.federation)||null,e.federation.value&&null!=(a=n.payload.user)&&null!=(s=a.userFederations)&&null!=(u=s.find((function(n){var t;return n.federation.id===(null==(t=e.federation.value)?void 0:t.id)})))&&u.uid){var d,c,f,p=null==(d=n.payload.user)||null==(c=d.userFederations)?void 0:c.find((function(n){var t;return n.federation.id===(null==(t=e.federation.value)?void 0:t.id)}));e.fields.apfNumber.value=null==p?void 0:p.uid,e.fields.license.value=e.fields.license.value||(null==p?void 0:p.license)||(null==e||null==(f=e.original)?void 0:f.license),console.debug("SET APF NUMBER TO ",e.fields.apfNumber.value)}},setOpen:function(e,n){var t;"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=ae.fields):(e.original=n.payload,e.open=!0,e.federation.value=(null==(t=n.payload.license)?void 0:t.federation)||null,e.fields.license.value=n.payload.license||null,"boolean"!==typeof n.payload&&Object.keys(n.payload.user).forEach((function(t){var r=t;if(r in e.fields){var o=r;e.fields[o].value="license"===o?n.payload[o]:n.payload.user[o]}})))},reset:function(e){e.fields=ae.fields,e.original=null}}});var ue={original:null,open:!1,fields:{jumpRun:{value:null,error:null},temperature:{value:null,error:null},exitSpotMiles:{value:null,error:null},offsetDirection:{value:null,error:null},winds:{value:[],error:null}}};const de=(0,V.createSlice)({name:"forms/weather",initialState:ue,reducers:{setField:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];r in e.fields&&(e.fields[r].value=o,e.fields[r].error=null)},setFieldError:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];r in e&&"error"in e.fields[r]?e.fields[r].error=o:console.error("Cannot set error on ",r)},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=ue.fields):(e.original=n.payload,e.open=!0,"boolean"!==typeof n.payload&&Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var o=r;e.fields[o].value=n.payload[o]}})))},reset:function(e){e.fields=ue.fields,e.original=null}}});var ce={dropzone:H,dropzoneUser:J,rig:K,rigInspection:Z,rigInspectionTemplate:ne,manifest:re,manifestGroup:le,user:se,weather:de},fe={isSearchVisible:!1,searchText:""};const pe=(0,V.createSlice)({name:"screens/user",initialState:fe,reducers:{setSearchText:function(e,n){e.searchText=n.payload},setSearchVisible:function(e,n){e.isSearchVisible=n.payload},reset:function(e){e.isSearchVisible=fe.isSearchVisible,e.searchText=fe.searchText}}});var me={fields:{email:{value:"",error:null},password:{value:"",error:null}}};const ge=(0,V.createSlice)({name:"login",initialState:me,reducers:{setEmail:function(e,n){e.fields.email.value=n.payload},setPassword:function(e,n){e.fields.password.value=n.payload},setEmailError:function(e,n){e.fields.email.error=n.payload},setPasswordError:function(e,n){e.fields.password.error=n.payload},reset:function(e){e.fields=me.fields}}});var he={isSearchVisible:!1,selectedUsers:[],searchText:"",display:"cards"};const ve=(0,V.createSlice)({name:"manifestScreen",initialState:he,reducers:{setSelected:function(e,n){e.selectedUsers=n.payload},setSearchText:function(e,n){e.searchText=n.payload},setSearchVisible:function(e,n){e.isSearchVisible=n.payload},setDisplayStyle:function(e,n){e.display=n.payload},reset:function(e){e.isSearchVisible=he.isSearchVisible,e.searchText=he.searchText}}});var ye={federation:null,fields:{email:{value:"",error:null},password:{value:"",error:null},passwordConfirmation:{value:"",error:null},exitWeight:{value:50,error:null},name:{value:"",error:null},phone:{value:"",error:null},license:{value:null,error:null}}};const be=(0,V.createSlice)({name:"login",initialState:ye,reducers:{setFederation:function(e,n){e.federation=n.payload},setField:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];e.fields[r].value=o,e.fields[r].error=null},setFieldError:function(e,n){var t=(0,W.default)(n.payload,2),r=t[0],o=t[1];e.fields[r].error=o},reset:function(e){e.fields=ye.fields}}});var xe,je;function ke(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Oe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ke(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ke(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e[e.Name=0]="Name",e[e.Federation=1]="Federation",e[e.Location=2]="Location",e[e.Branding=3]="Branding",e[e.Aircraft=4]="Aircraft",e[e.Tickets=5]="Tickets"}(je||(je={}));var we={currentIndex:-1,completed:(xe={},(0,N.default)(xe,je.Name,!1),(0,N.default)(xe,je.Federation,!1),(0,N.default)(xe,je.Location,!1),(0,N.default)(xe,je.Aircraft,!1),(0,N.default)(xe,je.Tickets,!1),(0,N.default)(xe,je.Branding,!1),xe)};const Se=(0,V.createSlice)({name:"screens/dropzoneWizard",initialState:we,reducers:{setIndex:function(e,n){e.currentIndex=n.payload},complete:function(e,n){var t;e.completed=Oe(Oe({},e.completed),n.payload||(t={},(0,N.default)(t,je.Name,!0),(0,N.default)(t,je.Federation,!0),(0,N.default)(t,je.Location,!0),(0,N.default)(t,je.Aircraft,!0),(0,N.default)(t,je.Tickets,!0),(0,N.default)(t,je.Branding,!0),t))}}});var Pe={manifest:ve,users:pe,login:ge,signup:be,dropzoneWizard:Se},Ce={open:!1,image:null};const De=(0,V.createSlice)({name:"dialog/imageViewer",initialState:Ce,reducers:{setOpen:function(e,n){e.open=!0,e.image=n.payload},close:function(e){e.open=!1}}});var Ee=t(14847),ze=t(60630),Te=t(38731),Ie=t(58487),Ae=t(68812),Fe=t.n(Ae),Re="#2f95dc",Ue="#fff",Be="#00C851",Le="#ff4444",Me="#FF8800",Ne="#0099CC",$e="#FF1414";const Ve={light:{text:"#000",background:"#fff",tint:Re,tabIconDefault:"#ccc",tabIconSelected:Re,success:Be,error:Le,warning:Me,info:Ne},dark:{text:"#fff",background:"#000",tint:Ue,tabIconDefault:"#ccc",tabIconSelected:Ue,success:Be,error:Le,warning:Me,info:Ne}};var qe=t(72739),Ge=t.n(qe);function We(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _e(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?We(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):We(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var He=_e(_e(_e({},Te.default),Ee.default),{},{fonts:{light:{fontFamily:"Roboto_300Light",fontWeight:"300"},thin:{fontFamily:"Roboto_100Thin",fontWeight:"100"},medium:{fontFamily:"Roboto_500Medium",fontWeight:"500"},regular:{fontFamily:"Roboto_400Regular",fontWeight:"400"}},colors:_e(_e(_e({},Te.default.colors),Ee.default.colors),{},{primary:$e})}),Ye=_e(_e(_e({},Ie.default),ze.default),{},{fonts:{light:{fontFamily:"Roboto_300Light",fontWeight:"300"},thin:{fontFamily:"Roboto_100Thin",fontWeight:"100"},medium:{fontFamily:"Roboto_500Medium",fontWeight:"500"},regular:{fontFamily:"Roboto_400Regular",fontWeight:"400"}},colors:_e(_e(_e({},Ie.default.colors),ze.default.colors),{},{primary:$e})}),Je={currentUser:null,currentDropzone:null,currentDropzoneId:null,permissions:[],credentials:null,authenticated:!1,expoPushToken:null,currentRouteName:"",theme:He,palette:_e(_e({},He.colors),{},{primary:{main:"#FF1414",dark:"#991414",light:"#FFAAAA"},accent:{main:"#FFFFFF",dark:"#FFFFFF",light:"#FFFFFF"}}),isDarkMode:!1};const Qe=(0,V.createSlice)({name:"global",initialState:Je,reducers:{setCredentials:function(e,n){console.debug("[Redux::Global]: Setting credentials",n.payload),e.credentials=n.payload},setAuthenticated:function(e,n){e.authenticated=n.payload},setUser:function(e,n){e.currentUser=n.payload},setExpoPushToken:function(e,n){e.expoPushToken=n.payload},setCurrentRouteName:function(e,n){e.currentRouteName=n.payload},setPermissions:function(e,n){e.permissions=n.payload},setPrimaryColor:function(e,n){e.theme.colors.primary=n.payload,e.palette=_e(_e({},e.theme.colors),{},{primary:{dark:Fe()(e.theme.colors.primary).darken(.4).hex(),main:e.theme.colors.primary,light:Fe()(e.theme.colors.primary).lighten(.6).hex()},accent:{dark:Fe()(e.theme.colors.accent).darken(.4).hex(),main:e.theme.colors.accent,light:Fe()(e.theme.colors.accent).lighten(.6).hex()}})},setAccentColor:function(e,n){e.theme.colors.accent=n.payload,e.palette=_e(_e({},e.theme.colors),{},{primary:{dark:Fe()(e.theme.colors.primary).darken(.4).hex(),main:e.theme.colors.primary,light:Fe()(e.theme.colors.primary).lighten(.6).hex()},accent:{dark:Fe()(e.theme.colors.accent).darken(.4).hex(),main:e.theme.colors.accent,light:Fe()(e.theme.colors.accent).lighten(.8).hex()}})},setDropzone:function(e,n){var t,r,o,i,l,a,s;(e.currentDropzone=n.payload,e.currentDropzoneId=null!=(t=n.payload)&&t.id?Number(null==(r=n.payload)?void 0:r.id):null,console.debug("Setting id",null==n||null==(o=n.payload)?void 0:o.id),null!=(i=e.currentDropzone)&&i.primaryColor)&&(e.theme.colors.primary=null==(a=e.currentDropzone)?void 0:a.primaryColor);null!=(l=e.currentDropzone)&&l.secondaryColor&&(e.theme.colors.accent=null==(s=e.currentDropzone)?void 0:s.secondaryColor);e.palette=_e(_e({},e.theme.colors),{},{primary:{dark:Fe()(e.theme.colors.primary).darken(.4).hex(),main:e.theme.colors.primary,light:Fe()(e.theme.colors.primary).lighten(.6).hex()},accent:{dark:Fe()(e.theme.colors.accent).darken(.4).hex(),main:e.theme.colors.accent,light:Fe()(e.theme.colors.accent).lighten(.6).hex()}})},setAppearance:function(e,n){var t,r,o=e.isDarkMode?"dark":"light";return e.isDarkMode="dark"===n.payload,console.log("Setting appearance to",n.payload),o===n.payload||(e.theme=Ge()({},"dark"===n.payload?Ye:He,{colors:{primary:(null==(t=e.currentDropzone)?void 0:t.primaryColor)||Ye.colors.primary,accent:(null==(r=e.currentDropzone)?void 0:r.secondaryColor)||Ye.colors.accent}}),e.palette=_e(_e({},e.theme.colors),{},{primary:{dark:Fe()(e.theme.colors.primary).darken(.4).hex(),main:e.theme.colors.primary,light:Fe()(e.theme.colors.primary).lighten(.6).hex()},accent:{dark:Fe()(e.theme.colors.accent).darken(.4).hex(),main:e.theme.colors.accent,light:Fe()(e.theme.colors.accent).lighten(.6).hex()}})),e},logout:function(e){console.debug("Logout called?"),Object.keys(Je).forEach((function(n){if(n in e){var t=n;e[n]=Je[t]}}))}}});function Ke(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Xe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ke(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ke(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ze={key:"open-manifest.0.9.1",storage:"web"===g.default.OS?t(89592).default:q.default,whitelist:["global"]},en=Object.keys(Pe).reduce((function(e,n){return Pe&&n in Pe?Xe(Xe({},e),{},(0,N.default)({},n,Pe[n].reducer)):e}),{}),nn=Object.keys(ce).reduce((function(e,n){return ce&&n in ce?Xe(Xe({},e),{},(0,N.default)({},n,ce[n].reducer)):e}),{}),tn=Object.keys(Pe).reduce((function(e,n){return n in Pe?Xe(Xe({},e),{},(0,N.default)({},n,Pe[n].actions)):e}),{}),rn={forms:Object.keys(ce).reduce((function(e,n){return n in ce?Xe(Xe({},e),{},(0,N.default)({},n,ce[n].actions)):e}),{}),screens:tn,global:Qe.actions,imageViewer:De.actions},on=(0,$.combineReducers)({global:Qe.reducer,imageViewer:De.reducer,screens:(0,$.combineReducers)(en),forms:(0,$.combineReducers)(nn)}),ln=(0,G.persistReducer)(Ze,on),an=(0,V.configureStore)({reducer:ln,middleware:(0,V.getDefaultMiddleware)({serializableCheck:{ignoredActions:["persist/PERSIST"]},immutableCheck:!1})}),sn=(0,G.persistStore)(an),un=function(){return(0,s.useDispatch)()},dn=s.useSelector,cn=t(37942),fn=t(57629);function pn(){if(null==j||!j.url)throw new Error("No server url found in config");return console.debug({URL:null==j?void 0:j.url}),null==j?void 0:j.url}var mn=t(278),gn=t(99557),hn=t.n(gn),vn=t(15671),yn=t(43144),bn=t(60136),xn=t(82963),jn=t(61120),kn=t(9933),On=t(10744);function wn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Sn(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,jn.default)(e);if(n){var o=(0,jn.default)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,xn.default)(this,t)}}var Pn=function(e){(0,bn.default)(t,e);var n=Sn(t);function t(e){var r;return(0,vn.default)(this,t),(r=n.call(this)).cable=e.cable,r.channelName=e.channelName||"GraphqlChannel",r.actionName=e.actionName||"execute",r.connectionParams=e.connectionParams||{},r}return(0,yn.default)(t,[{key:"request",value:function(e,n){var t=this;return new kn.Observable((function(n){var r=Math.round(Date.now()+1e5*Math.random()).toString(16),o=t.actionName,i="function"===typeof t.connectionParams?t.connectionParams(e):t.connectionParams,l=t.cable.subscriptions.create(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wn(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({channel:t.channelName,channelId:r},i),{connected:function(){l.perform(o,{query:e.query?(0,On.print)(e.query):null,variables:e.variables,operationId:e.operationId,operationName:e.operationName})},received:function(e){var t,r;(null!=e&&null!=(t=e.result)&&t.data||null!=e&&null!=(r=e.result)&&r.errors)&&n.next(e.result),e.more||n.complete()}});return Object.assign(l,{closed:!1})}))}}]),t}(cn.ApolloLink);const Cn=Pn;var Dn=function(e){return e.query.definitions.some((function(e){var n=e.kind,t=e.operation;return"OperationDefinition"===n&&"subscription"===t}))};var En=new AbortController,zn=new fn.BatchHttpLink({batchDebounce:!0,batchMax:10,uri:pn(),fetchOptions:{mode:"cors",method:"POST",signal:En.signal}});function Tn(){return cn.ApolloLink.split(Dn,function(){var e=mn.createConsumer(["https"===new(hn())(pn()).scheme()?"wss://":"ws://",new(hn())(pn()).host(),"/subscriptions"].join(""));return new Cn({cable:e,connectionParams:function(e){return e.getContext().authHeaders}})}(),zn)}var In=t(2890),An=t(65455),Fn=t.n(An);function Rn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Un(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Rn(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Bn=t(86170),Ln=l.createContext({success:oe.noop,error:oe.noop,info:oe.noop});function Mn(){return l.useContext(Ln)}var Nn=t(84506),$n=t(93433),Vn=t(37059),qn=t(16613);const Gn=t(70044).default,Wn=JSON.parse('{"v":"5.5.7","meta":{"g":"LottieFiles AE 0.1.20","a":"","k":"","d":"","tc":""},"fr":29.9700012207031,"ip":0,"op":91.000003706506,"w":1080,"h":1080,"nm":"CHECK","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":315,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":270,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":225,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":180,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":135,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":90,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":45,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"Comp 2","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[496,220,0],"ix":2},"a":{"a":0,"k":[540,540,0],"ix":1},"s":{"a":0,"k":[31.111,31.111,100],"ix":6}},"ao":0,"w":1080,"h":1080,"ip":14.0000005702317,"op":108.00000439893,"st":14.0000005702317,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[524,552,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-156,36],[-32,160],[220,-140]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":59,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.221],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":28,"s":[0]},{"i":{"x":[0.191],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":44,"s":[100]},{"t":59.0000024031193,"s":[87]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":28.0000011404634,"op":122.000004969162,"st":28.0000011404634,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[540,540,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[60,60,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[1080,1080],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.113],"y":[1]},"o":{"x":[0.647],"y":[0]},"t":0,"s":[0]},{"t":22.0000008960784,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[540,540,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.321,0.321,0.667],"y":[1,1,1]},"o":{"x":[0.725,0.725,0.333],"y":[0,0,0]},"t":17,"s":[0,0,100]},{"t":40.0000016292334,"s":[60,60,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[1080,1080],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.956862984452,0.145097994337,0.203922002456,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.131938231225,0.799417892157,0.534389181698,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":17.0000006924242,"op":111.000004521123,"st":17.0000006924242,"bm":0}],"markers":[]}');var _n,Hn=t(67557);function Yn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Jn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Yn(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Qn(e){var n=e.children,t=l.useState([]),r=(0,W.default)(t,2),o=r[0],i=r[1],a=l.useRef(null),s=l.useState(_n.closed),u=(0,W.default)(s,2),d=u[0],c=u[1],p=l.useMemo((function(){return null==o?void 0:o[0]}),[o]);l.useEffect((function(){d===_n.closed&&"success"===(null==p?void 0:p.variant)&&c(_n.opening)}),[d,null==p?void 0:p.variant]);var m=l.useCallback((function(e){(0,oe.isEqual)((0,oe.last)(o),e)||i([].concat((0,$n.default)(o),[e]))}),[o]),g=l.useCallback((function(){var e=(0,Nn.default)(o).slice(1);i(e)}),[o]),h=l.useCallback((function(e,n){m({message:e,variant:"success",action:n})}),[m]),v=l.useCallback((function(e,n){m({message:e,variant:"error",action:n})}),[m]),y=l.useCallback((function(e,n){m({message:e,variant:"info",action:n})}),[m]),b=l.useCallback((function(){c(_n.waiting),setTimeout((function(){g(),c(_n.closed)}),200)}),[g]);l.useEffect((function(){p&&(qn.default.show({onHide:g,text1:p.message,type:p.variant||"success"}),"error"===p.variant&&console.error(p.message))}),[p,g]);var x=l.useMemo((function(){return{notify:m,success:h,error:v,info:y}}),[v,y,m,h]);return(0,Hn.jsxs)(Ln.Provider,{value:x,children:[n,d===_n.opening&&(0,Hn.jsx)(f.default,{style:Jn(Jn({},Vn.default.absoluteFillObject),{},{alignItems:"center",justifyContent:"center"}),pointerEvents:"none",children:(0,Hn.jsx)(Gn,{loop:!1,autoPlay:!0,speed:1.2,onAnimationFinish:b,ref:a,style:Kn.animation,source:Wn})}),(0,Hn.jsx)(qn.default,{autoHide:!0,visibilityTime:4e3,position:"bottom",type:"success"})]})}!function(e){e[e.opening=0]="opening",e[e.waiting=1]="waiting",e[e.closed=2]="closed"}(_n||(_n={}));var Kn=Vn.default.create({animation:{height:300,width:300}}),Xn=(0,Bn.onError)((function(e){var n=e.graphQLErrors,t=e.networkError,r=e.operation;null!=n&&n.some((function(e){var n;return"AUTHENTICATION_ERROR"===(null==(n=e.extensions)?void 0:n.code)}))?console.error("[Apollo::Links::Errors::Default]: Authentication Error"):(n&&"production"!=={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{runtimeVersion:{policy:"sdkVersion"},name:"OpenManifest",slug:"openmanifest",version:"1.1.0",orientation:"portrait",icon:"./assets/images/android-icon.png",scheme:"openmanifest",userInterfaceStyle:"automatic",splash:{image:"./assets/images/logo.png",resizeMode:"contain",backgroundColor:"#111111"},updates:{fallbackToCacheTimeout:0,url:"https://u.expo.dev/1d8fa34d-2ff8-4095-ab49-29a426117a8c"},facebookAutoInitEnabled:!0,web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"],extra:{url:"https://stg.openmanifest.org/graphql",urls:{local:"http://local.openmanifest.org:5000/graphql",staging:"https://stg.openmanifest.org/graphql",default:"https://stg.openmanifest.org/graphql",production:"https://prod.openmanifest.org/graphql"},environment:"staging",facebookAppId:"686479516065674",facebookClientToken:"1185bd17d3a40e07576addd9e2279dcc",googleMapsAndroid:"AIzaSyBmyfURfHiRIhq0VedppORKn4R3d_hFWZk",googleMapsIos:"AIzaSyAydvHjtd81r66f6uoV8-oAJUy1GdNs4w8",googleMapsWeb:"AIzaSyCnUA_xPCYIoMO8G9xTxcxRKgjSlmY1Wt0",eas:{projectId:"1d8fa34d-2ff8-4095-ab49-29a426117a8c"},appSignalApiKey:"0ba1d7d7-940a-4aef-b686-62d77e2ea66c"}},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_ENV&&n.forEach((function(e){var n=e.message,t=e.locations,o=e.path,i=e.name,l=e.nodes;console.error("[Apollo::Links::Errors::Default]: "+n+", "+JSON.stringify(t)+", "+o+", "+i+", "+l),console.log(r)})),t&&"production"!=={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{runtimeVersion:{policy:"sdkVersion"},name:"OpenManifest",slug:"openmanifest",version:"1.1.0",orientation:"portrait",icon:"./assets/images/android-icon.png",scheme:"openmanifest",userInterfaceStyle:"automatic",splash:{image:"./assets/images/logo.png",resizeMode:"contain",backgroundColor:"#111111"},updates:{fallbackToCacheTimeout:0,url:"https://u.expo.dev/1d8fa34d-2ff8-4095-ab49-29a426117a8c"},facebookAutoInitEnabled:!0,web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"],extra:{url:"https://stg.openmanifest.org/graphql",urls:{local:"http://local.openmanifest.org:5000/graphql",staging:"https://stg.openmanifest.org/graphql",default:"https://stg.openmanifest.org/graphql",production:"https://prod.openmanifest.org/graphql"},environment:"staging",facebookAppId:"686479516065674",facebookClientToken:"1185bd17d3a40e07576addd9e2279dcc",googleMapsAndroid:"AIzaSyBmyfURfHiRIhq0VedppORKn4R3d_hFWZk",googleMapsIos:"AIzaSyAydvHjtd81r66f6uoV8-oAJUy1GdNs4w8",googleMapsWeb:"AIzaSyCnUA_xPCYIoMO8G9xTxcxRKgjSlmY1Wt0",eas:{projectId:"1d8fa34d-2ff8-4095-ab49-29a426117a8c"},appSignalApiKey:"0ba1d7d7-940a-4aef-b686-62d77e2ea66c"}},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_ENV&&console.error("[Apollo::Links::Errors::Default::Network] "+t))}));var Zn,et,nt=t(76748),tt=t(48241),rt=t(47184),ot=t.n(rt);const it=new(t(88908).default)({key:null==j||null==(Zn=j.extra)?void 0:Zn.appSignalApiKey,namespace:g.default.OS,revision:null==(et=x.default.expoConfig)?void 0:et.version,ignoreErrors:[]});var lt=t(52639),at=t(72055),st=t.n(at),ut={platform:g.default.OS,currentDropzoneId:"Unknown",currentDropzone:"Unknown",currentUserId:"Unknown",currentUser:"Unknown"},dt={appSignal:it,tags:ut,setTags:st()},ct=l.createContext(dt);function ft(){return l.useContext(ct)}const pt=ct;function mt(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,jn.default)(e);if(n){var o=(0,jn.default)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,xn.default)(this,t)}}var gt=function(e){(0,bn.default)(t,e);var n=mt(t);function t(e){var r;return(0,vn.default)(this,t),(r=n.call(this,e)).state={error:void 0},r}return(0,yn.default)(t,[{key:"componentDidCatch",value:function(e,n){console.error(e,n)}},{key:"render",value:function(){var e=this.props,n=e.fallback,t=e.children,r=this.state.error;return r?(0,Hn.jsx)(n,{error:r}):t}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),t}(l.Component),ht=t(52104),vt=t(48327),yt=t(62234),bt=t(85006),xt=t(80477),jt=t(91019);const kt=JSON.parse('{"v":"5.1.7","fr":60,"ip":0,"op":120,"w":600,"h":300,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Piece","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":52,"s":[0],"e":[-11]},{"t":56}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"n":"0p833_0p833_0p167_0p167","t":0,"s":[300.875,144.969,0],"e":[300.875,144.969,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"n":"0p833_0p833_0p167_0p167","t":53,"s":[300.875,144.969,0],"e":[291,171.969,0],"to":[-1.64583337306976,4.5,0],"ti":[1.64583337306976,-4.5,0]},{"t":57}],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,65.669,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.188,6.598],[0,0],[0.344,0.779]],"o":[[-0.688,0.507],[0,0],[-0.344,-0.779]],"v":[[-34.312,49.602],[-37.094,62.625],[-32.156,61.929]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.239215686275,0.274509803922,0.298039215686,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"BranchTop","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[0],"e":[5]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":53,"s":[5],"e":[14]},{"t":61}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"n":"0p833_0p833_0p167_0p167","t":0,"s":[260.125,175.125,0],"e":[260.125,175.125,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"n":"0p833_0p833_0p167_0p167","t":53,"s":[260.125,175.125,0],"e":[270.125,175.125,0],"to":[1.66666662693024,0,0],"ti":[-1.66666662693024,0,0]},{"t":61}],"ix":2},"a":{"a":0,"k":[-34.5,44.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"fl","c":{"a":0,"k":[0.239215686275,0.274509803922,0.298039215686,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 2","np":2,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"n":"0p833_0p833_0p167_0p167","t":0,"s":[{"i":[[1.25,3.938],[4.656,-1.458],[24.281,3.396],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-7.212,1.773]],"o":[[-25.781,4.333],[-4.656,1.458],[-7.312,-0.312],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[51.875,-12.75]],"v":[[283.75,-9.125],[139.375,18],[17.938,36.562],[-39.125,35.5],[-29.625,45.875],[-25.875,55.625],[49.37,53.177],[76.828,48.261],[194,94.375],[136.5,59.125],[102.5,41.75],[199.375,18.5]],"c":true}],"e":[{"i":[[1.25,3.938],[4.656,-1.458],[24.281,3.396],[-0.626,-0.898],[0,0],[-1.209,0.235],[0,0],[0,0],[0,0],[0,0],[0,0],[-7.212,1.773]],"o":[[-25.781,4.333],[-4.656,1.458],[-7.312,-0.312],[0.626,0.898],[0,0],[1.209,-0.235],[0,0],[0,0],[0,0],[0,0],[0,0],[51.875,-12.75]],"v":[[283.75,-9.125],[139.375,18],[17.938,36.562],[-38.258,36.804],[-29.625,45.875],[-25.973,54.504],[49.37,53.177],[76.828,48.261],[194,94.375],[136.5,59.125],[102.5,41.75],[199.375,18.5]],"c":true}]},{"t":53}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.239215686917,0.274509817362,0.298039227724,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0.031,0.042],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"BranchMain","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[0],"e":[-6]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":53,"s":[-6],"e":[-14]},{"t":61}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"n":"0p833_0p833_0p167_0p167","t":0,"s":[264.5,177,0],"e":[264.5,177,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"n":"0p833_0p833_0p167_0p167","t":53,"s":[264.5,177,0],"e":[258.5,177,0],"to":[-1,0,0],"ti":[1,0,0]},{"t":61}],"ix":2},"a":{"a":0,"k":[-35.5,47,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[1.06,-1.776],[2.924,-8.666],[0,0],[23.25,-8],[-2.5,-4],[-73.41,4.569],[-47.539,-1.659],[-0.009,0.446],[2.681,3.28],[39.699,-1.768],[-9.146,30.688]],"o":[[-20.724,34.729],[-5.576,7.334],[0,0],[-23.25,8],[6.344,9.25],[3.349,-0.208],[0.551,0.019],[0.009,-0.446],[-6.631,-0.345],[0.41,-7.897],[16.993,-40.062]],"v":[[-65.375,-116.375],[-107.174,-40.834],[-145.75,34.75],[-268.75,54],[-279,76],[-118.59,56.431],[-35.75,56],[-31.679,45.617],[-40.869,36.095],[-127.699,34.455],[-109.854,-13.438]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.239215686917,0.274509817362,0.298039227724,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":120,"st":0,"bm":0}],"markers":[]}');function Ot(e){var n=e.error,t=l.useState(!1),r=(0,W.default)(t,2),i=r[0],a=r[1],s=l.useState(!1),u=(0,W.default)(s,2),d=u[0],c=u[1],f=l.useCallback((function(){return a(!i)}),[i]),p=l.useCallback((0,S.default)((function*(){try{c(!0),"web"===g.default.OS?window.location.reload():yield(0,ht.reloadAsync)()}finally{c(!1)}})),[]),m=(0,jt.default)(),h=m.height,v=m.width;return(0,Hn.jsx)(xt.default,{style:{position:"absolute",top:0,left:0,height:h,width:v,alignItems:"center",justifyContent:"center"},children:(0,Hn.jsxs)(vt.default,{style:{width:"100%",minHeight:250,maxWidth:450,marginHorizontal:16},children:[(0,Hn.jsx)(vt.default.Title,{title:"That's a bug",subtitle:"This error has been uploaded for review",titleStyle:{textAlign:"center"},subtitleStyle:{textAlign:"center"}}),(0,Hn.jsxs)(vt.default.Content,{style:{alignItems:"center"},children:[(0,Hn.jsx)(Gn,{source:kt,autoPlay:!0,loop:!1,style:{height:"web"===g.default.OS?300:150,width:"web"===g.default.OS?300:150}}),n?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(yt.default,{type:"error",children:null==n?void 0:n.message}),i?(0,Hn.jsx)(o.ScrollView,{style:{maxHeight:300},children:(0,Hn.jsx)(yt.default,{type:"error",children:n.stack})}):null]}):null]}),(0,Hn.jsxs)(vt.default.Actions,{style:{justifyContent:"space-between"},children:[(0,Hn.jsxs)(bt.default,{compact:!0,onPress:f,children:[i?"Hide":"Show"," details"]}),(0,Hn.jsx)(bt.default,{disabled:d,loading:d,compact:!0,mode:"outlined",onPress:p,children:"Reload"})]})]})})}const wt=function(e){var n=e.children,t=ft(),r=t.appSignal,o=t.tags,i=l.useRef(null);return r?(0,Hn.jsx)(lt.ErrorBoundary,{instance:r,tags:o,fallback:function(){var e,n;return(0,Hn.jsx)(Ot,{error:null==(e=i.current)||null==(n=e.state)?void 0:n.error})},ref:i,children:n}):(0,Hn.jsx)(gt,{fallback:Ot,children:n})};function St(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Pt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?St(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):St(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ct(e){var n=e.children,t=l.useState(dt.tags),r=(0,W.default)(t,2),o=r[0],i=r[1];l.useEffect((function(){it.use(tt.plugin),it.use(nt.plugin)}),[]);var a=l.useCallback((function(e){i(Pt(Pt({},o),e))}),[o]),s=l.useMemo((function(){return{appSignal:it,tags:o,setTags:a}}),[o,a]),u=l.useCallback((function(e){return ot()(o,ut)?e:e.setTags(o)}),[o]);return l.useEffect((function(){null==it||it.addDecorator(u)}),[u]),(0,Hn.jsx)(pt.Provider,{value:s,children:(0,Hn.jsx)(wt,{children:n})})}var Dt=t(75892),Et=t.n(Dt),zt=t(44925),Tt=(t(36494),["children"]),It=function(){var e=(0,S.default)((function*(e){}));return function(n){return e.apply(this,arguments)}}();function At(e,n){var t=l.createContext(n);return{Provider:l.memo((function(n){var r=n.children,o=(0,zt.default)(n,Tt),i=e(o);return l.useRef(i),l.useEffect((function(){false}),[]),l.useEffect((function(){false}),[i]),(0,Hn.jsx)(t.Provider,{value:i,children:r})}),ot()),useContext:function(){return l.useContext(t)},Context:t,INITIAL_STATE:n}}var Ft={dropzone:{permissions:[],update:It,called:!1,loading:!1,dropzone:null,currentUser:void 0,refetch:It,fetchMore:It},dialogs:{aircraft:{visible:!1,close:st(),open:st()},createUser:{visible:!1,close:st(),open:st()},ticketType:{visible:!1,close:st(),open:st()},ticketTypeAddon:{visible:!1,close:st(),open:st()}}},Rt=l.createContext(Ft);function Ut(){return l.useContext(Rt)}function Bt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Lt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Bt(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Mt=function(e){var n=e.children,t=Ut().dropzone,r=t.dropzone,o=t.currentUser,i=dn((function(e){return e.global})),a=i.currentRouteName,s=i.currentUser,u=i.currentDropzoneId,d=ft(),c=d.tags,f=d.setTags,p=l.useMemo((function(){var e,n;return Lt(Lt({},ut),{},{currentDropzoneId:null==(e=(null==r?void 0:r.id)||u||"Unknown")?void 0:e.toString(),currentDropzone:(null==r?void 0:r.name)||"Unknown",currentRouteName:a||"Unknown",currentUser:null==(n=(null==o?void 0:o.id)||(null==s?void 0:s.id)||"Unknown")?void 0:n.toString(),platform:g.default.OS})}),[u,null==o?void 0:o.id,a,null==s?void 0:s.id,null==r?void 0:r.id,null==r?void 0:r.name]);return l.useEffect((function(){var e=Et()(c,Object.keys(p));ot()(e,p)||!ot()(c,ut)&&ot()(Lt(Lt({},c),p),ut)||f(p)}),[p,f,c]),n};var Nt=t(93322);function $t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Vt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$t(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$t(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function qt(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=(0,jn.default)(e);if(n){var o=(0,jn.default)(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return(0,xn.default)(this,t)}}var Gt={breadcrumbs:{includeQuery:!1,includeResponse:!1,includeVariables:!1},excludeOperation:function(){return!1},excludeError:function(){return!1}};function Wt(e){return"object"===typeof e&&null!==e&&"response"in e&&"result"in e&&"statusCode"in e}function _t(e){return e.query.definitions.find((function(e){return"OperationDefinition"===e.kind}))}function Ht(e){var n,t=_t(e);return{message:null==(n=t.name)?void 0:n.value,category:"graphql."+t.operation,action:e.operationName,timestamp:Math.floor((new Date).getTime()/1e3),metadata:{}}}function Yt(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gt;return(0,Bn.onError)((function(t){var r=t.graphQLErrors,o=t.operation,i=t.response;if((null==n||null==n.ignore||!n.ignore(t))&&r){var l=r.filter((function(e){return!(null!=n&&null!=n.excludeError&&n.excludeError(e))}));if(l.length){var a,s,u,d=Ht(o);null!=d.metadata||(d.metadata={});var c=_t(o),f=null!=(a=null==(s=c.loc)||null==(u=s.source)?void 0:u.body)?a:(0,On.print)(c),p=o.variables;if(d.metadata.query=f,d.metadata.variables=JSON.stringify(p,null,2),Wt(i)){var m,g=i.result;d.metadata.statusCode=null==i||null==(m=i.response)?void 0:m.status,d.metadata.response=JSON.stringify(g,null,2)}null==e||e.addBreadcrumb(d);try{null==e||e.sendError(new Error(l.map((function(e){return e.message})).join(", ")))}catch(h){console.debug("Error",h)}}else i.errors=null}}))}var Jt=function(e){(0,bn.default)(t,e);var n=qt(t);function t(e,r){var o;return(0,vn.default)(this,t),(o=n.call(this)).client=e,o.options=Vt(Vt({},Gt),r||{}),o}return(0,yn.default)(t,[{key:"request",value:function(e,n){var t,r=this,o=this.options;if(null!=(t=null==o.excludeOperation?void 0:o.excludeOperation(e))&&t)return null==n?void 0:n(e);var i=Ht(e);return new Nt.Observable((function(t){var l=null==n?void 0:n(e).subscribe({next:function(n){var r,l,a;if(null!=i.metadata||(i.metadata={}),null!=o&&null!=(r=o.breadcrumbs)&&r.includeResponse&&(i.metadata.response=JSON.stringify(n,null,2)),null!=o&&null!=(l=o.breadcrumbs)&&l.includeQuery){var s,u,d,c=_t(e);i.metadata.query=null!=(s=null==(u=c.loc)||null==(d=u.source)?void 0:d.body)?s:(0,On.print)(c)}null!=o&&null!=(a=o.breadcrumbs)&&a.includeVariables&&(i.metadata.variables=JSON.stringify((0,oe.omit)(e.variables||{},["password"]),null,2)),t.next(n)},complete:function(){var e;null==(e=r.client)||e.addBreadcrumb(i),t.complete()},error:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(n){var o,l,a,s;null!=i.metadata||(i.metadata={});var u=_t(e),d=null!=(o=null==(l=u.loc)||null==(a=l.source)?void 0:a.body)?o:(0,On.print)(u),c=e.variables;if(i.metadata.query=d,i.metadata.variables=JSON.stringify(c,null,2),Wt(n)){var f=n.result,p=n.response;i.metadata.statusCode=null==p?void 0:p.status,i.metadata.response=JSON.stringify(f,null,2)}null==(s=r.client)||s.addBreadcrumb(i),t.error(n)}))});return function(){l.unsubscribe()}}))}}]),t}(cn.ApolloLink);var Qt=["INSUFFICIENT_PERMISSIONS"];function Kt(){var e=ft().appSignal;return l.useMemo((function(){return function(e,n){return cn.ApolloLink.from([new Jt(e,n),Yt(e,n)])}(e,{breadcrumbs:{includeQuery:!0,includeVariables:!0,includeResponse:!1},ignore:function(e){var n=e.graphQLErrors;return(null==n?void 0:n.some((function(e){var n;return"AUTHENTICATION_ERROR"===(null==(n=e.extensions)?void 0:n.code)})))||!1},excludeError:function(e){var n;return Qt.includes(null==(n=e.extensions)?void 0:n.code)}})}),[e])}var Xt=cn.ApolloLink.from([Xn,zn]);function Zt(){var e=function(){var e=dn((function(e){return e.global.credentials})),n=l.useMemo((function(){return null!=e&&e.accessToken?Un({Authorization:"Bearer "+e.accessToken,"access-token":e.accessToken,"token-type":e.tokenType},e):{}}),[e]);return console.debug("[Apollo::Link::Authentication]: Current: ",{authHeaders:n,credentials:e}),l.useMemo((function(){if(!Fn()(n))return(0,In.setContext)((function(e,t){var r=t.headers;return console.debug("[Apollo::Link::Authentication]: Headers: ",Un(Un({},r),n)),{authHeaders:n,headers:Un(Un({},r),n)}}));console.debug("[Apollo::Link::Authentication]: No headers to set",n)}),[n])}(),n=function(){var e=Mn(),n=un(),t=dn((function(e){return e.global})).authenticated;return l.useMemo((function(){return(0,Bn.onError)((function(r){var o=r.graphQLErrors,i=r.networkError,l=r.operation,a=r.forward;try{if(null!=o&&o.some((function(e){var n;return"AUTHENTICATION_ERROR"===(null==(n=e.extensions)?void 0:n.code)})))return e.info("Session expired"),void(t&&(console.debug("[Apollo::Links::Errors]: Received authentication error, logging out",o),n(rn.global.logout())));o&&"production"!=={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{runtimeVersion:{policy:"sdkVersion"},name:"OpenManifest",slug:"openmanifest",version:"1.1.0",orientation:"portrait",icon:"./assets/images/android-icon.png",scheme:"openmanifest",userInterfaceStyle:"automatic",splash:{image:"./assets/images/logo.png",resizeMode:"contain",backgroundColor:"#111111"},updates:{fallbackToCacheTimeout:0,url:"https://u.expo.dev/1d8fa34d-2ff8-4095-ab49-29a426117a8c"},facebookAutoInitEnabled:!0,web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"],extra:{url:"https://stg.openmanifest.org/graphql",urls:{local:"http://local.openmanifest.org:5000/graphql",staging:"https://stg.openmanifest.org/graphql",default:"https://stg.openmanifest.org/graphql",production:"https://prod.openmanifest.org/graphql"},environment:"staging",facebookAppId:"686479516065674",facebookClientToken:"1185bd17d3a40e07576addd9e2279dcc",googleMapsAndroid:"AIzaSyBmyfURfHiRIhq0VedppORKn4R3d_hFWZk",googleMapsIos:"AIzaSyAydvHjtd81r66f6uoV8-oAJUy1GdNs4w8",googleMapsWeb:"AIzaSyCnUA_xPCYIoMO8G9xTxcxRKgjSlmY1Wt0",eas:{projectId:"1d8fa34d-2ff8-4095-ab49-29a426117a8c"},appSignalApiKey:"0ba1d7d7-940a-4aef-b686-62d77e2ea66c"}},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_ENV&&o.forEach((function(n){var t=n.message,r=n.locations,o=n.path,i=n.name,a=n.nodes;e.error("[GraphQL error]: "+t+", "+JSON.stringify(r)+", "+o),console.error("[GraphQL error]: "+t+", "+JSON.stringify(r)+", "+o+", "+i+", "+a),console.log(l)})),i&&"production"!=={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{runtimeVersion:{policy:"sdkVersion"},name:"OpenManifest",slug:"openmanifest",version:"1.1.0",orientation:"portrait",icon:"./assets/images/android-icon.png",scheme:"openmanifest",userInterfaceStyle:"automatic",splash:{image:"./assets/images/logo.png",resizeMode:"contain",backgroundColor:"#111111"},updates:{fallbackToCacheTimeout:0,url:"https://u.expo.dev/1d8fa34d-2ff8-4095-ab49-29a426117a8c"},facebookAutoInitEnabled:!0,web:{},sdkVersion:"47.0.0",platforms:["ios","android","web"],extra:{url:"https://stg.openmanifest.org/graphql",urls:{local:"http://local.openmanifest.org:5000/graphql",staging:"https://stg.openmanifest.org/graphql",default:"https://stg.openmanifest.org/graphql",production:"https://prod.openmanifest.org/graphql"},environment:"staging",facebookAppId:"686479516065674",facebookClientToken:"1185bd17d3a40e07576addd9e2279dcc",googleMapsAndroid:"AIzaSyBmyfURfHiRIhq0VedppORKn4R3d_hFWZk",googleMapsIos:"AIzaSyAydvHjtd81r66f6uoV8-oAJUy1GdNs4w8",googleMapsWeb:"AIzaSyCnUA_xPCYIoMO8G9xTxcxRKgjSlmY1Wt0",eas:{projectId:"1d8fa34d-2ff8-4095-ab49-29a426117a8c"},appSignalApiKey:"0ba1d7d7-940a-4aef-b686-62d77e2ea66c"}},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_ENV&&e.error("[Network error]: "+i)}finally{null==a||a(l)}}))}),[n,e,t])}(),t=Kt(),r=l.useMemo((function(){return Tn()}),[]),o=l.useMemo((function(){return[e,n,t,r].filter(Boolean)}),[t,e,n,r]);return l.useMemo((function(){return cn.ApolloLink.from(o)}),[o])}var er=t(33117),nr=t(43409),tr=new er.InMemoryCache({typePolicies:{Event:(0,nr.relayStylePagination)(),DropzoneUsers:(0,nr.relayStylePagination)(),Loads:(0,nr.relayStylePagination)()}}),rr=new M.ApolloClient({link:Xt,cache:tr});function or(){var e=Zt(),n=un(),t=dn((function(e){return null==e?void 0:e.global})),r=t.credentials,o=t.authenticated;return l.useEffect((function(){console.debug("[Apollo::Link]: Replacing Apollo Client Link");var t=!(null==r||!r.accessToken),i=t!==o;i&&(console.debug("[Apollo::Link]: Authentication state changed to ",t),n(rn.global.setAuthenticated(!(null==r||!r.accessToken)))),console.debug("[Apollo::Link]: Replacing Apollo Client Link"),rr.setLink(e),i&&console.debug("[Apollo::Link]: Refetching queries after authentication state change")}),[o,null==r?void 0:r.accessToken,n,e]),rr}function ir(e){var n=e.children,t=or();return(0,Hn.jsx)(L.ApolloProvider,{client:t,children:n})}function lr(e){var n=e.children;return(0,Hn.jsx)(f.default,{style:Vn.default.absoluteFill,children:n})}var ar,sr,ur,dr,cr,fr,pr,mr,gr,hr,vr,yr,br,xr,jr,kr,Or,wr,Sr,Pr,Cr,Dr,Er,zr,Tr,Ir,Ar,Fr,Rr,Ur,Br,Lr,Mr,Nr,$r,Vr,qr,Gr,Wr,_r,Hr,Yr,Jr,Qr,Kr,Xr,Zr,eo,no,to,ro,oo,io,lo,ao,so,uo,co,fo,po,mo,go,ho,vo,yo,bo,xo,jo,ko,Oo,wo,So,Po,Co,Do,Eo,zo,To,Io,Ao,Fo,Ro,Uo,Bo,Lo,Mo,No,$o,Vo,qo,Go,Wo,_o,Ho,Yo,Jo,Qo,Ko,Xo,Zo,ei,ni,ti,ri,oi,ii,li,ai,si,ui,di,ci,fi,pi,mi,gi,hi,vi,yi,bi,xi,ji,ki,Oi,wi,Si,Pi=t(81880),Ci=t(61169),Di=t(51625),Ei=t(829),zi=t(84444),Ti=t(75287);function Ii(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ai(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ii(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ii(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Fi={},Ri=(0,Ci.gql)(ar||(ar=(0,Pi.default)(["\n    fragment roleEssentials on UserRole {\n  id\n  name\n  dropzoneId\n}\n    "]))),Ui=(0,Ci.gql)(sr||(sr=(0,Pi.default)(["\n    fragment licenseEssentials on License {\n  id\n  name\n}\n    "]))),Bi=(0,Ci.gql)(ur||(ur=(0,Pi.default)(["\n    fragment userEssentials on User {\n  id\n  name\n  nickname\n  phone\n  email\n  exitWeight\n  moderationRole\n  image\n  apfNumber\n}\n    "]))),Li=(0,Ci.gql)(dr||(dr=(0,Pi.default)(["\n    fragment dropzoneUserEssentials on DropzoneUser {\n  id\n  walletId\n  expiresAt\n  hasCredits\n  hasMembership\n  hasLicense\n  hasExitWeight\n  role {\n    ...roleEssentials\n  }\n  license {\n    ...licenseEssentials\n  }\n  user {\n    ...userEssentials\n  }\n}\n    ","\n","\n",""])),Ri,Ui,Bi),Mi=(0,Ci.gql)(cr||(cr=(0,Pi.default)(["\n    fragment activityEssentials on Event {\n  action\n  id\n  level\n  message\n  details\n  createdAt\n  createdBy {\n    ...dropzoneUserEssentials\n  }\n}\n    ",""])),Li),Ni=(0,Ci.gql)(fr||(fr=(0,Pi.default)(["\n    fragment dropzoneEssentials on Dropzone {\n  id\n  walletId\n  lat\n  lng\n  name\n  status: state\n  primaryColor\n  secondaryColor\n  banner\n  isCreditSystemEnabled\n  createdAt\n  settings {\n    allowManifestBypass\n    allowNegativeCredits\n    allowDoubleManifesting\n    requireCredits\n    requireLicense\n    requireMembership\n    requireRigInspection\n    requireEquipment\n    requireReserveInDate\n  }\n}\n    "]))),$i=(0,Ci.gql)(pr||(pr=(0,Pi.default)(["\n    fragment loadEssentials on Load {\n  id\n  name\n  createdAt\n  dispatchAt\n  hasLanded\n  loadNumber\n  isFull\n  state\n  isOpen\n  weight\n  maxSlots\n  availableSlots\n  occupiedSlots\n}\n    "]))),Vi=(0,Ci.gql)(mr||(mr=(0,Pi.default)(["\n    fragment ticketTypeEssentials on TicketType {\n  id\n  name\n  altitude\n  cost\n  isTandem\n  allowManifestingSelf\n}\n    "]))),qi=(0,Ci.gql)(gr||(gr=(0,Pi.default)(["\n    fragment ticketTypeAddonEssentials on Extra {\n  id\n  name\n  cost\n}\n    "]))),Gi=(0,Ci.gql)(hr||(hr=(0,Pi.default)(["\n    fragment ticketTypeDetails on TicketType {\n  ...ticketTypeEssentials\n  extras {\n    ...ticketTypeAddonEssentials\n  }\n}\n    ","\n",""])),Vi,qi),Wi=(0,Ci.gql)(vr||(vr=(0,Pi.default)(["\n    fragment jumpTypeEssentials on JumpType {\n  id\n  name\n}\n    "]))),_i=(0,Ci.gql)(yr||(yr=(0,Pi.default)(["\n    fragment slotEssentials on Slot {\n  id\n  createdAt\n  exitWeight\n  passengerName\n  passengerExitWeight\n  wingLoading\n  groupNumber\n  cost\n  ticketType {\n    ...ticketTypeDetails\n  }\n  jumpType {\n    ...jumpTypeEssentials\n  }\n  extras {\n    id\n    name\n  }\n}\n    ","\n",""])),Gi,Wi),Hi=(0,Ci.gql)(br||(br=(0,Pi.default)(["\n    fragment rigEssentials on Rig {\n  id\n  name\n  make\n  model\n  serial\n  canopySize\n  repackExpiresAt\n  packValue\n  maintainedAt\n  rigType\n  packingCard\n  isPublic\n  owner {\n    id\n    name\n  }\n  dropzone {\n    id\n  }\n}\n    "]))),Yi=(0,Ci.gql)(xr||(xr=(0,Pi.default)(["\n    fragment planeEssentials on Plane {\n  id\n  minSlots\n  maxSlots\n  name\n  registration\n}\n    "]))),Ji=(0,Ci.gql)(jr||(jr=(0,Pi.default)(["\n    fragment activityDetails on Event {\n  ...activityEssentials\n  resource {\n    ... on Dropzone {\n      ...dropzoneEssentials\n    }\n    ... on DropzoneUser {\n      ...dropzoneUserEssentials\n    }\n    ... on Load {\n      ...loadEssentials\n    }\n    ... on Slot {\n      ...slotEssentials\n    }\n    ... on Rig {\n      ...rigEssentials\n    }\n    ... on Plane {\n      ...planeEssentials\n    }\n  }\n}\n    ","\n","\n","\n","\n","\n","\n",""])),Mi,Ni,Li,$i,_i,Hi,Yi),Qi=(0,Ci.gql)(kr||(kr=(0,Pi.default)(["\n    fragment federationEssentials on Federation {\n  id\n  name\n  slug\n}\n    "]))),Ki=(0,Ci.gql)(Or||(Or=(0,Pi.default)(["\n    fragment licenseDetails on License {\n  ...licenseEssentials\n  federation {\n    ...federationEssentials\n  }\n}\n    ","\n",""])),Ui,Qi),Xi=(0,Ci.gql)(wr||(wr=(0,Pi.default)(["\n    fragment userFederationEssentials on UserFederation {\n  id\n  uid\n  federation {\n    ...federationEssentials\n  }\n  license {\n    ...licenseEssentials\n  }\n}\n    ","\n",""])),Qi,Ui),Zi=(0,Ci.gql)(Sr||(Sr=(0,Pi.default)(["\n    fragment userRigDetailed on Rig {\n  ...rigEssentials\n  owner {\n    id\n    rigs {\n      ...rigEssentials\n    }\n  }\n}\n    ",""])),Hi),el=(0,Ci.gql)(Pr||(Pr=(0,Pi.default)(["\n    fragment userDetailed on User {\n  ...userEssentials\n  userFederations {\n    ...userFederationEssentials\n  }\n  rigs {\n    ...userRigDetailed\n  }\n}\n    ","\n","\n",""])),Bi,Xi,Zi),nl=(0,Ci.gql)(Cr||(Cr=(0,Pi.default)(["\n    fragment dropzoneUserDetails on DropzoneUser {\n  ...dropzoneUserEssentials\n  credits\n  license {\n    ...licenseDetails\n  }\n  user {\n    ...userDetailed\n  }\n  availableRigs {\n    ...rigEssentials\n  }\n}\n    ","\n","\n","\n",""])),Li,Ki,el,Hi),tl=(0,Ci.gql)(Dr||(Dr=(0,Pi.default)(["\n    fragment rigInspectionEssentials on RigInspection {\n  id\n  isOk\n  definition\n  inspectedBy {\n    ...dropzoneUserEssentials\n  }\n  rig {\n    ...rigEssentials\n  }\n}\n    ","\n",""])),Li,Hi),rl=(0,Ci.gql)(Er||(Er=(0,Pi.default)(["\n    fragment transactionEssentials on Transaction {\n  id\n  transactionType\n  amount\n  status\n  createdAt\n  message\n  sender {\n    ... on DropzoneUser {\n      id\n      user {\n        id\n        name\n      }\n    }\n    ... on Dropzone {\n      id\n      name\n    }\n  }\n  receiver {\n    ... on DropzoneUser {\n      id\n      user {\n        id\n        name\n      }\n    }\n    ... on Dropzone {\n      id\n      name\n    }\n  }\n}\n    "]))),ol=(0,Ci.gql)(zr||(zr=(0,Pi.default)(["\n    fragment receiptEssentials on Receipt {\n  id\n  amountCents\n  createdAt\n  updatedAt\n  transactions {\n    ...transactionEssentials\n  }\n}\n    ",""])),rl),il=(0,Ci.gql)(Tr||(Tr=(0,Pi.default)(["\n    fragment orderEssentials on Order {\n  id\n  state\n  amount\n  title\n  orderNumber\n  createdAt\n  buyer {\n    ... on DropzoneUser {\n      ...dropzoneUserDetails\n    }\n    ... on Dropzone {\n      id\n      name\n      banner\n    }\n  }\n  seller {\n    ... on DropzoneUser {\n      ...dropzoneUserDetails\n    }\n    ... on Dropzone {\n      ...dropzoneEssentials\n    }\n  }\n  item {\n    title\n    cost\n    ... on Slot {\n      id\n      ticketType {\n        id\n        name\n        cost\n      }\n      extras {\n        id\n        name\n        cost\n      }\n    }\n    ... on TicketType {\n      id\n    }\n    ... on Extra {\n      id\n      name\n    }\n  }\n  receipts {\n    ...receiptEssentials\n  }\n}\n    ","\n","\n",""])),nl,Ni,ol),ll=(0,Ci.gql)(Ir||(Ir=(0,Pi.default)(["\n    fragment slotDetails on Slot {\n  ...slotEssentials\n  rig {\n    ...rigEssentials\n  }\n  dropzoneUser {\n    ...dropzoneUserEssentials\n  }\n}\n    ","\n","\n",""])),_i,Hi,Li),al=(0,Ci.gql)(Ar||(Ar=(0,Pi.default)(["\n    fragment userSlotDetails on Slot {\n  ...slotDetails\n  load {\n    ...loadEssentials\n  }\n}\n    ","\n",""])),ll,$i),sl=(0,Ci.gql)(Fr||(Fr=(0,Pi.default)(["\n    fragment dropzoneUserProfile on DropzoneUser {\n  ...dropzoneUserDetails\n  permissions\n  rigInspections {\n    ...rigInspectionEssentials\n  }\n  orders {\n    edges {\n      node {\n        ...orderEssentials\n      }\n    }\n  }\n  slots {\n    edges {\n      node {\n        ...userSlotDetails\n      }\n    }\n  }\n}\n    ","\n","\n","\n",""])),nl,tl,il,al),ul=(0,Ci.gql)(Rr||(Rr=(0,Pi.default)(["\n    fragment dropzoneStatisticsEssentials on Statistics {\n  id\n  activeUserCount\n  totalUserCount\n  slotsByJumpType(timeRange: $timeRange) {\n    name\n    count\n  }\n  slotsCount(timeRange: $timeRange)\n  cancelledLoadsCount(timeRange: $timeRange)\n  dzsoCount\n  finalizedLoadsCount(timeRange: $timeRange)\n  gcaCount\n  pilotCount\n  inactiveUserCount\n  loadsCount(timeRange: $timeRange)\n  loadCountByDay(timeRange: $timeRange) {\n    date\n    count\n  }\n  revenueCentsCount(timeRange: $timeRange)\n  rigInspectorCount\n}\n    "]))),dl=(0,Ci.gql)(Ur||(Ur=(0,Pi.default)(["\n    fragment dropzoneStatistics on Dropzone {\n  ...dropzoneEssentials\n  statistics {\n    ...dropzoneStatisticsEssentials\n  }\n}\n    ","\n",""])),Ni,ul),cl=(0,Ci.gql)(Br||(Br=(0,Pi.default)(["\n    fragment weatherConditionEssentials on WeatherCondition {\n  id\n  jumpRun\n  temperature\n  offsetDirection\n  offsetMiles\n  createdAt\n  exitSpotMiles\n  winds {\n    temperature\n    altitude\n    speed\n    direction\n  }\n}\n    "]))),fl=(0,Ci.gql)(Lr||(Lr=(0,Pi.default)(["\n    fragment dropzoneDetailed on Dropzone {\n  ...dropzoneEssentials\n  federation {\n    id\n    name\n    slug\n  }\n  currentConditions {\n    ...weatherConditionEssentials\n  }\n}\n    ","\n",""])),Ni,cl),pl=(0,Ci.gql)(Mr||(Mr=(0,Pi.default)(["\n    fragment currentUserEssentials on DropzoneUser {\n  id\n  walletId\n  credits\n  hasCredits\n  hasExitWeight\n  hasMembership\n  hasReserveInDate\n  hasRigInspection\n  hasLicense\n  permissions\n  expiresAt\n  role {\n    ...roleEssentials\n  }\n}\n    ",""])),Ri),ml=(0,Ci.gql)(Nr||(Nr=(0,Pi.default)(["\n    fragment currentUser on User {\n  ...userDetailed\n  dropzoneUsers {\n    ...dropzoneUserDetails\n  }\n  pushToken\n}\n    ","\n",""])),el,nl),gl=(0,Ci.gql)($r||($r=(0,Pi.default)(["\n    fragment currentUserDetailed on DropzoneUser {\n  ...currentUserEssentials\n  rigInspections {\n    ...rigInspectionEssentials\n  }\n  orders {\n    edges {\n      node {\n        ...orderEssentials\n      }\n    }\n  }\n  availableRigs {\n    ...rigEssentials\n  }\n  license {\n    ...licenseDetails\n  }\n  user {\n    ...currentUser\n  }\n}\n    ","\n","\n","\n","\n","\n",""])),pl,tl,il,Hi,Ki,ml),hl=(0,Ci.gql)(Vr||(Vr=(0,Pi.default)(["\n    fragment dropzoneExtensive on Dropzone {\n  ...dropzoneDetailed\n  currentUser {\n    ...currentUserDetailed\n  }\n}\n    ","\n",""])),fl,gl),vl=(0,Ci.gql)(qr||(qr=(0,Pi.default)(["\n    fragment ticketTypeExtraEssentials on Extra {\n  id\n  name\n  createdAt\n  cost\n}\n    "]))),yl=(0,Ci.gql)(Gr||(Gr=(0,Pi.default)(["\n    fragment ticketTypeExtraDetailed on Extra {\n  ...ticketTypeExtraEssentials\n  ticketTypes {\n    ...ticketTypeEssentials\n  }\n}\n    ","\n",""])),vl,Vi),bl=(0,Ci.gql)(Wr||(Wr=(0,Pi.default)(["\n    fragment masterLogUser on MasterLogUser {\n  id\n  email\n  name\n  nickname\n  phone\n}\n    "]))),xl=(0,Ci.gql)(_r||(_r=(0,Pi.default)(["\n    fragment masterLogAircraft on MasterLogAircraft {\n  id\n  name\n  registration\n}\n    "]))),jl=(0,Ci.gql)(Hr||(Hr=(0,Pi.default)(["\n    fragment masterLogSlot on MasterLogSlot {\n  id\n  altitude\n  jumpType\n  name\n}\n    "]))),kl=(0,Ci.gql)(Yr||(Yr=(0,Pi.default)(["\n    fragment masterLogLoad on MasterLogLoad {\n  id\n  loadNumber\n  dispatchAt\n  aircraft {\n    ...masterLogAircraft\n  }\n  gca {\n    ...masterLogUser\n  }\n  pilot {\n    ...masterLogUser\n  }\n  loadMaster {\n    ...masterLogUser\n  }\n  slots {\n    ...masterLogSlot\n  }\n}\n    ","\n","\n",""])),xl,bl,jl),Ol=(0,Ci.gql)(Jr||(Jr=(0,Pi.default)(["\n    fragment location on GeocodedLocation {\n  id\n  lat\n  lng\n  formattedString\n}\n    "]))),wl=(0,Ci.gql)(Qr||(Qr=(0,Pi.default)(["\n    fragment masterLogEntry on MasterLogEntry {\n  id\n  date\n  notes\n  downloadUrl\n  dzso {\n    ...masterLogUser\n  }\n  loads {\n    ...masterLogLoad\n  }\n  location {\n    ...location\n  }\n}\n    ","\n","\n",""])),bl,kl,Ol),Sl=(0,Ci.gql)(Kr||(Kr=(0,Pi.default)(["\n    fragment rigInspectionDetailed on RigInspection {\n  ...rigInspectionEssentials\n  rig {\n    ...userRigDetailed\n  }\n}\n    ","\n",""])),tl,Zi),Pl=(0,Ci.gql)(Xr||(Xr=(0,Pi.default)(["\n    fragment rigInspectionMutationEssentials on RigInspection {\n  ...rigInspectionDetailed\n  formTemplate {\n    id\n    definition\n  }\n  dropzoneUser {\n    ...dropzoneUserEssentials\n    rigInspections {\n      ...rigInspectionEssentials\n    }\n  }\n}\n    ","\n","\n",""])),Sl,Li,tl),Cl=(0,Ci.gql)(Zr||(Zr=(0,Pi.default)(["\n    fragment roleDetailed on UserRole {\n  ...roleEssentials\n  permissions\n}\n    ",""])),Ri),Dl=(0,Ci.gql)(eo||(eo=(0,Pi.default)(["\n    fragment loadDetails on Load {\n  ...loadEssentials\n  plane {\n    ...planeEssentials\n  }\n  gca {\n    ...dropzoneUserEssentials\n  }\n  pilot {\n    ...dropzoneUserEssentials\n  }\n  loadMaster {\n    ...dropzoneUserEssentials\n  }\n  slots {\n    ...slotDetails\n  }\n}\n    ","\n","\n","\n",""])),$i,Yi,Li,ll),El=(0,Ci.gql)(no||(no=(0,Pi.default)(["\n    fragment slotExhaustive on Slot {\n  ...slotDetails\n  dropzoneUser {\n    ...dropzoneUserDetails\n  }\n  load {\n    ...loadDetails\n  }\n  rig {\n    ...rigEssentials\n  }\n}\n    ","\n","\n","\n",""])),ll,nl,Dl,Hi),zl=(0,Ci.gql)(to||(to=(0,Pi.default)(["\n    fragment ticketTypeAddonDetails on Extra {\n  ...ticketTypeAddonEssentials\n  ticketTypes {\n    ...ticketTypeEssentials\n  }\n}\n    ","\n",""])),qi,Vi),Tl=(0,Ci.gql)(ro||(ro=(0,Pi.default)(["\n    mutation ArchivePlane($id: Int!) {\n  deletePlane(input: {id: $id}) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    plane {\n      ...planeEssentials\n    }\n  }\n}\n    ",""])),Yi);(0,Ci.gql)(oo||(oo=(0,Pi.default)(["\n    mutation ArchiveRig($id: Int!) {\n  archiveRig(input: {id: $id}) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    rig {\n      ...rigEssentials\n    }\n  }\n}\n    ",""])),Hi);var Il=(0,Ci.gql)(io||(io=(0,Pi.default)(["\n    mutation ArchiveTicketType($id: Int!) {\n  archiveTicketType(input: {id: $id}) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    ticketType {\n      ...ticketTypeEssentials\n    }\n  }\n}\n    ",""])),Vi);var Al=(0,Ci.gql)(lo||(lo=(0,Pi.default)(["\n    mutation ArchiveUser($id: Int!) {\n  deleteUser(input: {id: $id}) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    dropzoneUser {\n      ...dropzoneUserEssentials\n    }\n  }\n}\n    ",""])),Li);var Fl=(0,Ci.gql)(ao||(ao=(0,Pi.default)(["\n    mutation ConfirmUser($token: String!) {\n  userConfirmRegistrationWithToken(confirmationToken: $token) {\n    authenticatable {\n      id\n      apfNumber\n      phone\n      pushToken\n      email\n    }\n    credentials {\n      accessToken\n      client\n      expiry\n      tokenType\n      uid\n    }\n  }\n}\n    "])));var Rl=(0,Ci.gql)(so||(so=(0,Pi.default)(["\n    mutation CreateAircraft($attributes: PlaneInput!) {\n  createPlane(input: {attributes: $attributes}) {\n    plane {\n      ...planeEssentials\n      dropzone {\n        id\n        planes {\n          ...planeEssentials\n        }\n      }\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    ",""])),Yi);var Ul=(0,Ci.gql)(uo||(uo=(0,Pi.default)(["\n    mutation CreateDropzone($name: String!, $banner: String, $federation: Int!, $lat: Float, $lng: Float, $primaryColor: String, $secondaryColor: String) {\n  createDropzone(\n    input: {attributes: {name: $name, banner: $banner, federation: $federation, primaryColor: $primaryColor, secondaryColor: $secondaryColor, lat: $lat, lng: $lng}}\n  ) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    dropzone {\n      ...dropzoneExtensive\n    }\n  }\n}\n    ",""])),hl);var Bl=(0,Ci.gql)(co||(co=(0,Pi.default)(["\n    mutation CreateLoad($name: String, $pilot: ID, $gca: ID, $maxSlots: Int, $plane: ID, $state: LoadState) {\n  createLoad(\n    input: {attributes: {name: $name, pilot: $pilot, gca: $gca, maxSlots: $maxSlots, plane: $plane, state: $state}}\n  ) {\n    load {\n      ...loadDetails\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    ",""])),Dl);var Ll=(0,Ci.gql)(fo||(fo=(0,Pi.default)(["\n    mutation CreateOrder($buyer: ID!, $seller: ID!, $dropzone: ID!, $title: String, $amount: Float!) {\n  createOrder(\n    input: {attributes: {dropzone: $dropzone, title: $title, buyer: $buyer, seller: $seller, amount: $amount}}\n  ) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    order {\n      ...orderEssentials\n    }\n  }\n}\n    ",""])),il);var Ml=(0,Ci.gql)(po||(po=(0,Pi.default)(["\n    mutation CreateRig($make: String, $name: String, $model: String, $serial: String, $rigType: String, $canopySize: Int, $repackExpiresAt: Int, $userId: Int, $dropzoneId: Int) {\n  createRig(\n    input: {attributes: {name: $name, make: $make, model: $model, serial: $serial, repackExpiresAt: $repackExpiresAt, dropzoneId: $dropzoneId, userId: $userId, canopySize: $canopySize, rigType: $rigType}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    rig {\n      ...userRigDetailed\n    }\n  }\n}\n    ",""])),Zi);var Nl=(0,Ci.gql)(mo||(mo=(0,Pi.default)(["\n    mutation CreateRigInspection($dropzone: ID, $rig: ID, $isOk: Boolean, $definition: String) {\n  createRigInspection(\n    input: {attributes: {dropzone: $dropzone, rig: $rig, isOk: $isOk, definition: $definition}}\n  ) {\n    rigInspection {\n      ...rigInspectionMutationEssentials\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    ",""])),Pl);function $l(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Nl,n)}var Vl=(0,Ci.gql)(go||(go=(0,Pi.default)(["\n    mutation CreateTicketAddon($attributes: ExtraInput!) {\n  createExtra(input: {attributes: $attributes}) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    extra {\n      ...ticketTypeAddonDetails\n      dropzone {\n        id\n        extras {\n          ...ticketTypeAddonDetails\n        }\n      }\n    }\n  }\n}\n    ",""])),zl);var ql=(0,Ci.gql)(ho||(ho=(0,Pi.default)(["\n    mutation CreateTicketType($attributes: TicketTypeInput!) {\n  createTicketType(input: {attributes: $attributes}) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    ticketType {\n      id\n      name\n      altitude\n      cost\n      allowManifestingSelf\n      extras {\n        id\n        name\n        cost\n      }\n      dropzone {\n        id\n        ticketTypes {\n          id\n          name\n          altitude\n          cost\n          allowManifestingSelf\n          extras {\n            id\n            name\n            cost\n          }\n        }\n      }\n    }\n  }\n}\n    "])));var Gl=(0,Ci.gql)(vo||(vo=(0,Pi.default)(["\n    mutation CreateGhost($name: String!, $phone: String, $email: String!, $federationNumber: String, $role: Int!, $license: Int, $dropzone: Int!, $exitWeight: Float!) {\n  createGhost(\n    input: {attributes: {role: $role, federationNumber: $federationNumber, name: $name, phone: $phone, email: $email, dropzone: $dropzone, license: $license, exitWeight: $exitWeight}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    user {\n      ...userDetailed\n    }\n  }\n}\n    ",""])),el);var Wl=(0,Ci.gql)(yo||(yo=(0,Pi.default)(["\n    mutation DeleteSlot($id: Int!) {\n  deleteSlot(input: {id: $id}) {\n    slot {\n      ...slotExhaustive\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    ",""])),El);var _l=(0,Ci.gql)(bo||(bo=(0,Pi.default)(["\n    mutation FinalizeLoad($id: Int!, $state: LoadState!) {\n  finalizeLoad(input: {id: $id, state: $state}) {\n    fieldErrors {\n      message\n      field\n    }\n    errors\n    load {\n      ...loadDetails\n    }\n  }\n}\n    ",""])),Dl);var Hl=(0,Ci.gql)(xo||(xo=(0,Pi.default)(["\n    mutation GrantPermission($dropzoneUserId: ID!, $permissionName: Permission!) {\n  grantPermission(\n    input: {dropzoneUser: $dropzoneUserId, permission: $permissionName}\n  ) {\n    fieldErrors {\n      message\n      field\n    }\n    errors\n    dropzoneUser {\n      ...dropzoneUserEssentials\n      permissions\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    ",""])),Li);var Yl=(0,Ci.gql)(jo||(jo=(0,Pi.default)(["\n    mutation JoinFederation($federation: ID!, $uid: String, $license: ID) {\n  joinFederation(\n    input: {attributes: {federation: $federation, uid: $uid, license: $license}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    userFederation {\n      ...userFederationEssentials\n    }\n  }\n}\n    ",""])),Xi);function Jl(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Yl,n)}var Ql=(0,Ci.gql)(ko||(ko=(0,Pi.default)(["\n    mutation Login($email: String!, $password: String!) {\n  userLogin(email: $email, password: $password) {\n    authenticatable {\n      id\n      email\n      name\n      phone\n      createdAt\n      updatedAt\n    }\n    credentials {\n      accessToken\n      tokenType\n      client\n      expiry\n      uid\n    }\n  }\n}\n    "])));(0,Ci.gql)(Oo||(Oo=(0,Pi.default)(['\n    mutation LoginWithApple($token: String!, $userIdentity: String!, $pushToken: String) {\n  loginWithApple(\n    token: $token\n    userIdentity: $userIdentity\n    pushToken: $pushToken\n    confirmUrl: "https://openmanifest.org/confirm/"\n  ) {\n    authenticatable {\n      id\n      email\n      name\n      phone\n      createdAt\n      updatedAt\n    }\n    credentials {\n      accessToken\n      tokenType\n      client\n      expiry\n      uid\n    }\n  }\n}\n    '])));var Kl=(0,Ci.gql)(wo||(wo=(0,Pi.default)(['\n    mutation LoginWithFacebook($token: String!, $pushToken: String) {\n  loginWithFacebook(\n    token: $token\n    pushToken: $pushToken\n    confirmUrl: "https://openmanifest.org/confirm/"\n  ) {\n    authenticatable {\n      id\n      email\n      name\n      phone\n      createdAt\n      updatedAt\n    }\n    credentials {\n      accessToken\n      tokenType\n      client\n      expiry\n      uid\n    }\n  }\n}\n    '])));var Xl=(0,Ci.gql)(So||(So=(0,Pi.default)(["\n    mutation ManifestGroup($jumpType: ID, $extras: [ID!], $load: ID, $ticketType: ID, $groupNumber: Int, $userGroup: [SlotUser!]!) {\n  createSlots(\n    input: {attributes: {jumpType: $jumpType, groupNumber: $groupNumber, extras: $extras, load: $load, ticketType: $ticketType, userGroup: $userGroup}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    load {\n      ...loadDetails\n    }\n  }\n}\n    ",""])),Dl);function Zl(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Xl,n)}var ea=(0,Ci.gql)(Po||(Po=(0,Pi.default)(["\n    mutation ManifestUser($jumpType: ID, $extras: [ID!], $load: ID, $rig: ID, $ticketType: ID, $dropzoneUser: ID, $exitWeight: Float, $passengerName: String, $groupNumber: Int, $passengerExitWeight: Float) {\n  createSlot(\n    input: {attributes: {jumpType: $jumpType, extras: $extras, load: $load, rig: $rig, groupNumber: $groupNumber, ticketType: $ticketType, dropzoneUser: $dropzoneUser, exitWeight: $exitWeight, passengerExitWeight: $passengerExitWeight, passengerName: $passengerName}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    slot {\n      ...slotExhaustive\n    }\n  }\n}\n    ",""])),El);function na(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(ea,n)}var ta=(0,Ci.gql)(Co||(Co=(0,Pi.default)(["\n    mutation MoveSlot($sourceSlot: Int!, $targetSlot: Int, $targetLoad: Int!) {\n  moveSlot(\n    input: {sourceSlot: $sourceSlot, targetSlot: $targetSlot, targetLoad: $targetLoad}\n  ) {\n    loads {\n      ...loadDetails\n    }\n    errors\n    fieldErrors {\n      field\n      message\n    }\n  }\n}\n    ",""])),Dl);var ra=(0,Ci.gql)(Do||(Do=(0,Pi.default)(["\n    mutation RecoverPassword($email: String!, $redirectUrl: String!) {\n  userSendPasswordResetWithToken(email: $email, redirectUrl: $redirectUrl) {\n    message\n  }\n}\n    "])));(0,Ci.gql)(Eo||(Eo=(0,Pi.default)(["\n    mutation ReloadWeather($id: Int!) {\n  reloadWeatherCondition(input: {id: $id}) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    weatherCondition {\n      createdAt\n      exitSpotMiles\n      id\n      jumpRun\n      offsetDirection\n      offsetMiles\n      temperature\n      updatedAt\n      winds {\n        altitude\n        direction\n        speed\n        temperature\n      }\n    }\n  }\n}\n    "])));var oa=(0,Ci.gql)(zo||(zo=(0,Pi.default)(["\n    mutation RevokePermission($dropzoneUserId: ID!, $permissionName: Permission!) {\n  revokePermission(\n    input: {dropzoneUser: $dropzoneUserId, permission: $permissionName}\n  ) {\n    fieldErrors {\n      message\n      field\n    }\n    errors\n    dropzoneUser {\n      ...dropzoneUserEssentials\n      permissions\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    ",""])),Li);var ia=(0,Ci.gql)(To||(To=(0,Pi.default)(["\n    mutation UpdateAircraft($id: Int!, $attributes: PlaneInput!) {\n  updatePlane(input: {id: $id, attributes: $attributes}) {\n    plane {\n      ...planeEssentials\n      dropzone {\n        id\n        name\n        planes {\n          id\n          name\n          registration\n          minSlots\n          maxSlots\n          hours\n          nextMaintenanceHours\n        }\n      }\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    ",""])),Yi);var la=(0,Ci.gql)(Io||(Io=(0,Pi.default)(["\n    mutation UpdateDropzone($id: Int!, $attributes: DropzoneInput!) {\n  updateDropzone(input: {id: $id, attributes: $attributes}) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    dropzone {\n      ...dropzoneExtensive\n    }\n  }\n}\n    ",""])),hl);var aa=(0,Ci.gql)(Ao||(Ao=(0,Pi.default)(["\n    mutation UpdateDropzoneUser($dropzoneUserId: ID!, $attributes: DropzoneUserInput!) {\n  updateDropzoneUser(\n    input: {dropzoneUser: $dropzoneUserId, attributes: $attributes}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    dropzoneUser {\n      ...dropzoneUserDetails\n    }\n  }\n}\n    ",""])),nl);var sa=(0,Ci.gql)(Fo||(Fo=(0,Pi.default)(["\n    mutation UpdateLoad($id: ID!, $attributes: LoadInput!) {\n  updateLoad(input: {id: $id, attributes: $attributes}) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    load {\n      ...loadDetails\n    }\n  }\n}\n    ",""])),Dl);var ua=(0,Ci.gql)(Ro||(Ro=(0,Pi.default)(["\n    mutation UpdateLostPassword($password: String!, $passwordConfirmation: String!, $token: String!) {\n  userUpdatePasswordWithToken(\n    password: $password\n    passwordConfirmation: $passwordConfirmation\n    resetPasswordToken: $token\n  ) {\n    authenticatable {\n      ...userEssentials\n    }\n    credentials {\n      accessToken\n      client\n      expiry\n      tokenType\n      uid\n    }\n  }\n}\n    ",""])),Bi);var da=(0,Ci.gql)(Uo||(Uo=(0,Pi.default)(["\n    mutation UpdateMasterLog($date: ISO8601Date!, $dropzone: ID!, $attributes: MasterLogInput!) {\n  updateMasterLog(\n    input: {dropzone: $dropzone, date: $date, attributes: $attributes}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    masterLog {\n      ...masterLogEntry\n    }\n  }\n}\n    ",""])),wl);var ca=(0,Ci.gql)(Bo||(Bo=(0,Pi.default)(["\n    mutation UpdateRig($id: Int!, $name: String, $make: String, $model: String, $serial: String, $isPublic: Boolean, $rigType: String, $canopySize: Int, $packingCard: String, $repackExpiresAt: Int, $userId: Int, $dropzoneId: Int) {\n  updateRig(\n    input: {id: $id, attributes: {name: $name, make: $make, packingCard: $packingCard, isPublic: $isPublic, model: $model, serial: $serial, repackExpiresAt: $repackExpiresAt, dropzoneId: $dropzoneId, userId: $userId, canopySize: $canopySize, rigType: $rigType}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    rig {\n      ...userRigDetailed\n    }\n  }\n}\n    ",""])),Zi);function fa(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(ca,n)}var pa=(0,Ci.gql)(Lo||(Lo=(0,Pi.default)(["\n    mutation UpdateRigInspectionTemplate($dropzoneId: Int, $formId: Int, $definition: String) {\n  updateFormTemplate(\n    input: {id: $formId, attributes: {dropzoneId: $dropzoneId, definition: $definition}}\n  ) {\n    formTemplate {\n      id\n      name\n      definition\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    "])));var ma=(0,Ci.gql)(Mo||(Mo=(0,Pi.default)(["\n    mutation UpdateRole($roleId: Int!, $permissionName: String!, $enabled: Boolean!) {\n  updateRole(input: {id: $roleId, permission: $permissionName, enabled: $enabled}) {\n    role {\n      id\n      name\n      permissions\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    "])));var ga=(0,Ci.gql)(No||(No=(0,Pi.default)(["\n    mutation UpdateTicketAddon($id: Int!, $attributes: ExtraInput!) {\n  updateExtra(input: {id: $id, attributes: $attributes}) {\n    errors\n    fieldErrors {\n      message\n      field\n    }\n    extra {\n      ...ticketTypeExtraDetailed\n    }\n  }\n}\n    ",""])),yl);var ha=(0,Ci.gql)($o||($o=(0,Pi.default)(["\n    mutation UpdateTicketType($id: Int!, $attributes: TicketTypeInput!) {\n  updateTicketType(input: {id: $id, attributes: $attributes}) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    ticketType {\n      ...ticketTypeEssentials\n      id\n      name\n      altitude\n      cost\n      allowManifestingSelf\n      extras {\n        id\n        name\n        cost\n      }\n      dropzone {\n        ...dropzoneEssentials\n        ticketTypes {\n          ...ticketTypeEssentials\n        }\n      }\n    }\n  }\n}\n    ","\n",""])),Vi,Ni);var va=(0,Ci.gql)(Vo||(Vo=(0,Pi.default)(["\n    mutation UpdateUser($dropzoneUser: ID, $name: String, $phone: String, $email: String, $image: String, $pushToken: String, $nickname: String, $license: Int, $exitWeight: Float) {\n  updateUser(\n    input: {dropzoneUser: $dropzoneUser, attributes: {pushToken: $pushToken, name: $name, phone: $phone, email: $email, image: $image, nickname: $nickname, license: $license, exitWeight: $exitWeight}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    dropzoneUser {\n      ...dropzoneUserDetails\n    }\n  }\n}\n    ",""])),nl);function ya(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(va,n)}var ba=(0,Ci.gql)(qo||(qo=(0,Pi.default)(["\n    mutation UpdateVisibility($dropzone: ID!, $event: DropzoneStateEvent!) {\n  updateVisibility(input: {dropzone: $dropzone, event: $event}) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    dropzone {\n      ...dropzoneDetailed\n    }\n  }\n}\n    ",""])),fl);var xa=(0,Ci.gql)(Go||(Go=(0,Pi.default)(['\n    mutation UserSignUp($email: String!, $password: String!, $passwordConfirmation: String!, $name: String!, $phone: String!, $pushToken: String, $exitWeight: Float!, $licenseId: Int) {\n  userRegister(\n    email: $email\n    password: $password\n    passwordConfirmation: $passwordConfirmation\n    exitWeight: $exitWeight\n    name: $name\n    phone: $phone\n    pushToken: $pushToken\n    licenseId: $licenseId\n    confirmUrl: "https://openmanifest.org/confirm/"\n  ) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    authenticatable {\n      createdAt\n      email\n      id\n      name\n      phone\n    }\n    credentials {\n      accessToken\n      tokenType\n      client\n      expiry\n      uid\n    }\n  }\n}\n    '])));(0,Ci.gql)(Wo||(Wo=(0,Pi.default)(["\n    query Activity($dropzone: [ID!], $levels: [EventLevel!], $actions: [EventAction!], $accessLevels: [EventAccessLevel!], $timeRange: TimeRangeInput, $createdBy: [ID!]) {\n  activity(\n    dropzone: $dropzone\n    timeRange: $timeRange\n    accessLevels: $accessLevels\n    levels: $levels\n    actions: $actions\n    createdBy: $createdBy\n  ) {\n    edges {\n      node {\n        ...activityEssentials\n      }\n    }\n  }\n}\n    ",""])),Mi);var ja=(0,Ci.gql)(_o||(_o=(0,Pi.default)(["\n    query ActivityDetails($dropzone: [ID!], $levels: [EventLevel!], $actions: [EventAction!], $accessLevels: [EventAccessLevel!], $timeRange: TimeRangeInput, $createdBy: [ID!], $after: String) {\n  activity(\n    dropzone: $dropzone\n    timeRange: $timeRange\n    accessLevels: $accessLevels\n    levels: $levels\n    actions: $actions\n    createdBy: $createdBy\n    after: $after\n  ) {\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n    edges {\n      node {\n        ...activityDetails\n      }\n    }\n  }\n}\n    ",""])),Ji);(0,Ci.gql)(Ho||(Ho=(0,Pi.default)(["\n    query CurrentUser {\n  currentUser {\n    ...currentUser\n  }\n}\n    ",""])),ml);var ka=(0,Ci.gql)(Yo||(Yo=(0,Pi.default)(["\n    query Dropzone($dropzoneId: ID!) {\n  dropzone(id: $dropzoneId) {\n    ...dropzoneExtensive\n  }\n}\n    ",""])),hl);var Oa=(0,Ci.gql)(Jo||(Jo=(0,Pi.default)(["\n    query DropzoneStatistics($dropzoneId: ID!, $timeRange: TimeRangeInput) {\n  dropzone(id: $dropzoneId) {\n    ...dropzoneStatistics\n  }\n}\n    ",""])),dl);var wa=(0,Ci.gql)(Qo||(Qo=(0,Pi.default)(["\n    query DropzonesStatistics($timeRange: TimeRangeInput, $after: String) {\n  dropzones(after: $after) {\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      endCursor\n    }\n    edges {\n      cursor\n      node {\n        ...dropzoneStatistics\n      }\n    }\n  }\n}\n    ",""])),dl);var Sa=(0,Ci.gql)(Ko||(Ko=(0,Pi.default)(["\n    query DropzoneRigs($dropzoneId: ID!) {\n  dropzone(id: $dropzoneId) {\n    id\n    rigs {\n      ...rigEssentials\n    }\n  }\n}\n    ",""])),Hi);var Pa=(0,Ci.gql)(Xo||(Xo=(0,Pi.default)(["\n    query DropzonePermissions($id: ID!) {\n  dropzone(id: $id) {\n    ...dropzoneEssentials\n    roles {\n      ...roleDetailed\n    }\n  }\n}\n    ","\n",""])),Ni,Cl);var Ca=(0,Ci.gql)(Zo||(Zo=(0,Pi.default)(["\n    query DropzoneTransactions($dropzoneId: ID!, $after: String) {\n  dropzone(id: $dropzoneId) {\n    ...dropzoneEssentials\n    orders(after: $after) {\n      edges {\n        node {\n          id\n        }\n      }\n    }\n  }\n}\n    ",""])),Ni);var Da=(0,Ci.gql)(ei||(ei=(0,Pi.default)(["\n    query DropzoneUsers($dropzoneId: ID!, $search: String, $permissions: [Permission!], $first: Int, $after: String, $licensed: Boolean) {\n  dropzoneUsers(\n    dropzone: $dropzoneId\n    licensed: $licensed\n    search: $search\n    permissions: $permissions\n    first: $first\n    after: $after\n  ) {\n    edges {\n      cursor\n      node {\n        ...dropzoneUserEssentials\n      }\n    }\n  }\n}\n    ",""])),Li);function Ea(e){var n=Ai(Ai({},Fi),e);return Ei.useQuery(Da,n)}var za=(0,Ci.gql)(ni||(ni=(0,Pi.default)(["\n    query DropzoneUsersDetailed($dropzoneId: ID!, $search: String, $permissions: [Permission!], $first: Int, $after: String, $licensed: Boolean) {\n  dropzoneUsers(\n    dropzone: $dropzoneId\n    licensed: $licensed\n    search: $search\n    permissions: $permissions\n    first: $first\n    after: $after\n  ) {\n    edges {\n      cursor\n      node {\n        ...dropzoneUserEssentials\n      }\n    }\n  }\n}\n    ",""])),Li);(0,Ci.gql)(ti||(ti=(0,Pi.default)(["\n    query DropzoneUser($id: ID!) {\n  dropzoneUser(id: $id) {\n    ...dropzoneUserEssentials\n  }\n}\n    ",""])),Li);(0,Ci.gql)(ri||(ri=(0,Pi.default)(["\n    query DropzoneUserDetailed($id: ID!) {\n  dropzoneUser(id: $id) {\n    ...dropzoneUserDetails\n  }\n}\n    ",""])),nl);var Ta=(0,Ci.gql)(oi||(oi=(0,Pi.default)(["\n    query DropzoneUserProfile($id: ID!) {\n  dropzoneUser(id: $id) {\n    ...dropzoneUserProfile\n  }\n}\n    ",""])),sl);function Ia(e){var n=Ai(Ai({},Fi),e);return zi.useLazyQuery(Ta,n)}var Aa=(0,Ci.gql)(ii||(ii=(0,Pi.default)(["\n    query Dropzones($state: [DropzoneState!]) {\n  dropzones(state: $state) {\n    edges {\n      node {\n        ...dropzoneEssentials\n      }\n    }\n  }\n}\n    ",""])),Ni);var Fa=(0,Ci.gql)(li||(li=(0,Pi.default)(["\n    query TicketTypeExtras($dropzoneId: ID!) {\n  extras(dropzone: $dropzoneId) {\n    ...ticketTypeExtraDetailed\n  }\n}\n    ",""])),yl);var Ra=(0,Ci.gql)(ai||(ai=(0,Pi.default)(["\n    query Federations {\n  federations {\n    ...federationEssentials\n  }\n}\n    ",""])),Qi);function Ua(e){var n=Ai(Ai({},Fi),e);return Ei.useQuery(Ra,n)}var Ba=(0,Ci.gql)(si||(si=(0,Pi.default)(["\n    query AddressToLocation($search: String!) {\n  geocode(search: $search) {\n    formattedString\n    id\n    lat\n    lng\n  }\n}\n    "])));(0,Ci.gql)(ui||(ui=(0,Pi.default)(["\n    query JumpTypes($allowedForDropzoneUserIds: [Int!]) {\n  jumpTypes(dropzoneUsers: $allowedForDropzoneUserIds) {\n    ...jumpTypeEssentials\n  }\n}\n    ",""])),Wi);var La=(0,Ci.gql)(di||(di=(0,Pi.default)(["\n    query AllowedJumpTypes($dropzoneId: ID!, $allowedForDropzoneUserIds: [Int!]!, $isPublic: Boolean) {\n  dropzone(id: $dropzoneId) {\n    id\n    allowedJumpTypes(userId: $allowedForDropzoneUserIds) {\n      ...jumpTypeEssentials\n    }\n    ticketTypes(isPublic: $isPublic) {\n      ...ticketTypeEssentials\n    }\n  }\n  jumpTypes {\n    ...jumpTypeEssentials\n  }\n}\n    ","\n",""])),Wi,Vi);function Ma(e){var n=Ai(Ai({},Fi),e);return Ei.useQuery(La,n)}var Na=(0,Ci.gql)(ci||(ci=(0,Pi.default)(["\n    query Licenses($federationId: Int) {\n  licenses(federationId: $federationId) {\n    ...licenseDetails\n  }\n}\n    ",""])),Ki);function $a(e){var n=Ai(Ai({},Fi),e);return Ei.useQuery(Na,n)}var Va=(0,Ci.gql)(fi||(fi=(0,Pi.default)(["\n    query Load($id: ID!) {\n  load(id: $id) {\n    ...loadDetails\n  }\n}\n    ",""])),Dl);var qa=(0,Ci.gql)(pi||(pi=(0,Pi.default)(["\n    query Loads($date: ISO8601Date, $dropzone: ID!) {\n  loads(date: $date, dropzone: $dropzone) {\n    edges {\n      node {\n        ...loadEssentials\n      }\n    }\n  }\n}\n    ",""])),$i);var Ga=(0,Ci.gql)(mi||(mi=(0,Pi.default)(["\n    query MasterLog($dropzoneId: ID!, $date: ISO8601Date!) {\n  masterLog(dropzone: $dropzoneId, date: $date) {\n    ...masterLogEntry\n  }\n}\n    ",""])),wl);var Wa=(0,Ci.gql)(gi||(gi=(0,Pi.default)(["\n    query Notifications($dropzoneId: ID!) {\n  dropzone(id: $dropzoneId) {\n    id\n    currentUser {\n      id\n      notifications {\n        edges {\n          node {\n            id\n            message\n            notificationType\n            createdAt\n            sentBy {\n              id\n              user {\n                id\n                name\n              }\n            }\n            resource {\n              ... on Load {\n                ...loadEssentials\n              }\n              ... on Transaction {\n                id\n                amount\n                message\n                status\n              }\n              ... on Slot {\n                ...slotEssentials\n              }\n              ... on Rig {\n                ...rigEssentials\n                rigInspections(dropzoneId: $dropzoneId) {\n                  id\n                  createdAt\n                  inspectedBy {\n                    id\n                    user {\n                      id\n                      name\n                    }\n                  }\n                }\n              }\n              ... on RigInspection {\n                ...rigInspectionEssentials\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n    ","\n","\n","\n",""])),$i,_i,Hi,tl);var _a=(0,Ci.gql)(hi||(hi=(0,Pi.default)(["\n    query Planes($dropzoneId: ID!) {\n  planes(dropzone: $dropzoneId) {\n    ...planeEssentials\n  }\n}\n    ",""])),Yi);function Ha(e){var n=Ai(Ai({},Fi),e);return Ei.useQuery(_a,n)}var Ya=(0,Ci.gql)(vi||(vi=(0,Pi.default)(["\n    query CurrentUserPermissions($dropzoneId: ID!) {\n  dropzone(id: $dropzoneId) {\n    id\n    name\n    primaryColor\n    secondaryColor\n    currentUser {\n      id\n      role {\n        ...roleEssentials\n      }\n      permissions\n    }\n  }\n}\n    ",""])),Ri);var Ja=(0,Ci.gql)(yi||(yi=(0,Pi.default)(["\n    query RigInspectionTemplate($dropzoneId: ID!) {\n  dropzone(id: $dropzoneId) {\n    id\n    rigInspectionTemplate {\n      id\n      name\n      definition\n    }\n  }\n}\n    "])));function Qa(e){var n=Ai(Ai({},Fi),e);return Ei.useQuery(Ja,n)}var Ka=(0,Ci.gql)(bi||(bi=(0,Pi.default)(["\n    query AvailableRigs($dropzoneUserId: Int!, $isTandem: Boolean, $loadId: Int) {\n  availableRigs(\n    dropzoneUser: $dropzoneUserId\n    isTandem: $isTandem\n    loadId: $loadId\n  ) {\n    ...userRigDetailed\n  }\n}\n    ",""])),Zi);var Xa=(0,Ci.gql)(xi||(xi=(0,Pi.default)(["\n    query Roles($dropzoneId: ID!, $selectable: Boolean) {\n  dropzone(id: $dropzoneId) {\n    id\n    roles(selectable: $selectable) {\n      ...roleDetailed\n    }\n  }\n}\n    ",""])),Cl);function Za(e){var n=Ai(Ai({},Fi),e);return Ei.useQuery(Xa,n)}var es=(0,Ci.gql)(ji||(ji=(0,Pi.default)(["\n    query AllowedTicketTypes($dropzone: ID!, $onlyPublicTickets: Boolean) {\n  ticketTypes(dropzone: $dropzone, allowManifestingSelf: $onlyPublicTickets) {\n    ...ticketTypeDetails\n  }\n}\n    ",""])),Gi);var ns=(0,Ci.gql)(ki||(ki=(0,Pi.default)(["\n    query TicketTypes($dropzone: ID!, $allowManifestingSelf: Boolean) {\n  ticketTypes(dropzone: $dropzone, allowManifestingSelf: $allowManifestingSelf) {\n    ...ticketTypeDetails\n  }\n}\n    ",""])),Gi);var ts=(0,Ci.gql)(Oi||(Oi=(0,Pi.default)(["\n    subscription LoadCreated($dropzoneId: ID!) {\n  loadCreated(dropzoneId: $dropzoneId) {\n    load {\n      ...loadDetails\n    }\n  }\n}\n    ",""])),Dl);var rs=(0,Ci.gql)(wi||(wi=(0,Pi.default)(["\n    subscription LoadUpdated($id: ID!) {\n  loadUpdated(loadId: $id) {\n    load {\n      ...loadDetails\n    }\n  }\n}\n    ",""])),Dl);var os=(0,Ci.gql)(Si||(Si=(0,Pi.default)(["\n    subscription UserUpdated($id: ID!) {\n  userUpdated(dropzoneUserId: $id) {\n    dropzoneUser {\n      ...dropzoneUserDetails\n    }\n  }\n}\n    ",""])),nl);function is(e){var n,t,r,o,i,a=dn((function(e){return e.global})),s=a.authenticated,u=a.currentDropzoneId,d=l.useMemo((function(){if(null!=e&&e.dropzoneId)return{dropzoneId:e.dropzoneId}}),[e]),c=function(e){var n=Ai(Ai({},Fi),e);return zi.useLazyQuery(ka,n)}(),f=(0,W.default)(c,2),p=f[0],m=f[1],g=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(la,n)}(),h=(0,W.default)(g,1)[0],v=l.useMemo((function(){return{dropzoneId:null==d?void 0:d.dropzoneId}}),[null==d?void 0:d.dropzoneId]),y=function(e){var n=Ai(Ai({},Fi),e);return zi.useLazyQuery(Ya,n)}(),b=(0,W.default)(y,2),x=b[0],j=b[1],k=l.useCallback(function(){var e=(0,S.default)((function*(e){try{var n,t,r,o,i,l,a,s;if((null==m||null==(n=m.data)||null==(t=n.dropzone)||!t.id)&&!u)return{error:"No dropzone selected"};var d,c=(yield h({variables:{id:Number((null==m||null==(r=m.data)||null==(o=r.dropzone)?void 0:o.id)||u),attributes:e}})).data;return null!=c&&null!=(i=c.updateDropzone)&&i.dropzone?{dropzone:null==c||null==(d=c.updateDropzone)?void 0:d.dropzone}:{error:null==c||null==(l=c.updateDropzone)||null==(a=l.errors)?void 0:a[0],fieldErrors:(null==c||null==(s=c.updateDropzone)?void 0:s.fieldErrors)||void 0}}catch(f){return f instanceof Error?{error:f.message}:{error:"Something went wrong"}}}));return function(n){return e.apply(this,arguments)}}(),[u,null==m||null==(n=m.data)||null==(t=n.dropzone)?void 0:t.id,h]);l.useEffect((function(){s&&null!=d&&d.dropzoneId&&!(0,oe.isEqual)(d,m.variables)&&(console.debug("[Context::Dropzone] Fetching dropzone",d),p({variables:d}))}),[s,p,m.variables,d]),l.useEffect((function(){s&&null!=v&&v.dropzoneId&&!(0,oe.isEqual)(v,j.variables)&&(console.debug("[Context::Dropzone] Fetching user permissions",v),x({variables:v}))}),[s,p,x,j.variables,v,m.variables,d]);var O=m.loading,w=m.fetchMore,P=m.data,C=m.called,D=m.variables,E=l.useCallback((function(){null!=d&&d.dropzoneId&&(null==m||m.refetch())}),[m,d]);return l.useMemo((function(){var e,n,t,r;return{loading:O,called:C,permissions:(null==j||null==(e=j.data)||null==(n=e.dropzone)||null==(t=n.currentUser)?void 0:t.permissions)||[],update:k,refetch:null!=D&&D.dropzoneId?E:oe.noop,fetchMore:null!=D&&D.dropzoneId?function(){return w({variables:d})}:It,dropzone:null==P?void 0:P.dropzone,currentUser:null==P||null==(r=P.dropzone)?void 0:r.currentUser}}),[d,O,C,k,null==j||null==(r=j.data)||null==(o=r.dropzone)||null==(i=o.currentUser)?void 0:i.permissions,E,null==D?void 0:D.dropzoneId,w,null==P?void 0:P.dropzone])}var ls=At((function(e){var n,t=dn((function(e){return e.global})).authenticated,r=l.useMemo((function(){return{state:null==e?void 0:e.state}}),[null==e?void 0:e.state]),o=function(e){var n=Ai(Ai({},Fi),e);return zi.useLazyQuery(Aa,n)}(),i=(0,W.default)(o,2),a=i[0],s=i[1];l.useEffect((function(){!t||(0,oe.isEqual)(r,s.variables)&&s.called||(console.debug("[Context::Dropzones] Fetching dropzones",r),a({variables:r}))}),[t,a,s.called,s.variables,r]);var u=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(ba,n)}(),d=(0,W.default)(u,1)[0],c=ft().appSignal,f=l.useCallback(function(){var e=(0,S.default)((function*(e,n){try{var t,r,o,i,l,a,s,u,f,p=yield d({variables:{dropzone:e,event:n}});return null!=p&&null!=(t=p.data)&&null!=(r=t.updateVisibility)&&null!=(o=r.dropzone)&&o.id?{dropzone:null==(f=p.data.updateVisibility)?void 0:f.dropzone}:{error:null==p||null==(i=p.data)||null==(l=i.updateVisibility)||null==(a=l.errors)?void 0:a[0],fieldErrors:(null==p||null==(s=p.data)||null==(u=s.updateVisibility)?void 0:u.fieldErrors)||void 0}}catch(m){return c.sendError(m),{error:"You cant modify dropzone visibility"}}}));return function(n,t){return e.apply(this,arguments)}}(),[c,d]),p=s.loading,m=s.fetchMore,g=s.refetch,h=s.data,v=s.called;return l.useMemo((function(){var e,n;return{loading:p,called:v,refetch:g,fetchMore:m,updateVisibility:f,dropzones:null==h||null==(e=h.dropzones)||null==(n=e.edges)?void 0:n.map((function(e){return null==e?void 0:e.node}))}}),[v,null==h||null==(n=h.dropzones)?void 0:n.edges,m,p,g,f])}),{called:!1,loading:!1,dropzones:[],updateVisibility:It,refetch:It,fetchMore:It}),as=ls.Provider,ss=ls.useContext,us=t(57036);function ds(e){var n=Ut().dropzone.permissions;return(null==n?void 0:n.includes(e))||!1}var cs=t(66532);function fs(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ps(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?fs(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fs(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ms(e){var n=l.useCallback((function(e){var n,t,r=e.client,o=e.data.data;if(null!=o&&null!=(n=o.loadUpdated)&&null!=(t=n.load)&&t.id){var i=o.loadUpdated.load;r.cache.updateFragment({fragment:Dl,fragmentName:"loadDetails",broadcast:!0,id:r.cache.identify(i)},(function(){return i})),r.cache.updateQuery({query:Va,broadcast:!0,variables:{id:i.id}},(function(e){return ps(ps({},e),{},{load:ps({__typename:"Load"},i)})})),console.debug("[Subscription::LoadUpdated] Updated load fragment for",i)}else console.debug("[Subscription::LoadUpdated] Received subscription data without load id",o)}),[]);return function(e){var n=Ai(Ai({},Fi),e);return Ti.useSubscription(rs,n)}({skip:!e,variables:{id:e},onData:n})}function gs(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function hs(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?gs(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gs(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function vs(e){var n=dn((function(e){return e.global})).authenticated,t=Mn(),r=function(e){var n=Ai(Ai({},Fi),e);return zi.useLazyQuery(Va,n)}(),o=(0,W.default)(r,2),i=o[0],a=o[1];l.useEffect((function(){n&&null!=e&&e.id&&!(0,oe.isEqual)(e,a.variables)&&(console.debug("[Context::Load] Fetching load",e),i({variables:e}))}),[n,i,a.variables,e]);var s=l.useCallback((function(){null!=e&&e.id&&(null==a||a.refetch())}),[a,e]),u=a.loading,d=a.fetchMore,c=a.data,f=a.called,p=a.variables,m=l.useMemo((function(){return null==c?void 0:c.load}),[null==c?void 0:c.load]),g=na(),h=(0,W.default)(g,1)[0],v=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(_l,n)}(),y=(0,W.default)(v,1)[0],b=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(sa,n)}(),x=(0,W.default)(b,1)[0];ms(null==e?void 0:e.id);var j=l.useCallback(function(){var e=(0,S.default)((function*(e){try{var n,r,o,i,l,a,s;if(console.debug("[Context::Load] Updating load",null==m?void 0:m.id,e),null==m||!m.id)return{error:"Load cannot be updated"};var u,d,c,f=(yield x({variables:{id:null==m?void 0:m.id,attributes:e},optimisticResponse:{updateLoad:{__typename:"UpdateLoadPayload",errors:null,fieldErrors:null,load:hs(hs({},m),{},{state:(null==e?void 0:e.state)||(null==m?void 0:m.state),dispatchAt:(null==e?void 0:e.dispatchAt)||(null==m?void 0:m.dispatchAt)})}}})).data;if(console.debug({response:f}),null!=f&&null!=(n=f.updateLoad)&&null!=(r=n.load)&&r.id)return t.success("Load #"+(null==m?void 0:m.loadNumber)+" updated"),{load:null==f||null==(u=f.updateLoad)?void 0:u.load};if(null!=f&&null!=(o=f.updateLoad)&&null!=(i=o.errors)&&i[0])t.error(null==f||null==(d=f.updateLoad)||null==(c=d.errors)?void 0:c[0]);return{error:null==f||null==(l=f.updateLoad)||null==(a=l.errors)?void 0:a[0],fieldErrors:(null==f||null==(s=f.updateLoad)?void 0:s.fieldErrors)||void 0}}catch(p){return console.error(p),{error:"Something went wrong"}}}));return function(n){return e.apply(this,arguments)}}(),[m,t,x]),k=l.useCallback(function(){var e=(0,S.default)((function*(e){var n,t,r,o,i;if(null==m||!m.id){var l,a,s,u=cs.object().shape({dropzoneUser:cs.string().required(),exitWeight:cs.number().nullable(),groupNumber:cs.number().nullable(),passengerExitWeight:cs.number().nullable(),passengerName:cs.string().nullable(),rig:cs.string().nullable(),ticketType:cs.string().required("You must select a ticket type"),jumpType:cs.string().required("You must specify the type of jump")}).validateSync(e),d=yield h({variables:hs({load:null==m?void 0:m.id},u)});if(null!=d&&null!=(n=d.data)&&null!=(t=n.createSlot)&&null!=(r=t.fieldErrors)&&r.length)throw new cs.ValidationError(null==d||null==(l=d.data)||null==(a=l.createSlot)||null==(s=a.fieldErrors)?void 0:s.map((function(e){var n=e.field,t=e.message;return new cs.ValidationError([],t,n)})));return null==d||null==(o=d.data)||null==(i=o.createSlot)?void 0:i.slot}}));return function(n){return e.apply(this,arguments)}}(),[null==m?void 0:m.id,h]),O=l.useCallback(function(){var e=(0,S.default)((function*(e){if(m){var n=e?us.DateTime.local().plus({minutes:e}).toISO():null;yield j({dispatchAt:n,state:n?T.BoardingCall:T.Open})}}));return function(n){return e.apply(this,arguments)}}(),[m,j]),w=l.useCallback(function(){var e=(0,S.default)((function*(e){return j({state:e,dispatchAt:null})}));return function(n){return e.apply(this,arguments)}}(),[j]),P=l.useCallback(function(){var e=(0,S.default)((function*(e){yield j({pilot:e.id})}));return function(n){return e.apply(this,arguments)}}(),[j]),C=l.useCallback(function(){var e=(0,S.default)((function*(e){yield j({gca:e.id})}));return function(n){return e.apply(this,arguments)}}(),[j]),D=l.useCallback(function(){var e=(0,S.default)((function*(e){yield j({plane:e.id})}));return function(n){return e.apply(this,arguments)}}(),[j]),E=l.useCallback(function(){var e=(0,S.default)((function*(e){yield j({loadMaster:e.id})}));return function(n){return e.apply(this,arguments)}}(),[j]),z=l.useCallback((0,S.default)((function*(){yield y({variables:{id:Number(null==m?void 0:m.id),state:T.Landed}})})),[y,m]),I=l.useCallback((0,S.default)((function*(){yield y({variables:{id:Number(null==m?void 0:m.id),state:T.Cancelled}})})),[y,m]),A=ds(R.UpdateLoad),F=l.useCallback((function(e){return function(){return O(e)}}),[O]),U=l.useCallback(function(){var e=(0,S.default)((function*(e){m&&(yield j({dispatchAt:e?us.DateTime.fromSeconds(e).toISO():null,state:e?T.BoardingCall:T.Open}))}));return function(n){return e.apply(this,arguments)}}(),[m,j]);return l.useMemo((function(){return{loading:u,called:f,update:j,updatePilot:P,updateGCA:C,updatePlane:D,updateLoadMaster:E,manifestUser:k,cancel:I,refetch:null!=p&&p.id?s:oe.noop,fetchMore:null!=p&&p.id?function(){return d({variables:e})}:It,load:null==c?void 0:c.load,dispatchAtTime:U,dispatchInMinutes:O,updateLoadState:w,createAircraftDispatchAction:F,canDispatchAircraft:A,markAsLanded:z}}),[u,f,j,P,C,D,E,k,I,null==p?void 0:p.id,s,null==c?void 0:c.load,U,O,w,F,A,z,d,e])}function ys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function bs(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ys(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ys(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function xs(e){var n=l.useCallback((function(e){var n,t=e.client,r=e.data.data;if(null!=r&&null!=(n=r.userUpdated)&&n.dropzoneUser){console.debug("[Apollo::Subscription::UpdateUser]: Received update",null==r?void 0:r.userUpdated);var o=r.userUpdated.dropzoneUser;t.cache.updateFragment({fragment:nl,fragmentName:"dropzoneUserDetails",broadcast:!0,id:t.cache.identify(o)},(function(e){return bs(bs({},e),o)}))}}),[]);return function(e){var n=Ai(Ai({},Fi),e);return Ti.useSubscription(os,n)}({variables:{id:e},skip:!e,onData:n})}function js(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ks(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?js(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):js(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Os(e){var n,t,r,o,i,a=dn((function(e){return e.global})).authenticated,s=(e||{}).id,u=ya(),d=(0,W.default)(u,1)[0],c=Ia(),f=(0,W.default)(c,2),p=f[0],m=f[1],g=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Ll,n)}(),h=(0,W.default)(g,1)[0],v=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Gl,n)}(),y=(0,W.default)(v,1)[0],b=Jl(),x=(0,W.default)(b,1)[0],j=Ut().dropzone.dropzone,k=ft().appSignal,O=ds(R.GrantPermission),w=ds(R.RevokePermission),P=l.useMemo((function(){var e;return null==m||null==(e=m.data)?void 0:e.dropzoneUser}),[null==m||null==(n=m.data)?void 0:n.dropzoneUser]);xs(null==P?void 0:P.id),l.useEffect((function(){var e;a&&s&&s!==(null==m||null==(e=m.variables)?void 0:e.id)&&p({variables:{id:s}})}),[a,p,s,null==m||null==(t=m.variables)?void 0:t.id]);var C=l.useCallback(function(){var e=(0,S.default)((function*(e){try{var n,t,r,o,i,l,a,s,u,d,c=yield y({variables:e,refetchQueries:[Da,{query:Da,variables:{dropzoneId:null==j?void 0:j.id}}]});return null!=c&&null!=(n=c.data)&&null!=(t=n.createGhost)&&null!=(r=t.user)&&r.id?{user:null==c||null==(u=c.data)||null==(d=u.createGhost)?void 0:d.user}:{error:null==c||null==(o=c.data)||null==(i=o.createGhost)||null==(l=i.errors)?void 0:l[0],fieldErrors:(null==c||null==(a=c.data)||null==(s=a.createGhost)?void 0:s.fieldErrors)||void 0}}catch(Bn){return console.debug("CreateGhost failed",Bn),Bn instanceof Error&&(null==k||k.sendError(Bn)),{error:"Oh no, something went wrong"}}}));return function(n){return e.apply(this,arguments)}}(),[k,null==j?void 0:j.id,y]),D=l.useCallback(function(){var e=(0,S.default)((function*(e){var n,t,r,o,i,l,a,s,u=(yield d({variables:ks({dropzoneUser:null==m||null==(n=m.data)||null==(t=n.dropzoneUser)?void 0:t.id},e)})).data;return null!=u&&null!=(r=u.updateUser)&&null!=(o=r.dropzoneUser)&&o.id?{dropzoneUser:null==u||null==(s=u.updateUser)?void 0:s.dropzoneUser}:{error:null==u||null==(i=u.updateUser)||null==(l=i.errors)?void 0:l[0],fieldErrors:(null==u||null==(a=u.updateUser)?void 0:a.fieldErrors)||void 0}}));return function(n){return e.apply(this,arguments)}}(),[null==m||null==(r=m.data)||null==(o=r.dropzoneUser)?void 0:o.id,d]),E=l.useCallback(function(){var e=(0,S.default)((function*(e){var n,t,r,o,i,l,a=(yield x({variables:e})).data;return null!=a&&null!=(n=a.joinFederation)&&null!=(t=n.userFederation)&&t.id?{userFederation:null==a||null==(l=a.joinFederation)?void 0:l.userFederation}:{error:null==a||null==(r=a.joinFederation)||null==(o=r.errors)?void 0:o[0],fieldErrors:(null==a||null==(i=a.joinFederation)?void 0:i.fieldErrors)||void 0}}));return function(n){return e.apply(this,arguments)}}(),[x]),z=l.useCallback(function(){var e=(0,S.default)((function*(e){try{var n,t,r,o,i,l,a=yield h({variables:ks({},e),update:function(e,n){var t,r,o=n.data;if(null!=o&&null!=(t=o.createOrder)&&null!=(r=t.order)&&r.id){var i,l,a=o.createOrder.order;"DropzoneUser"===(null==a||null==(i=a.buyer)?void 0:i.__typename)?e.writeFragment({fragment:sl,fragmentName:"dropzoneUserProfile",id:e.identify(a.buyer),data:a.buyer}):"DropzoneUser"===(null==a||null==(l=a.seller)?void 0:l.__typename)&&e.writeFragment({fragment:sl,fragmentName:"dropzoneUserProfile",id:e.identify(a.seller),data:a.seller})}}}),s=a.data;return null!=s&&null!=(n=s.createOrder)&&null!=(t=n.order)&&t.id?{order:null==s||null==(l=s.createOrder)?void 0:l.order}:{error:null==s||null==(r=s.createOrder)||null==(o=r.errors)?void 0:o[0],fieldErrors:(null==s||null==(i=s.createOrder)?void 0:i.fieldErrors)||void 0}}catch(Bn){return k.sendError(Bn),{error:"Something went wrong"}}}));return function(n){return e.apply(this,arguments)}}(),[k,h]),T=l.useCallback(function(){var e=(0,S.default)((function*(e,n){var t=n.amount,r=n.message;return j?z({amount:t,title:r||"Added funds",seller:e.walletId,buyer:j.walletId,dropzone:j.id}):{error:"No dropzone selected"}}));return function(n,t){return e.apply(this,arguments)}}(),[z,j]),I=l.useCallback(function(){var e=(0,S.default)((function*(e,n){var t=n.amount,r=n.message;return j?z({amount:t,title:r||"Withdrew funds",buyer:e.walletId,seller:j.walletId,dropzone:j.id}):{error:"No dropzone selected"}}));return function(n,t){return e.apply(this,arguments)}}(),[z,j]),A=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(oa,n)}(),F=(0,W.default)(A,1)[0],U=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Hl,n)}(),B=(0,W.default)(U,1)[0],L=l.useCallback(function(){var e=(0,S.default)((function*(e,n){var t,r,o,i,l;if(!O)return{error:"You cannot grant permissions"};var a,s=(yield B({variables:{dropzoneUserId:e,permissionName:n},refetchQueries:[{query:Da,variables:{dropzoneId:null==j?void 0:j.id,permissions:[n]}},{query:Ta,variables:{dropzoneUserId:e}}]})).data;return null!=s&&null!=(t=s.grantPermission)&&null!=(r=t.dropzoneUser)&&r.id?{dropzoneUser:null==s||null==(a=s.grantPermission)?void 0:a.dropzoneUser}:{error:null==s||null==(o=s.grantPermission)||null==(i=o.errors)?void 0:i[0],fieldErrors:(null==s||null==(l=s.grantPermission)?void 0:l.fieldErrors)||void 0}}));return function(n,t){return e.apply(this,arguments)}}(),[O,null==j?void 0:j.id,B]),M=l.useCallback(function(){var e=(0,S.default)((function*(e,n){var t,r,o,i,l;if(!w)return{error:"You cannot revoke permissions"};var a,s=(yield F({variables:{dropzoneUserId:e,permissionName:n},refetchQueries:[{query:Da,variables:{dropzoneId:null==j?void 0:j.id,permissions:[n]}},{query:Ta,variables:{dropzoneUserId:e}}]})).data;return null!=s&&null!=(t=s.revokePermission)&&null!=(r=t.dropzoneUser)&&r.id?{dropzoneUser:null==s||null==(a=s.revokePermission)?void 0:a.dropzoneUser}:{error:null==s||null==(o=s.revokePermission)||null==(i=o.errors)?void 0:i[0],fieldErrors:(null==s||null==(l=s.revokePermission)?void 0:l.fieldErrors)||void 0}}));return function(n,t){return e.apply(this,arguments)}}(),[w,null==j?void 0:j.id,F]);return l.useMemo((function(){var e;return{loading:null==m?void 0:m.loading,dropzoneUser:null==m||null==(e=m.data)?void 0:e.dropzoneUser,refetch:null==m?void 0:m.refetch,create:C,update:D,addCredits:T,grantPermission:L,joinFederation:E,revokePermission:M,withdrawCredits:I}}),[T,L,E,null==m?void 0:m.refetch,C,null==m||null==(i=m.data)?void 0:i.dropzoneUser,null==m?void 0:m.loading,M,D,I])}var ws=At(Os,{loading:!1,dropzoneUser:null,joinFederation:It,refetch:It,update:It,create:It,addCredits:It,withdrawCredits:It,grantPermission:It,revokePermission:It}),Ss=ws.Provider,Ps=ws.useContext,Cs=t(80971),Ds=t.n(Cs);function Es(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function zs(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Es(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Es(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ts(e){var n=l.useCallback((function(n){var t,r,o=n.client,i=n.data.data;if(null!=i&&null!=(t=i.loadCreated)&&null!=(r=t.load)&&r.id){var l=i.loadCreated.load;console.debug("[Subscription::LoadCreated] Adding new load to the board...",e,l),o.cache.updateQuery({query:qa,broadcast:!0,variables:zs(zs({},e),{},{date:us.DateTime.fromISO(l.createdAt).toISODate()})},(function(e){var n,t,r,o;return zs(zs({},e),{},{loads:zs(zs({},(null==e?void 0:e.loads)||{}),{},{edges:Ds()(null!=e&&null!=(n=e.loads)&&null!=(t=n.edges)&&t.some((function(e){var n;return(null==e||null==(n=e.node)?void 0:n.id)===(null==l?void 0:l.id)}))?null==e||null==(r=e.loads)?void 0:r.edges:[{node:l,__typename:"LoadEdge"}].concat((0,$n.default)((null==e||null==(o=e.loads)?void 0:o.edges)||[])),(function(e){var n;return null==e||null==(n=e.node)?void 0:n.id}))})})})),console.debug("[Subscription::LoadCreated] Added new load to the board",l)}else console.debug("[Subscription::LoadCreated] Received subscription data without load id",i)}),[e]);return function(e){var n=Ai(Ai({},Fi),e);return Ti.useSubscription(ts,n)}({skip:!(null!=e&&e.dropzone),shouldResubscribe:!0,variables:{dropzoneId:null==e?void 0:e.dropzone},onData:n})}function Is(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function As(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Is(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Is(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Fs(e){var n,t,r=e.dropzone,o=e.date,i=dn((function(e){return e.global})),a=ds(R.CreateLoad),s=ds(R.DeleteSlot),u=ds(R.DeleteUserSlot),d=ds(R.CreateSlot),c=ds(R.CreateUserSlot),f=ds(R.UpdateSlot),p=ds(R.UpdateUserSlot),m=ds(R.CreateUserTransaction),g=l.useMemo((function(){return{canAddTransaction:m,canCreateLoad:a,canDeleteOwnSlot:s,canDeleteSlot:u,canManifestSelf:d,canManifestOthers:c,canUpdateSlot:f,canUpdateOwnSlot:p}}),[m,a,s,u,c,d,p,f]),h=l.useMemo((function(){if(r)return{dropzone:r,date:o}}),[o,r]),v=function(e){var n=Ai(Ai({},Fi),e);return Ei.useQuery(qa,n)}({initialFetchPolicy:"cache-first",variables:h,skip:!(null!=i&&null!=(n=i.credentials)&&n.accessToken)||!r}),y=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(ta,n)}(),b=(0,W.default)(y,1)[0],x=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Wl,n)}(),j=(0,W.default)(x,1)[0],k=Zl(),O=(0,W.default)(k,1)[0],w=na(),P=(0,W.default)(w,1)[0],C=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Bl,n)}(),D=(0,W.default)(C,1)[0];Ts(h);var E=v.loading,z=v.fetchMore,T=v.refetch,I=v.data,A=v.called,F=v.updateQuery,U=l.useCallback(function(){var e=(0,S.default)((function*(e,n){var t,r,o,i,l,a,s,u,d,c,f,p,m,g,h,v,y=yield b({variables:n,refetchQueries:[{query:Va,variables:{id:e}},{query:Va,variables:{id:null==n||null==(t=n.targetLoad)?void 0:t.toString()}}]});return null!=y&&null!=(r=y.data)&&null!=(o=r.moveSlot)&&null!=(i=o.fieldErrors)&&i.length||null!=y&&null!=(l=y.data)&&null!=(a=l.moveSlot)&&null!=(s=a.errors)&&s.length?{error:null==y||null==(p=y.data)||null==(m=p.moveSlot)||null==(g=m.errors)?void 0:g[0],fieldErrors:(null==y||null==(h=y.data)||null==(v=h.moveSlot)?void 0:v.fieldErrors)||void 0}:null!=(u=y.data)&&null!=(d=u.moveSlot)&&d.loads?{loads:y.data.moveSlot.loads}:{error:null==y||null==(c=y.errors)||null==(f=c[0])?void 0:f.message,fieldErrors:void 0}}));return function(n,t){return e.apply(this,arguments)}}(),[b]),B=l.useCallback(function(){var e=(0,S.default)((function*(e){var n,t,r,o,i,l,a,s,u,d,c,f,p,m,g,h=yield P({variables:e});return null!=h&&null!=(n=h.data)&&null!=(t=n.createSlot)&&null!=(r=t.fieldErrors)&&r.length||null!=h&&null!=(o=h.data)&&null!=(i=o.createSlot)&&null!=(l=i.errors)&&l.length?{error:null==h||null==(c=h.data)||null==(f=c.createSlot)||null==(p=f.errors)?void 0:p[0],fieldErrors:(null==h||null==(m=h.data)||null==(g=m.createSlot)?void 0:g.fieldErrors)||void 0}:null!=(a=h.data)&&null!=(s=a.createSlot)&&s.slot?{slot:h.data.createSlot.slot}:{error:null==h||null==(u=h.errors)||null==(d=u[0])?void 0:d.message,fieldErrors:void 0}}));return function(n){return e.apply(this,arguments)}}(),[P]),L=l.useCallback(function(){var e=(0,S.default)((function*(e){var n,t,r,o,i,l,a,s,u,d,c,f,p,m,g,h,v=yield O({variables:e});return null!=v&&null!=(n=v.data)&&null!=(t=n.createSlots)&&null!=(r=t.fieldErrors)&&r.length||null!=v&&null!=(o=v.data)&&null!=(i=o.createSlots)&&null!=(l=i.errors)&&l.length?{error:null==v||null==(f=v.data)||null==(p=f.createSlots)||null==(m=p.errors)?void 0:m[0],fieldErrors:(null==v||null==(g=v.data)||null==(h=g.createSlots)?void 0:h.fieldErrors)||void 0}:null!=(a=v.data)&&null!=(s=a.createSlots)&&null!=(u=s.load)&&u.id?{load:v.data.createSlots.load}:{error:null==v||null==(d=v.errors)||null==(c=d[0])?void 0:c.message,fieldErrors:void 0}}));return function(n){return e.apply(this,arguments)}}(),[O]),M=l.useCallback(function(){var e=(0,S.default)((function*(e){var n,t,r,o,i,l,a,s,u,d,c,f,p,m,g,h,v,y=yield j({variables:e});return null!=y&&null!=(n=y.data)&&null!=(t=n.deleteSlot)&&null!=(r=t.fieldErrors)&&r.length||null!=y&&null!=(o=y.data)&&null!=(i=o.deleteSlot)&&null!=(l=i.errors)&&l.length?{error:null==y||null==(f=y.data)||null==(p=f.deleteSlot)||null==(m=p.errors)?void 0:m[0],fieldErrors:(null==y||null==(g=y.data)||null==(h=g.deleteSlot)?void 0:h.fieldErrors)||void 0}:null!=(a=y.data)&&null!=(s=a.deleteSlot)&&null!=(u=s.slot)&&u.id?{slot:null==(v=y.data.deleteSlot)?void 0:v.slot}:{error:null==y||null==(d=y.errors)||null==(c=d[0])?void 0:c.message,fieldErrors:void 0}}));return function(n){return e.apply(this,arguments)}}(),[j]),N=l.useCallback(function(){var e=(0,S.default)((function*(e){var n,t,r,o,i,l,a,s,u,d,c,f,p,m,g,h,v=yield D({variables:e});if(null!=v&&null!=(n=v.data)&&null!=(t=n.createLoad)&&null!=(r=t.fieldErrors)&&r.length||null!=v&&null!=(o=v.data)&&null!=(i=o.createLoad)&&null!=(l=i.errors)&&l.length)return{error:null==v||null==(f=v.data)||null==(p=f.createLoad)||null==(m=p.errors)?void 0:m[0],fieldErrors:(null==v||null==(g=v.data)||null==(h=g.createLoad)?void 0:h.fieldErrors)||void 0};if(null!=v&&null!=(a=v.data)&&null!=(s=a.createLoad)&&null!=(u=s.load)&&u.id){var y=v.data.createLoad.load;return F((function(e){var n,t,r,o;return As(As({},e),{},{loads:As(As({},null==e?void 0:e.loads),{},{edges:Ds()(null!=e&&null!=(n=e.loads)&&null!=(t=n.edges)&&t.some((function(e){var n;return(null==e||null==(n=e.node)?void 0:n.id)===(null==y?void 0:y.id)}))?null==e||null==(r=e.loads)?void 0:r.edges:[{node:y,__typename:"LoadEdge"}].concat((0,$n.default)((null==e||null==(o=e.loads)?void 0:o.edges)||[])),(function(e){var n;return null==e||null==(n=e.node)?void 0:n.id}))})})})),{load:v.data.createLoad.load}}return{error:null==v||null==(d=v.errors)||null==(c=d[0])?void 0:c.message,fieldErrors:void 0}}));return function(n){return e.apply(this,arguments)}}(),[D,F]);return l.useMemo((function(){var e,n;return{loading:E,called:A,refetch:T,fetchMore:z,moveSlot:U,manifestUser:B,manifestGroup:L,deleteSlot:M,createLoad:N,permissions:g,variables:h,loads:(null==I||null==(e=I.loads)||null==(n=e.edges)?void 0:n.map((function(e){return null==e?void 0:e.node})))||[]}}),[A,h,N,null==I||null==(t=I.loads)?void 0:t.edges,M,z,E,g,L,B,U,T])}function Rs(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Us(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Rs(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rs(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Bs(e){var n=dn((function(e){return e.global})).authenticated,t=l.useMemo((function(){if(null!=e&&e.dropzone)return e}),[e]),r=function(e){var n=Ai(Ai({},Fi),e);return zi.useLazyQuery(ns,n)}(),o=(0,W.default)(r,2),i=o[0],a=o[1];l.useEffect((function(){n&&null!=t&&t.dropzone&&!(0,oe.isEqual)(t,a.variables)&&(console.debug("[Context::Tickets] Fetching tickets",t),i({variables:t}))}),[n,i,a.variables,t]);var s=Ut().dropzone.dropzone,u=a.loading,d=a.fetchMore,c=a.data,f=a.called,p=a.variables,m=l.useMemo((function(){return null==c?void 0:c.ticketTypes}),[null==c?void 0:c.ticketTypes]),g=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(ql,n)}(),h=(0,W.default)(g,1)[0],v=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(ha,n)}(),y=(0,W.default)(v,1)[0],b=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Il,n)}(),x=(0,W.default)(b,1)[0],j=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Vl,n)}(),k=(0,W.default)(j,1)[0],O=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(ga,n)}(),w=(0,W.default)(O,1)[0],P=l.useCallback((function(){null!=t&&t.dropzone&&(null==a||a.refetch())}),[a,t]),C=l.useCallback(function(){var e=(0,S.default)((function*(e){var n,r,o,i,l,a,u,d,c,f,p=yield h({variables:{attributes:Us(Us({},e),{},{dropzoneId:Number((null==t?void 0:t.dropzone)||(null==s?void 0:s.id))})},refetchQueries:[{query:ns,variables:{dropzone:null==s?void 0:s.id}}]});return null!=p&&null!=(n=p.data)&&null!=(r=n.createTicketType)&&null!=(o=r.ticketType)&&o.id?{ticketType:null==p||null==(c=p.data)||null==(f=c.createTicketType)?void 0:f.ticketType}:{error:null==p||null==(i=p.data)||null==(l=i.createTicketType)||null==(a=l.errors)?void 0:a[0],fieldErrors:(null==p||null==(u=p.data)||null==(d=u.createTicketType)?void 0:d.fieldErrors)||void 0}}));return function(n){return e.apply(this,arguments)}}(),[h,null==s?void 0:s.id,null==t?void 0:t.dropzone]),D=l.useCallback(function(){var e=(0,S.default)((function*(e,n){var t,r,o,i,l,a,s,u,d,c,f=yield y({variables:{id:e,attributes:Us({},n)}});return null!=f&&null!=(t=f.data)&&null!=(r=t.updateTicketType)&&null!=(o=r.ticketType)&&o.id?{ticketType:null==f||null==(d=f.data)||null==(c=d.updateTicketType)?void 0:c.ticketType}:{error:null==f||null==(i=f.data)||null==(l=i.updateTicketType)||null==(a=l.errors)?void 0:a[0],fieldErrors:(null==f||null==(s=f.data)||null==(u=s.updateTicketType)?void 0:u.fieldErrors)||void 0}}));return function(n,t){return e.apply(this,arguments)}}(),[y]),E=l.useCallback(function(){var e=(0,S.default)((function*(e){var n,r,o,i,l,a,u,d,c,f,p=yield k({variables:{attributes:Us(Us({},e),{},{dropzoneId:Number((null==t?void 0:t.dropzone)||(null==s?void 0:s.id))})},refetchQueries:[{query:Fa,variables:{dropzoneId:null==s?void 0:s.id},fetchPolicy:"network-only"}]});return null!=p&&null!=(n=p.data)&&null!=(r=n.createExtra)&&null!=(o=r.extra)&&o.id?{ticketTypeAddon:null==p||null==(c=p.data)||null==(f=c.createExtra)?void 0:f.extra}:{error:null==p||null==(i=p.data)||null==(l=i.createExtra)||null==(a=l.errors)?void 0:a[0],fieldErrors:(null==p||null==(u=p.data)||null==(d=u.createExtra)?void 0:d.fieldErrors)||void 0}}));return function(n){return e.apply(this,arguments)}}(),[k,null==s?void 0:s.id,null==t?void 0:t.dropzone]),z=l.useCallback(function(){var e=(0,S.default)((function*(e,n){var t,r,o,i,l,a,s,u,d,c,f=yield w({variables:{id:e,attributes:Us({},n)}});return null!=f&&null!=(t=f.data)&&null!=(r=t.updateExtra)&&null!=(o=r.extra)&&o.id?{ticketTypeAddon:null==f||null==(d=f.data)||null==(c=d.updateExtra)?void 0:c.extra}:{error:null==f||null==(i=f.data)||null==(l=i.updateExtra)||null==(a=l.errors)?void 0:a[0],fieldErrors:(null==f||null==(s=f.data)||null==(u=s.updateExtra)?void 0:u.fieldErrors)||void 0}}));return function(n,t){return e.apply(this,arguments)}}(),[w]),T=l.useCallback(function(){var e=(0,S.default)((function*(e){var n,t,r,o,i,l,a,s,u,d,c=yield x({variables:{id:Number(e.id)},optimisticResponse:{archiveTicketType:{__typename:"DeleteTicketPayload",errors:null,fieldErrors:null,ticketType:e}},update:function(e,n){var t,r,o=n.data;null!=o&&null!=(t=o.archiveTicketType)&&null!=(r=t.ticketType)&&r.id&&e.evict({id:e.identify(o.archiveTicketType.ticketType)})}});return null!=c&&null!=(n=c.data)&&null!=(t=n.archiveTicketType)&&null!=(r=t.ticketType)&&r.id?{ticketType:null==c||null==(u=c.data)||null==(d=u.archiveTicketType)?void 0:d.ticketType}:{error:null==c||null==(o=c.data)||null==(i=o.archiveTicketType)||null==(l=i.errors)?void 0:l[0],fieldErrors:(null==c||null==(a=c.data)||null==(s=a.archiveTicketType)?void 0:s.fieldErrors)||void 0}}));return function(n){return e.apply(this,arguments)}}(),[x]);return l.useMemo((function(){return{loading:u,called:f,refetch:null!=p&&p.dropzone?P:oe.noop,fetchMore:null!=p&&p.dropzone?function(){return d({variables:t})}:It,ticketTypes:m,createTicketType:C,createTicketTypeAddon:E,updateTicketType:D,updateTicketTypeAddon:z,archiveTicketType:T}}),[u,f,null==p?void 0:p.dropzone,P,m,C,E,D,z,T,d,t])}function Ls(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ms(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ls(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ls(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ns(e){var n=dn((function(e){return e.global})).authenticated,t=l.useMemo((function(){if(null!=e&&e.dropzoneId)return{dropzoneId:e.dropzoneId}}),[e]),r=function(e){var n=Ai(Ai({},Fi),e);return zi.useLazyQuery(_a,n)}({variables:t}),o=(0,W.default)(r,2),i=o[0],a=o[1];l.useEffect((function(){n&&null!=t&&t.dropzoneId&&!(0,oe.isEqual)(t,a.variables)&&(console.debug("[Context::Aircrafts] Fetching aircrafts",t),i({variables:t}))}),[n,i,null==a?void 0:a.variables,t]);var s=a.loading,u=a.fetchMore,d=a.data,c=a.called,f=a.variables,p=Ut().dropzone.dropzone,m=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Rl,n)}(),g=(0,W.default)(m,1)[0],h=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(ia,n)}(),v=(0,W.default)(h,1)[0],y=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Tl,n)}(),b=(0,W.default)(y,1)[0],x=l.useCallback((function(){null!=t&&t.dropzoneId&&(null==a||a.refetch())}),[a,t]),j=l.useCallback(function(){var e=(0,S.default)((function*(e){var n,t,r,o,i,l,a,s;if(!p)return{error:"No dropzone selected"};var u,d,c=yield g({variables:{attributes:e},refetchQueries:[{query:_a,variables:{dropzoneId:p.id}}],update:function(e,n){var t=n.data;e.updateQuery({query:_a,variables:{dropzoneId:p.id},id:e.identify(p)},(function(e){var n;if(e)return null!=t&&null!=(n=t.createPlane)&&n.plane?Ms(Ms({},e),{},{planes:[].concat((0,$n.default)((null==e?void 0:e.planes)||[]),[t.createPlane.plane])}):e}))}});return null!=c&&null!=(n=c.data)&&null!=(t=n.createPlane)&&null!=(r=t.plane)&&r.id?{aircraft:null==c||null==(u=c.data)||null==(d=u.createPlane)?void 0:d.plane}:{error:null==c||null==(o=c.data)||null==(i=o.createPlane)||null==(l=i.errors)?void 0:l[0],fieldErrors:(null==c||null==(a=c.data)||null==(s=a.createPlane)?void 0:s.fieldErrors)||void 0}}));return function(n){return e.apply(this,arguments)}}(),[g,p]),k=l.useCallback(function(){var e=(0,S.default)((function*(e,n){var t,r,o,i,l,a,s,u,d,c,f=yield v({variables:{id:e,attributes:n}});return null!=f&&null!=(t=f.data)&&null!=(r=t.updatePlane)&&null!=(o=r.plane)&&o.id?{aircraft:null==f||null==(d=f.data)||null==(c=d.updatePlane)?void 0:c.plane}:{error:null==f||null==(i=f.data)||null==(l=i.updatePlane)||null==(a=l.errors)?void 0:a[0],fieldErrors:(null==f||null==(s=f.data)||null==(u=s.updatePlane)?void 0:u.fieldErrors)||void 0}}));return function(n,t){return e.apply(this,arguments)}}(),[v]),O=l.useCallback(function(){var e=(0,S.default)((function*(e){var n,t,r,o,i,l,a,s,u,d,c=yield b({variables:{id:Number(e.id)},optimisticResponse:{__typename:"Mutation",deletePlane:{__typename:"DeletePlanePayload",errors:null,fieldErrors:null,plane:e}},update:function(e,n){var t,r,o=n.data;null!=o&&null!=(t=o.deletePlane)&&null!=(r=t.plane)&&r.id&&e.evict({id:e.identify(o.deletePlane.plane)})}});return null!=c&&null!=(n=c.data)&&null!=(t=n.deletePlane)&&null!=(r=t.plane)&&r.id?{aircraft:null==c||null==(u=c.data)||null==(d=u.deletePlane)?void 0:d.plane}:{error:null==c||null==(o=c.data)||null==(i=o.deletePlane)||null==(l=i.errors)?void 0:l[0],fieldErrors:(null==c||null==(a=c.data)||null==(s=a.deletePlane)?void 0:s.fieldErrors)||void 0}}));return function(n){return e.apply(this,arguments)}}(),[b]);return l.useMemo((function(){return{loading:s,called:c,refetch:null!=f&&f.dropzoneId?x:oe.noop,fetchMore:null!=f&&f.dropzoneId?function(){return u({variables:t})}:It,aircrafts:null==d?void 0:d.planes,create:j,update:k,archive:O}}),[s,c,null==f?void 0:f.dropzoneId,x,null==d?void 0:d.planes,j,k,u,t,O])}var $s=t(79650),Vs=t(36279),qs=t(55708),Gs=t(78223),Ws=t(80522);var _s=Vn.default.create({noPadding:{borderBottomWidth:0,paddingLeft:0,paddingRight:0},defaultPadding:{borderBottomWidth:0,paddingLeft:24,paddingRight:24},button:{width:"100%",padding:5,alignSelf:"flex-end",borderRadius:20,height:42,alignItems:"center",justifyContent:"center",marginTop:20},close:{position:"absolute",top:4,right:4}});const Hs=function(e){var n,t=e.buttonLabel,r=e.disablePadding,o=e.buttonAction,i=e.title,l=e.loading,a=e.open,s=e.children,u=e.onClose,c=(0,$s.useTheme)();return(0,Hn.jsxs)(Gs.default,{open:a,onClose:u,anchor:"right",PaperProps:{style:{width:400}},children:[(0,Hn.jsx)(d.default,{indeterminate:!0,color:null==c||null==(n=c.colors)?void 0:n.primary,visible:l,style:{width:"100%"}}),i?(0,Hn.jsxs)(Ws.default,{variant:"h5",style:{marginBottom:16,paddingLeft:16,paddingRight:16,marginTop:16},children:[i,(0,Hn.jsx)(Vs.default,{icon:"close",style:_s.close,size:24,onPress:u})]}):null,(0,Hn.jsx)(f.default,{style:{padding:r?0:16,paddingBottom:0},children:s}),(0,Hn.jsx)(qs.default.Actions,{style:{justifyContent:"flex-end",backgroundColor:"transparent",marginBottom:16},children:(0,Hn.jsx)(bt.default,{mode:"contained",disabled:l,loading:l,onPress:o,style:_s.button,children:t})})]})};var Ys=t(48379),Js=t(18198),Qs=["control","name","rules","defaultValue"];function Ks(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Xs(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ks(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ks(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Zs(e){return function(n){var t=n.control,r=n.name,o=n.rules,i=(n.defaultValue,(0,zt.default)(n,Qs));return(0,Hn.jsx)(Js.Controller,{control:t,name:r,rules:o,render:function(n){var t,r=n.field,o=r.onChange,l=r.onBlur,a=r.value,s=n.fieldState;return(0,Hn.jsx)(e,Xs(Xs({},i),{},{value:a,onBlur:l,onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){console.debug("CHANGE: ",e),o(e)})),error:null==s||null==(t=s.error)?void 0:t.message}))}})}}var eu=["error","helperText","onChangeText","onChange","style"];function nu(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function tu(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nu(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nu(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ru(e){var n=e.error,t=e.helperText,r=e.onChangeText,o=e.onChange,i=e.style,l=(0,zt.default)(e,eu),a=o||r,s=(0,$s.useTheme)();return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(Ys.default,tu(tu({mode:"outlined",style:Vn.default.flatten([su.field,{backgroundColor:s.colors.surface},i])},l),{},{onChangeText:a,error:!!n})),(0,Hn.jsx)(yt.default,{style:su.helperText,type:n?"error":"info",children:n||t||" "})]})}var ou=Zs(ru);const iu=ru;var lu,au,su=Vn.default.create({fields:{flex:1},field:{marginBottom:8},helperText:{marginBottom:16}}),uu=t(84694),du=t(76770),cu=t(65267),fu=t(23597),pu=t(26756),mu=t(87674),gu=["label","mode","disabled","onChange","helperText","error","variant"];function hu(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function vu(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?hu(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hu(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.Cash="cash",e.Weight="weight",e.CanopySize="canopySize"}(au||(au={}));var yu=(lu={},(0,N.default)(lu,au.Cash,"$"),(0,N.default)(lu,au.CanopySize,"ft"),(0,N.default)(lu,au.Weight,"kg"),lu),bu={flat:"standard",outlined:"outlined"};function xu(e){var n=e.label,t=e.mode,r=e.disabled,o=e.onChange,i=e.helperText,a=e.error,s=e.variant,u=(0,zt.default)(e,gu).value,d=l.useCallback((function(e){o(parseInt(e.target.value,10))}),[o]);return(0,Hn.jsxs)(cu.default,{style:{paddingRight:8},variant:t&&t in bu?bu[t]:"outlined",fullWidth:!0,children:[(0,Hn.jsx)(fu.default,{type:"number",fullWidth:!0,variant:t&&t in bu?bu[t]:"outlined",label:n,disabled:r,value:u,onChange:d,InputProps:vu(vu({},s&&s!==au.Cash?{endAdornment:(0,Hn.jsx)(pu.default,{position:"end",children:yu[s]})}:{}),s!==au.Cash?{}:{startAdornment:(0,Hn.jsx)(pu.default,{position:"start",children:yu[s]})})}),(0,Hn.jsx)(mu.default,{error:!!a,children:a||i||" "})]})}var ju=t(55202),ku=t(58759),Ou=["small","icon","color","mode","style","backgroundColor"];function wu(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Su(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wu(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wu(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Pu(e){var n=e.small,t=e.icon,r=e.color,o=e.mode,i=e.style,a=e.backgroundColor,s=(0,zt.default)(e,Ou),u=(0,$s.useTheme)(),d=r||u.colors.onSurface,c=l.useMemo((function(){return{marginHorizontal:4,backgroundColor:"flat"!==o?a:void 0,height:n?25:void 0,alignItems:"center",borderColor:"flat"!==o&&d||void 0}}),[a,d,o,n]),f=l.useMemo((function(){return"web"===g.default.OS?{}:{marginTop:0,marginBottom:3}}),[]);return(0,Hn.jsx)(ku.default,Su({mode:o||"outlined",selectedColor:d,style:[c,i],icon:t?function(e){return(0,Hn.jsx)(ju.default,Su(Su({name:t},e),{},{style:f}))}:void 0,textStyle:f},s))}function Cu(e){var n=e.items,t=e.allowEmpty,r=e.value,i=e.variant,a=void 0===i?"flat":i,s=e.isSelected,u=e.isDisabled,d=e.icon,c=e.renderItemLabel,p=e.onChange,m=e.autoSelectFirst,h=e.error;l.useEffect((function(){null==n||!n.length||r&&r.length||!m||p([n[0]])}),[r,m,p,n]);var v=l.useCallback((function(e){var n=e.children;return"scroll"===a?(0,Hn.jsxs)(o.ScrollView,{horizontal:!0,children:[n," "]}):n}),[a]);return(0,Hn.jsxs)(v,{children:[(0,Hn.jsx)(f.default,{style:{flexDirection:"row",flexWrap:"wrap"},children:null==n?void 0:n.map((function(e){var n=s?s(e):r.some((function(n){return(0,oe.isEqual)(e,n)}));return(0,Hn.jsx)(Pu,{small:!0,mode:n?"outlined":"flat",icon:null!=r&&r.some((function(n){return s?s(n):(0,oe.isEqual)(e,n)}))||!d?void 0:d,style:{margin:"web"===g.default.OS?4:1},disabled:(null==u?void 0:u(e))||!1,selected:n,onPress:function(){return p(t||1!==r.length?(0,oe.xorBy)(r,[e],s||JSON.stringify):[e])},children:c(e)},JSON.stringify(e))}))}),(0,Hn.jsx)(yt.default,{style:Du.helperText,type:"error",children:h||""})]})}var Du=Vn.default.create({helperText:{marginBottom:16}}),Eu=l.memo(Cu,(function(e,n){return(0,oe.isEqual)((0,oe.pick)(e,["isDisabled","isSelected","items","selected","error"]),(0,oe.pick)(n,["isDisabled","isSelected","items","selected","error"]))})),zu=Zs(Cu);const Tu=Eu;var Iu=t(71279),Au=t.n(Iu);function Fu(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var Ru={boneColor:"#E1E9EE",highlightColor:"#F2F8FC"};function Uu(e){var n=(0,$s.useTheme)(),t=n.dark?Fe()(Ru.boneColor).negate().rgb().toString():Ru.boneColor,r=n.dark?Fe()(Ru.highlightColor).negate().rgb().toString():Ru.highlightColor;return(0,Hn.jsx)(Au(),function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Fu(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fu(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({boneColor:t,highlightColor:r},e))}function Bu(e){var n=e.rows;return(0,Hn.jsx)(Uu,{isLoading:!0,containerStyle:{height:41+32*(n||1),width:"100%",justifyContent:"center",marginBottom:16},layout:[{key:"header",width:70,height:15,borderRadius:8,marginVertical:13,marginHorizontal:8},{key:"chips",flexDirection:"row",children:[{key:"chip1",width:96,height:32,borderRadius:16,marginRight:4},{key:"chip2",width:96,height:32,borderRadius:16,marginRight:4},{key:"chip3",width:96,height:32,borderRadius:16}]}]})}function Lu(e){var n,t,r=e.label,o=e.requiredPermissions,i=e.icon,a=e.value,s=e.variant,u=e.error,d=e.onLoadingStateChanged,c=e.onChange,f=dn((function(e){return e.global})).currentDropzoneId,p=Ea({variables:{dropzoneId:null==f?void 0:f.toString(),permissions:o}}),m=p.data,g=p.loading;l.useEffect((function(){null==d||d(g)}),[g,d]);var h=l.useCallback((function(e){var n=(0,W.default)(e,1)[0];return n?c(n):null}),[c]),v=l.useCallback((function(e){return null==e?void 0:e.user.name}),[]),y=l.useCallback((function(e){return e.id===(null==a?void 0:a.id)}),[null==a?void 0:a.id]),b=l.useMemo((function(){return[a].filter(Boolean)}),[a]);return g?(0,Hn.jsx)(Bu,{}):(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(uu.default,{children:r}),(0,Hn.jsx)(Tu,{error:u,variant:s,autoSelectFirst:!0,icon:i||"account",items:(0,oe.uniqBy)((null==m||null==(n=m.dropzoneUsers)||null==(t=n.edges)?void 0:t.map((function(e){return null==e?void 0:e.node})))||[],(function(e){return null==e?void 0:e.id})),value:b,isSelected:y,renderItemLabel:v,onChange:h})]})}var Mu=Zs(Lu);function Nu(e){var n,t=e.onLoadingStateChanged,r=e.userId,o=e.value,i=e.onChange,a=e.error,s=dn((function(e){return e.global})).currentDropzoneId,u=Ma({variables:{allowedForDropzoneUserIds:[Number(r)||null].filter(Boolean),dropzoneId:null==s?void 0:s.toString()},onError:console.error}),d=u.data,c=u.loading;return l.useEffect((function(){null==t||t(c)}),[c,t]),c?(0,Hn.jsx)(Bu,{}):(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(uu.default,{children:"Jump type"}),(0,Hn.jsx)(Tu,{error:a,autoSelectFirst:!0,items:(0,oe.uniqBy)([].concat((0,$n.default)((null==d||null==(n=d.dropzone)?void 0:n.allowedJumpTypes)||[]),(0,$n.default)((null==d?void 0:d.jumpTypes)||[])),(function(e){return e.id}))||[],value:[o].filter(Boolean),renderItemLabel:function(e){return(null==e?void 0:e.name)||"Unknown"},isDisabled:function(e){var n,t;return!(null!=d&&null!=(n=d.dropzone)&&null!=(t=n.allowedJumpTypes)&&t.map((function(e){return e.id})).includes(null==e?void 0:e.id))},onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){var n=(0,W.default)(e,1)[0];return n?i(n):null}))})]})}var $u=Zs(Nu);function Vu(e){var n=e.federationId,t=e.onChange,r=e.value,o=e.error,i=$a({variables:{federationId:n}}).data;return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(uu.default,{children:"License"}),(0,Hn.jsx)(Tu,{error:o,autoSelectFirst:!0,icon:"ticket-account",items:(null==i?void 0:i.licenses)||[],value:[r].filter(Boolean),isSelected:function(e){return e.id===(null==r?void 0:r.id)},renderItemLabel:function(e){return null==e?void 0:e.name},isDisabled:function(){return!1},onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){var n=(0,W.default)(e,1)[0];return n?t(n):null}))})]})}var qu=Zs(Vu);const Gu=Vu;function Wu(e){var n=e.value,t=e.onChange,r=e.onLoadingStateChanged,o=e.error,i=dn((function(e){return e.global})).currentDropzoneId,a=Ha({variables:{dropzoneId:null==i?void 0:i.toString()}}),s=a.data,u=a.loading;return l.useEffect((function(){null==r||r(u)}),[u,r]),u?(0,Hn.jsx)(Bu,{}):(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(uu.default,{children:"Aircraft"}),(0,Hn.jsx)(Tu,{autoSelectFirst:!0,error:o,items:(0,oe.uniqBy)((0,$n.default)((null==s?void 0:s.planes)||[]),(function(e){return e.id}))||[],value:[n].filter(Boolean),renderItemLabel:function(e){return(null==e?void 0:e.name)||""},isDisabled:function(e){return!1},onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){var n=(0,W.default)(e,1)[0];return n?t(n):null}))})]})}var _u=Zs(Wu);function Hu(e){var n=e.value,t=e.onLoadingStateChanged,r=e.onChange,o=e.onlyPublicTickets,i=e.error,a=dn((function(e){return e.global})).currentDropzoneId,s=function(e){var n=Ai(Ai({},Fi),e);return Ei.useQuery(es,n)}({variables:{dropzone:null==a?void 0:a.toString(),onlyPublicTickets:o||null},onError:console.error}),u=s.data,d=s.loading;return l.useEffect((function(){null==t||t(d)}),[d,t]),d?(0,Hn.jsx)(Bu,{}):(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(uu.default,{children:"Ticket"}),(0,Hn.jsx)(Tu,{error:i,autoSelectFirst:!0,items:(null==u?void 0:u.ticketTypes)||[],value:[n].filter(Boolean),renderItemLabel:function(e){return(null==e?void 0:e.name)+" ($"+(null==e?void 0:e.cost)+")"},isDisabled:function(){return!1},onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){var n=(0,W.default)(e,1)[0];return n?r(n):null}))})]})}var Yu=Zs(Hu);var Ju=Zs(xu);var Qu=t(83664),Ku=t(37413),Xu=t(79882),Zu=t(12693),ed=t(57931),nd=t(10870),td=t(74691),rd=t(63665),od=t(48e3),id=t.n(od),ld=["name","image","source","size"];function ad(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function sd(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ad(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ad(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ud(e){var n=e.name,t=e.image,r=(e.source,e.size),o=(0,zt.default)(e,ld),i=null==n?void 0:n.split(/\s/g).map((function(e){return id()(e)})).join("");return t?(0,Hn.jsx)(rd.default,sd(sd({source:{uri:t}},o),{},{style:{alignSelf:"center",height:r||32,width:r||32,borderRadius:(r||32)/2},size:r||32})):(0,Hn.jsx)(td.default,sd(sd({label:i||""},o),{},{style:{alignSelf:"center",height:r||32,width:r||32,borderRadius:(r||32)/2},size:r||32}))}var dd=t(40027),cd=t(71451),fd=t(57479);function pd(e){var n,t=0;for(n=0;n<e.length;n+=1)t=e.charCodeAt(n)+((t<<5)-t);var r="#";for(n=0;n<3;n+=1){r+=("00"+(t>>8*n&255).toString(16)).substr(-2)}return r}function md(e){var n=e.name,t=e.image,r=e.size,o=null==n?void 0:n.split(/\s/g).map((function(e){return id()(e)})).join("");return(0,Hn.jsx)(fd.default,{sx:{bgcolor:pd(n||"Dropzone User")},style:{height:r,width:r,alignSelf:"center",marginRight:12},src:t||void 0,children:o})}function gd(e){var n=e.title,t=e.bold,r=e.onPress,o=e.avatar,i=e.icon,a=e.testID;return(0,Hn.jsxs)(Ku.default,{style:{fontWeight:t?"bold":void 0},onClick:r,"data-testid":a,children:[!i||o?null:(0,Hn.jsxs)(Xu.default,{children:["string"===typeof i?(0,Hn.jsx)(ju.default,{icon:i}):null,l.isValidElement(i)&&"string"!==typeof i?i:null]}),o?(0,Hn.jsx)(Zu.default,{children:(0,Hn.jsx)(md,{name:o.name,image:null==o?void 0:o.image,size:32})}):null,(0,Hn.jsx)(ed.default,{children:n})]})}function hd(e){var n=e.open,t=e.setOpen,r=e.anchor,o=e.children,i=l.useState(null),a=(0,W.default)(i,2),s=a[0],u=a[1],d=l.useRef(null),c=l.useCallback((function(e){t(!0),console.log({event:e}),u(e.currentTarget)}),[t]),p=l.useCallback((function(){u(null),t(!1)}),[t]);return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(cd.default,{ref:d,onPress:c,children:(0,Hn.jsx)(f.default,{pointerEvents:"none",children:r})}),(0,Hn.jsx)(dd.default,{anchorEl:s,onClose:p,open:n,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:o})]})}function vd(e){var n=e.label,t=e.error,r=e.compare,o=void 0===r?oe.isEqual:r,i=e.options,a=e.renderAnchor,s=e.onChange,u=e.value,d=e.helperText,c=l.useState(!1),f=(0,W.default)(c,2),p=f[0],m=f[1],g=l.useCallback((function(){null!=i&&i.length&&m(!0)}),[null==i?void 0:i.length]),h=l.useCallback((function(){m(!1)}),[]),v=l.useMemo((function(){return i.find((function(e){return o(e.value,u)}))}),[o,i,u]),y=l.useCallback((function(e){return function(){h(),s(e.value)}}),[s,h]),b=l.useMemo((function(){return null==i?void 0:i.some((function(e){return e.avatar}))}),[i]),x=l.useMemo((function(){return"function"===typeof a?a({item:v,openMenu:g}):null}),[g,a,v]);return a?(0,Hn.jsx)(hd,{anchor:x,open:p,setOpen:m,children:null==i?void 0:i.map((function(e){var t=e.icon,r=e.avatar,o=e.label;return(0,Hn.jsxs)(Ku.default,{onClick:y(e),children:[!t||r?null:(0,Hn.jsxs)(Xu.default,{children:["string"===typeof t?(0,Hn.jsx)(ju.default,{icon:t,size:24}):null,l.isValidElement(t)&&"string"!==typeof t?t:null]}),r&&b?(0,Hn.jsx)(Zu.default,{children:(0,Hn.jsx)(ud,{name:n,image:r,size:32})}):null,(0,Hn.jsx)(ed.default,{children:o})]})}))}):(0,Hn.jsxs)(cu.default,{sx:{m:1,minWidth:120},children:[(0,Hn.jsx)(nd.default,{id:"demo-simple-select-helper-label",children:n}),(0,Hn.jsx)(Qu.default,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:null!=v&&v.value?JSON.stringify(null==v?void 0:v.value):null,defaultValue:null!=v&&v.value?JSON.stringify(null==v?void 0:v.value):null,label:n,variant:"standard",error:!!t,style:{paddingTop:0},native:!1,SelectDisplayProps:{style:{display:"inline-flex",alignItems:"center"}},onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){var n=e.target,t=i.find((function(e){return JSON.stringify(e.value)===n.value}));t&&s(t.value)})),children:null==i?void 0:i.map((function(e){var t=e.value,r=e.icon,i=e.avatar,a=e.label,s=null==o?void 0:o(null==v?void 0:v.value,t);return console.debug({title:a,isSelected:s,a:null==v?void 0:v.value,b:t}),(0,Hn.jsxs)(Ku.default,{value:JSON.stringify(t),selected:s,children:[!r||i?null:(0,Hn.jsxs)(Xu.default,{children:["string"===typeof r?(0,Hn.jsx)(ju.default,{icon:r,size:24}):null,l.isValidElement(r)&&"string"!==typeof r?r:null]}),i&&b?(0,Hn.jsx)(Zu.default,{children:(0,Hn.jsx)(ud,{name:n,image:i,size:32})}):null,(0,Hn.jsx)(ed.default,{primary:a})]})}))}),(0,Hn.jsx)(mu.default,{error:!!t,children:t||d})]})}function yd(e){var n=e.dropzoneUserId,t=e.label,r=e.variant,o=e.value,i=e.small,a=e.loadId,s=e.color,u=e.backgroundColor,d=e.autoSelectFirst,c=e.onChange,f=e.tandem,p=e.error,m=dn((function(e){return e.global})).currentDropzoneId,g=(0,$s.useTheme)(),h=s||g.colors.onSurface,v=function(e){var n=Ai(Ai({},Fi),e);return zi.useLazyQuery(Ka,n)}({fetchPolicy:"cache-and-network"}),y=(0,W.default)(v,2),b=y[0],x=y[1].data;l.useEffect((function(){n&&b({variables:{dropzoneUserId:n,loadId:a,isTandem:f||void 0}})}),[b,m,f,n,a]),l.useEffect((function(){var e;!o&&d&&null!=x&&null!=(e=x.availableRigs)&&e.length&&c(x.availableRigs[0])}),[d,null==x?void 0:x.availableRigs,c,o]);var j=l.useMemo((function(){var e;return(null==x||null==(e=x.availableRigs)?void 0:e.map((function(e){return{label:(null==e?void 0:e.name)||[null==e?void 0:e.make,null==e?void 0:e.model].join(" "),value:e}})))||[]}),[null==x?void 0:x.availableRigs]),k=l.useMemo((function(){var e;return null==x||null==(e=x.availableRigs)?void 0:e.find((function(e){return(null==e?void 0:e.id)===(null==o?void 0:o.id)}))}),[null==x?void 0:x.availableRigs,null==o?void 0:o.id]),O=l.useCallback((function(e){var n=e.item,t=e.openMenu;return(0,Hn.jsx)(Pu,{backgroundColor:u,small:i,color:h,onPress:t,icon:"parachute",children:(null==n?void 0:n.label)||"No Rig"})}),[u,h,i]);return(0,Hn.jsx)(vd,{options:j,error:p,renderAnchor:"chip"===r?O:void 0,label:t,value:k,onChange:c})}var bd=Zs(yd);const xd=yd;function jd(e){var n,t=e.control,r=(0,Js.useWatch)({control:t}),o=r.id,i=r.dropzoneUser,l=r.ticketType,a=r.load,s=ds(o?R.UpdateUserSlot:R.CreateUserSlot),u=(0,Js.useWatch)({control:t}).extras;return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)($u,{control:t,name:"jumpType",userId:Number(null==i?void 0:i.id)||null}),(0,Hn.jsx)(Yu,{control:t,onlyPublicTickets:!s,name:"ticketType"}),null!=l&&null!=(n=l.extras)&&n.length?(0,Hn.jsx)(uu.default,{children:"Ticket addons"}):null,(0,Hn.jsx)(zu,{control:t,allowEmpty:!0,defaultValue:[],isSelected:function(e){return(null==u?void 0:u.map((function(e){return null==e?void 0:e.id})).includes(null==e?void 0:e.id))||!1},items:null==l?void 0:l.extras,renderItemLabel:function(e){return e.name+" ($"+e.cost+")"},name:"extras"}),(0,Hn.jsx)(du.default,{}),i?(0,Hn.jsx)(bd,{control:t,loadId:null!=a&&a.id?Number(null==a?void 0:a.id):void 0,name:"rig",label:"Equipment",dropzoneUserId:Number(null==i?void 0:i.id)}):null,(0,Hn.jsx)(Ju,{label:"Exit weight",variant:au.Weight,control:t,name:"exitWeight"}),null!=l&&l.isTandem?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(uu.default,{children:"Passenger"}),(0,Hn.jsx)(ou,{control:t,label:"Passenger name",name:"passengerName"}),(0,Hn.jsx)(Ju,{control:t,label:"Passenger exit weight",name:"passengerExitWeight"})]}):null]})}var kd=t(98598),Od={manifest:{called:!1,loading:!1,loads:[],variables:{},refetch:It,fetchMore:It,deleteSlot:It,manifestUser:It,manifestGroup:It,moveSlot:It,createLoad:It,permissions:{canAddTransaction:!1,canCreateLoad:!1,canDeleteOwnSlot:!1,canDeleteSlot:!1,canManifestOthers:!1,canManifestSelf:!1,canUpdateOwnSlot:!1,canUpdateSlot:!1}},dialogs:{manifestUser:{open:oe.noop,close:oe.noop,visible:!1,state:{slot:void 0,load:void 0}},load:{open:oe.noop,close:oe.noop,visible:!1,state:{load:void 0}},credits:{open:oe.noop,close:oe.noop,visible:!1,state:{dropzoneUser:void 0}}}},wd=l.createContext(Od);function Sd(){return l.useContext(wd)}var Pd=t(34521),Cd=cs.object().shape({hasLicense:cs.boolean().isTrue("You need to select a license on your user profile"),hasMembership:cs.boolean().isTrue("Your membership is out of date"),hasRigInspection:cs.boolean().isTrue("Your rig needs to be inspected before you can manifest"),hasReserveInDate:cs.boolean().isTrue("Your rig needs a reserve repack"),hasExitWeight:cs.boolean().isTrue("You need to set your exit weight on your profile")});function Dd(){var e,n,t,r,o=Ut().dropzone,i=o.currentUser,a=o.dropzone,s=l.useCallback(function(){var e=(0,S.default)((function*(){try{var e,n,t,r;return yield Cd.validate({hasLicense:(null==i?void 0:i.hasLicense)||!(null!=a&&null!=(e=a.settings)&&e.requireLicense),hasMembership:(null==i?void 0:i.hasMembership)||!(null!=a&&null!=(n=a.settings)&&n.requireMembership),hasRigInspection:(null==i?void 0:i.hasRigInspection)||!(null!=a&&null!=(t=a.settings)&&t.requireRigInspection),hasReserveInDate:(null==i?void 0:i.hasReserveInDate)||!(null!=a&&null!=(r=a.settings)&&r.requireReserveInDate)},{abortEarly:!0}),!0}catch(o){if(o instanceof cs.ValidationError)throw o;return!1}}));return function(){return e.apply(this,arguments)}}(),[null==i?void 0:i.hasMembership,null==i?void 0:i.hasRigInspection,null==i?void 0:i.hasLicense,null==a||null==(e=a.settings)?void 0:e.requireLicense,null==a||null==(n=a.settings)?void 0:n.requireMembership,null==a||null==(t=a.settings)?void 0:t.requireRigInspection,null==i?void 0:i.hasReserveInDate,null==a||null==(r=a.settings)?void 0:r.requireReserveInDate]);return{canManifest:s}}var Ed=t(77310),zd=t.n(Ed);function Td(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Id(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Td(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Td(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ad={id:void 0,load:void 0,exitWeight:50,rig:null,ticketType:null,jumpType:null,passengerExitWeight:null,passengerName:null,extras:null,groupNumber:0};function Fd(e){var n,t,r,o,i=e.open,a=e.load,s=e.slot,u=e.onSuccess,d=e.onClose,c=function(e){var n=e.initial,t=e.onSuccess,r=l.useMemo((function(){return Id(Id({},Ad),n)}),[n]),o=l.useState(r),i=(0,W.default)(o,2),a=i[0],s=i[1],u=Mn(),d=Ut().dropzone.dropzone,c=cs.object().shape({load:cs.object().required(),exitWeight:cs.number().required("Please specify exit weight").min(0).max(300),rig:cs.object().nullable().when({is:function(){var e;return!(null==d||null==(e=d.settings)||!e.requireEquipment)},then:cs.object().required("You cant manifest without a rig").nullable(),otherwise:cs.object().nullable()}),jumpType:cs.object().required("Jump type is required").nullable(),ticketType:cs.object().required("Ticket is required to manifest").nullable(),original:cs.object().nullable(),extras:cs.array().of(cs.object()).nullable()}),f=(0,Js.useForm)({defaultValues:a,mode:"all",resolver:(0,kd.yupResolver)(c)});l.useEffect((function(){ot()(a,r)||s(r)}),[a,r]),l.useEffect((function(){f.reset(a)}),[a,f]);var p=f.handleSubmit,m=f.setError,g=Sd().manifest.manifestUser,h=(Dd().canManifest,(0,Pd.default)(function(){var e=(0,S.default)((function*(e){try{var n,r,o,i,l,a,s,d,c,f,p,h=yield g(Id({jumpType:null==(n=e.jumpType)?void 0:n.id,extras:null==(r=e.extras)?void 0:r.map((function(e){return e.id})),load:null==e||null==(o=e.load)?void 0:o.id,rig:null!=(i=e.rig)&&i.id?null==(l=e.rig)?void 0:l.id:void 0,ticketType:null==(a=e.ticketType)?void 0:a.id,dropzoneUser:null==(s=e.dropzoneUser)?void 0:s.id,exitWeight:e.exitWeight},null!=(d=e.ticketType)&&d.isTandem?{passengerName:e.passengerName,passengerExitWeight:e.passengerExitWeight}:{}));"fieldErrors"in h&&(null==(c=h.fieldErrors)||c.forEach((function(e){var n=e.field,t=e.message;console.debug("Error in field",n,t),m(zd()(n),{type:"custom",message:t})}))),"error"in h&&h.error&&u.error(h.error),"slot"in h&&(u.success((null==(f=e.dropzoneUser)||null==(p=f.user)?void 0:p.name)+" has been added to the load"),null==t||t())}catch(Bn){Bn instanceof Error&&u.error(Bn.message)}}));return function(n){return e.apply(this,arguments)}}(),[g,u])),v=(0,W.default)(h,2),y=v[0].loading,b=v[1],x=l.useMemo((function(){return p(b)}),[p,b]);return l.useMemo((function(){return Id(Id({},f),{},{onSubmit:x,loading:y})}),[f,x,y])}({initial:{id:null==s?void 0:s.id,load:a,exitWeight:(null==s?void 0:s.exitWeight)||Number((null==s||null==(n=s.dropzoneUser)||null==(t=n.user)?void 0:t.exitWeight)||70),dropzoneUser:null==s?void 0:s.dropzoneUser,extras:(null==s?void 0:s.extras)||null,groupNumber:null==s?void 0:s.groupNumber,jumpType:null==s?void 0:s.jumpType,passengerExitWeight:null==s?void 0:s.passengerExitWeight,passengerName:null==s?void 0:s.passengerName,rig:null==s?void 0:s.rig,ticketType:(null==s?void 0:s.ticketType)||void 0},onSuccess:u}),f=c.control,p=c.onSubmit,g=c.loading,h=(0,m.usePortal)("drawer");return l.useEffect((function(){i||h.removePortal("drawer")}),[i,h]),(0,Hn.jsx)(Hs,{title:"Manifest "+(null==s||null==(r=s.dropzoneUser)||null==(o=r.user)?void 0:o.name)+" on "+((null==a?void 0:a.name)||"Load #"+((null==a?void 0:a.loadNumber)||1)),open:i,onClose:d,loading:g,buttonLabel:"Manifest",buttonAction:p,children:(0,Hn.jsx)(jd,{control:f})})}function Rd(e){var n=e.control;return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(ou,{name:"name",label:"Name",control:n,placeholder:"Optional"}),(0,Hn.jsx)(Ju,{label:"Max Slots",control:n,name:"maxSlots"}),(0,Hn.jsxs)(f.default,{style:{width:"100%"},children:[(0,Hn.jsx)(_u,{control:n,name:"plane"}),(0,Hn.jsx)(Mu,{label:"GCA",control:n,name:"gca",requiredPermissions:[R.ActAsGca]}),(0,Hn.jsx)(Mu,{label:"Pilot",name:"pilot",control:n,requiredPermissions:[R.ActAsPilot]}),(0,Hn.jsx)(du.default,{style:{marginVertical:8}})]})]})}function Ud(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Bd(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ud(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ud(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ld=cs.object({name:cs.string().nullable().default(null),gca:cs.object().required("You must select a GCA"),pilot:cs.object().required("Every load needs a pilot"),plane:cs.object().required("You cant create a load without an aircraft"),original:cs.object().nullable(),maxSlots:cs.number().required("You must specify max slots").default(0),id:cs.string().nullable(),isOpen:cs.boolean().default(!0)}),Md={id:void 0,gca:null,pilot:null,plane:void 0,maxSlots:0,name:null};function Nd(e){var n=e.open,t=e.load,r=e.onClose,o=e.onSuccess,i=function(e){var n=e.initial,t=e.onSuccess,r=Mn(),o=l.useMemo((function(){return Bd(Bd({},Md),n)}),[n]),i=l.useState(o),a=(0,W.default)(i,2),s=a[0],u=a[1],d=(0,Js.useForm)({defaultValues:s,mode:"all",resolver:(0,kd.yupResolver)(Ld)});l.useEffect((function(){(0,oe.isEqual)(s,o)||u(o)}),[s,o]);var c=d.control,f=d.reset,p=d.setValue;l.useEffect((function(){f(s)}),[s,f]);var m=d.handleSubmit,g=d.setError,h=Sd().manifest.createLoad,v=Dd().canManifest,y=(0,Js.useWatch)({control:c}).plane;l.useEffect((function(){null!=y&&y.maxSlots&&p("maxSlots",y.maxSlots)}),[null==y?void 0:y.maxSlots,p]);var b=(0,Pd.default)(function(){var e=(0,S.default)((function*(e){try{var n,o,i;yield v();var l,a,s=Ld.validateSync(e),u=yield h({gca:null==(n=s.gca)?void 0:n.id,state:T.Open,pilot:null==(o=s.pilot)?void 0:o.id,plane:null==(i=s.plane)?void 0:i.id,maxSlots:Number(s.maxSlots),name:s.name});"fieldErrors"in u&&(null==(l=u.fieldErrors)||l.forEach((function(e){var n=e.field,t=e.message,r=(0,oe.camelCase)(n);g(r,{type:"custom",message:t})}))),"load"in u&&(r.success("Load #"+(null==(a=u.load)?void 0:a.loadNumber)+" added to the board"),null==t||t(u.load))}catch(Bn){Bn instanceof Error&&r.error(Bn.message)}}));return function(n){return e.apply(this,arguments)}}(),[h]),x=(0,W.default)(b,2),j=x[0].loading,k=x[1],O=l.useMemo((function(){return m(k)}),[m,k]);return l.useMemo((function(){return Bd(Bd({},d),{},{onSubmit:O,loading:j})}),[d,O,j])}({initial:{gca:null==t?void 0:t.gca,maxSlots:null==t?void 0:t.maxSlots,name:null==t?void 0:t.name,pilot:null==t?void 0:t.pilot,plane:null==t?void 0:t.plane,id:null==t?void 0:t.id},onSuccess:o}),a=i.control,s=i.onSubmit,u=i.loading,d=l.useMemo((function(){return["30%",650]}),[]);return(0,Hn.jsx)(Hs,{open:n,onClose:r,buttonAction:s,scrollable:!0,buttonLabel:"Create",snapPoints:d,loading:u,title:"New Load",children:(0,Hn.jsx)(Rd,{control:a})})}var $d=t(86922),Vd=t(39233),qd=t(51249);function Gd(e){var n=e.control,t=e.dropzoneUser,r=(0,Js.useWatch)({control:n}),o=r.amount,i=void 0===o?0:o,l=r.type,a=l===B.Deposit?((null==t?void 0:t.credits)||0)+i:((null==t?void 0:t.credits)||0)-i;return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(ou,{control:n,label:"Message",name:"message"}),(0,Hn.jsxs)(f.default,{children:[(0,Hn.jsx)(Ju,{variant:au.Cash,label:l===B.Withdrawal?"Withdraw amount":"Add amount",name:"amount",control:n}),(0,Hn.jsx)(du.default,{}),(0,Hn.jsxs)(qd.default,{children:[(0,Hn.jsxs)(qd.default.Row,{children:[(0,Hn.jsx)(qd.default.Title,{children:"Current balance"}),(0,Hn.jsx)(qd.default.Cell,{numeric:!0,children:"$"+((null==t?void 0:t.credits)||0)})]}),(0,Hn.jsxs)(qd.default.Row,{children:[(0,Hn.jsx)(qd.default.Title,{children:l===B.Withdrawal?"Withdraw":"Deposit"}),(0,Hn.jsx)(qd.default.Cell,{numeric:!0,children:[l===B.Deposit?"+":"-","$",i].join("")})]}),(0,Hn.jsxs)(qd.default.Row,{children:[(0,Hn.jsx)(qd.default.Title,{children:(0,Hn.jsx)(Vd.default,{style:{fontWeight:"bold"},children:"New total"})}),(0,Hn.jsx)(qd.default.Cell,{numeric:!0,children:[a<0?"-":"","$",a<0?-1*a:a].join("")})]})]})]})]})}function Wd(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Wd(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wd(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Hd=cs.object({amount:cs.number().integer().default(0).min(1,"Amount must be greater than 0"),message:cs.string().nullable().default(null),type:cs.string().oneOf(Object.values(B)).required("No transaction type selected").default(B.Withdrawal)}),Yd={amount:0,message:null,dropzoneUser:null,type:B.Deposit};function Jd(e){var n=e.open,t=e.onClose,r=e.dropzoneUser,o=function(e){var n=e.initial,t=e.dropzoneUser,r=e.onSuccess,o=l.useMemo((function(){return _d(_d({},Yd),n)}),[n]),i=l.useState(o),a=(0,W.default)(i,2),s=a[0],u=a[1],d=Os(),c=d.addCredits,f=d.withdrawCredits,p=(0,Js.useForm)({defaultValues:s,mode:"all",resolver:(0,kd.yupResolver)(Hd),shouldUnregister:!1});l.useEffect((function(){(0,oe.isEqual)(s,o)||u(o)}),[s,o]);var m=p.reset;l.useEffect((function(){m(s)}),[s,m]);var g=p.handleSubmit,h=p.setError,v=Sd().manifest.createLoad,y=Mn(),b=(0,Pd.default)(function(){var e=(0,S.default)((function*(e){if(console.debug({fields:e}),t)try{var n,o=e.type===B.Deposit?yield c(t,{amount:e.amount,message:e.message}):yield f(t,{amount:e.amount,message:e.message});if(o)"fieldErrors"in o&&(null==(n=o.fieldErrors)||n.forEach((function(e){var n=e.field,t=e.message;h("message"===n?"message":"amount",{message:t})}))),"order"in o&&o.order&&(null==r||r(o.order))}catch(Bn){Bn instanceof Error&&y.error(Bn.message)}else h("amount",{message:"No user selected"})}));return function(n){return e.apply(this,arguments)}}(),[v,t,h,y,r,c,f]),x=(0,W.default)(b,2),j=x[0].loading,k=x[1],O=l.useMemo((function(){return g(k)}),[g,k]);return l.useMemo((function(){return _d(_d({},p),{},{onSubmit:O,loading:j})}),[p,O,j])}({onSuccess:e.onSuccess,dropzoneUser:r}),i=o.onSubmit,a=o.control,s=o.setValue,u=o.loading;return(0,Hn.jsxs)(Hs,{open:n,loading:u,onClose:t,disablePadding:!0,buttonLabel:"Save",buttonAction:i,scrollable:!1,children:[(0,Hn.jsx)(f.default,{style:{marginBottom:24},children:(0,Hn.jsxs)($d.Tabs,{defaultIndex:0,onChangeIndex:function(e){s("type",1===e?B.Withdrawal:B.Deposit)},mode:"fixed",children:[(0,Hn.jsx)($d.TabScreen,{label:"Deposit",icon:"arrow-up",children:(0,Hn.jsx)(f.default,{})}),(0,Hn.jsx)($d.TabScreen,{label:"Withdraw",icon:"arrow-down",children:(0,Hn.jsx)(f.default,{})})]})}),(0,Hn.jsx)(f.default,{style:Qd.form,children:(0,Hn.jsx)(Gd,{control:a,dropzoneUser:r})})]})}var Qd=Vn.default.create({form:{paddingHorizontal:16}});function Kd(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Xd(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Kd(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Kd(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Zd(e){return function(){var n=l.useState(),t=(0,W.default)(n,2),r=t[0],o=t[1];return{state:r,visible:!!r,open:l.useCallback((function(n){o(Xd(Xd({},e),n))}),[]),close:l.useCallback((function(){return o(void 0)}),[])}}}function ec(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function nc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ec(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ec(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function tc(){var e=Sd().dialogs.manifestUser;return(0,Hn.jsx)(Fd,nc({onClose:e.close,onSuccess:e.close,open:e.visible},e.state))}function rc(){var e=Sd().dialogs.load;return(0,Hn.jsx)(Nd,nc({onClose:e.close,onSuccess:e.close,open:e.visible},e.state))}function oc(){var e=Sd().dialogs.credits;return(0,Hn.jsx)(Jd,nc({onClose:e.close,onSuccess:e.close,open:e.visible},e.state))}var ic=Zd(),lc=Zd(),ac=Zd();function sc(e){var n=e.dropzone,t=e.date,r=void 0===t?us.DateTime.local().toISODate():t,o=e.children,i=ic(),a=lc(),s=ac(),u=Fs({dropzone:n,date:r}),d=u.permissions,c=l.useMemo((function(){return{manifestUser:i,load:d.canCreateLoad?a:nc(nc({},a),{},{open:st()}),credits:d.canAddTransaction?s:nc(nc({},s),{},{open:st()})}}),[i,d.canCreateLoad,a,d.canAddTransaction,s]),f=l.useMemo((function(){return{manifest:u,dialogs:c}}),[u,c]);return(0,Hn.jsxs)(wd.Provider,{value:f,children:[o,(0,Hn.jsx)(oc,{}),(0,Hn.jsx)(rc,{}),(0,Hn.jsx)(tc,{})]})}var uc=t(14700),dc=t(52149),cc=t(58551),fc=t(2450),pc=t(48704);function mc(e){var n=e.disabled,t=e.label,r=e.timestamp,o=e.onChange,i=e.color,a=l.useState(!1),s=(0,W.default)(a,2),u=s[0],d=s[1],c=l.useCallback((function(){d(!1)}),[d]),f=l.useCallback((function(e){var n=e.date;d(!1),o(n.getTime()/1e3)}),[d,o]),p=r?(0,uc.default)(1e3*r,"hh:mm"):"No time selected";return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(dc.default,{title:t||p,disabled:!!n,description:t?p:null,left:function(){return(0,Hn.jsx)(cc.default,{color:i,icon:"calendar"})},onPress:function(){return d(!0)}}),(0,Hn.jsx)(fc.default,{visible:u,children:(0,Hn.jsx)(pc.TimePickerModal,{hours:us.DateTime.fromSeconds(r||us.DateTime.local().toSeconds()).hour,minutes:us.DateTime.fromSeconds(r||us.DateTime.local().toSeconds()).minute,locale:"en",visible:u,onDismiss:c,onConfirm:function(e){return f({date:us.DateTime.local().set({hour:e.hours,minute:e.minutes}).toJSDate()})},label:t})})]})}function gc(e){var n=e.open,t=e.onClose,r=e.onChange,o=l.useState(),i=(0,W.default)(o,2),a=i[0],s=i[1],u=l.useState(!1),d=(0,W.default)(u,2),c=d[0],f=d[1],p=l.useCallback((function(){try{f(!0),a&&r(a)}finally{f(!1)}}),[r,a]);return(0,Hn.jsxs)(qs.default,{visible:n,dismissable:!0,onDismiss:t,children:[(0,Hn.jsx)(qs.default.Title,{children:"Dispatch Aircraft"}),(0,Hn.jsx)(qs.default.Content,{children:(0,Hn.jsx)(mc,{onChange:s,timestamp:a,label:"Take-off"})}),(0,Hn.jsxs)(qs.default.Actions,{children:[(0,Hn.jsx)(bt.default,{disabled:c,onPress:t,children:"Cancel"}),(0,Hn.jsx)(bt.default,{disabled:c,onPress:p,children:"Dispatch"})]})]})}var hc={load:{called:!1,loading:!1,load:null,update:It,updateGCA:It,updateLoadMaster:It,updatePlane:It,updatePilot:It,manifestUser:It,refetch:It,fetchMore:It,canDispatchAircraft:!1,createAircraftDispatchAction:st(),dispatchAtTime:It,dispatchInMinutes:It,markAsLanded:It,cancel:It,updateLoadState:It},dialogs:{timepicker:{visible:!1,close:st(),open:st()}}},vc=l.createContext(hc);function yc(){return l.useContext(vc)}var bc=["children"],xc=["id"];function jc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function kc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?jc(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Oc=Zd();function wc(e){var n=e.children,t=vs((0,zt.default)(e,bc)),r=Oc(),o=l.useMemo((function(){return{timepicker:r}}),[r]),i=l.useCallback((function(e){t.dispatchAtTime(e).then(r.close)}),[t,r.close]),a=l.useMemo((function(){return{load:t,dialogs:o}}),[t,o]);return(0,Hn.jsxs)(vc.Provider,{value:a,children:[n,(0,Hn.jsx)(gc,{open:r.visible,onClose:r.close,onChange:i})]})}function Sc(e){return function(n){var t=n.id,r=(0,zt.default)(n,xc);return(0,Hn.jsx)(wc,{id:t,children:(0,Hn.jsx)(e,kc({},r))})}}function Pc(e){var n=e.control;return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(ou,{control:n,name:"name",mode:"outlined",label:"Name"}),(0,Hn.jsx)(ou,{control:n,name:"registration",label:"Registration"}),(0,Hn.jsx)(Ju,{control:n,name:"minSlots",label:"Min slots"}),(0,Hn.jsx)(Ju,{control:n,name:"maxSlots",label:"Max slots",helperText:"Maximum amount of jumpers who can be manifested on one load"})]})}function Cc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Dc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Cc(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ec=cs.object({id:cs.string().nullable().default(null),name:cs.string().nullable().default(null),registration:cs.string().required("Registration is required"),minSlots:cs.number().integer().default(1).min(1,"Minimum slots must be greater than 0"),maxSlots:cs.number().integer().required("Maximum slots is required").min(1,"Maximum slots must be greater than 0"),basicEmptyWeight:cs.number().default(0).min(0,"Basic empty weight must be greater than 0"),maxTakeOffWeight:cs.number().default(0).min(0,"Maximum take off weight must be greater than 0"),fuelType:cs.string().nullable().default(null)}),zc={name:"",registration:"",minSlots:1,maxSlots:4,basicEmptyWeight:0,maxTakeOffWeight:0,fuelType:void 0};function Tc(e){var n=e.open,t=e.onClose,r=e.initial,o=e.original,i=function(e){var n=e.initial,t=e.onSuccess,r=Mn(),o=l.useMemo((function(){return Dc(Dc({},zc),n)}),[n]),i=l.useState(o),a=(0,W.default)(i,2),s=a[0],u=a[1],d=(0,Js.useForm)({defaultValues:s,mode:"all",resolver:(0,kd.yupResolver)(Ec),shouldUnregister:!1});l.useEffect((function(){(0,oe.isEqual)(s,o)||u(o)}),[s,o]);var c=d.reset,f=d.register;l.useEffect((function(){f("id")}),[f]),l.useEffect((function(){c(s)}),[s,c]);var p=d.handleSubmit,m=d.setError,g=Ut().dropzone.dropzone,h=Ns(),v=h.create,y=h.update,b=(0,Pd.default)(function(){var e=(0,S.default)((function*(e){if(null!=g&&g.id){var n=yield Ec.validate(e,{abortEarly:!1});try{var o,i=e.id?yield y(Number(e.id),{name:n.name,dropzoneId:Number(null==g?void 0:g.id),maxSlots:n.maxSlots,minSlots:n.minSlots,registration:n.registration}):yield v({name:n.name,dropzoneId:Number(null==g?void 0:g.id),maxSlots:n.maxSlots,minSlots:n.minSlots,registration:n.registration});if(i)"fieldErrors"in i&&(null==(o=i.fieldErrors)||o.forEach((function(e){var n=e.field,t=e.message,r=(0,oe.camelCase)(n);switch(r){case"name":case"maxSlots":case"minSlots":case"registration":m(r,{message:t})}}))),"aircraft"in i&&i.aircraft&&(r.success("Aircraft saved"),null==t||t(i.aircraft))}catch(Bn){Bn instanceof Error&&r.error(Bn.message)}}}));return function(n){return e.apply(this,arguments)}}(),[null==g?void 0:g.id,m,r,t,v,y]),x=(0,W.default)(b,2),j=x[0].loading,k=x[1],O=l.useMemo((function(){return p(k)}),[p,k]);return l.useMemo((function(){return Dc(Dc({},d),{},{onSubmit:O,loading:j})}),[d,O,j])}({initial:{id:(null==o?void 0:o.id)||(null==r?void 0:r.id)||void 0,name:(null==o?void 0:o.name)||(null==r?void 0:r.name),registration:(null==o?void 0:o.registration)||(null==o?void 0:o.registration)||void 0,minSlots:(null==o?void 0:o.minSlots)||(null==o?void 0:o.minSlots)||void 0,maxSlots:(null==o?void 0:o.maxSlots)||(null==o?void 0:o.maxSlots)},onSuccess:t}),a=i.control,s=i.loading,u=i.onSubmit,d=l.useMemo((function(){return[580,"80%"]}),[]);return(0,Hn.jsx)(Hs,{open:n,loading:s,onClose:t,title:null!=o&&o.id?"Edit aircraft":"New aircraft",open:n,snapPoints:d,buttonLabel:"Save",buttonAction:u,children:(0,Hn.jsx)(Pc,{control:a})})}function Ic(e){var n=e.value,t=e.onChange,r=e.error;return console.debug("alt",{value:n,props:e}),(0,Hn.jsx)(vd,{label:"Altitude",value:n,onChange:t,error:r,options:[{label:"Hop n Pop",value:4e3,icon:"parachute"},{label:"Height",value:14e3,icon:"airplane-takeoff"},{label:"Other",value:-1,icon:"parachute"}]})}var Ac=Zs(Ic);var Fc=t(50902);function Rc(e){var n,t,r,o=e.requiredPermissions,i=e.value,a=e.onChange,s=e.label,u=Ea({variables:{dropzoneId:null==(n=dn((function(e){return e.global})).currentDropzoneId)?void 0:n.toString(),permissions:o}}).data,d=l.useMemo((function(){var e,n;return(null==u||null==(e=u.dropzoneUsers)||null==(n=e.edges)?void 0:n.filter((function(e){return!(null==e||!e.node)})).map((function(e){var n,t,r,o;return{label:(null==e||null==(n=e.node)||null==(t=n.user)?void 0:t.name)||"",value:null==e?void 0:e.node,avatar:null==e||null==(r=e.node)||null==(o=r.user)?void 0:o.image}})))||[]}),[null==u||null==(t=u.dropzoneUsers)?void 0:t.edges]),c=l.useMemo((function(){var e,n;return null==u||null==(e=u.dropzoneUsers)||null==(n=e.edges)?void 0:n.map((function(e){return null==e?void 0:e.node})).find((function(e){return(null==e?void 0:e.id)===(null==i?void 0:i.id)}))}),[null==u||null==(r=u.dropzoneUsers)?void 0:r.edges,null==i?void 0:i.id]);return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(Fc.default,{children:s}),(0,Hn.jsx)(vd,{value:c,compare:function(e,n){return(null==e?void 0:e.id)===(null==n?void 0:n.id)},options:d,onChange:a})]})}var Uc=Zs(Rc);function Bc(e){var n=e.value,t=e.onChange,r=Ua().data;l.useEffect((function(){var e;1!==(null==r||null==(e=r.federations)?void 0:e.length)||n||t(r.federations[0])}),[null==r?void 0:r.federations,t,n]);var o=l.useMemo((function(){var e;return(null==r||null==(e=r.federations)?void 0:e.map((function(e){return{label:(null==e?void 0:e.name)||"",value:e}})))||[]}),[null==r?void 0:r.federations]),i=l.useMemo((function(){return null==o?void 0:o.map((function(e){return e.value})).find((function(e){return(null==e?void 0:e.id)===(null==n?void 0:n.id)}))}),[o,null==n?void 0:n.id]);return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(uu.default,{children:"Federation"}),(0,Hn.jsx)(vd,{value:i,options:o,onChange:t})]})}var Lc=Zs(Bc);const Mc=Bc;function Nc(e){var n=e.allowedForDropzoneUserIds,t=e.onChange,r=e.value,o=dn((function(e){return e.global})).currentDropzoneId,i=Ma({variables:{dropzoneId:null==o?void 0:o.toString(),allowedForDropzoneUserIds:n}}).data,a=l.useMemo((function(){var e;return(null==i||null==(e=i.jumpTypes)?void 0:e.map((function(e){return{label:(null==e?void 0:e.name)||"",value:e}})))||[]}),[null==i?void 0:i.jumpTypes]),s=l.useMemo((function(){return null==a?void 0:a.map((function(e){return e.value})).find((function(e){return(null==e?void 0:e.id)===(null==r?void 0:r.id)}))}),[a,null==r?void 0:r.id]);return(0,Hn.jsx)(vd,{label:"Jump type",value:s,options:a,onChange:t})}Zs(Nc);function $c(e){var n=e.onChange,t=e.value,r=$a({variables:{federationId:e.federationId}}).data,o=l.useMemo((function(){return(null==r?void 0:r.licenses.map((function(e){return{label:(null==e?void 0:e.name)||"",value:e}})))||[]}),[null==r?void 0:r.licenses]),i=l.useMemo((function(){return t}),[t]);return(0,Hn.jsx)(vd,{label:"License",value:i,options:o,onChange:n})}Zs($c);function Vc(e){var n,t,r=e.onCHange,o=e.value,i=Ut().dropzone,a=Ha({variables:{dropzoneId:null==i||null==(n=i.dropzone)||null==(t=n.id)?void 0:t.toString()}}).data,s=l.useMemo((function(){var e;return null==a||null==(e=a.planes)?void 0:e.find((function(e){return(null==e?void 0:e.id)===(null==o?void 0:o.id)}))}),[null==a?void 0:a.planes,null==o?void 0:o.id]),u=l.useMemo((function(){var e;return(null==a||null==(e=a.planes)?void 0:e.map((function(e){return{label:(null==e?void 0:e.name)||"",value:e}})))||[]}),[null==a?void 0:a.planes]);return(0,Hn.jsx)(vd,{value:s,options:u,onChange:r})}Zs(Vc);var qc=t(91825),Gc=t.n(qc),Wc=["permissions"];function _c(e){var n,t=e.onChange,r=e.value,o=dn((function(e){return e.global})).currentDropzoneId,i=Za({variables:{dropzoneId:null==o?void 0:o.toString()}}).data,a=l.useMemo((function(){var e,n;return(null==i||null==(e=i.dropzone)||null==(n=e.roles)?void 0:n.map((function(e){e.permissions;var n=(0,zt.default)(e,Wc);return{label:Gc()((null==n?void 0:n.name)||""),value:n}})))||[]}),[null==i||null==(n=i.dropzone)?void 0:n.roles]);return(0,Hn.jsx)(vd,{label:"Access level",compare:function(e,n){return(null==e?void 0:e.id)===(null==n?void 0:n.id)},options:a,value:r,onChange:t,onChange:t})}var Hc=Zs(_c);const Yc=_c;function Jc(e){var n=e.allowManifestingSelf,t=e.value,r=e.onChange,o=dn((function(e){return e.global})).currentDropzoneId,i=function(e){var n=Ai(Ai({},Fi),e);return Ei.useQuery(ns,n)}({variables:{dropzone:null==o?void 0:o.toString(),allowManifestingSelf:n}}),a=i.data,s=l.useMemo((function(){var e;return(null==a||null==(e=a.ticketTypes)?void 0:e.map((function(e){return{label:(null==e?void 0:e.name)||"",value:e}})))||[]}),[null==a?void 0:a.ticketTypes]);return(0,Hn.jsx)(vd,{value:t,options:s,onChange:r})}Zs(Jc);function Qc(e){var n,t=e.control,r=(0,Js.useWatch)({control:t}),o=r.federation,i=r.license;return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(ou,{label:"Name",name:"name",control:t}),(0,Hn.jsx)(ou,{label:"Nickname",name:"nickname",placeholder:"Optional",control:t}),(0,Hn.jsx)(ou,{label:"Email",name:"email",control:t}),(0,Hn.jsx)(ou,{label:"Phone number",name:"phone",control:t}),(0,Hn.jsx)(Ju,{label:"Exit weight (kg)",name:"exitWeight",control:t}),(0,Hn.jsx)(du.default,{}),(0,Hn.jsxs)(f.default,{style:{width:"100%"},children:[(0,Hn.jsx)(Lc,{control:t,name:"federation"}),((null==i||null==(n=i.federation)?void 0:n.id)||(null==o?void 0:o.id))&&(0,Hn.jsx)(qu,{name:"license",control:t})]}),(0,Hn.jsx)(Hc,{name:"role",control:t})]})}function Kc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Xc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Kc(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Kc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Zc=cs.object({id:cs.string().nullable().default(null),name:cs.string().required("Name is required"),nickname:cs.string().optional().nullable(),email:cs.string().required("Email is required to invite the user"),phone:cs.string().optional().nullable(),federationUid:cs.string().optional().nullable(),exitWeight:cs.number().required("Exit weight is required").min(40,"Exit weight must be more than 40kg").default(50),federation:cs.object().required("Federation must be selected"),license:cs.object().required("All jumpers must have a license"),role:cs.object().required("You must select a role")}),ef={name:"",nickname:"",email:"",role:void 0,license:void 0,exitWeight:50,federation:void 0,id:null,phone:"",federationUid:null};function nf(e){var n,t,r,o,i=e.open,a=e.onClose,s=e.initial,u=e.original,d=function(e){var n=e.initial,t=e.onSuccess,r=l.useMemo((function(){return Xc(Xc({},ef),n)}),[n]),o=l.useState(r),i=(0,W.default)(o,2),a=i[0],s=i[1],u=(0,Js.useForm)({defaultValues:a,mode:"all",resolver:(0,kd.yupResolver)(Zc)});l.useEffect((function(){(0,oe.isEqual)(a,r)||s(r)}),[a,r]);var d=u.reset,c=u.register;l.useEffect((function(){c("id"),c("license"),c("federation"),c("role")}),[c]),l.useEffect((function(){d(a)}),[a,d]);var f=u.handleSubmit,p=u.setError,m=Ut().dropzone.dropzone,g=Os().create,h=Mn(),v=(0,Pd.default)(function(){var e=(0,S.default)((function*(e){if(null!=m&&m.id){var n=yield Zc.validate(e,{abortEarly:!1});try{var r,o,i,l=yield g({dropzone:Number(m.id),email:n.email,name:n.name,exitWeight:n.exitWeight,role:Number(null==(r=n.role)?void 0:r.id),license:Number(null==n||null==(o=n.license)?void 0:o.id),federationNumber:null==n?void 0:n.federationUid,phone:null==n?void 0:n.phone});if(l)"fieldErrors"in l&&(null==(i=l.fieldErrors)||i.forEach((function(e){var n=e.field,t=e.message,r=(0,oe.camelCase)(n);Object.keys(a).includes(r)&&p(r,{message:t})}))),"user"in l&&l.user&&(h.success(n.name+" has been invited"),null==t||t(l.user))}catch(Bn){Bn instanceof Error&&h.error(Bn.message)}}}));return function(n){return e.apply(this,arguments)}}(),[null==m?void 0:m.id,p,h,a,g]),y=(0,W.default)(v,2),b=y[0].loading,x=y[1],j=u.control,k=u.setValue,O=(0,Js.useWatch)({control:j}),w=O.federation,P=O.license;l.useEffect((function(){var e;null!=P&&P.federation&&(null==P||null==(e=P.federation)?void 0:e.id)!==(null==w?void 0:w.id)&&k("federation",P.federation)}),[null==w?void 0:w.id,null==P?void 0:P.federation,k]);var C=l.useMemo((function(){return f(x)}),[x,f]);return l.useMemo((function(){return Xc(Xc({},u),{},{onSubmit:C,loading:b})}),[u,C,b])}({initial:{name:(null==u||null==(n=u.user)?void 0:n.name)||(null==s?void 0:s.name),nickname:(null==u||null==(t=u.user)?void 0:t.nickname)||(null==s?void 0:s.nickname),phone:(null==u||null==(r=u.user)?void 0:r.phone)||(null==s?void 0:s.phone),license:(null==u?void 0:u.license)||(null==s?void 0:s.license),federation:null==s?void 0:s.federation,email:(null==u||null==(o=u.user)?void 0:o.email)||(null==s?void 0:s.email),role:(null==u?void 0:u.role)||(null==s?void 0:s.role),id:(null==u?void 0:u.id)||(null==s?void 0:s.id)||void 0},onSuccess:a}),c=d.control,f=d.loading,p=d.onSubmit,m=d.reset;l.useEffect((function(){i||m()}),[i,m]);var g=l.useMemo((function(){return[400,740]}),[]);return(0,Hn.jsx)(Hs,{title:"Pre-register user",open:i,loading:f,onClose:a,snapPoints:g,buttonAction:p,buttonLabel:"Create",children:(0,Hn.jsx)(Qc,{control:c})})}var tf=t(42461),rf=["error","label","helperText","onChange","style"];function of(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function lf(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?of(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):of(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function af(e){var n=e.error,t=e.label,r=e.helperText,o=e.onChange,i=e.style,l=(0,zt.default)(e,rf),a=(0,$s.useTheme)();return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(dc.default,{title:t,right:function(){return(0,Hn.jsx)(tf.default,lf(lf({style:Vn.default.flatten([uf.field,{backgroundColor:a.colors.surface},i])},l),{},{onValueChange:o}))}}),(0,Hn.jsx)(yt.default,{style:uf.helperText,type:n?"error":"info",children:n||r||" "})]})}var sf=Zs(af);var uf=Vn.default.create({fields:{flex:1},field:{marginBottom:8},helperText:{marginBottom:16}});function df(e){var n=e.control,t=Ut().dropzone.dropzone,r=(0,Js.useWatch)({control:n}).altitude,o=function(e){var n=Ai(Ai({},Fi),e);return zi.useLazyQuery(Fa,n)}(),i=(0,W.default)(o,2),a=i[0],s=i[1].data;l.useEffect((function(){null!=t&&t.id&&a({variables:{dropzoneId:null==t?void 0:t.id}})}),[null==t?void 0:t.id,a]);var u=(0,Js.useWatch)({control:n}).extras;return console.debug({altitude:r}),(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(ou,{control:n,label:"Name",name:"name",helperText:"Name of the ticket users will see"}),(0,Hn.jsx)(Ju,{control:n,label:"Price",name:"cost",helperText:"Base cost without extra ticket addons"}),(0,Hn.jsxs)(f.default,{style:{width:"100%"},children:[(0,Hn.jsx)(Ac,{control:n,name:"altitude"}),(!r||![4e3,14e3].includes(r))&&(0,Hn.jsx)(Ju,{control:n,label:"Custom altitude",name:"altitude"}),(0,Hn.jsx)(sf,{control:n,name:"isTandem",label:"Tandem",helperText:"Allow also manifesting a passenger when using this ticket type"}),(0,Hn.jsx)(sf,{control:n,name:"allowManifestingSelf",label:"Public manifesting",helperText:"Allow this ticket to be used for public manifesting, e.g not tandems"}),(0,Hn.jsx)(du.default,{}),(0,Hn.jsx)(uu.default,{children:"Enabled ticket add-ons"}),(0,Hn.jsx)(zu,{control:n,allowEmpty:!0,defaultValue:[],isSelected:function(e){return(null==u?void 0:u.map((function(e){return e.id})).includes(null==e?void 0:e.id))||!1},items:(null==s?void 0:s.extras)||[],renderItemLabel:function(e){return e.name+" ("+e.cost+")"},name:"extras"})]})]})}function cf(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ff(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?cf(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cf(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var pf=cs.object({id:cs.string().nullable().default(null),name:cs.string().required("Name is required"),cost:cs.number().required("Cost is required").min(0,"Cost must be greater than 0"),allowManifestingSelf:cs.boolean().default(!1),altitude:cs.number().default(14e3).required().default(14e3),extras:cs.array().of(cs.object()),isTandem:cs.boolean().default(!1)}),mf={name:"",cost:30,allowManifestingSelf:!0,altitude:14e3,extras:[],id:void 0,isTandem:!1};function gf(e){var n=e.open,t=e.initial,r=e.original,o=e.onClose,i=function(e){var n=e.initial,t=e.onSuccess,r=l.useMemo((function(){return ff(ff({},mf),n)}),[n]),o=l.useState(r),i=(0,W.default)(o,2),a=i[0],s=i[1],u=(0,Js.useForm)({defaultValues:a,mode:"all",resolver:(0,kd.yupResolver)(pf)});l.useEffect((function(){(0,oe.isEqual)(a,r)||s(r)}),[a,r]);var d=u.reset,c=u.register;l.useEffect((function(){c("id"),c("altitude")}),[c]),l.useEffect((function(){d(a)}),[a,d]);var f=u.handleSubmit,p=u.setError,m=Ut().dropzone.dropzone,g=Bs(),h=g.createTicketType,v=g.updateTicketType,y=Mn(),b=(0,Pd.default)(function(){var e=(0,S.default)((function*(e){if(null!=m&&m.id){var n=yield pf.validate(e,{abortEarly:!1});try{var r,o,i=e.id?yield v(Number(e.id),{name:n.name,cost:n.cost,allowManifestingSelf:n.allowManifestingSelf,altitude:n.altitude,extraIds:n.extras.map((function(e){return Number(e.id)})),isTandem:n.isTandem}):yield h({name:n.name,cost:n.cost,allowManifestingSelf:n.allowManifestingSelf,altitude:n.altitude,extraIds:null==(r=n.extras)?void 0:r.map((function(e){return Number(e.id)})),isTandem:n.isTandem});if(i)"fieldErrors"in i&&(null==(o=i.fieldErrors)||o.forEach((function(e){var n=e.field,t=e.message,r=(0,oe.camelCase)(n);Object.keys(a).includes(r)&&p(r,{message:t})}))),"ticketType"in i&&i.ticketType&&(y.success("Ticket saved"),null==t||t(i.ticketType))}catch(Bn){Bn instanceof Error&&y.error(Bn.message)}}}));return function(n){return e.apply(this,arguments)}}(),[null==m?void 0:m.id,p,y,t,h,v,a]),x=(0,W.default)(b,2),j=x[0].loading,k=x[1],O=l.useMemo((function(){return f(k)}),[f,k]);return l.useMemo((function(){return ff(ff({},u),{},{onSubmit:O,loading:j})}),[u,O,j])}({initial:{name:(null==r?void 0:r.name)||(null==t?void 0:t.name),cost:(null==r?void 0:r.cost)||(null==t?void 0:t.cost),allowManifestingSelf:(null==r?void 0:r.allowManifestingSelf)||(null==t?void 0:t.allowManifestingSelf),altitude:(null==r?void 0:r.altitude)||(null==t?void 0:t.altitude)||14e3,extras:(null==r?void 0:r.extras)||(null==t?void 0:t.extras),id:(null==r?void 0:r.id)||(null==t?void 0:t.id)||void 0,isTandem:(null==r?void 0:r.isTandem)||(null==t?void 0:t.isTandem)},onSuccess:o}),a=i.control,s=i.loading,u=i.onSubmit,d=i.reset;l.useEffect((function(){n||d()}),[n,d]);var c=l.useMemo((function(){return[550,650]}),[]);return(0,Hn.jsx)(Hs,{open:n,loading:s,onClose:o,title:null!=r&&r.id?"Edit ticket":"New ticket",snapPoints:c,buttonAction:u,buttonLabel:"Save",children:(0,Hn.jsx)(df,{control:a})})}function hf(e){var n=e.control,t=Ut().dropzone.dropzone,r=Bs({dropzone:null==t?void 0:t.id}).ticketTypes,o=(0,Js.useWatch)({control:n}).ticketTypes;return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(ou,{control:n,label:"Name",name:"name",helperText:"Name of the ticket users will see"}),(0,Hn.jsx)(Ju,{control:n,label:"Price",name:"cost",helperText:"Cost to add this addon to a ticket"}),(0,Hn.jsxs)(f.default,{style:{width:"100%"},children:[(0,Hn.jsx)(uu.default,{children:"Compatible tickets"}),(0,Hn.jsx)(zu,{control:n,allowEmpty:!0,defaultValue:[],isSelected:function(e){return(null==o?void 0:o.map((function(e){return e.id})).includes(null==e?void 0:e.id))||!1},items:r,renderItemLabel:function(e){return e.name+" ("+e.cost+")"},name:"ticketTypes"})]})]})}function vf(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function yf(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?vf(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vf(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var bf=cs.object({id:cs.string().nullable().default(null),name:cs.string().required("Name is required"),cost:cs.number().required("Cost is required").min(0,"Cost must be greater than 0"),allowManifestingSelf:cs.boolean().default(!1),altitude:cs.number().required().default(14e3),ticketTypes:cs.array().of(cs.object()),isTandem:cs.boolean().default(!1)}),xf={name:"",cost:30,ticketTypes:[],id:void 0};function jf(e){var n=e.open,t=e.initial,r=e.original,o=e.onClose,i=function(e){var n=e.initial,t=e.onSuccess,r=l.useMemo((function(){return yf(yf({},xf),n)}),[n]),o=l.useState(r),i=(0,W.default)(o,2),a=i[0],s=i[1],u=(0,Js.useForm)({defaultValues:a,mode:"all",resolver:(0,kd.yupResolver)(bf),shouldUnregister:!1});l.useEffect((function(){(0,oe.isEqual)(a,r)||s(r)}),[a,r]);var d=u.reset,c=u.register;l.useEffect((function(){c("id")}),[c]),l.useEffect((function(){d(a)}),[a,d]);var f=u.handleSubmit,p=u.setError,m=Ut().dropzone.dropzone,g=Bs(),h=g.createTicketTypeAddon,v=g.updateTicketTypeAddon,y=Mn(),b=(0,Pd.default)(function(){var e=(0,S.default)((function*(e){if(null!=m&&m.id){var n=yield bf.validate(e,{abortEarly:!1});try{var r,o,i,l=e.id?yield v(Number(e.id),{name:n.name,cost:n.cost,ticketTypeIds:null==(r=n.ticketTypes)?void 0:r.map((function(e){return Number(e.id)}))}):yield h({name:n.name,cost:n.cost,ticketTypeIds:null==(o=n.ticketTypes)?void 0:o.map((function(e){return Number(e.id)}))});if(l)"fieldErrors"in l&&(null==(i=l.fieldErrors)||i.forEach((function(e){var n=e.field,t=e.message,r=(0,oe.camelCase)(n);Object.keys(a).includes(r)&&p(r,{message:t})}))),"ticketTypeAddon"in l&&l.ticketTypeAddon&&(y.success("Ticket addon saved"),null==t||t(l.ticketTypeAddon))}catch(Bn){Bn instanceof Error&&y.error(Bn.message)}}}));return function(n){return e.apply(this,arguments)}}(),[null==m?void 0:m.id,p,y,t,h,v,a]),x=(0,W.default)(b,2),j=x[0].loading,k=x[1],O=l.useMemo((function(){return f(k)}),[f,k]);return l.useMemo((function(){return yf(yf({},u),{},{onSubmit:O,loading:j})}),[u,O,j])}({initial:{name:(null==r?void 0:r.name)||(null==t?void 0:t.name),cost:(null==r?void 0:r.cost)||(null==t?void 0:t.cost),ticketTypes:(null==r?void 0:r.ticketTypes)||(null==t?void 0:t.ticketTypes)||[],id:(null==r?void 0:r.id)||(null==t?void 0:t.id)||void 0},onSuccess:o}),a=i.control,s=i.loading,u=i.onSubmit,d=l.useMemo((function(){return[550,650]}),[]);return(0,Hn.jsx)(Hs,{open:n,loading:s,onClose:o,title:null!=r&&r.id?"Edit ticket":"New ticket",snapPoints:d,buttonAction:u,buttonLabel:"Save",children:(0,Hn.jsx)(hf,{control:a})})}var kf=["children"];function Of(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function wf(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Of(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Of(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Sf=Zd(),Pf=Zd(),Cf=Zd(),Df=Zd();function Ef(e){var n=e.children,t=is((0,zt.default)(e,kf)),r=Sf(),o=Cf(),i=Df(),a=Pf(),s=l.useMemo((function(){return{aircraft:r,ticketType:o,ticketTypeAddon:i,createUser:a}}),[r,o,i,a]),u=l.useMemo((function(){return{dropzone:t,dialogs:s}}),[t,s]);return(0,Hn.jsxs)(Rt.Provider,{value:u,children:[n,(0,Hn.jsx)(Tc,wf(wf({},r.state),{},{onClose:r.close,open:r.visible})),(0,Hn.jsx)(gf,wf(wf({},o.state),{},{onClose:o.close,open:o.visible})),(0,Hn.jsx)(nf,wf(wf({},a.state),{},{onClose:a.close,open:a.visible})),(0,Hn.jsx)(jf,wf(wf({},i.state),{},{onClose:i.close,open:i.visible}))]})}function zf(e){var n=e.children,t=dn((function(e){return null==e?void 0:e.global})).currentDropzoneId;return(0,Hn.jsx)(as,{children:(0,Hn.jsx)(Ef,{dropzoneId:(null==t?void 0:t.toString())||void 0,children:(0,Hn.jsx)(sc,{dropzone:(null==t?void 0:t.toString())||void 0,children:n})})})}var Tf=t(67154),If=t(45949),Af=t(23637),Ff=t(27967),Rf=t(95136),Uf=t(97301),Bf=t(44445);function Lf(){return(Lf=(0,S.default)((function*(){var e=null;if(Bf.isDevice){var n=(yield Tf.getPermissionsAsync()).status,t=n;if("granted"!==n)t=(yield Tf.requestPermissionsAsync()).status;if("granted"!==t)return console.warn("Failed to get push token for push notification!"),null;e=(yield If.default()).data}else console.warn("Must use physical device for Push Notifications");return"android"===g.default.OS&&Af.default("default",{name:"default",importance:Ff.AndroidImportance.MAX,vibrationPattern:[0,250,250,250],lightColor:"#FF231F7C"}),e||null}))).apply(this,arguments)}function Mf(e){var n,t=e.children,r=dn((function(e){return e.global.expoPushToken})),o=Mn(),i=un(),a=Ut().dropzone,s=a.currentUser,u=a.loading,d=a.called,c=l.useRef(),f=l.useRef(),p=l.useCallback((function(e){var n=hn()(e.url).path();console.log(n)}),[]),m=ya(),h=(0,W.default)(m,1)[0];return l.useEffect((function(){if("web"!==g.default.OS&&Bf.isDevice){(function(){return Lf.apply(this,arguments)})().then((function(e){e&&i(rn.global.setExpoPushToken(e))})),c.current=Rf.addNotificationReceivedListener((function(e){e.request.content.body&&o.info(e.request.content.body)})),f.current=Rf.addNotificationResponseReceivedListener((function(e){}));var e=Uf.default.addEventListener("url",p);return function(){c.current&&Rf.removeNotificationSubscription(c.current),f.current&&Rf.removeNotificationSubscription(f.current),e.remove()}}}),[i,o,p]),l.useEffect((function(){var e,n=null==s||null==(e=s.user)?void 0:e.pushToken;!u&&null!=s&&s.id&&r&&r!==n&&h({variables:{dropzoneUser:s.id,pushToken:r}})}),[r,null==s?void 0:s.id,null==s||null==(n=s.user)?void 0:n.pushToken,u,d,h]),t}var Nf=t(42953),$f=t(13368),Vf=t(91875);const qf=function(e){var n=e.children,t=dn((function(e){return e.global})),r=un(),o=l.useMemo((function(){return(0,$f.default)({palette:{primary:t.palette.primary,secondary:t.palette.accent,background:{default:t.palette.background,paper:t.palette.surface},mode:t.theme.dark?"dark":"light",common:{white:t.palette.background,black:t.palette.onSurface}}})}),[t.palette.accent,t.palette.background,t.palette.onSurface,t.palette.primary,t.palette.surface,t.theme.dark]);return window.matchMedia("(prefers-color-scheme: dark)").addListener((function(e){r(rn.global.setAppearance(e.matches?"dark":"light"))})),(0,Hn.jsx)(Vf.default,{theme:t.theme,children:(0,Hn.jsx)(Nf.default,{theme:o,children:n})})};var Gf=t(69906),Wf=t(62915),_f=["useFonts","__metadata__"];function Hf(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Yf(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Hf(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hf(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Jf(e){var n=e.children,r=(Wf.useFonts,Wf.__metadata__,(0,zt.default)(Wf,_f)),o=Wf.useFonts(Yf({},r)),i=(0,W.default)(o,1)[0],a=l.useState(!1),s=(0,W.default)(a,2),u=s[0],d=s[1],c=l.useState(!1),p=(0,W.default)(c,2),m=p[0],h=p[1],v=l.useRef(null),y=Mn(),b=l.useCallback((0,S.default)((function*(){var e;"web"!==g.default.OS&&Bf.isDevice&&(null==(e=v.current)||e.play(),(yield ht.fetchUpdateAsync()).isNew&&(yield ht.reloadAsync(),h(!1),d(!1),y.success("New version installed")))})),[y]),x=l.useCallback((0,S.default)((function*(){"web"!==g.default.OS&&Bf.isDevice&&((yield ht.checkForUpdateAsync()).isAvailable&&b())})),[b]);return l.useEffect((function(){x()}),[x]),i?(0,Hn.jsxs)(f.default,{style:{flex:1},children:[n,u&&(0,Hn.jsxs)(Gf.default,{tint:"dark",style:Qf.blur,intensity:80,children:[(0,Hn.jsx)(Vd.default,{style:Qf.title,children:"A new update is available"}),(0,Hn.jsx)(Gn,{ref:v,style:{width:120,height:120},source:t(14215)}),(0,Hn.jsx)(bt.default,{disabled:m,loading:m,color:"#FFFFFF",style:Qf.button,mode:"outlined",onPress:function(){return b()},children:"Click to update"})]})]}):null}var Qf=Vn.default.create({blur:Yf(Yf({},Vn.default.absoluteFillObject),{},{alignItems:"center",justifyContent:"center"}),title:{color:"white",fontSize:24,fontWeight:"400",position:"absolute",top:100},button:{position:"absolute",bottom:100,borderColor:"white",borderRadius:20}}),Kf=t(77691);var Xf=t(65411),Zf=t(32058),ep=t(18385),np=t(88083),tp=t(22361),rp=t(39880),op=t(17534);function ip(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function lp(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ip(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ip(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ap=t(92727);var sp=t(20950);function up(){var e=dn((function(e){return e.imageViewer})),n=e.open,t=e.image,r=un();return n&&t?(0,Hn.jsx)(sp.default,{mainSrc:t,onCloseRequest:function(){return r(rn.imageViewer.close())}}):null}var dp=t(38496),cp=t(89566);function fp(e){var n=e.navigation;return(0,Hn.jsxs)(f.default,{style:pp.container,children:[(0,Hn.jsx)(Vd.default,{style:pp.title,children:"This screen doesn't exist."}),(0,Hn.jsx)(cd.default,{onPress:function(){return n.replace("Root")},style:pp.link,children:(0,Hn.jsx)(Vd.default,{style:pp.linkText,children:"Go to home screen!"})})]})}var pp=Vn.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),mp=t(99566),gp=t(25053),hp=t(5640),vp=t(30844);var yp=["style","lightColor","darkColor"];function bp(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function xp(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?bp(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bp(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function jp(e,n){var t="light",r=e[t];return r||Ve[t][n]}function kp(e){var n=e.style,t=e.lightColor,r=e.darkColor,o=(0,zt.default)(e,yp),i=jp({light:t,dark:r},"background");return(0,Hn.jsx)(f.default,xp({style:[{backgroundColor:i},n]},o))}var Op=["title","color","subtitle"];function wp(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Sp(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wp(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wp(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Pp(e){var n=e.title,t=e.color,r=e.subtitle,o=(0,zt.default)(e,Op),i=(0,$s.useTheme)();return(0,Hn.jsxs)(kp,Sp(Sp({},o),{},{style:Vn.default.flatten([Cp.empty,null==o?void 0:o.style]),children:[(0,Hn.jsx)(Fc.default,{style:{color:t||i.colors.onSurface},children:n}),(0,Hn.jsx)(vp.default,{style:{color:t||i.colors.onSurface,textAlign:"center"},children:r})]}))}var Cp=Vn.default.create({container:{flex:1,padding:8,display:"flex",backgroundColor:"transparent"},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignSelf:"center",alignItems:"center",justifyContent:"center",width:"100%",backgroundColor:"transparent",height:"100%"}}),Dp=t(1787),Ep=t(95899),zp=t(18838);function Tp(e){var n,t=e.dropzone,r=un(),i=dn((function(e){return e.global})),l=(0,ap.useNavigation)(),a=(null==t||null==(n=t.name)?void 0:n.split(/\s/))||[],s=[a.length>2?a[0]:null,a.length>2?a[1]:a[0],a.length>2?a[2]:null,2===a.length?a[1]:null],u=Fe()((null==t?void 0:t.primaryColor)||"#ffffff").desaturate(.2).lighten(.1),d=u.lighten(.35);return(0,Hn.jsx)(o.TouchableOpacity,{style:{alignSelf:"center"},onPress:(0,S.default)((function*(){if(t){var e=!!i.currentDropzoneId;r(rn.global.setDropzone(t)),e&&l.dispatch(ap.StackActions.replace("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"ManifestScreen"}}}))}})),children:null!=t&&t.banner?(0,Hn.jsx)(f.default,{style:Ip.cardContainer,children:(0,Hn.jsx)(Dp.default,{source:{uri:null==t?void 0:t.banner},style:Ip.banner,children:(0,Hn.jsx)(Ep.default,{style:Ip.title,numberOfLines:1,children:t.name})})}):(0,Hn.jsxs)(f.default,{style:[Ip.cardContainer,{backgroundColor:u.toString()}],children:[(0,Hn.jsx)(zp.default,{style:Ip.icon,icon:"airplane-takeoff",size:160,color:d.toString()}),(0,Hn.jsx)(f.default,{style:Ip.svgContainer,children:s.map((function(e){return(0,Hn.jsx)(Ep.default,{style:Ip.title,numberOfLines:1,adjustsFontSizeToFit:!0,allowFontScaling:!0,children:e})}))})]})})}var Ip=Vn.default.create({cardContainer:{margin:16,width:160,height:160,borderRadius:80,overflow:"hidden"},title:{fontStyle:"italic",fontFamily:"Roboto_700Bold_Italic",textAlign:"center",fontSize:26,color:"white",overflow:"visible",width:160},icon:{alignItems:"center",justifyContent:"center",backgroundColor:"transparent"},svgContainer:{position:"absolute",left:0,alignSelf:"center",justifyContent:"center",top:0,height:180,width:"100%"},banner:{width:"100%",height:"100%",borderRadius:80,alignItems:"center",justifyContent:"center"}});function Ap(){var e=un(),n=dn((function(e){return e.global})),t=ss(),r=t.dropzones,o=t.loading,i=t.refetch,l=(0,ap.useNavigation)();return(0,Hn.jsxs)(hp.SafeAreaView,{style:Fp.container,children:[(0,Hn.jsx)(mp.default,{data:r,numColumns:"web"===g.default.OS?3:2,refreshing:o,keyExtractor:function(e){return"dropzone-"+(null==e?void 0:e.id)},onRefresh:function(){return i()},style:Fp.flatlist,contentContainerStyle:Fp.content,ListEmptyComponent:function(){return(0,Hn.jsx)(Pp,{title:"No dropzones?",subtitle:"You can set one up!"})},renderItem:function(e){var n=e.item;return n?(0,Hn.jsx)(Tp,{dropzone:n}):null}}),(0,Hn.jsx)(gp.default,{style:[Fp.fab,{backgroundColor:n.theme.colors.primary}],small:!0,icon:"plus",onPress:function(){e(rn.forms.dropzone.reset()),l.navigate("Wizards",{screen:"DropzoneWizardScreen"})},label:"Create dropzone"})]})}var Fp=Vn.default.create({container:{flex:1,padding:8,display:"flex",flexGrow:1},flatlist:{flex:1,width:"100%",flexGrow:1},content:{flexGrow:1,width:"100%",paddingBottom:100,justifyContent:"center",alignItems:"center"},dzIcon:{height:150,alignItems:"center",justifyContent:"center"},fab:{position:"absolute",margin:32,right:16,bottom:0,backgroundColor:"#FFFFFF"},empty:{flex:1,backgroundColor:"#FF1414",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}}),Rp=(0,cp.default)();function Up(){return(0,Hn.jsx)(Rp.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}},initialRouteName:"DropzoneSelectScreen",children:(0,Hn.jsx)(Rp.Screen,{name:"DropzoneSelectScreen",component:Ap})})}var Bp,Lp=t(38631),Mp=t(34018);!function(e){e.Landscape="LANDSCAPE",e.Portrait="PORTRAIT"}(Bp||(Bp={}));const Np=t.p+"static/media/logo-black.36bb846120624e316306.png",$p=t.p+"static/media/logo-white.97bdff334c4c8adf80f4.png",Vp=t.p+"static/media/webb-dark.cc0e3dfa444c3c6e95f9.png",qp=t.p+"static/media/pattern.9f57eead46c958e76064.png";var Gp=t(68576);function Wp(e){var n=e.children,t=(0,$s.useTheme)();return(0,Hn.jsxs)(f.default,{style:_p.container,children:[(0,Hn.jsx)(du.default,{style:[_p.divider,{backgroundColor:t.colors.onSurface}]}),(0,Hn.jsx)(Ep.default,{style:_p.text,children:n}),(0,Hn.jsx)(du.default,{style:[_p.divider,{backgroundColor:t.colors.onSurface}]})]})}var _p=Vn.default.create({container:{display:"flex",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"center",marginVertical:16},divider:{flex:.4,backgroundColor:"white"},text:{flex:.2,textAlign:"center"}}),Hp=t(6616),Yp=t.n(Hp);function Jp(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Qp(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Jp(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Jp(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Kp(e){var n=dn((function(e){return e.global})).expoPushToken,t=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Kl,n)}(e),r=(0,W.default)(t,2),o=r[0],i=r[1],a=un(),s=Mn(),u=l.useCallback(function(){var e=(0,S.default)((function*(e){try{if("accessToken"in e){var t,r,i=(yield o({variables:{pushToken:n||null,token:e.accessToken}})).data;null!=i&&null!=(t=i.loginWithFacebook)&&t.authenticatable&&null!=i&&null!=(r=i.loginWithFacebook)&&r.credentials&&(a(rn.global.setCredentials(i.loginWithFacebook.credentials)),a(rn.global.setUser(i.loginWithFacebook.authenticatable)))}}catch(l){l instanceof Error&&s.error(l.message)}}));return function(n){return e.apply(this,arguments)}}(),[a,n,s,o]);return[u,i]}function Xp(e){var n=Mn(),t=e.onPress;return(0,Hn.jsx)(f.default,{style:{height:100},children:(0,Hn.jsx)(Yp(),Qp(Qp({appId:"686479516065674",reAuthenticate:!0,autoLoad:!0,fields:"email,name,picture",buttonStyle:{height:25,fontSize:14,display:"flex",alignItems:"center",justifyContent:"center",width:"100%",borderRadius:4,marginTop:16},onFailure:function(){n.error("Facebook authentication failed")}},e),{},{callback:t,textButton:"Login with Facebook"}))})}function Zp(){return(0,Hn.jsx)(f.default,{})}function em(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function nm(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?em(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):em(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var tm=cs.object({email:cs.string().required("Email is required").email("This is not a valid email"),password:cs.string().required("Password is required")}),rm={email:"",password:""};function om(){var e=un(),n=(0,Js.useForm)({defaultValues:rm,mode:"all",resolver:(0,kd.yupResolver)(tm)}),t=n.handleSubmit,r=l.useState(!1),o=(0,W.default)(r,2),i=(o[0],o[1],function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Ql,n)}()),a=(0,W.default)(i,2),s=a[0],u=a[1],d=Kp(),c=(0,W.default)(d,2),f=c[0],p=c[1],m=[function(){return null},null],g=(0,W.default)(m,2),h=g[0],v=g[1],y=Mn(),b=l.useCallback(function(){var n=(0,S.default)((function*(n){try{var t,r,o,i,l=yield s({variables:n});null!=l&&null!=(t=l.data)&&null!=(r=t.userLogin)&&r.authenticatable&&null!=l&&null!=(o=l.data)&&null!=(i=o.userLogin)&&i.credentials&&(e(rn.global.setCredentials(l.data.userLogin.credentials)),e(rn.global.setUser(l.data.userLogin.authenticatable)))}catch(a){a instanceof Error&&y.error(a.message)}}));return function(e){return n.apply(this,arguments)}}(),[e,s,y]),x=l.useMemo((function(){return t(b)}),[t,b]);return l.useMemo((function(){return nm(nm({},n),{},{onSubmit:x,loginWithFacebook:f,loginWithApple:h,loading:(null==p?void 0:p.loading)||(null==u?void 0:u.loading)||(null==v?void 0:v.loading)})}),[null==u?void 0:u.loading,h,null==v?void 0:v.loading,f,null==p?void 0:p.loading,n,x])}function im(){var e=(0,ap.useNavigation)(),n=(0,$s.useTheme)(),r=om(),i=r.control,l=r.onSubmit,a=r.loading,s=r.loginWithApple,u=r.loginWithFacebook;return(0,Hn.jsxs)(Gp.default,{children:[a?(0,Hn.jsx)(f.default,{style:lm.animationContainer,children:(0,Hn.jsx)(Gn,{autoPlay:!0,loop:!0,style:lm.loadingAnimation,source:t(14215)})}):(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(ou,{control:i,name:"email",label:"Email",mode:"outlined",disabled:a}),(0,Hn.jsx)(ou,{control:i,label:"Password",name:"password",mode:"outlined",disabled:a,secureTextEntry:!0,onSubmitEditing:l})]}),a?null:(0,Hn.jsx)(o.TouchableOpacity,{onPress:function(){return e.navigate("Wizards",{screen:"RecoverPasswordScreen"})},children:(0,Hn.jsx)(Vd.default,{style:n.dark?lm.forgotPasswordDark:lm.forgotPassword,children:"Forgot your password?"})}),(0,Hn.jsx)(bt.default,{mode:"contained",disabled:a,labelStyle:{color:n.colors.onSurface},style:[lm.button,{backgroundColor:n.colors.surface,borderColor:n.colors.surface}],onPress:l,children:a?"Authenticating...":"Log in"}),(0,Hn.jsx)(Wp,{children:"or"}),(0,Hn.jsx)(Xp,{disabled:a,style:{marginTop:8},onPress:u}),(0,Hn.jsx)(Zp,{onPress:s,style:{width:"100%",flex:1}}),(0,Hn.jsx)(bt.default,{labelStyle:lm.textButtonLabel,style:lm.textButton,onPress:function(){return e.navigate("Unauthenticated",{screen:"SignUpScreen"})},children:"Sign up"})]})}var lm=Vn.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",paddingTop:10},logo:{height:300,width:"100%"},card:{padding:16,borderRadius:8},cardLandscape:{height:"100%",width:"100%",justifyContent:"center"},animationContainer:{width:"100%",height:200,alignItems:"center",justifyContent:"center"},loadingAnimation:{alignSelf:"center",marginTop:24,marginBottom:32,height:156,width:"100%"},title:{fontSize:20,fontWeight:"bold"},forgotPassword:{marginBottom:16,color:"rgb(50, 50, 50)"},forgotPasswordDark:{marginTop:8,color:"rgb(180, 180, 180)"},fields:{marginBottom:10,marginTop:-50,maxWidth:400,width:"100%",paddingHorizontal:56,backgroundColor:"transparent"},fieldsLandscape:{position:"absolute",left:0,top:0,height:"100%",alignItems:"center",justifyContent:"center",width:400},button:{marginVertical:4,backgroundColor:"white",borderColor:$e,borderWidth:1,width:"100%"},textButton:{marginTop:10,height:56,backgroundColor:"transparent",color:"white",width:"100%"},textButtonLabel:{}});function am(){var e=(0,$s.useTheme)(),n=function(){var e=(0,jt.default)(),n=e.width,t=e.height,r=(0,l.useMemo)((function(){return n>t?Bp.Landscape:Bp.Portrait}),[t,n]);return(0,l.useMemo)((function(){return{width:n,height:t,orientation:r}}),[t,r,n])}(),t=n.orientation;return(0,Hn.jsx)(Dp.default,{source:e.dark?Vp:qp,style:sm.container,resizeMode:"repeat",children:t===Bp.Portrait?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(Lp.default,{source:e.dark?$p:Np,style:sm.logo,resizeMode:"contain"}),(0,Hn.jsx)(Mp.default,{style:sm.fields,behavior:"android"===g.default.OS?void 0:"padding",children:(0,Hn.jsx)(vt.default,{style:sm.card,elevation:3,children:(0,Hn.jsx)(vt.default.Content,{children:(0,Hn.jsx)(im,{})})})})]}):(0,Hn.jsx)(Mp.default,{style:sm.fieldsLandscape,behavior:"android"===g.default.OS?void 0:"padding",children:(0,Hn.jsxs)(vt.default,{style:sm.cardLandscape,elevation:3,children:[(0,Hn.jsx)(Lp.default,{source:e.dark?$p:Np,style:sm.logo,resizeMode:"contain"}),(0,Hn.jsx)(vt.default.Content,{children:(0,Hn.jsx)(im,{})})]})})})}var sm=Vn.default.create({container:{flex:1,alignItems:"center",justifyContent:"center",paddingTop:10},logo:{height:300,width:"100%"},card:{padding:16,borderRadius:8},cardLandscape:{height:"100%",width:"100%",justifyContent:"center"},fields:{marginBottom:10,marginTop:-50,maxWidth:400,width:"100%",paddingHorizontal:56,backgroundColor:"transparent"},fieldsLandscape:{position:"absolute",left:0,top:0,height:"100%",alignItems:"center",justifyContent:"center",width:400}}),um=["style","children","fullWidth","scrollable","contentContainerStyle"];function dm(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function cm(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?dm(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dm(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const fm=l.forwardRef((function(e,n){var t=(0,jt.default)(),r=(t.height,t.width),o=dn((function(e){return e.global})).theme,i=e.style,l=e.children,a=e.fullWidth,s=void 0!==a&&a,u=e.scrollable,d=void 0===u||u,c=e.contentContainerStyle,p=(0,zt.default)(e,um);return d?(0,Hn.jsx)(Gp.default,cm(cm({},p),{},{ref:n,keyboardDismissMode:"on-drag",keyboardShouldPersistTaps:"handled",contentInsetAdjustmentBehavior:"always",style:Vn.default.flatten([pm.container,{backgroundColor:o.colors.background},i]),contentContainerStyle:Vn.default.flatten([pm.content,s?{paddingHorizontal:0}:{width:r<920?"100%":920,paddingHorizontal:16},c].filter(Boolean)),children:l})):(0,Hn.jsx)(f.default,{style:{flex:1,width:"100%"},children:l})}));var pm=Vn.default.create({container:{flex:1},content:{alignItems:"flex-start",alignSelf:"center",flexGrow:1,paddingBottom:50},centerAlignedContent:{maxWidth:920}}),mm=t(33249),gm=t(36568);function hm(e){var n=e.children,t=e.rightAction,r=e.disabled,i=l.useRef();return(0,Hn.jsx)(gm.default,{ref:i,enabled:!r,renderRightActions:function(e,n){var r=n.interpolate({inputRange:[-100,0],outputRange:[1,0]}),l=n.interpolate({inputRange:[-150,0],outputRange:[0,10]});return(0,Hn.jsx)(o.TouchableOpacity,{onPress:function(){var e;null==t||t.onPress(),null==i||null==(e=i.current)||e.close()},style:{height:"100%"},children:(0,Hn.jsx)(mm.default.View,{style:{flexGrow:1,backgroundColor:null==t?void 0:t.backgroundColor,justifyContent:"center",height:"100%",width:75,transform:[{translateX:l}]},children:(0,Hn.jsx)(mm.default.Text,{style:{color:"white",paddingHorizontal:10,fontWeight:"600",transform:[{scale:r}]},children:null==t?void 0:t.label})})})},childrenContainerStyle:{height:"100%"},useNativeAnimations:!0,children:n})}function vm(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ym(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?vm(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vm(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const bm=function(e){var n=e.style,t=dn((function(e){return e.global.palette}));return(0,Hn.jsx)(Vd.default,ym(ym({},e),{},{style:n,children:(0,Hn.jsx)("span",ym(ym({},e),{},{style:{opacity:1,background:"linear-gradient(45deg, "+t.primary.dark+", "+t.primary.main+")","-webkit-background-clip":"text","-webkit-text-fill-color":"transparent","background-clip":"text"}}))}))};function xm(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function jm(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xm(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xm(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function km(e){var n=e.children;return(0,Hn.jsx)(Mp.default,{style:wm.fields,behavior:"android"===g.default.OS?void 0:"padding",children:(0,Hn.jsx)(f.default,{style:wm.fieldContent,children:n})})}function Om(e){var n=e.children,t=e.title,r=e.actions,i=e.hideContentUntilNavigatedTo,l=dn((function(e){return e.global.theme}));return!(0,ap.useIsFocused)()&&i?null:(0,Hn.jsxs)(o.ScrollView,{style:[wm.container,{backgroundColor:l.colors.background}],contentContainerStyle:wm.content,children:[t&&(0,Hn.jsx)(f.default,{style:wm.title,children:(0,Hn.jsx)(f.default,{children:(0,Hn.jsx)(bm,{style:{marginTop:16,textAlign:"left",fontWeight:"bold",fontSize:72},children:t})})}),(0,Hn.jsx)(f.default,{style:{width:"100%",alignItems:"center",justifyContent:"center"},children:n}),r]})}var wm=Vn.default.create({container:jm(jm({},Vn.default.absoluteFillObject),{},{position:"absolute",top:0,left:0,right:0,bottom:0,flexDirection:"column"}),content:{flexGrow:1,alignItems:"center",justifyContent:"space-evenly"},title:{minWidth:400,maxWidth:500,alignSelf:"center",paddingLeft:32,marginBottom:56},fields:{minWidth:400,maxWidth:500,flexDirection:"row",alignItems:"center",justifyContent:"center",padding:32},fieldContent:{flexDirection:"column",flexGrow:1}}),Sm=t(36343);function Pm(e){var n=e.count,t=e.index,r=dn((function(e){return e.global.palette}));return(0,Hn.jsx)(f.default,{style:{flexDirection:"row"},children:Array.from({length:n}).map((function(e,n){return(0,Hn.jsx)(f.default,{style:[n===t?Cm.activeDot:Cm.inactiveDot,{backgroundColor:n===t?r.primary.main:r.primary.light}]},"paginatiom-dot-"+n)}))})}var Cm=Vn.default.create({inactiveDot:{width:6,height:6,marginTop:1,marginLeft:2,marginRight:2,borderRadius:3},activeDot:{width:8,height:8,marginLeft:2,marginRight:2,borderRadius:4}});function Dm(e){var n=e.backLabel,t=void 0===n?"Back":n,r=e.loading,o=e.nextLabel,i=void 0===o?"Next":o,a=e.onNext,s=e.onBack,u=l.useState(!1),d=(0,W.default)(u,2),c=d[0],p=d[1],m=dn((function(e){return e.global})).palette,g=l.useCallback((0,S.default)((function*(){try{yield null==a?void 0:a()}catch(e){return}finally{p(!1)}})),[a]);return(0,Hn.jsxs)(f.default,{style:Em.actions,children:[g&&(0,Hn.jsx)(bt.default,{disabled:c||r,loading:c||r,onPress:g,style:[Em.next,{backgroundColor:m.placeholder}],mode:"contained",children:i||"Next"}),s&&(0,Hn.jsx)(bt.default,{style:Em.back,disabled:c||r,mode:"text",onPress:s,children:t})]})}var Em=Vn.default.create({actions:{alignSelf:"center",alignItems:"center",justifyContent:"center",padding:16,paddingBottom:48,width:"100%",maxWidth:500,height:80},next:{width:"100%",borderRadius:20,minWidth:300,minHeight:36},back:{minHeight:36}});var zm=Vn.default.create({dots:{alignSelf:"center",minWidth:400,maxWidth:500,flexDirection:"row",alignItems:"center",justifyContent:"center",marginTop:48,zIndex:1100},actions:{alignSelf:"center",alignItems:"center",justifyContent:"center",padding:16,paddingBottom:48},next:{width:"100%",borderRadius:20,minWidth:300},content:{flexGrow:1}});const Tm=l.forwardRef((function(e,n){var t=e.steps,r=e.dots,o=e.currentIndex,i=l.useState(0),a=(0,W.default)(i,2),s=a[0],u=a[1],d=l.useMemo((function(){return void 0!==o?o:s}),[s,o]),c=(0,ap.useNavigation)(),p=l.useState({width:0,height:0,x:0,y:0}),m=(0,W.default)(p,2),h=m[0],v=m[1],y=l.useRef(null),b=(0,jt.default)();l.useImperativeHandle(n,(function(){return{next:function(){var e;return null==(e=y.current)?void 0:e.next()},prev:function(){var e;return null==(e=y.current)?void 0:e.prev()},getCurrentIndex:function(){var e;return(null==(e=y.current)?void 0:e.getCurrentIndex())||0},scrollTo:function(e){var n;return null==(n=y.current)?void 0:n.scrollTo(e)}}}));var x=l.useCallback(function(){var e=(0,S.default)((function*(){var e,n,r;null!=(e=t[d])&&e.onNext&&(yield null==(n=t[d])||null==n.onNext?void 0:n.onNext(c));d===t.length-1?c.goBack():(null==y||null==(r=y.current)||r.next(),u(d+1))}));return function(){return e.apply(this,arguments)}}(),[d,c,t]),j=l.useCallback(function(){var e=(0,S.default)((function*(){var e,n;(null==(e=t[d])||null==e.onBack||e.onBack(),0===d)?c.goBack():(null==y||null==(n=y.current)||n.prev(),u(d-1||0))}));return function(){return e.apply(this,arguments)}}(),[d,c,t]),k=l.useCallback((function(e){v(e.nativeEvent.layout)}),[]),O=h.width;return h.height,(0,Hn.jsxs)(Mp.default,{style:Vn.default.absoluteFill,behavior:"android"===g.default.OS?void 0:"padding",onLayout:k,children:[r?(0,Hn.jsx)(f.default,{style:zm.dots,children:(0,Hn.jsx)(Pm,{count:t.length,index:d})}):null,(0,Hn.jsx)(Sm.default,{autoPlay:!1,loop:!1,modeConfig:{parallaxScrollingScale:1,parallaxScrollingOffset:32},pagingEnabled:!1,enabled:!1,panGestureHandlerProps:{activeOffsetX:[-O,O]},mode:"parallax",style:Vn.default.absoluteFill,data:t,width:O||b.width,onSnapToItem:u,ref:y,renderItem:function(e){var n=e.item;if(!n)return(0,Hn.jsx)(f.default,{});var r=n.component;return(0,Hn.jsx)(r,{actions:(0,Hn.jsx)(Dm,{nextLabel:d===t.length-1?"Done":"Next",backLabel:"Back",onNext:x,onBack:j})})}})]})}));var Im,Am=t(72003);function Fm(e){return(0,Am.passwordStrength)(e,[{value:Im.TooWeak,id:0,minDiversity:0,minLength:0},{value:Im.Weak,id:1,minDiversity:2,minLength:8},{value:Im.Acceptable,id:2,minDiversity:3,minLength:10},{value:Im.Strong,id:3,minDiversity:4,minLength:16}]).value}!function(e){e[e.TooWeak=0]="TooWeak",e[e.Weak=1]="Weak",e[e.Acceptable=2]="Acceptable",e[e.Strong=3]="Strong"}(Im||(Im={}));var Rm=Vn.default.create({title:{fontWeight:"bold",marginLeft:4,marginTop:8},indicator:{flexDirection:"row",height:12,borderRadius:8,overflow:"hidden",marginTop:8},indicatorInactive:{backgroundColor:"#AAA"},indicatorWeak:{flex:1/3,backgroundColor:Le},indicatorOk:{flex:2/3,backgroundColor:Me},indicatorStrong:{backgroundColor:Be,flex:1}});const Um=function(e){var n=e.strength,t=[Rm.indicatorWeak,Rm.indicatorOk,Rm.indicatorStrong];return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(Vd.default,{style:Rm.title,children:["Too weak","Weak","Acceptable","Strong"][n]}),(0,Hn.jsxs)(f.default,{style:Rm.indicator,children:[(0,Hn.jsx)(f.default,{style:t[n]}),n<Im.Acceptable?(0,Hn.jsx)(f.default,{style:[Rm.indicatorInactive,{flex:1/3}]}):null,[Im.Weak,Im.Acceptable].includes(n)?(0,Hn.jsx)(f.default,{style:[Rm.indicatorInactive,{flex:n<Im.Acceptable?1/3:.5}]}):null]})]})};function Bm(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Lm(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Bm(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bm(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Mm=function(e){var n=(0,Js.useFormContext)().control,t=(0,Js.useWatch)({control:n}).password;return(0,Hn.jsx)(Om,Lm(Lm({},e),{},{title:"Password",children:(0,Hn.jsxs)(km,{children:[(0,Hn.jsx)(ou,{name:"password",control:n,mode:"flat",label:"Password",textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",style:{width:"100%",backgroundColor:"transparent",fontSize:32,height:70}}),(0,Hn.jsx)(Um,{strength:Fm(t)})]})}))};function Nm(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function $m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Nm(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Nm(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Vm=function(e){var n=(0,Js.useFormContext)().control;return(0,Hn.jsx)(Om,$m($m({},e),{},{title:"Email",children:(0,Hn.jsx)(km,{children:(0,Hn.jsx)(ou,{control:n,name:"email",mode:"flat",label:"Email",style:{width:"100%",backgroundColor:"transparent",fontSize:32,height:70}})})}))};function qm(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Gm(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?qm(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qm(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Wm=function(e){var n=(0,Js.useFormContext)().control;return(0,Hn.jsx)(Om,Gm(Gm({},e),{},{title:"Repeat password",children:(0,Hn.jsx)(km,{children:(0,Hn.jsx)(ou,{control:n,mode:"flat",label:"Password",name:"passwordConfirmation",textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",style:{width:"100%",backgroundColor:"transparent",fontSize:32,height:70}})})}))};function _m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Hm(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_m(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Ym=function(e){return(0,Hn.jsx)(Om,Hm(Hm({},e),{},{title:"Check your email",children:(0,Hn.jsx)(km,{children:(0,Hn.jsx)(vp.default,{children:"Click the link in the email we sent to you to confirm your account."})})}))};function Jm(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Qm(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Jm(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Jm(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Km,Xm=cs.object().shape({step:cs.number().default(0),name:cs.string().default(""),email:cs.string().when("step",{is:function(e){return e>=0},then:cs.string().required("Email is required").min(3).email("Please enter a valid email")}),password:cs.string().default("").when("step",{is:function(e){return e>=1},then:cs.string().required("Password is required").test({test:function(e){return Fm(e||"")>=Im.Acceptable},message:"Password is too weak",name:"password-complexity"})}),passwordConfirmation:cs.string().default("").when("step",{is:function(e){return e>=2},then:cs.string().required("Password confirmation is required").oneOf([cs.ref("password"),null],"Passwords must match")})}),Zm={step:0,name:"",email:"",password:"",passwordConfirmation:""};function eg(e){var n=e.onSuccess,t=l.useState(!1),r=(0,W.default)(t,2),o=r[0],i=r[1],a=dn((function(e){return e.global})),s=Mn(),u=(0,Js.useForm)({defaultValues:Zm,mode:"all",resolver:(0,kd.yupResolver)(Xm)});l.useEffect((function(){u.reset(Zm)}),[u]);var d=u.setError,c=u.setValue,f=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(xa,n)}(),p=(0,W.default)(f,1)[0],m=l.useCallback(function(){var e=(0,S.default)((function*(e){try{var t,r,o;if(e.step!==Km.PasswordConfirmation)return c("step",e.step+1);i(!0);var l,u,f=(yield p({variables:{pushToken:a.expoPushToken,email:e.email,name:e.name,password:e.password,exitWeight:60,phone:"",passwordConfirmation:e.passwordConfirmation}})).data;if(null!=f&&null!=(t=f.userRegister)&&t.fieldErrors)null==f||null==(l=f.userRegister)||null==(u=l.fieldErrors)||u.forEach((function(e){var n=e.field,t=e.message;d((0,oe.camelCase)(n),{type:"custom",message:t})}));null!=f&&null!=(r=f.userRegister)&&null!=(o=r.authenticatable)&&o.id&&(null==n||n())}catch(Bn){if(Bn instanceof Error)throw s.error(Bn.message),new Error}}));return function(n){return e.apply(this,arguments)}}(),[c,p,a.expoPushToken,d,n,s]);return l.useMemo((function(){return Qm(Qm({},u),{},{onNext:u.handleSubmit(m,(function(){return Promise.reject()})),loading:o})}),[u,m,o])}!function(e){e[e.Email=0]="Email",e[e.Password=1]="Password",e[e.PasswordConfirmation=2]="PasswordConfirmation"}(Km||(Km={}));var ng=["onNext"];function tg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function rg(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?tg(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tg(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function og(){var e=Mn(),n=(0,ap.useNavigation)(),t=eg({onSuccess:function(){e.success("A confirmation link has been sent to your email"),n.navigate("Unauthenticated",{screen:"LoginScreen"})}}),r=t.onNext,o=(0,zt.default)(t,ng);return(0,Hn.jsx)(Js.FormProvider,rg(rg({},o),{},{children:(0,Hn.jsx)(Tm,{dots:!0,steps:[{onNext:r,component:Vm},{onNext:r,component:Mm},{onNext:r,component:Wm},{component:Ym}]})}))}function ig(){return(0,Hn.jsx)(fm,{children:(0,Hn.jsx)(og,{})})}var lg=(0,cp.default)();function ag(){return(0,Hn.jsxs)(lg.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1},presentation:"modal"},children:[(0,Hn.jsx)(lg.Screen,{name:"LoginScreen",component:am}),(0,Hn.jsx)(lg.Screen,{name:"SignUpScreen",component:ig})]})}var sg=Vn.default.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},title:{color:"white",marginBottom:100,fontSize:24,fontWeight:"bold"},card:{padding:16,marginVertical:4,flex:1,opacity:.5},active:{opacity:1}});const ug=l.memo((function(e){var n=e.items,t=e.selected,r=e.isSelected,o=e.renderItemLabel,i=e.onChangeSelected,a=e.autoSelectFirst;return l.useEffect((function(){(!t||!t.length&&n.length&&a)&&i([n[0]])}),[t,a,i,n]),(0,Hn.jsx)(mp.default,{data:n,contentContainerStyle:{paddingBottom:120},keyExtractor:function(e){return JSON.stringify(e)},renderItem:function(e){var n=e.item,l=r?r(n):t.some((function(e){return(0,oe.isEqual)(n,e)}));return(0,Hn.jsx)(vt.default,{style:[sg.card,l?sg.active:void 0],onPress:function(){return i(1===t.length?[n]:(0,oe.xorBy)(t,[n],JSON.stringify))},children:(0,Hn.jsx)(vt.default.Title,{title:o(n)})})}})}),(function(e,n){return(0,oe.isEqual)((0,oe.pick)(e,["isDisabled","isSelected","items","selected"]),(0,oe.pick)(n,["isDisabled","isSelected","items","selected"]))}));var dg=t(22303),cg=t.n(dg);function fg(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ot(),t=(0,l.useRef)([]);return function(e,n,t){try{return t(e,n)}catch(r){return ot()(e,n)}}(e,t.current,n)||(t.current=e),t.current}function pg(e,n){var t=fg(n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:cg());return l.useMemo(e,t)}function mg(e,n,t){var r=fg(n,t);l.useEffect(e,r)}t(40508);function gg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function hg(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?gg(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gg(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var vg=cs.object({hasRig:cs.boolean().default(!1)});const yg=function(e){var n=(0,Js.useFormContext)().control;return(0,Hn.jsx)(Om,hg(hg({},e),{},{title:"Got a rig?",children:(0,Hn.jsx)(km,{children:(0,Hn.jsx)(Js.Controller,{control:n,name:"hasRig",render:function(e){var n=e.field,t=n.onChange,r=n.value;return(0,Hn.jsx)(ug,{items:[{value:!0,label:"I have my own rig"},{value:!1,label:"I dont have my own rig"}],renderItemLabel:function(e){return e.label},onChangeSelected:function(e){return t(null==e?void 0:e[0].value)},isSelected:function(e){var n=e.value;return r===n},selected:[!1===r?{value:!1,label:"I dont have my own rig"}:{value:!0,label:"I have my own rig"}]})}})})}))};var bg=t(39002),xg=t(11548),jg=t(92482);function kg(){return l.useCallback((0,S.default)((function*(){"web"!==g.default.OS&&("granted"!==(yield xg.requestMediaLibraryPermissionsAsync()).status&&console.error("Sorry, we need camera roll permissions to make this work!"));var e=yield xg.launchImageLibraryAsync({mediaTypes:jg.MediaTypeOptions.Images,allowsEditing:!0,aspect:[4,3],quality:.1,base64:!0});return null==e?void 0:e.base64})),[])}function Og(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function wg(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Og(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Og(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Sg=cs.object({avatar:cs.string().nullable().default(null)});var Pg=Vn.default.create({avatarContainer:{marginBottom:100,alignItems:"center",justifyContent:"center"},paragraph:{marginTop:16}});const Cg=function(e){var n=(0,Js.useFormContext)().control,t=(0,$s.useTheme)(),r=kg();return(0,Hn.jsx)(Om,wg(wg({},e),{},{title:"Avatar",children:(0,Hn.jsx)(km,{children:(0,Hn.jsxs)(f.default,{style:Pg.avatarContainer,children:[(0,Hn.jsx)(Js.Controller,{control:n,name:"avatar",render:function(e){var n=e.field,o=n.value,i=n.onChange;return(0,Hn.jsx)(bg.default,{onPress:(0,S.default)((function*(){try{var e=yield r();e&&i("data:image/jpeg;base64,"+e)}catch(n){console.log(n)}})),children:o?(0,Hn.jsx)(rd.default,{size:175,source:{uri:o},style:{backgroundColor:t.colors.primary}}):(0,Hn.jsx)(zp.default,{size:175,icon:"camera"})})}}),(0,Hn.jsx)(vp.default,{style:Pg.paragraph,children:"Press to upload a photo"})]})})}))};function Dg(e){var n=e.value,t=e.onSelect,r=Ua().data;return(0,Hn.jsx)(ug,{autoSelectFirst:!0,items:(null==r?void 0:r.federations)||[],selected:[n].filter(Boolean),isSelected:function(e){return e.id===(null==n?void 0:n.id)},renderItemLabel:function(e){return null==e?void 0:e.name},onChangeSelected:function(e){var n=(0,W.default)(e,1)[0];return n?t(n):null}})}function Eg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function zg(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Eg(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Eg(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Tg=cs.object(),Ig=cs.object({federation:Tg.nullable().default(null)});const Ag=function(e){var n=(0,Js.useFormContext)().control;return(0,Hn.jsx)(Om,zg(zg({},e),{},{title:"Affiliation",children:(0,Hn.jsx)(km,{children:(0,Hn.jsx)(Js.Controller,{control:n,name:"federation",render:function(e){var n,t=e.field,r=t.value,o=t.onChange,i=e.fieldState;return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(Dg,{value:r,onSelect:o}),(0,Hn.jsx)(yt.default,{type:null!=i&&i.error?"error":"info",children:(null==i||null==(n=i.error)?void 0:n.message)||""})]})}})})}))};function Fg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Rg(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Fg(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fg(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}cs.object();var Ug=cs.object({apfNumber:cs.string().nullable().default("")});const Bg=function(e){var n,t=(0,Js.useFormContext)().control,r=(0,Js.useWatch)({control:t}),o=(r.apfNumber,r.federation);return(0,Hn.jsx)(Om,Rg(Rg({},e),{},{title:(null==o||null==(n=o.name)?void 0:n.toUpperCase())+" Number",children:(0,Hn.jsx)(km,{children:(0,Hn.jsx)(ou,{control:t,name:"apfNumber",mode:"flat",style:{backgroundColor:"transparent",fontSize:32,height:70},label:(null==o?void 0:o.name)+" ID"})})}))};function Lg(e){var n=e.federationId,t=e.onSelect,r=e.value,o=$a({variables:{federationId:n}}).data;return(0,Hn.jsx)(ug,{autoSelectFirst:!0,items:(null==o?void 0:o.licenses)||[],selected:[r].filter(Boolean),isSelected:function(e){return e.id===(null==r?void 0:r.id)},renderItemLabel:function(e){return null==e?void 0:e.name},onChangeSelected:function(e){var n=(0,W.default)(e,1)[0];return n?t(n):null}})}function Mg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ng(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Mg(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mg(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}cs.object();var $g=cs.object(),Vg=cs.object({license:$g.nullable().default(null)});const qg=function(e){var n=(0,Js.useFormContext)().control,t=(0,Js.useWatch)({control:n}).federation;return(0,Hn.jsx)(Om,Ng(Ng({},e),{},{title:"License",children:(0,Hn.jsx)(km,{children:(null==t?void 0:t.id)&&(0,Hn.jsx)(Js.Controller,{control:n,name:"license",render:function(e){var n,r=e.field,o=r.value,i=r.onChange,l=e.fieldState;return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(Lg,{value:o,onSelect:i,federationId:Number(null==t?void 0:t.id)}),(0,Hn.jsx)(yt.default,{type:l.error?"error":"info",children:(null==(n=l.error)?void 0:n.message)||""})]})}})})}))};function Gg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Wg(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Gg(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gg(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _g=cs.object({nickname:cs.string().nullable().default(null)});const Hg=function(e){var n=(0,Js.useFormContext)().control;return(0,Hn.jsx)(Om,Wg(Wg({},e),{},{title:"Nickname",children:(0,Hn.jsx)(km,{children:(0,Hn.jsx)(ou,{control:n,name:"nickname",mode:"flat",label:"Nickname",style:{backgroundColor:"transparent",fontSize:32,height:70}})})}))};function Yg(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Jg(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Yg(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yg(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Qg=cs.object({name:cs.string().required("Please enter your full name, including surname").test({name:"fullName",test:function(e){return console.debug("VALIDATING NAME",e),/\w+\s\w+/.test(e||"")},message:"Please enter your full name, including surname"})});const Kg=function(e){var n=(0,Js.useFormContext)().control;return(0,Hn.jsx)(Om,Jg(Jg({},e),{},{title:"Real name",children:(0,Hn.jsx)(km,{children:(0,Hn.jsx)(ou,{control:n,defaultValue:"",name:"name",mode:"flat",label:"Name",style:{backgroundColor:"transparent",fontSize:32,height:70}})})}))};var Xg=t(71090),Zg=t.n(Xg);t(38009);function eh(e){var n=e.disabled,t=e.label,r=e.value,o=e.onChange,i=l.useState(!1),a=(0,W.default)(i,2),s=a[0],u=a[1],d=l.useCallback((function(){return(0,Hn.jsx)(cc.default,{icon:"calendar"})}),[]);return(0,Hn.jsx)(hd,{open:s,setOpen:u,anchor:(0,Hn.jsx)(dc.default,{onPress:function(){return u(!0)},disabled:!!n,title:t,description:r?(0,uc.default)(1e3*r,"yyyy/MM/dd"):"No date selected",left:d}),children:(0,Hn.jsx)(f.default,{style:{zIndex:1500},children:(0,Hn.jsx)(Zg(),{selectedDays:r?[new Date(1e3*r)]:[],onDayClick:function(e){o(e.getTime()/1e3),u(!1)}})})})}var nh=Zs(eh);function th(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function rh(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?th(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):th(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var oh=cs.object({repackExpiresAt:cs.number().required("Please enter the date of your next repack").transform((function(e){return console.debug("Transforming repackExpiresAt",e,Number(e)),e?Number(e):void 0}))});var ih=Vn.default.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},title:{color:"white",fontSize:24,fontWeight:"bold",marginBottom:80,textAlign:"center"}});const lh=function(e){var n=(0,Js.useFormContext)().control;return(0,Hn.jsx)(Om,rh(rh({},e),{},{title:"Next reserve repack?",children:(0,Hn.jsx)(km,{children:(0,Hn.jsxs)(vt.default,{style:ih.card,children:[(0,Hn.jsx)(uu.default,{children:"Due date"}),(0,Hn.jsx)(nh,{control:n,name:"repackExpiresAt",label:"Reserve repack due date"})]})})}))};var ah=t(97169);function sh(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function uh(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?sh(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):sh(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var dh=cs.object({rigId:cs.string().nullable().default(null),make:cs.string().required("Please select a manufacturer").default("Icon"),model:cs.string().required("Please enter the model of your container"),serial:cs.string().required("Serial number makes it faster to identify and inspect your container")});var ch=Vn.default.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8,backgroundColor:"transparent",marginVertical:16},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{marginVertical:8},title:{color:"white",marginBottom:16,fontSize:24,fontWeight:"bold"}});const fh=function(e){var n=(0,Js.useFormContext)().control,t=l.useState(!1),r=(0,W.default)(t,2),o=r[0],i=r[1];return(0,Hn.jsx)(Om,uh(uh({},e),{},{title:"Your rig",children:(0,Hn.jsxs)(km,{children:[(0,Hn.jsx)(Js.Controller,{control:n,name:"make",render:function(e){var n=e.field,t=n.value,r=n.onChange;e.fieldState;return(0,Hn.jsx)(Hn.Fragment,{children:(0,Hn.jsx)(vd,{label:"Manufacturer",onChange:function(e){i("other"===e),r(e)},value:t,options:["Icon","Javelin","Mirage","Vector / UPT","PA (Talon)","Infinity","Parachutes de France","Parachute Systems","Racer"].map((function(e){return{label:e,value:e}})).concat([{label:"Other",value:"other"}])})})}}),o?(0,Hn.jsx)(ah.default,{style:ch.card,children:(0,Hn.jsx)(ou,{control:n,name:"make",style:{backgroundColor:"transparent"},mode:"flat",label:"Other manufacturer"})}):null,(0,Hn.jsx)(ah.default,{style:ch.card,children:(0,Hn.jsx)(ou,{control:n,name:"model",style:{backgroundColor:"transparent"},mode:"flat",label:"Model"})}),(0,Hn.jsx)(ah.default,{style:ch.card,children:(0,Hn.jsx)(ou,{control:n,name:"serial",style:{backgroundColor:"transparent"},mode:"flat",label:"Serial number"})})]})}))};function ph(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function mh(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ph(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ph(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var gh=cs.object({canopySize:cs.number().required("Please enter your canopy size in square feet"),exitWeight:cs.number().required("Enter your exit weight").default(70)});var hh=Vn.default.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,paddingRight:16,marginVertical:16},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:50,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginVertical:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}});const vh=function(e){var n=(0,Js.useFormContext)().control,t=(0,Js.useWatch)({control:n}),r=t.canopySize,o=t.exitWeight;return(0,Hn.jsx)(Om,mh(mh({},e),{},{title:"Wing Loading",children:(0,Hn.jsxs)(km,{children:[(0,Hn.jsxs)(f.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,Hn.jsx)(f.default,{style:hh.wingLoadingCardLeft,children:(0,Hn.jsx)(td.default,{label:(0,oe.ceil)(2.205*Number(o||50)/Number(r||150),2).toString(),size:100,style:hh.wingLoading})}),(0,Hn.jsxs)(f.default,{style:hh.wingLoadingCardRight,children:[(0,Hn.jsx)(vt.default.Title,{title:"Your wingloading",style:{paddingLeft:0}}),(0,Hn.jsx)(vp.default,{children:"Your wingloading is an indicator of your descent rate under canopy"})]})]}),(0,Hn.jsxs)(vt.default,{style:hh.card,elevation:3,children:[(0,Hn.jsx)(Ju,{control:n,name:"exitWeight",label:"Your exit weight",variant:au.Weight,helperText:"Your weight in kg's with all equipment on"}),(0,Hn.jsx)(Ju,{control:n,name:"canopySize",label:"Canopy Size",variant:au.CanopySize,helperText:"Size of your main canopy in square feet"})]})]})}))};function yh(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function bh(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?yh(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yh(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function xh(){var e=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Ml,n)}(),n=(0,W.default)(e,1)[0],t=fa(),r=(0,W.default)(t,1)[0],o=$l(),i=((0,W.default)(o,1)[0],l.useCallback(function(){var e=(0,S.default)((function*(e){var t,r,o,i,l,a,s,u,d,c,f=yield n({variables:e});return null!=f&&null!=(t=f.data)&&null!=(r=t.createRig)&&null!=(o=r.rig)&&o.id?{rig:null==f||null==(d=f.data)||null==(c=d.createRig)?void 0:c.rig}:{error:null==f||null==(i=f.data)||null==(l=i.createRig)||null==(a=l.errors)?void 0:a[0],fieldErrors:(null==f||null==(s=f.data)||null==(u=s.createRig)?void 0:u.fieldErrors)||void 0}}));return function(n){return e.apply(this,arguments)}}(),[n])),a=l.useCallback(function(){var e=(0,S.default)((function*(e){var n,t,o,i,l,a,s,u,d,c,f=yield r({variables:e});return null!=f&&null!=(n=f.data)&&null!=(t=n.updateRig)&&null!=(o=t.rig)&&o.id?{rig:null==f||null==(d=f.data)||null==(c=d.updateRig)?void 0:c.rig}:{error:null==f||null==(i=f.data)||null==(l=i.updateRig)||null==(a=l.errors)?void 0:a[0],fieldErrors:(null==f||null==(s=f.data)||null==(u=s.updateRig)?void 0:u.fieldErrors)||void 0}}));return function(n){return e.apply(this,arguments)}}(),[r]),s=l.useCallback((function(e){return null!=e&&e.id?a(bh(bh({},e),{},{id:Number(null==e?void 0:e.id)})):i(e)}),[i,a]);return l.useMemo((function(){return{create:i,update:a,add:s}}),[i,a,s])}function jh(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function kh(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?jh(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jh(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Oh={stepIndex:0,lastStepIndex:0},wh=cs.object({stepIndex:cs.number().default(0),lastStepIndex:cs.number().default(0)});function Sh(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ph(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Sh(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sh(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ch(e){var n=e.onClose,t=e.onSuccess,r=e.startIndex,o=l.useState(!1),i=(0,W.default)(o,2),a=i[0],s=i[1],u=function(){var e,n=Ps().dropzoneUser;return pg((function(){var e;return{defaultValues:{name:(null==n||null==(e=n.user)?void 0:e.name)||""},validation:Qg}}),[null==n||null==(e=n.user)?void 0:e.name])}(),d=function(){var e,n=Ps().dropzoneUser;return pg((function(){var e;return{defaultValues:{nickname:null==n||null==(e=n.user)?void 0:e.nickname},validation:_g}}),[null==n||null==(e=n.user)?void 0:e.nickname])}(),c=function(){var e,n=Ps().dropzoneUser;return pg((function(){var e;return{defaultValues:{avatar:null==n||null==(e=n.user)?void 0:e.image},validation:Sg}}),[null==n||null==(e=n.user)?void 0:e.image])}(),f=function(){var e,n=Ps().dropzoneUser,t=Ut().dropzone.dropzone;return pg((function(){var e;return{defaultValues:{federation:(null==n||null==(e=n.license)?void 0:e.federation)||(null==t?void 0:t.federation)},validation:Ig}}),[null==t?void 0:t.federation,null==n||null==(e=n.license)?void 0:e.federation])}(),p=function(){var e,n,t,r=Os().dropzoneUser;return pg((function(){var e,n,t;return{defaultValues:{apfNumber:(null==r||null==(e=r.user)||null==(n=e.userFederations)||null==(t=n.find((function(e){var n,t,o;return(null==(n=e.federation)?void 0:n.id)===(null==r||null==(t=r.license)||null==(o=t.federation)?void 0:o.id)})))?void 0:t.uid)||""},validation:Ug}}),[null==r||null==(e=r.license)||null==(n=e.federation)?void 0:n.id,null==r||null==(t=r.user)?void 0:t.userFederations])}(),m=function(){var e=Ps().dropzoneUser;return pg((function(){var n;return{defaultValues:{federation:null==e||null==(n=e.license)?void 0:n.federation,license:null==e?void 0:e.license},validation:Vg}}),[null==e?void 0:e.license])}(),g=function(){var e,n,t=Ps().dropzoneUser;return pg((function(){var e,n;return{defaultValues:{hasRig:!(null==t||null==(e=t.user)||null==(n=e.rigs)||!n.length)},validation:vg}}),[null==t||null==(e=t.user)||null==(n=e.rigs)?void 0:n.length])}(),h=function(){var e,n=Ps().dropzoneUser;return pg((function(){var e,t,r,o,i,l,a,s,u,d,c,f;return{defaultValues:{make:(null==n||null==(e=n.user)||null==(t=e.rigs)||null==(r=t[0])?void 0:r.make)||"",model:(null==n||null==(o=n.user)||null==(i=o.rigs)||null==(l=i[0])?void 0:l.model)||"",serial:(null==n||null==(a=n.user)||null==(s=a.rigs)||null==(u=s[0])?void 0:u.serial)||"",rigId:(null==n||null==(d=n.user)||null==(c=d.rigs)||null==(f=c[0])?void 0:f.id)||null},validation:dh}}),[null==n||null==(e=n.user)?void 0:e.rigs])}(),v=function(){var e,n=Ps().dropzoneUser;return pg((function(){var e,t,r;return{defaultValues:{repackExpiresAt:(null==n||null==(e=n.user)||null==(t=e.rigs)||null==(r=t[0])?void 0:r.repackExpiresAt)||void 0},validation:oh}}),[null==n||null==(e=n.user)?void 0:e.rigs])}(),y=function(){var e,n,t=Ps().dropzoneUser;return pg((function(){var e,n,r,o,i,l,a,s;return{defaultValues:{canopySize:null!=t&&null!=(e=t.user)&&null!=(n=e.rigs)&&null!=(r=n[0])&&r.canopySize?Number(null==t||null==(o=t.user)||null==(i=o.rigs)||null==(l=i[0])?void 0:l.canopySize):150,exitWeight:null!=t&&null!=(a=t.user)&&a.exitWeight?parseFloat(null==t||null==(s=t.user)?void 0:s.exitWeight):70},validation:gh}}),[null==t||null==(e=t.user)?void 0:e.exitWeight,null==t||null==(n=t.user)?void 0:n.rigs])}(),b=pg((function(){return[u,d,c,f,p,m,g,h,v,y]}),[u,y,d,c,f,p,m,g,h,v]),x=Ps(),j=x.update,k=x.dropzoneUser,O=x.joinFederation,w=xh(),P=function(e){var n=e.steps,t=e.startIndex,r=(0,l.useState)(!1),o=(0,W.default)(r,2),i=o[0],a=o[1],s=pg((function(){return Object.assign.apply(Object,[{}].concat((0,$n.default)(null==n?void 0:n.map((function(e){return(null==e?void 0:e.defaultValues)||{}})))))}),[n]),u=pg((function(){return kh(kh({},Oh),{},{stepIndex:t||0,lastStepIndex:((null==n?void 0:n.length)||1)-1},s)}),[s,null==n?void 0:n.length,t]);console.debug({defaultValues:u});var d,c=(0,Js.useForm)({resolver:(d=(null==n?void 0:n.map((function(e){return null==e?void 0:e.validation})).filter(Boolean))||[],(0,kd.yupResolver)((null==d?void 0:d.reduce((function(e,n,t){return e.when((function(r){return r.stepIndex>=t?e.concat(n):e}))}),wh))||wh)),defaultValues:u,mode:"all",shouldUnregister:!1}),f=c.reset,p=c.handleSubmit,m=c.setValue,g=c.control,h=(c.formState,(0,Js.useWatch)({control:g}).stepIndex),v=(0,l.useCallback)((function(){return f(u)}),[u,f]);mg((function(){console.debug("Resetting fields"),f(u)}),[u,f]);var y=(0,l.useCallback)((function(e){var t=null==n?void 0:n.findIndex((function(n){return Object.keys((null==n?void 0:n.defaultValues)||{}).includes(e)}));return void 0!==t?t:-1}),[n]),b=(0,l.useCallback)((function(e){m("stepIndex",e,{shouldValidate:!1})}),[m]),x=(0,l.useCallback)((function(e){m("lastStepIndex",e,{shouldValidate:!1})}),[m]),j=(0,l.useCallback)((function(e){var n=e.onSubmit,r=(e.onSuccess,e.onClose);return{back:function(){var e=(0,S.default)((function*(){if(h===(t||0))return null==r?void 0:r();m("stepIndex",(h||0)-1)}));return function(){return e.apply(this,arguments)}}(),next:p(function(){var e=(0,S.default)((function*(e){a(!0);try{var t=yield n(e,u);if(!1!==t&&h<e.lastStepIndex)return console.debug({successful:t}),m("stepIndex",(h||0)+1),!1}finally{a(!1)}}));return function(n){return e.apply(this,arguments)}}())}}),[u,p,m,t,h]);return pg((function(){return kh(kh({},c),{},{getStepIndexByFieldName:y,setIndex:b,startIndex:t||0,restore:v,setMaxIndex:x,createHandlers:j,loading:i})}),[b,t,v,x,j,c,y,i])}({startIndex:r,steps:b}),C=P.restore,D=P.createHandlers,E=P.setValue,z=P.setError,T=P.getStepIndexByFieldName,I=pg((function(){return D({onClose:n,onSuccess:t,onSubmit:function(){var e=(0,S.default)((function*(e,n){try{if(null==k||!k.id)return;s(!0);var r=e.stepIndex,o=void 0===r?0:r,i=e.lastStepIndex,l=void 0===i?0:i,a=e.apfNumber,u=e.avatar,d=e.canopySize,c=e.exitWeight,f=e.federation,p=e.hasRig,m=e.license,g=e.make,h=e.model,v=e.name,y=e.nickname,b=e.repackExpiresAt,x=e.rigId,S=e.serial;if(console.debug("== SUBMITTING STEP "+o+" =="),console.debug(e),[3,4,5].includes(o)){var P,D;if(4===o&&!a)return!0;if(null==f||!f.id)return z("federation",{message:"You must select a federation",type:"required"}),!1;if((null==m||!m.id)&&5===o)return z("license",{message:"You must select a license",type:"required"}),!1;if((null==n||null==(P=n.federation)?void 0:P.id)===(null==f?void 0:f.id)&&(null==n||null==(D=n.license)?void 0:D.id)===(null==m?void 0:m.id)&&(null==n?void 0:n.apfNumber)===a)return!0;var I=yield O({federation:f.id,license:null==m?void 0:m.id,uid:a});return"error"in I?(console.log("Federation error??"),z("federation",{message:I.error,type:"required"})):("userFederation"in I&&I.userFederation.license&&(console.debug("Setting license",I.userFederation.license),E("license",I.userFederation.license)),!0)}if(6===o&&!p)return E("stepIndex",l),!1;if(p&&o>=7&&o<l){if((0,oe.isEqual)({repackExpiresAt:b,make:g,model:h,serial:S,canopySize:d},{repackExpiresAt:null==n?void 0:n.repackExpiresAt,make:null==n?void 0:n.make,model:null==n?void 0:n.model,serial:null==n?void 0:n.serial,canopySize:null==n?void 0:n.canopySize}))return!0;var A,F=yield w.add({userId:Number(k.user.id),repackExpiresAt:b,make:g,model:h,serial:S,canopySize:d,id:x||void 0});return"error"in F?(z("serial",{message:F.error,type:"required"}),!1):"fieldErrors"in F?(null==(A=F.fieldErrors)||A.forEach((function(n){var t=n.field,r=n.message,o=(0,oe.camelCase)(t);return"make"===o?z("make",{message:r,type:"required"}):"model"===o?z("model",{message:r,type:"required"}):"serial"===o?z("serial",{message:r,type:"required"}):"canopySize"===o?z("canopySize",{message:r,type:"required"}):o in e?z(o,{message:r}):void 0})),!1):("rig"in F&&(E("rigId",F.rig.id),E("make",F.rig.make||""),E("model",F.rig.model||""),E("serial",F.rig.serial||""),E("stepIndex",o+1)),!1)}if(o===l){var R=yield j({exitWeight:c,image:u||void 0,license:null!=m&&m.id?Number(m.id):null,nickname:y,name:v});if("fieldErrors"in R){var U,B;null==(U=R.fieldErrors)||U.forEach((function(n){var t=n.field,r=n.message,o=(0,oe.camelCase)(t);return"name"===o?z("name",{message:r,type:"required"}):"nickname"===o?z("nickname",{message:r,type:"required"}):"license"===o?z("license",{message:r,type:"required"}):"exitWeight"===o?z("exitWeight",{message:r,type:"required"}):o in e?z(o,{message:r}):void 0}));var L=Math.min.apply(Math,(0,$n.default)((null==(B=R.fieldErrors)?void 0:B.map((function(e){var n=e.field;return T(n)})).filter((function(e){return-1!==e})))||[]));if(-1!==L)return E("stepIndex",L),!1}else null==t||t(),C()}}finally{s(!1)}}));return function(n,t){return e.apply(this,arguments)}}()})}),[t,C,T,D,null==k?void 0:k.id,null==k?void 0:k.user.id,w,O,z,E,n,j]);return l.useMemo((function(){return Ph(Ph(Ph({},P),I),{},{loading:a})}),[P,I,a])}var Dh=["dots","steps"];function Eh(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function zh(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Eh(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Eh(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Th=Vn.default.create({dots:{alignSelf:"center",minWidth:400,maxWidth:500,flexDirection:"row",alignItems:"center",justifyContent:"center",marginTop:48,zIndex:1100},actions:{alignSelf:"center",alignItems:"center",justifyContent:"center",padding:16,paddingBottom:48},next:{width:"100%",borderRadius:20,minWidth:300},content:{flexGrow:1}});const Ih=l.forwardRef((function(e,n){var t=e.dots,r=e.steps,o=(0,zt.default)(e,Dh),i=o.control,a=o.loading,s=o.setMaxIndex,u=o.setIndex,d=o.next,c=o.back,p=(0,Js.useWatch)({control:i}),m=p.stepIndex,h=p.lastStepIndex,v=pg((function(){return m||0}),[m]),y=l.useState({width:0,height:0,x:0,y:0}),b=(0,W.default)(y,2),x=b[0],j=b[1],k=l.useRef(null),O=(0,jt.default)();l.useImperativeHandle(n,(function(){return{next:function(){var e;return null==(e=k.current)?void 0:e.next()},prev:function(){var e;return null==(e=k.current)?void 0:e.prev()},getCurrentIndex:function(){var e;return(null==(e=k.current)?void 0:e.getCurrentIndex())||0},scrollTo:function(e){var n;return null==(n=k.current)?void 0:n.scrollTo(e)}}})),mg((function(){var e,n;v!==(null==k||null==(e=k.current)?void 0:e.getCurrentIndex())&&(null==k||null==(n=k.current)||n.scrollTo({animated:!0,index:v}))}),[v]);var w=l.useCallback((function(e){j(e.nativeEvent.layout)}),[]),S=x.width;return mg((function(){h!==((null==r?void 0:r.length)||0)&&s((null==r?void 0:r.length)||0)}),[h,s,r]),(0,Hn.jsx)(Js.FormProvider,zh(zh({},o),{},{children:(0,Hn.jsxs)(Mp.default,{style:Vn.default.absoluteFill,behavior:"android"===g.default.OS?void 0:"padding",onLayout:w,children:[t?(0,Hn.jsx)(f.default,{style:Th.dots,children:(0,Hn.jsx)(Pm,{count:h||0,index:v})}):null,(0,Hn.jsx)(Sm.default,{autoPlay:!1,loop:!1,modeConfig:{parallaxScrollingScale:1,parallaxScrollingOffset:32},pagingEnabled:!1,enabled:!1,panGestureHandlerProps:{activeOffsetX:[-S,S]},mode:"parallax",style:Vn.default.absoluteFill,data:r,width:S||O.width,onSnapToItem:u,ref:k,renderItem:function(e){var n=e.item;return n?(0,Hn.jsx)(n,{actions:(0,Hn.jsx)(Dm,{loading:a,nextLabel:v===h?"Done":"Next",backLabel:"Back",onNext:d,onBack:c})}):(0,Hn.jsx)(f.default,{})}})]})}))}));function Ah(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Fh(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ah(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ah(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Rh(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var Uh=[Kg,Hg,Cg,Ag,Bg,qg,yg,fh,lh,vh,function(e){return(0,Hn.jsx)(Om,Fh(Fh({},e),{},{title:"Profile updated",children:(0,Hn.jsx)(km,{children:(0,Hn.jsx)(f.default,{style:{flexGrow:1,alignItems:"center",justifyContent:"center"},children:(0,Hn.jsx)(Gn,{loop:!1,autoPlay:!0,speed:1.2,style:{height:300,width:300},source:Wn})})})}))}];function Bh(){var e=l.useRef(null),n=(0,ap.useNavigation)(),t=(0,ap.useRoute)().params,r=Mn(),o=Ch({startIndex:t.index||0,onSuccess:function(){n.goBack(),r.success("Profile updated")},onClose:function(){n.goBack()}});return(0,Hn.jsx)(Ih,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Rh(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rh(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({ref:e,dots:!0,steps:Uh},o))}function Lh(){var e=(0,ap.useRoute)().params.dropzoneUserId;return(0,Hn.jsx)(Ss,{id:e,children:(0,Hn.jsx)(Bh,{})})}function Mh(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Nh(e){return{message:e,pattern:/.{1,}/}}function $h(e){return{message:e,pattern:/^\d+/}}function Vh(e,n){var t=n.getPayload,r=n.fieldErrorMap,o=n.validates;return function(i){var a=i.onFieldError,s=i.onSuccess,u=i.onError,d=(0,Di.useMutation)(e,i.mutation),c=(0,W.default)(d,2),f=c[0],p=c[1].loading,m=l.useCallback((function(e,n){var t=zd()(e),o=r&&t in r?r[e]:e,i=[n].flat(),l=(0,W.default)(i,1)[0];null==a||a(""+o,Gc()(o)+" "+l)}),[a]),g=l.useCallback(function(){var e=(0,S.default)((function*(e,r){if(function(){var t=!1;return o&&Object.keys(e).forEach((function(r){var i,l=r;l in(n.validates||{})&&(null==(i=o[l])||i.forEach((function(n){n.pattern?n.pattern.test(""+(e[l]||""))||(t=!0,m(l,n.message)):n.callback&&!n.callback(e)?(t=!0,m(l,n.message)):console.log("Validator had no callback or pattern for "+l)})))})),!t}())try{var i,l,a,d,c=yield f(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Mh(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mh(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({variables:e},r)),p=t(c.data);return null==p||null==(i=p.fieldErrors)||i.forEach((function(e){var n=e.field,t=e.message;m(n,t)})),null!=p&&null!=(l=p.errors)&&l.length&&u?void(null==(d=p.errors)||d.map((function(e){return u(e)}))):(null!=p&&null!=(a=p.fieldErrors)&&a.length||!p||requestAnimationFrame((function(){return s(p)})),p)}catch(g){g instanceof Error&&(null==u||u(g.message))}}));return function(n,t){return e.apply(this,arguments)}}(),[m,f,u,s]);return{loading:p,mutate:g}}}const qh=Vh(Ul,{getPayload:function(e){return e.createDropzone},fieldErrorMap:{federation:"federation"},validates:{name:[Nh("Name is required")]}}),Gh=Vh(la,{getPayload:function(e){return e.updateDropzone},fieldErrorMap:{}});function Wh(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Wh(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wh(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Hh=function(e){var n=dn((function(e){return e.forms.dropzone})),t=un();return(0,Hn.jsx)(Om,_h(_h({},e),{},{title:"Name",children:(0,Hn.jsx)(km,{children:(0,Hn.jsx)(iu,{mode:"flat",label:"Name",error:n.fields.name.error,value:n.fields.name.value||"",onChange:function(e){return t(rn.forms.dropzone.setField(["name",e]))}})})}))};function Yh(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Jh(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Yh(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yh(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Qh=function(e){var n=dn((function(e){return e.forms.dropzone})),t=un();return(0,Hn.jsx)(Om,Jh(Jh({},e),{},{title:"Affiliation",children:(0,Hn.jsxs)(km,{children:[(0,Hn.jsx)(Dg,{value:n.fields.federation.value,onSelect:function(e){return t(rn.forms.dropzone.setField(["federation",e]))}}),(0,Hn.jsx)(yt.default,{type:n.fields.federation.error?"error":"info",children:n.fields.federation.error||""})]})}))};var Kh=t(33034),Xh=t(2906);function Zh(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)/(69.172*Math.cos(e*(Math.PI/180)))}var ev=t(88655);function nv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function tv(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nv(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nv(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var rv={lat:-27.4705,lng:153.026};function ov(e){var n=e.width,t=e.height,r=e.position,o=e.children,i=(e.center,e.coords),a=e.shape,s=e.interactive,u=e.onDragEnd,d=(0,ev.useJsApiLoader)({googleMapsApiKey:null==j?void 0:j.googleMapsWeb,id:"google-maps-script"}).isLoaded,c=e.containerStyle,p=e.mapStyle,m=l.useRef(null),g=i||rv,h=l.useCallback(function(){var e=(0,S.default)((function*(e){m.current=e;try{if("granted"!==(yield Xh.requestForegroundPermissionsAsync()).status)return}catch(Bn){console.log({error:Bn})}finally{var n,t,r=new window.google.maps.LatLngBounds(g);null==(n=m.current)||n.fitBounds(r),null==(t=m.current)||null==t.panTo||t.panTo(g)}}));return function(n){return e.apply(this,arguments)}}(),[g]),v=l.useCallback((function(){m.current=null}),[]),y=l.useState(),b=(0,W.default)(y,2),x=b[0],k=b[1],O=(0,ap.useIsFocused)();return d&&O?(0,Hn.jsx)(f.default,{onLayout:function(e){var n=e.nativeEvent;return k(n.layout)},style:tv({width:n,height:t,borderRadius:"round"===a&&null!=x&&x.width?x.width/2:void 0,overflow:"hidden",position:"absolute",top:r.y,left:r.x},c),pointerEvents:s?void 0:"none",children:(0,Hn.jsx)(ev.GoogleMap,{onLoad:function(e){m.current=e,h(e)},ref:m,center:g,onDragEnd:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){null==u||u({lat:m.current.center.lat(),lng:m.current.center.lng()})})),onUnmount:v,mapTypeId:google.maps.MapTypeId.HYBRID,mapContainerStyle:tv({width:"100%",height:"100%"},p),options:{zoom:15,fullscreenControl:!1,streetViewControl:!1,center:g,mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.HYBRID,zoomControl:!1},children:o})}):null}var iv=t(39846),lv=t(76897),av=t.n(lv);function sv(e){var n=e.value,t=e.onChange,r=e.onSelect,o=l.useState([]),i=(0,W.default)(o,2),a=i[0],s=i[1],u=l.useState(),d=(0,W.default)(u,2),c=d[0],p=d[1],m=function(e){var n=Ai(Ai({},Fi),e);return zi.useLazyQuery(Ba,n)}(),g=(0,W.default)(m,2),h=g[0],v=g[1].data,y=l.useCallback((function(e){h({variables:{search:e}})}),[h]),b=l.useMemo((function(){return av()(y)}),[y]);l.useEffect((function(){null!=v&&v.geocode&&s([v.geocode])}),[null==v?void 0:v.geocode]),l.useEffect((function(){n&&(null==n?void 0:n.length)>4?b(n):n||s([])}),[n,b]);var x=l.useCallback((function(e){r(e),t(e.formattedString||""),s([]),p(e)}),[t,r]);return(0,Hn.jsxs)(f.default,{style:{width:"100%",borderRadius:3,backgroundColor:"white"},children:[(0,Hn.jsx)(iv.default,{value:n,onChangeText:t,allowFontScaling:!0,numberOfLines:1,onSubmitEditing:function(){(0,oe.first)(a)&&x((0,oe.first)(a))}}),null==a?void 0:a.filter((function(e){return e.formattedString!==(null==c?void 0:c.formattedString)})).map((function(e){return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(du.default,{}),(0,Hn.jsx)(dc.default,{title:e.formattedString,onPress:function(){x(e)}})]})}))]})}function uv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function dv(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?uv(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):uv(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var cv=Vn.default.create({container:{paddingHorizontal:48,alignItems:"center",backgroundColor:"transparent"},titleContainer:{position:"absolute",top:32,left:0,width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},title:{fontSize:30,fontWeight:"bold",color:"white",textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2}},markerFixed:dv(dv({},Vn.default.absoluteFillObject),{},{justifyContent:"center",zIndex:100,alignItems:"center",flexDirection:"column"}),content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:0,paddingVertical:16,marginVertical:16,width:"100%"},myLocation:{position:"absolute",bottom:"30%",right:30,backgroundColor:"white",borderRadius:50,padding:12}});const fv=function(e){var n,t,r=dn((function(e){return e.forms.dropzone})),o=l.useState(""),i=(0,W.default)(o,2),a=i[0],s=i[1],u=un(),d=l.useState(),c=(0,W.default)(d,2),p=c[0],m=c[1],g=l.useCallback((0,S.default)((function*(){try{if("granted"!==(yield Xh.requestForegroundPermissionsAsync()).status)return;var e=yield Xh.getCurrentPositionAsync({});u(rn.forms.dropzone.setField(["lat",e.coords.latitude])),u(rn.forms.dropzone.setField(["lng",e.coords.longitude])),m({lat:e.coords.latitude,lng:e.coords.longitude})}catch(Bn){console.log(Bn)}})),[u]);l.useEffect((function(){null!==r.fields.lat.value&&null!=r.fields.lng.value||g()}),[g,r.fields.lat.value,r.fields.lng.value]);var h=l.useRef(new mm.default.Value(0)),v=r.fields.lat.value&&r.fields.lng.value?{latitude:r.fields.lat.value,longitude:r.fields.lng.value,latitudeDelta:Zh(r.fields.lat.value),longitudeDelta:Zh(r.fields.lat.value)}:void 0,y=l.useRef(mm.default.timing(h.current,{duration:100,toValue:0,useNativeDriver:!0})),b=l.useRef(mm.default.timing(h.current,{duration:100,toValue:1,useNativeDriver:!0})),x=l.useCallback((function(e){(e?b:y).current.start()}),[]),j=(0,jt.default)(),k=j.height,O=j.width,w=l.useState(!1),P=(0,W.default)(w,2),C=P[0],D=P[1];return(0,ap.useIsFocused)()?(0,Hn.jsxs)(Om,dv(dv({},e),{},{title:"Location",hideContentUntilNavigatedTo:!0,children:[(0,Hn.jsx)(ov,{mapStyle:dv({},Vn.default.absoluteFillObject),position:{x:0,y:0},height:k,width:O,coords:null!=v&&v.latitude&&null!=v&&v.longitude?{lat:null==v?void 0:v.latitude,lng:null==v?void 0:v.longitude}:void 0,onDragStart:function(){D(!0),x(!1)},center:p||void 0,onDragEnd:function(e){var n,t;null==(n=y.current)||n.stop(),null==(t=b.current)||t.stop(),x(!0),D(!1),u(rn.forms.dropzone.setField(["lat",e.lat])),u(rn.forms.dropzone.setField(["lng",e.lng]))},interactive:!0,children:v?(0,Hn.jsx)(f.default,{style:cv.markerFixed,pointerEvents:"none",children:(0,Hn.jsx)(ju.default,{pointerEvents:"none",size:60,style:{color:"#ffffff",textShadowColor:"rgba(14,14,14,0.8)",textShadowOffset:{width:5,height:5},textShadowRadius:10,zIndex:10},name:C?"map-marker":"map-marker-check-outline"})}):null}),(0,Hn.jsx)(cd.default,{style:cv.myLocation,onPress:function(){g()},children:(0,Hn.jsx)(Kh.default,{name:"my-location",size:30})}),(0,Hn.jsxs)(f.default,{style:cv.titleContainer,children:[(0,Hn.jsx)(f.default,{style:{width:300,display:"none",alignSelf:"flex-start",marginLeft:32},children:(0,Hn.jsx)(sv,{value:a,onChange:s,autocomplete:!0,onSelect:function(e){u(rn.forms.dropzone.setField(["lat",e.lat])),u(rn.forms.dropzone.setField(["lng",e.lng]))}})}),(0,Hn.jsx)(mm.default.Text,{style:{fontSize:24,marginTop:20,opacity:h.current,textAlign:"center",color:"#ffffff",textShadowColor:"rgba(14,14,14,0.8)",textShadowOffset:{width:3,height:3},textShadowRadius:10},children:null!=v&&v.latitude&&null!=v&&v.longitude?(0,Hn.jsxs)(Hn.Fragment,{children:[null==v||null==(n=v.latitude)?void 0:n.toFixed(5),",",null==v||null==(t=v.longitude)?void 0:t.toFixed(5)]}):null})]})]})):null};var pv=Vn.default.create({label:{fontWeight:"bold",textAlign:"center",fontSize:16,marginTop:8},previewContainer:{height:200,width:100,borderRadius:5,borderWidth:Vn.default.hairlineWidth,borderColor:"#CCCCCC",backgroundColor:"#EFEFEF",alignSelf:"center"},previewTabButton:{width:25,height:9,borderRadius:4.5,backgroundColor:"blue",position:"absolute",bottom:4,left:30},previewTabButton2:{width:9,height:9,borderRadius:4.5,backgroundColor:"blue",position:"absolute",bottom:4,left:59},previewTabButton3:{width:9,height:9,borderRadius:4.5,backgroundColor:"blue",position:"absolute",bottom:4,left:70},previewAppBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",top:0,borderTopRightRadius:5,borderTopLeftRadius:5},previewTabBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",bottom:0,borderBottomRightRadius:5,borderBottomLeftRadius:5},previewLoadCard:{width:"96%",borderRadius:2,height:"20%",marginVertical:"2%",marginHorizontal:"2%",backgroundColor:"#FFFFFF",position:"absolute",top:"15%"},previewLoadCard2:{width:"96%",height:"20%",borderRadius:2,backgroundColor:"#FFFFFF",marginVertical:"2%",marginHorizontal:"2%",position:"absolute",top:"37%"},previewLoadCard3:{width:"96%",height:"20%",borderRadius:2,marginVertical:"2%",backgroundColor:"#FFFFFF",marginHorizontal:"2%",position:"absolute",top:"59%"},previewButton:{width:"35%",height:"6%",position:"absolute",bottom:22,right:5,borderRadius:5,backgroundColor:"#DDDDDD"},colorBox:{height:25,width:25,margin:5}});const mv=function(e){var n=e.primaryColor,t=dn((function(e){return e.global})),r=t.theme,o=t.palette;return(0,Hn.jsxs)(f.default,{children:[(0,Hn.jsxs)(ah.default,{style:pv.previewContainer,children:[(0,Hn.jsx)(f.default,{style:[pv.previewAppBar,{backgroundColor:r.colors.surface}]}),(0,Hn.jsx)(f.default,{style:[pv.previewLoadCard]}),(0,Hn.jsx)(f.default,{style:[pv.previewLoadCard2]}),(0,Hn.jsx)(f.default,{style:[pv.previewLoadCard3]}),(0,Hn.jsx)(f.default,{style:[pv.previewButton,{backgroundColor:n}]}),(0,Hn.jsx)(f.default,{style:[pv.previewTabBar,{backgroundColor:r.colors.surface}]}),(0,Hn.jsx)(f.default,{style:[pv.previewTabButton,{backgroundColor:o.placeholder}]}),(0,Hn.jsx)(f.default,{style:[pv.previewTabButton2,{backgroundColor:o.placeholder}]}),(0,Hn.jsx)(f.default,{style:[pv.previewTabButton3,{backgroundColor:o.placeholder}]})]}),(0,Hn.jsx)(Vd.default,{style:pv.label,children:"Phone"})]})};var gv=Vn.default.create({label:{fontWeight:"bold",textAlign:"center",fontSize:16,marginTop:8},previewContainer:{height:100,width:170,borderRadius:5,borderWidth:Vn.default.hairlineWidth,borderColor:"#CCCCCC",alignSelf:"center"},previewAppBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",top:0,borderTopRightRadius:5,borderTopLeftRadius:5},previewTabButton:{width:15,height:5,borderRadius:3,backgroundColor:"blue",position:"absolute",bottom:2,left:20},previewTabButton2:{width:5,height:5,borderRadius:3,backgroundColor:"blue",position:"absolute",bottom:2,left:38},previewTabButton3:{width:5,height:5,borderRadius:3,backgroundColor:"blue",position:"absolute",bottom:2,left:45},previewTabBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",bottom:0,borderBottomRightRadius:5,borderBottomLeftRadius:5},previewLoadCard:{width:"30%",height:"60%",marginVertical:"2%",backgroundColor:"#FFFFFF",position:"absolute",top:"15%",left:"2%"},previewLoadCard2:{width:"30%",height:"60%",backgroundColor:"#FFFFFF",marginVertical:"2%",position:"absolute",top:"15%",left:"35%"},previewLoadCard3:{width:"30%",height:"60%",marginVertical:"2%",backgroundColor:"#FFFFFF",position:"absolute",top:"15%",left:"68%"},previewButton:{width:"12%",height:"6%",position:"absolute",bottom:15,right:8,borderRadius:5,backgroundColor:"#DDDDDD"},colorBox:{height:25,width:25,margin:5}});const hv=function(e){var n=e.primaryColor,t=dn((function(e){return e.global})).palette;return(0,Hn.jsxs)(f.default,{children:[(0,Hn.jsxs)(ah.default,{style:[gv.previewContainer,{backgroundColor:"#EFEFEF"}],children:[(0,Hn.jsx)(f.default,{style:[gv.previewAppBar,{backgroundColor:"#FFFFFF"}]}),(0,Hn.jsx)(f.default,{style:[gv.previewLoadCard]}),(0,Hn.jsx)(f.default,{style:[gv.previewLoadCard2]}),(0,Hn.jsx)(f.default,{style:[gv.previewLoadCard3]}),(0,Hn.jsx)(f.default,{style:[gv.previewButton,{backgroundColor:n}]}),(0,Hn.jsx)(f.default,{style:[gv.previewTabBar,{backgroundColor:"#FFFFFF"}]}),(0,Hn.jsx)(f.default,{style:[gv.previewTabButton,{backgroundColor:t.placeholder}]}),(0,Hn.jsx)(f.default,{style:[gv.previewTabButton2,{backgroundColor:t.placeholder}]}),(0,Hn.jsx)(f.default,{style:[gv.previewTabButton3,{backgroundColor:t.placeholder}]})]}),(0,Hn.jsx)(Vd.default,{style:gv.label,children:"Web"})]})};var vv=t(75833),yv=t(60503);function bv(e){var n=e.value,t=e.onChange,r=e.open,o=e.onClose,i=l.useRef();return(0,Hn.jsx)(vv.default,{children:(0,Hn.jsxs)(qs.default,{visible:!!r,onDismiss:function(){return o()},children:[(0,Hn.jsx)(qs.default.Title,{children:"Custom color"}),(0,Hn.jsx)(qs.default.Content,{style:{padding:20,height:400},children:(0,Hn.jsx)(yv.TriangleColorPicker,{style:{flex:1},sliderComponent:function(){return null},defaultColor:n,hideSliders:!0,ref:i})}),(0,Hn.jsxs)(qs.default.Actions,{children:[(0,Hn.jsx)(bt.default,{onPress:function(){return o()},children:"Cancel"}),(0,Hn.jsx)(bt.default,{onPress:function(){var e;i.current&&t(null==(e=i.current)?void 0:e.getColor())},children:"Save"})]})]})})}var xv=["#000000","#FF1414","#D6116B","#B70E97","#6718AC","#1E47AB","#11839E","#0DA583","#10C626","#92EA12","#FF8B14","#FFB214"];var jv=Vn.default.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16,height:200},title:{color:"white",fontSize:24,fontWeight:"bold",marginBottom:10,textAlign:"center"},colorBox:{height:25,width:25,margin:5,alignItems:"center",justifyContent:"center"}});const kv=function(e){var n=e.value,t=e.title,r=e.helperText,o=e.onChange,i=e.error,a=!xv.includes(n),s=l.useState(!1),u=(0,W.default)(s,2),d=u[0],c=u[1];return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(bv,{open:d,value:n,onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){o(e),c(!1)})),onClose:function(){return c(!1)}}),(0,Hn.jsxs)(vt.default,{style:jv.card,children:[(0,Hn.jsx)(uu.default,{children:t}),(0,Hn.jsxs)(vt.default.Content,{style:{flexDirection:"row",flexWrap:"wrap"},children:[xv.map((function(e){return(0,Hn.jsx)(bg.default,{onPress:function(){return o(e)},children:(0,Hn.jsxs)(ah.default,{style:[jv.colorBox,{flexDirection:"row"},e===n?{borderWidth:2,borderColor:"black"}:{}],children:[(0,Hn.jsx)(f.default,{style:{height:"100%",width:"33%",backgroundColor:Fe()(e).lighten(.6).hex()}}),(0,Hn.jsx)(f.default,{style:{height:"100%",width:"33%",backgroundColor:e}}),(0,Hn.jsx)(f.default,{style:{height:"100%",width:"33%",backgroundColor:Fe()(e).darken(.3).hex()}})]})})})),(0,Hn.jsx)(bg.default,{onPress:function(){return c(!0)},children:(0,Hn.jsx)(ah.default,{style:[jv.colorBox,{backgroundColor:a?n:"#FFFFFF"},a?{borderWidth:2,borderColor:"black"}:{}],children:(0,Hn.jsx)(Kh.default,{name:"add",size:1})})})]}),(0,Hn.jsx)(yt.default,{type:i?"error":"info",children:i||r})]})]})},Ov=kv;function wv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Sv(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wv(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wv(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Pv=function(e){var n=dn((function(e){return e.forms.dropzone})),t=un();return(0,Hn.jsx)(Om,Sv(Sv({},e),{},{title:"Branding",children:(0,Hn.jsxs)(km,{children:[(0,Hn.jsxs)(f.default,{style:{flexDirection:"row",alignItems:"flex-end",justifyContent:"space-evenly"},children:[(0,Hn.jsx)(mv,{primaryColor:n.fields.primaryColor.value||"#000000"}),(0,Hn.jsx)(hv,{primaryColor:n.fields.primaryColor.value||"#000000"})]}),(0,Hn.jsx)(Ov,{title:"Brand color",helperText:"This color is used for active elements and calls to action",error:n.fields.primaryColor.error,onChange:function(e){return t(rn.forms.dropzone.setField(["primaryColor",e]))},value:n.fields.primaryColor.value||"#000000"})]})}))};function Cv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Dv(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Cv(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cv(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Ev=function(e){return(0,Hn.jsx)(Om,Dv(Dv({},e),{},{title:"Setup complete",children:(0,Hn.jsx)(km,{children:(0,Hn.jsx)(f.default,{style:{flexGrow:1,alignItems:"center",justifyContent:"center"},children:(0,Hn.jsx)(Gn,{loop:!1,autoPlay:!0,speed:1.2,style:{height:300,width:300},source:Wn})})})}))};function zv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Tv(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?zv(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zv(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Iv(e){var n=e.title,t=e.description,r=e.role,o=e.permissionName,i=ds(R.GrantPermission),l=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(ma,n)}(),a=(0,W.default)(l,1)[0],s=Mn();return(0,Hn.jsx)(dc.default,{disabled:!i,style:{width:"100%"},right:function(){return(0,Hn.jsx)(tf.default,{value:r.permissions.includes(o),onValueChange:(0,S.default)((function*(){var e,n,t,i,l,u,d=yield a({variables:{roleId:Number(r.id),permissionName:o,enabled:!r.permissions.includes(o)},optimisticResponse:{updateRole:{role:Tv(Tv({},r),{},{permissions:r.permissions.includes(o)?[].concat((0,$n.default)(r.permissions),[o]):r.permissions.filter((function(e){return e!==o}))}),errors:null,fieldErrors:null}}});null!=d&&null!=(e=d.data)&&null!=(n=e.updateRole)&&null!=(t=n.errors)&&t.length&&(null==d||null==(i=d.data)||null==(l=i.updateRole)||null==(u=l.errors)||u.map((function(e){return s.error(e)})))}))})},title:n,description:t})}var Av=["permission","description"];function Fv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Rv(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Fv(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fv(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Uv=function(e){var n,t,r,o=e.permission,i=e.description,a=(0,zt.default)(e,Av),s=dn((function(e){return e.forms.dropzone})),u=function(e){var n=Ai(Ai({},Fi),e);return zi.useLazyQuery(Pa,n)}(),d=(0,W.default)(u,2),c=d[0],f=d[1],p=f.data,m=f.loading,g=f.called;return l.useEffect((function(){var e;null!=(e=s.original)&&e.id&&c({variables:{id:s.original.id}})}),[s.original,c]),(0,Hn.jsxs)(Om,Rv(Rv({},a),{},{children:[i&&(0,Hn.jsx)(vp.default,{children:i}),(0,Hn.jsx)(km,{children:g&&!m&&null!=p&&null!=(n=p.dropzone)&&null!=(t=n.roles)&&t.length?(0,Hn.jsx)(mp.default,{data:(null==p||null==(r=p.dropzone)?void 0:r.roles)||[],contentContainerStyle:{paddingBottom:200},keyExtractor:function(e){return e.id.toString()},renderItem:function(e){var n,t=e.item;return(0,Hn.jsx)(Iv,{permissionName:o,role:t,title:(0,oe.capitalize)(null==t||null==(n=t.name)?void 0:n.replace(/_/," "))})}}):null})]}))};function Bv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Lv(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Bv(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bv(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Mv=Vn.default.create({avatarContainer:{marginBottom:100,alignItems:"center",justifyContent:"center"},paragraph:{marginTop:16}});const Nv=function(e){var n,r,o,i,a=dn((function(e){return e.forms.dropzone})),s=un(),u=kg(),d=l.useCallback((0,S.default)((function*(){try{var e=yield u();e?s(rn.forms.dropzone.setField(["banner","data:image/jpeg;base64,"+e])):console.log({base64:e})}catch(n){console.log(n)}})),[s,u]),c=(0,$s.useTheme)();return(0,Hn.jsx)(Om,Lv(Lv({},e),{},{title:"Banner",children:(0,Hn.jsx)(km,{children:(0,Hn.jsxs)(f.default,{style:Mv.avatarContainer,children:[(0,Hn.jsx)(bg.default,{onPress:d,children:null!=a&&null!=(n=a.fields)&&null!=(r=n.banner)&&r.value?(0,Hn.jsx)(rd.default,{size:175,source:{uri:null==a||null==(o=a.fields)||null==(i=o.banner)?void 0:i.value},style:{borderWidth:Vn.default.hairlineWidth,backgroundColor:c.colors.primary}}):(0,Hn.jsx)(Gn,{style:{height:175,width:175},autoPlay:!0,loop:!1,source:t(33133)})}),(0,Hn.jsx)(vp.default,{style:{paddingHorizontal:48,marginTop:24},children:"Your logo is displayed as an avatar for your dropzone throughout the app."})]})})}))};function $v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Vv(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$v(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const qv=function(){var e,n,t=dn((function(e){return e.forms.dropzone})),r=un(),o=(0,ap.useNavigation)(),i=Mn(),a=qh({onError:function(e){i.error(e)},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){r(rn.forms.dropzone.setFieldError([e,n])),console.log(e,n)}}),s=Gh({onError:function(e){return i.error(e)},onSuccess:function(e){return null},onFieldError:function(e,n){return r(rn.forms.dropzone.setFieldError([e,n]))}}),u=l.useCallback((function(){o.dispatch(ap.StackActions.replace("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"ManifestScreen"}}}))}),[o]),d=l.useCallback((0,S.default)((function*(){if(!t.fields.name.value)throw r(rn.forms.dropzone.setFieldError(["name","Your dropzone must have a name"])),new Error})),[r,t.fields.name.value]),c=l.useCallback((0,S.default)((function*(){if(!t.fields.name.value)throw r(rn.forms.dropzone.setFieldError(["name","Your dropzone must have a name"])),new Error;if(!t.fields.federation.value)throw r(rn.forms.dropzone.setFieldError(["federation","Your dropzone must have an associated organization"])),new Error})),[r,t.fields.federation.value,t.fields.name.value]),f=l.useCallback((0,S.default)((function*(){var e,n,o,i,l,u;if(!t.fields.primaryColor.value)throw r(rn.forms.dropzone.setFieldError(["primaryColor","Please pick a primary color"])),new Error;var d=null!=(e=t.original)&&e.id?yield s.mutate({id:Number(t.original.id),federation:Number(null==(o=t.fields.federation.value)?void 0:o.id),name:t.fields.name.value||"",primaryColor:t.fields.primaryColor.value,secondaryColor:t.fields.secondaryColor.value,lat:t.fields.lat.value,lng:t.fields.lng.value,banner:t.fields.banner.value||""}):yield a.mutate({federation:Number(null==(n=t.fields.federation.value)?void 0:n.id),name:t.fields.name.value||"",banner:t.fields.banner.value||"",primaryColor:t.fields.primaryColor.value,secondaryColor:t.fields.secondaryColor.value,lat:t.fields.lat.value,lng:t.fields.lng.value});if(null!=d&&null!=(i=d.errors)&&i.length||null==d||null==(l=d.dropzone)||!l.id){if(null!=d&&null!=(u=d.fieldErrors)&&u.length){var c;throw null==d||null==(c=d.fieldErrors)||c.find((function(e){var n,t,o,i,l=e.field,a=e.message;switch(zd()(l)){case"primaryColor":return r(rn.forms.dropzone.setFieldError(["primaryColor",a])),null==(n=m.current)||n.scrollTo({index:3}),!0;case"federation":return null==(t=m.current)||t.scrollTo({index:1}),r(rn.forms.dropzone.setFieldError(["primaryColor",a])),!0;case"name":return null==(o=m.current)||o.scrollTo({index:0}),r(rn.forms.dropzone.setFieldError(["name",a])),!0;case"lat":case"lng":return null==(i=m.current)||i.scrollTo({index:2}),r(rn.forms.dropzone.setFieldError(["lat",a])),!0}return!1})),new Error}}else{var f,p;if(r(rn.forms.dropzone.setOpen(null==d?void 0:d.dropzone)),r(rn.global.setDropzone(null==d?void 0:d.dropzone)),d.dropzone.primaryColor)r(rn.global.setPrimaryColor(null==d||null==(f=d.dropzone)?void 0:f.primaryColor));if(d.dropzone.secondaryColor)r(rn.global.setAccentColor(null==d||null==(p=d.dropzone)?void 0:p.secondaryColor))}})),[r,t.fields.banner.value,null==(e=t.fields.federation.value)?void 0:e.id,t.fields.lat.value,t.fields.lng.value,t.fields.name.value,t.fields.primaryColor.value,t.fields.secondaryColor.value,null==(n=t.original)?void 0:n.id,a,s]),p=l.useCallback((function(){return Promise.resolve()}),[]),m=l.useRef();return(0,Hn.jsx)(Tm,{dots:!0,steps:[{onBack:function(){r(rn.forms.dropzone.setOpen(!1)),r(rn.forms.dropzone.reset())},onNext:d,component:Hh},{onNext:c,component:Qh},{component:fv},{component:Pv,onNext:p},{onNext:f,component:Nv},{component:function(e){return(0,Hn.jsx)(Uv,Vv(Vv({},e),{},{permission:R.CreateSlot,title:"Manifest",description:"Who can manifest themselves on loads?"}))}},{component:function(e){return(0,Hn.jsx)(Uv,Vv(Vv({},e),{},{description:"Who can manifest other people on loads?",permission:R.CreateUserSlot,title:"Manifest others"}))}},{component:Ev,onNext:function(){var e=(0,S.default)((function*(){r(rn.global.setDropzone(t.original)),t.fields.primaryColor.value&&r(rn.global.setPrimaryColor(t.fields.primaryColor.value)),t.fields.secondaryColor.value&&r(rn.global.setAccentColor(t.fields.secondaryColor.value)),r(rn.global.setDropzone(t.original)),r(rn.forms.dropzone.setOpen(!1)),r(rn.forms.dropzone.reset()),r(rn.screens.dropzoneWizard.complete()),u()}));return function(){return e.apply(this,arguments)}}()}]})};function Gv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Wv(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Gv(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gv(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const _v=function(e){var n=dn((function(e){return e.screens.signup})).fields,t=un();return(0,Hn.jsx)(Om,Wv(Wv({},e),{},{title:"Email",children:(0,Hn.jsx)(km,{children:(0,Hn.jsx)(iu,{mode:"flat",label:"Email",value:n.email.value||"",error:n.email.error,onChangeText:function(e){t(rn.screens.signup.setField(["email",e]))},style:{width:"100%",backgroundColor:"transparent",fontSize:32,height:70}})})}))};function Hv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Yv(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Hv(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hv(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Jv=function(e){return(0,Hn.jsx)(Om,Yv(Yv({},e),{},{title:"Check your email",children:(0,Hn.jsx)(km,{children:(0,Hn.jsx)(vp.default,{children:"We've sent you a link to restore your password."})})}))};function Qv(){var e=dn((function(e){return e.screens.signup})),n=un(),t=l.useRef(null),r=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(ra,n)}(),o=(0,W.default)(r,1)[0],i=l.useCallback((0,S.default)((function*(){try{yield o({variables:{email:e.fields.email.value,redirectUrl:""}})}catch(t){throw t instanceof Error&&n(rn.screens.signup.setFieldError(["email",t.message])),t}})),[n,o,e.fields.email.value]);return(0,Hn.jsx)(Tm,{dots:!0,ref:t,steps:[{onNext:i,component:_v},{component:Jv}]})}var Kv=Vn.default.create({container:{flexGrow:1,backgroundColor:"#EFEFEF",alignItems:"center",justifyContent:"center"},icon:{backgroundColor:Be,marginBottom:16},errorIcon:{backgroundColor:Me,marginBottom:16},title:{fontSize:38,marginBottom:16},subtitle:{fontSize:26,textAlign:"center"}});const Xv=function(){var e,n=(0,ap.useRoute)(),r=un(),o=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Fl,n)}(),i=(0,W.default)(o,2),a=i[0],s=i[1],u=l.useRef(null),d=l.useState(!1),c=(0,W.default)(d,2),p=c[0],m=c[1],g=(0,ap.useNavigation)();return l.useEffect((function(){var e;null!=n&&null!=(e=n.params)&&e.token&&a({variables:{token:n.params.token}}).then((function(e){var n,t,o=e.data;e.errors;null!=o&&null!=(n=o.userConfirmRegistrationWithToken)&&null!=(t=n.credentials)&&t.accessToken?(r(rn.global.setCredentials(o.userConfirmRegistrationWithToken.credentials)),r(rn.global.setUser(o.userConfirmRegistrationWithToken.authenticatable)),g.navigate("Limbo",{screen:"DropzoneSelectScreen"})):m(!0)})).catch((function(){m(!0)}))}),[a,r,g,null==(e=n.params)?void 0:e.token]),s.loading?(0,Hn.jsxs)(f.default,{style:Kv.container,children:[(0,Hn.jsx)(Vd.default,{style:Kv.title,children:"OpenManifest"}),(0,Hn.jsx)(Gn,{autoPlay:!0,loop:!0,ref:u,style:{width:120,height:120,marginTop:24,marginBottom:32},source:t(14215)}),(0,Hn.jsx)(Vd.default,{style:Kv.subtitle,children:"Confirming..."})]}):p?(0,Hn.jsxs)(f.default,{style:Kv.container,children:[(0,Hn.jsx)(zp.default,{icon:"close",style:Kv.errorIcon}),(0,Hn.jsx)(Vd.default,{style:Kv.title,children:"Oops!"}),(0,Hn.jsx)(Vd.default,{style:Kv.subtitle,children:"Something went wrong."})]}):(0,Hn.jsxs)(f.default,{style:Kv.container,children:[(0,Hn.jsx)(zp.default,{icon:"check",style:Kv.icon}),(0,Hn.jsx)(Vd.default,{style:Kv.title,children:"All done!"}),(0,Hn.jsx)(Vd.default,{style:Kv.subtitle,children:"You can now log in"})]})};function Zv(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ey(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Zv(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zv(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const ny=function(e){return(0,Hn.jsx)(Om,ey(ey({},e),{},{title:"Password changed",children:(0,Hn.jsxs)(km,{children:[(0,Hn.jsx)(Gn,{loop:!1,autoPlay:!0,speed:1.2,style:{height:300,width:300,alignSelf:"center"},source:Wn}),(0,Hn.jsx)(vp.default,{children:"Your password has been changed. You can now log in again."})]})}))};function ty(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ry(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ty(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ty(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const oy=function(e){var n=dn((function(e){return e.screens.signup})).fields,t=un();return(0,Hn.jsx)(Om,ry(ry({},e),{},{title:"Password",children:(0,Hn.jsxs)(km,{children:[(0,Hn.jsx)(iu,{mode:"flat",label:"Password",error:n.password.error,textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:n.password.value,onChangeText:function(e){return t(rn.screens.signup.setField(["password",e]))},style:{width:"100%",backgroundColor:"transparent",fontSize:32,height:70}}),(0,Hn.jsx)(Um,{strength:Fm(n.password.value)})]})}))};function iy(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ly(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?iy(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):iy(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const ay=function(e){var n=dn((function(e){return e.screens.signup})).fields,t=un();return(0,Hn.jsx)(Om,ly(ly({},e),{},{title:"Repeat password",children:(0,Hn.jsx)(km,{children:(0,Hn.jsx)(iu,{mode:"flat",label:"Password",error:n.passwordConfirmation.error,textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:n.passwordConfirmation.value,onChangeText:function(e){return t(rn.screens.signup.setField(["passwordConfirmation",e]))},style:{width:"100%",backgroundColor:"transparent",fontSize:32,height:70}})})}))};function sy(){var e,n=dn((function(e){return e.screens.signup})),t=un(),r=(0,ap.useRoute)(),o=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(ua,n)}(),i=(0,W.default)(o,1)[0],a=l.useRef(null),s=l.useCallback((0,S.default)((function*(){try{var e,o,l,a;if(n.fields.password.value!==n.fields.passwordConfirmation.value)throw new Error("Password mismatch. Did you type exactly the same password?");if(null==(e=r.params)||!e.token)throw new Error("Security token missing - try clicking the link in the email again");var s=yield i({variables:{password:n.fields.password.value,passwordConfirmation:n.fields.passwordConfirmation.value,token:r.params.token}});if(null!=s&&null!=(o=s.data)&&null!=(l=o.userUpdatePasswordWithToken)&&l.authenticatable)return void t(rn.global.setUser(s.data.userUpdatePasswordWithToken.authenticatable));if(null!=(a=s.errors)&&a.length)throw new Error(s.errors[0].message);throw new Error("Password change failed")}catch(u){throw u instanceof Error&&t(rn.screens.signup.setFieldError(["passwordConfirmation",u.message])),u}})),[t,null==(e=r.params)?void 0:e.token,n.fields.password.value,n.fields.passwordConfirmation.value,i]),u=(0,ap.useNavigation)(),d=l.useCallback((0,S.default)((function*(){if(Fm(n.fields.password.value)<Im.Acceptable)throw t(rn.screens.signup.setFieldError(["password","Password too weak"])),new Error("Password too weak")})),[t,n.fields.password.value]),c=l.useCallback((0,S.default)((function*(){throw u.replace("Unauthenticated",{screen:"LoginScreen"}),new Error("Error thrown to prevent navigation.goBack")})),[u]);return(0,Hn.jsx)(Tm,{dots:!0,ref:a,steps:[{onBack:u.goBack,onNext:d,component:oy},{onNext:s,component:ay},{component:ny,onNext:c}]})}var uy=t(68252),dy=t(10568),cy=t.n(dy);function fy(){return(0,ap.useNavigation)()}function py(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function my(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?py(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):py(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function gy(){var e=(0,$s.useTheme)();return(0,Hn.jsx)(Uu,{isLoading:!0,containerStyle:{height:75,backgroundColor:e.colors.surface,width:"100%",padding:16,margin:1,flexDirection:"row"},layout:[{key:"user-avatar",height:48,width:48,marginHorizontal:12,borderRadius:24},{key:"list-container",flexDirection:"column",children:[{key:"user-name",height:14,width:180,marginTop:2,marginLeft:8,borderRadius:27.5},{key:"user-role",height:14,width:100,marginTop:8,marginLeft:8,borderRadius:27.5}]}]})}var hy={id:"__LOADING__",hasCredits:!1,walletId:"__LOADING__",hasExitWeight:!1,hasLicense:!1,hasMembership:!1,user:{id:"__LOADING__"}};function vy(){var e,n=dn((function(e){return e.global})),t=dn((function(e){return e.screens.users})),r=un(),o=Ut(),i=o.dropzone.dropzone,a=o.dialogs,s=Ea({variables:cy()({dropzoneId:null==i?void 0:i.id,search:t.searchText},Fn()),skip:!(null!=i&&i.id),fetchPolicy:"cache-and-network"}),u=s.data,c=s.loading,p=s.refetch,m=fy(),g=(0,ap.useIsFocused)();l.useEffect((function(){t.isSearchVisible&&!g&&r(rn.screens.users.setSearchVisible(!1))}),[r,g,t.isSearchVisible]);var h=ds(R.CreateUser),v=(0,jt.default)().width,y=Math.floor(v/370)||1,b=l.useMemo((function(){var e;return(null==u||null==(e=u.dropzoneUsers)?void 0:e.edges)||[]}),[null==u||null==(e=u.dropzoneUsers)?void 0:e.edges]);console.debug({users:b,numColumns:y});var x=!(null!=b&&b.length)&&c,j=(0,$s.useTheme)();return(0,Hn.jsxs)(f.default,{style:{flexGrow:1,backgroundColor:j.colors.surface},children:[(0,Hn.jsx)(d.default,{indeterminate:!0,color:n.theme.colors.primary,visible:c}),null!=b&&b.length?null:(0,Hn.jsx)(f.default,{style:yy.empty,children:(0,Hn.jsx)(Pp,{title:"No users",subtitle:""})}),(0,Hn.jsx)(mp.default,{data:x?new Array(8).fill(hy):b.map((function(e){return null==e?void 0:e.node})),onRefresh:function(){var e;return p({dropzoneId:null==(e=n.currentDropzoneId)?void 0:e.toString(),search:t.searchText})},keyExtractor:function(e,n){return"user-"+((null==e?void 0:e.id)||n)+"-"+n},style:{flex:1,paddingTop:0},refreshing:c,refreshControl:(0,Hn.jsx)(uy.default,{refreshing:c,onRefresh:p}),numColumns:y,contentContainerStyle:{width:"100%"},renderItem:function(e){var t,r,o=e.item;return"__LOADING__"===o.id?(0,Hn.jsx)(gy,{}):(0,Hn.jsx)(vt.default,{style:{margin:0,marginVertical:0,borderRadius:2,width:100/y+"%"},children:(0,Hn.jsx)(vt.default.Content,{style:{paddingLeft:0,paddingTop:4,paddingRight:0,paddingBottom:4},children:(0,Hn.jsx)(dc.default,{style:{width:"100%"},title:null==o?void 0:o.user.name,titleStyle:{fontWeight:"bold"},descriptionStyle:{fontSize:12},description:null==o||null==(t=o.role)||null==(r=t.name)?void 0:r.replace("_"," ").toUpperCase(),left:function(){var e;return null!=o&&null!=(e=o.user)&&e.image?(0,Hn.jsx)(rd.default,{source:{uri:null==o?void 0:o.user.image},style:{alignSelf:"center",marginHorizontal:22,backgroundColor:n.palette.primary.light},size:48}):(0,Hn.jsx)(zp.default,{icon:"account",style:{alignSelf:"center",marginHorizontal:22},size:48})},right:function(){return(0,Hn.jsx)(cc.default,{icon:"chevron-right"})},onPress:function(){return m.navigate("ProfileScreen",{userId:null==o?void 0:o.id})}})})},"user-"+(null==o?void 0:o.id))}}),h&&(0,Hn.jsx)(gp.default,{style:[yy.fab,{backgroundColor:j.colors.primary}],small:!0,icon:"plus",onPress:a.createUser.open,label:"Add user"})]})}var yy=Vn.default.create({container:{flex:1},empty:my(my({},Vn.default.absoluteFillObject),{},{flexGrow:1,flex:1,alignSelf:"center",alignItems:"center",justifyContent:"center"}),fab:{position:"absolute",margin:16,right:0,bottom:0},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}}),by=t(61321);var xy=Vn.default.create({inputContainer:{flexGrow:1},input:{backgroundColor:"transparent",color:"#FFFFFF",fontSize:20},icon:{marginHorizontal:8}});const jy=function(e){var n=e.navigation,t=e.onSearch,r=e.options,o=e.back,i=e.searchText,l=e.searchVisible,a=e.setSearchVisible,s=dn((function(e){return e.global})).theme;return(0,Hn.jsxs)(by.default.Header,{style:{backgroundColor:s.dark?s.colors.background:s.colors.surface},children:[o?(0,Hn.jsx)(by.default.BackAction,{onPress:n.goBack}):null,l?(0,Hn.jsx)(by.default.BackAction,{onPress:function(){return a(!1)}}):null,l?(0,Hn.jsx)(f.default,{style:xy.inputContainer,children:(0,Hn.jsx)(Ys.default,{style:xy.input,placeholder:"Search users...",value:i||"",onChangeText:function(e){return t(e)},autoFocus:!0})}):(0,Hn.jsx)(by.default.Content,{title:r.title,titleStyle:{fontWeight:"bold"}}),l?(0,Hn.jsx)(Kh.default,{name:"close",onPress:function(){return a(!l)},color:s.colors.text,size:24,style:xy.icon}):(0,Hn.jsx)(Kh.default,{name:"search",onPress:function(){return a(!l)},color:s.colors.text,size:24,style:xy.icon})]})};var ky=t(23585),Oy=t(23173);function wy(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Sy(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wy(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wy(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Py(e){var n=ds(R.ActAsRigInspector),t=e.value,r=e.onChange,o=e.config;return null!=o&&o.valueType&&"string"===(null==o?void 0:o.valueType)?(0,Hn.jsxs)(f.default,{style:{flex:1},children:[(0,Hn.jsx)(iu,{disabled:!n,style:{marginVertical:8},value:t,onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return r(Sy(Sy({},o),{},{value:e}))})),label:o.label||""}),(0,Hn.jsx)(yt.default,{type:"info",children:o.description||"No description"})]}):null!=o&&o.valueType&&"boolean"===(null==o?void 0:o.valueType)?(0,Hn.jsx)(dc.default,{title:o.label||"",disabled:!n,description:o.description,style:{marginVertical:8},right:function(){return(0,Hn.jsx)(Oy.default.Android,{status:t?"checked":"unchecked"})},onPress:function(){return r(Sy(Sy({},o),{},{value:!t}))}}):null!=o&&o.valueType&&"integer"===(null==o?void 0:o.valueType)?(0,Hn.jsx)(f.default,{style:{flex:1},children:(0,Hn.jsx)(xu,{disabled:!n,value:t,mode:"outlined",helperText:o.description||"No description",onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return r(Sy(Sy({},o),{},{value:e}))})),label:o.label||""})}):null!=o&&o.valueType&&"date"===(null==o?void 0:o.valueType)?(0,Hn.jsxs)(f.default,{style:{flex:1},children:[(0,Hn.jsx)(eh,{disabled:!n,value:Number(t),onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return r(Sy(Sy({},o),{},{value:e.toString()}))})),label:o.label||""}),(0,Hn.jsx)(yt.default,{type:"info",children:o.description||"No description"})]}):null}function Cy(){var e=dn((function(e){return e.forms.rigInspection})),n=un();return(0,Hn.jsx)(Hn.Fragment,{children:e.fields.map((function(e,t){return(0,Hn.jsx)(Py,{config:e,value:(null==e?void 0:e.value)||"",onChange:function(e){return n(rn.forms.rigInspection.setField([t,e]))}},"field-"+t)}))})}const Dy=Vh(ca,{getPayload:function(e){return e.updateRig},fieldErrorMap:{}});function Ey(e){var n,t,r,o,i,a,s,u=e.rig,c=e.rigInspection,p=e.dropzoneUser,m=e.onSuccessfulImageUpload,g=e.onPress,h=l.useState(!1),v=(0,W.default)(h,2),y=v[0],b=v[1],x=dn((function(e){return e.global.theme.colors})).accent,j=un(),k=Mn(),O=Ut().dropzone.currentUser,w=kg(),P=Dy({mutation:{refetchQueries:[Ka,za]},onSuccess:function(){b(!1),null==m||m(),k.success("Image uploaded")},onError:function(e){console.log(e),b(!1),k.error("Upload failed")}}),C=l.useState(!1),D=(0,W.default)(C,2),E=D[0],z=D[1],T=l.useCallback((0,S.default)((function*(){try{var e=w();b(!0),yield P.mutate({id:Number(null==u?void 0:u.id),packingCard:"data:image/jpeg;base64,"+e})}catch(n){console.log(n)}})),[w,null==u?void 0:u.id,P]),I=ds(R.UpdateDropzoneRig),A=fy(),F=(null==O||null==(n=O.user)?void 0:n.id)===(null==(t=u.owner)?void 0:t.id)||(null==u||null==(r=u.dropzone)?void 0:r.id)&&I,U=(0,$s.useTheme)();return(0,Hn.jsxs)(vt.default,{onPress:g,style:{marginVertical:16,maxWidth:500},children:[(0,Hn.jsx)(d.default,{visible:y,indeterminate:!0,color:x}),(0,Hn.jsx)(vt.default.Title,{title:u.name||u.make+" "+u.model}),(0,Hn.jsxs)(vt.default.Content,{children:[(0,Hn.jsxs)(f.default,{style:zy.content,children:[(0,Hn.jsx)(f.default,{style:zy.left,children:(0,Hn.jsx)(zp.default,{icon:"parachute",size:70,style:{backgroundColor:U.dark?U.colors.surface:U.colors.primary}})}),(0,Hn.jsxs)(f.default,{style:zy.right,children:[(0,Hn.jsxs)(f.default,{style:zy.textRow,children:[(0,Hn.jsx)(Vd.default,{style:[zy.label,{color:U.colors.onSurface}],children:"Container"}),(0,Hn.jsxs)(Vd.default,{style:[zy.description,{color:U.colors.onSurface}],children:[u.make," ",u.model]})]}),(0,Hn.jsxs)(f.default,{style:zy.textRow,children:[(0,Hn.jsx)(Vd.default,{style:[zy.label,{color:U.colors.onSurface}],children:"Main canopy size"}),(0,Hn.jsx)(Vd.default,{style:[zy.description,{color:U.colors.onSurface}],children:u.canopySize})]}),(0,Hn.jsxs)(f.default,{style:zy.textRow,children:[(0,Hn.jsx)(Vd.default,{style:[zy.label,{color:U.colors.onSurface}],children:"Repack expiry date"}),(0,Hn.jsx)(Vd.default,{style:[zy.description,{color:U.colors.onSurface}],children:u.repackExpiresAt?(0,uc.default)(1e3*u.repackExpiresAt,"yyyy/MM/dd"):"N/A"})]})]})]}),(0,Hn.jsx)(f.default,{style:{flexDirection:"row",marginTop:8}})]}),(0,Hn.jsxs)(vt.default.Actions,{style:{justifyContent:"flex-end"},pointerEvents:"box-none",children:[(0,Hn.jsxs)(hd,{setOpen:z,open:E,anchor:(0,Hn.jsx)(ku.default,{mode:"outlined",icon:"camera",style:{height:24,alignItems:"center"},textStyle:{marginTop:0},onPress:function(){F?z(!0):null!=u&&u.packingCard&&j(rn.imageViewer.setOpen(u.packingCard))},children:u.packingCard?"Packing card":"No packing card"}),children:[(0,Hn.jsx)(gd,{title:"Upload new",icon:"camera",onPress:function(){T(),z(!1)}}),u.packingCard?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(du.default,{}),(0,Hn.jsx)(gd,{title:"View",icon:"eye",onPress:function(){z(!1),u.packingCard&&j(rn.imageViewer.setOpen(u.packingCard))}})]}):null]}),(0,Hn.jsx)(ku.default,{mode:"outlined",style:[zy.chip,{backgroundColor:null!=c&&null!=(o=c.inspectedBy)&&null!=(i=o.user)&&i.name?Be:Le}],onPress:function(){A.navigate("RigInspectionScreen",{rigId:u.id,dropzoneUserId:null==p?void 0:p.id})},children:(0,Hn.jsxs)(f.default,{style:zy.innerChip,children:[(0,Hn.jsx)(f.default,{style:{marginRight:8},children:(0,Hn.jsx)(ju.default,{name:"eye-check-outline",color:"#FFFFFF",size:18})}),(0,Hn.jsx)(Vd.default,{style:{color:"white"},children:(null==c||null==(a=c.inspectedBy)||null==(s=a.user)?void 0:s.name)||"Not inspected"})]})})]})]})}var zy=Vn.default.create({content:{flexDirection:"row",alignItems:"center"},chip:{height:24,marginLeft:8,alignItems:"center",justifyContent:"center"},innerChip:{flexDirection:"row",alignItems:"center",height:30,justifyContent:"space-between",flex:1},left:{flex:.25},right:{flex:.75},textRow:{flexDirection:"row",alignItems:"center"},label:{fontWeight:"500",width:130,textAlign:"left",marginRight:16,marginVertical:4},description:{fontWeight:"normal",flexGrow:1}});function Ty(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Iy(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ty(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ty(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ay(){var e,n,t,r,o,i,a,s,u,d,c=dn((function(e){return e.forms.rigInspection})),p=Ut().dropzone,m=un(),h=Mn(),v=(0,ap.useRoute)().params,y=v.rigId,b=Os({id:v.dropzoneUserId}).dropzoneUser,x=Qa({variables:{dropzoneId:null==p||null==(e=p.dropzone)?void 0:e.id},skip:!(null!=p&&null!=(n=p.dropzone)&&n.id)}).data,j=l.useMemo((function(){var e,n;return null==b||null==(e=b.user)||null==(n=e.rigs)?void 0:n.find((function(e){return e.id===y}))}),[null==b||null==(t=b.user)?void 0:t.rigs,y]),k=ds(R.ActAsRigInspector),O=$l(),w=(0,W.default)(O,2),P=w[0],C=w[1],D=(0,ap.useNavigation)();l.useEffect((function(){var e,n=null==b||null==(e=b.rigInspections)?void 0:e.some((function(e){var n,t,r;return(null==(n=e.rig)||null==(t=n.id)?void 0:t.toString())===(null==j||null==(r=j.id)?void 0:r.toString())&&e.definition}));if(n){var t,r=null==b||null==(t=b.rigInspections)?void 0:t.find((function(e){var n;return(null==(n=e.rig)?void 0:n.id)===(null==j?void 0:j.id)}));r&&(m(rn.forms.rigInspection.setFields(r.definition||"{}")),m(rn.forms.rigInspection.setOk(r.isOk)))}else{var o,i;m(rn.forms.rigInspection.setFields((null==x||null==(o=x.dropzone)||null==(i=o.rigInspectionTemplate)?void 0:i.definition)||"[]"))}}),[null==x||null==(r=x.dropzone)||null==(o=r.rigInspectionTemplate)?void 0:o.definition,m,null==j?void 0:j.id,null==b?void 0:b.rigInspections]);var E=l.useCallback((0,S.default)((function*(){try{var e;yield P({variables:{dropzone:null==p||null==(e=p.dropzone)?void 0:e.id,rig:null==j?void 0:j.id,definition:JSON.stringify(c.fields),isOk:!!c.ok},update:function(){var e=(0,S.default)((function*(e,n){var t,r,o,i,l,a,s,u,d,c,f,m,g,h,v,y,b,x=null==(t=n.data)||null==(r=t.createRigInspection)?void 0:r.rigInspection,j=e.readQuery({query:Ta,variables:{id:null==p||null==(o=p.dropzone)?void 0:o.id}}),k=e.readQuery({query:ka,variables:{dropzoneId:null==p||null==(i=p.dropzone)||null==(l=i.id)?void 0:l.toString(),earliestTimestamp:(0,ky.default)(new Date).toISOString()}});(null==k||null==(a=k.dropzone)||null==(s=a.currentUser)?void 0:s.id)===(null==x||null==(u=x.dropzoneUser)?void 0:u.id)&&e.writeQuery({query:ka,variables:{dropzoneId:null==p||null==(g=p.dropzone)||null==(h=g.id)?void 0:h.toString(),earliestTimestamp:(0,ky.default)(new Date).toISOString()},data:Iy(Iy({},k),{},{dropzone:Iy(Iy({},null==k?void 0:k.dropzone),{},{currentUser:Iy(Iy({},null==k||null==(v=k.dropzone)?void 0:v.currentUser),{},{rigInspections:[].concat((0,$n.default)(((null==k||null==(y=k.dropzone)||null==(b=y.currentUser)?void 0:b.rigInspections)||[]).filter((function(e){return e.id!==(null==x?void 0:x.id)}))),[x])})})})});var O={dropzoneUser:{rigInspections:[].concat((0,$n.default)(((null==j||null==(d=j.dropzoneUser)?void 0:d.rigInspections)||[]).filter((function(e){return e.id!==(null==x?void 0:x.id)}))),[x])}};return e.writeQuery({query:Ta,variables:{dropzoneId:null==p||null==(c=p.dropzone)||null==(f=c.id)?void 0:f.toString(),dropzoneUserId:Number(null==x||null==(m=x.dropzoneUser)?void 0:m.id)},data:O}),{data:O}}));return function(n,t){return e.apply(this,arguments)}}()}),h.success("Rig inspection saved"),m(rn.forms.rigInspection.reset()),D.goBack()}catch(Bn){Bn instanceof Error&&h.error(Bn.message)}})),[P,null==p||null==(i=p.dropzone)?void 0:i.id,null==j?void 0:j.id,c.fields,c.ok,h,m,D]);return(0,Hn.jsx)(fm,{fullWidth:!1,children:(0,Hn.jsxs)(Mp.default,{behavior:"android"===g.default.OS?void 0:"padding",style:{width:"100%",flexGrow:1,backgroundColor:"transparent"},children:[j&&(0,Hn.jsx)(Ey,{rig:j}),(0,Hn.jsxs)(vt.default,{style:{width:"100%"},children:[(0,Hn.jsx)(vt.default.Title,{title:null==x||null==(a=x.dropzone)||null==(s=a.rigInspectionTemplate)?void 0:s.name}),(0,Hn.jsxs)(vt.default.Content,{children:[k?null:(0,Hn.jsx)(vp.default,{children:"You need Rig Inspector permissions to update this form, but you can still view it."}),(0,Hn.jsx)(f.default,{style:{flex:1,flexGrow:1,opacity:k?1:.6},children:(0,Hn.jsx)(Cy,{})}),(0,Hn.jsx)(du.default,{}),(0,Hn.jsx)(Oy.default.Item,{mode:"android",label:"This rig is OK to jump",onPress:function(){return m(rn.forms.rigInspection.setOk(!c.ok))},status:c.ok?"checked":"unchecked"})]}),(0,Hn.jsx)(vt.default.Actions,{children:(0,Hn.jsx)(bt.default,{disabled:!k||JSON.stringify(c.fields)===(null==x||null==(u=x.dropzone)||null==(d=u.rigInspectionTemplate)?void 0:d.definition),mode:"contained",onPress:function(){return E()},loading:C.loading,style:{width:"100%"},children:"Mark as inspected"})})]})]})})}var Fy=t(88393);var Ry=Vn.default.create({chip:{height:24,marginLeft:8,alignItems:"center",justifyContent:"center",backgroundColor:"transparent",borderColor:"white",width:"auto"},innerChip:{flexDirection:"row",alignItems:"center",height:30}});const Uy=function(e){var n,t,r=e.type,o=e.selected,i=e.disabled,l=e.onPress,a=dn((function(e){return e.global})).palette,s=(n={},(0,N.default)(n,R.ActAsDzso,"shield-cross"),(0,N.default)(n,R.ActAsGca,"radio-handheld"),(0,N.default)(n,R.ActAsLoadMaster,"shield-account"),(0,N.default)(n,R.ActAsPilot,"account-tie-hat"),(0,N.default)(n,R.ActAsRigInspector,"shield-search"),n)[r],u=(t={},(0,N.default)(t,R.ActAsDzso,"DZSO"),(0,N.default)(t,R.ActAsGca,"GCA"),(0,N.default)(t,R.ActAsLoadMaster,"Load Master"),(0,N.default)(t,R.ActAsPilot,"Pilot"),(0,N.default)(t,R.ActAsRigInspector,"Rig Inspector"),t)[r];return(0,Hn.jsx)(ku.default,{mode:o?"outlined":"flat",style:[Ry.chip,{borderColor:a.primary.dark},o?void 0:{opacity:.5}].filter(Boolean),disabled:i,onPress:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){return null==l?void 0:l()})),children:(0,Hn.jsxs)(f.default,{style:Ry.innerChip,children:[(0,Hn.jsx)(f.default,{style:{marginRight:8},children:(0,Hn.jsx)(ju.default,{name:o?"check":s,color:a.primary.dark,size:18})}),(0,Hn.jsx)(Vd.default,{style:{color:a.primary.dark},children:u})]})})};function By(e){var n=e.permissions,t=e.dropzoneUser,r=Os(),i=r.revokePermission,a=r.grantPermission,s=Mn(),u=ds(R.GrantPermission),d=l.useMemo((function(){return(null==n?void 0:n.filter((function(e){return/^actAs/.test(e)})))||[]}),[n]),c=l.useCallback((function(e){return u||d.includes(e)}),[d,u]),f=l.useCallback(function(){var e=(0,S.default)((function*(e){var n=yield a(t.id,e);"error"in n&&n.error&&s.error(n.error)}));return function(n){return e.apply(this,arguments)}}(),[null==t?void 0:t.id,a,s]),p=l.useCallback(function(){var e=(0,S.default)((function*(e){var n=yield i(t.id,e);"error"in n&&n.error&&s.error(n.error)}));return function(n){return e.apply(this,arguments)}}(),[s,null==t?void 0:t.id,i]);return(0,Hn.jsx)(o.ScrollView,{horizontal:!0,style:{width:"100%"},showsHorizontalScrollIndicator:!1,contentContainerStyle:My.content,children:[R.ActAsPilot,R.ActAsDzso,R.ActAsGca,R.ActAsRigInspector,R.ActAsLoadMaster].map((function(e){return c(e)?(0,Hn.jsx)(Uy,{type:e,selected:d.includes(e),onPress:function(){return u?d.includes(e)?p(e):f(e):null}}):null}))})}var Ly,My=Vn.default.create({content:{flexGrow:1,paddingVertical:12,justifyContent:"space-evenly"}});function Ny(){var e=dn((function(e){return e.forms.dropzoneUser})),n=un(),t=ds(R.GrantPermission);return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(Yc,{value:e.fields.role.value,onChange:function(e){return n(rn.forms.dropzoneUser.setField(["role",e]))},disabled:!t}),(0,Hn.jsx)(yt.default,{type:e.fields.role.error?"error":"info",children:e.fields.role.error}),(0,Hn.jsx)(uu.default,{style:{paddingLeft:0},children:"Financial"}),(0,Hn.jsx)(eh,{value:e.fields.expiresAt.value||(new Date).getTime()/1e3,onChange:function(e){return n(rn.forms.dropzoneUser.setField(["expiresAt",e]))},label:"Membership expires"}),(0,Hn.jsx)(yt.default,{type:e.fields.expiresAt.error?"error":"info",children:e.fields.expiresAt.error})]})}function $y(e){var n,t,r,o,i=e.open,a=e.onClose,s=e.onSuccess,u=Mn(),c=un(),f=dn((function(e){return e.forms.dropzoneUser})),p=dn((function(e){return e.global})),m=(0,Fy.useApolloClient)(),g=l.useCallback((function(){return f.original?m.readFragment({fragment:sl,fragmentName:"dropzoneUserProfile",id:m.cache.identify(f.original)}):null}),[m,f.original]),h=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(aa,n)}(),v=(0,W.default)(h,2),y=v[0],b=v[1],x=l.useCallback((function(){var e=!1;return f.fields.role.value||(e=!0,c(rn.forms.dropzoneUser.setFieldError(["role","User must have an access level"]))),f.fields.expiresAt.value||(e=!0,c(rn.forms.dropzoneUser.setFieldError(["expiresAt","Membership expiry must be set"]))),!e}),[c,f.fields.expiresAt.value,f.fields.role.value]),j=l.useCallback((0,S.default)((function*(){if(x())try{var e,n,t,r,o,i,l=null==(t=(yield y({variables:{dropzoneUserId:null==(e=f.original)?void 0:e.id,attributes:{userRoleId:Number(null==(n=f.fields.role.value)?void 0:n.id),expiresAt:f.fields.expiresAt.value}}})).data)?void 0:t.updateDropzoneUser;if(null==l||null==(r=l.fieldErrors)||r.map((function(e){var n=e.field,t=e.message;switch(n){case"user_role":return c(rn.forms.dropzoneUser.setFieldError(["role",t]));case"expires_at":return c(rn.forms.dropzoneUser.setFieldError(["expiresAt",t]));default:return null}})),null!=l&&null!=(o=l.errors)&&o.length)return void u.error(null==l?void 0:l.errors[0]);null!=l&&null!=(i=l.fieldErrors)&&i.length||null==l||!l.dropzoneUser?console.error(null==l?void 0:l.fieldErrors):s(l.dropzoneUser)}catch(Bn){Bn instanceof Error&&u.error(Bn.message)}})),[c,y,u,s,f.fields.expiresAt.value,null==(n=f.fields.role.value)?void 0:n.id,null==(t=f.original)?void 0:t.id,x]);return(0,Hn.jsxs)(qs.default,{visible:!!i,children:[(0,Hn.jsx)(d.default,{indeterminate:!0,visible:b.loading,color:p.theme.colors.primary}),(0,Hn.jsx)(qs.default.Title,{children:(null!=f&&null!=(r=f.original)&&r.id?"Edit":"New")+" dropzone user"}),(0,Hn.jsxs)(qs.default.Content,{children:[(0,Hn.jsx)(Ny,{}),f.original&&g()?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(uu.default,{style:{paddingLeft:0},children:"Acting permissions"}),(0,Hn.jsx)(By,{dropzoneUser:g(),permissions:null==(o=g().permissions)?void 0:o.filter((function(e){return/^actAs/.test(e)}))})]}):null]}),(0,Hn.jsxs)(qs.default.Actions,{style:{justifyContent:"flex-end"},children:[(0,Hn.jsx)(bt.default,{onPress:function(){c(rn.forms.dropzoneUser.reset()),a()},children:"Cancel"}),(0,Hn.jsx)(bt.default,{onPress:j,children:"Save"})]})]})}const Vy=Vh((0,Ci.default)(Ly||(Ly=(0,Pi.default)(["\n  mutation CreateRig(\n    $make: String\n    $name: String\n    $model: String\n    $serial: String\n    $rigType: String\n    $canopySize: Int\n    $repackExpiresAt: Int\n    $userId: Int\n    $dropzoneId: Int\n  ) {\n    createRig(\n      input: {\n        attributes: {\n          name: $name\n          make: $make\n          model: $model\n          serial: $serial\n          repackExpiresAt: $repackExpiresAt\n          dropzoneId: $dropzoneId\n          userId: $userId\n          canopySize: $canopySize\n          rigType: $rigType\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      rig {\n        id\n        name\n        make\n        model\n        serial\n        canopySize\n        repackExpiresAt\n        packValue\n        maintainedAt\n        rigType\n\n        owner {\n          id\n          rigs {\n            id\n            name\n            make\n            model\n            serial\n            canopySize\n            repackExpiresAt\n            packValue\n            maintainedAt\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.createRig},fieldErrorMap:{},validates:{make:[Nh("is required")],model:[Nh("is required")],serial:[Nh("number is required")],canopySize:[Nh("Canopy size is required"),$h("Canopy size must be a valid number")],repackExpiresAt:[Nh("You must set a reserve repack expiry date")]}});function qy(e){var n,t,r=e.showTypeSelect,o=dn((function(e){return e.forms.rig})),i=un(),l=ds(R.CreateRig);return(0,Hn.jsxs)(f.default,{children:[(0,Hn.jsx)(iu,{style:Gy.field,label:"Name",error:o.fields.name.error,value:o.fields.name.value||"",helperText:"You can give your equipment a nickname",onChange:function(e){return i(rn.forms.rig.setField(["name",e]))}}),(0,Hn.jsx)(iu,{style:Gy.field,label:"Make",helperText:"e.g Javelin, Mirage",error:o.fields.make.error,value:o.fields.make.value||"",onChange:function(e){return i(rn.forms.rig.setField(["make",e]))}}),(0,Hn.jsx)(iu,{style:Gy.field,label:"Model",error:o.fields.model.error,value:o.fields.model.value||"",onChangeText:function(e){return i(rn.forms.rig.setField(["model",e]))}}),(0,Hn.jsx)(yt.default,{type:o.fields.model.error?"error":"info",children:o.fields.model.error||"e.g G4.1"}),(0,Hn.jsx)(iu,{style:Gy.field,label:"Serial",error:o.fields.serial.error,value:o.fields.serial.value||"",onChangeText:function(e){return i(rn.forms.rig.setField(["serial",e]))}}),(0,Hn.jsx)(iu,{style:Gy.field,label:"Current canopy size",error:o.fields.canopySize.error,value:(null==(n=o.fields.canopySize.value)?void 0:n.toString())||"",keyboardType:"number-pad",helperText:"Size of canopy in container",onChangeText:function(e){return i(rn.forms.rig.setField(["canopySize",Number(e)]))}}),r?(0,Hn.jsx)(Tu,{items:["student","sport","tandem"],renderItemLabel:function(e){return e},isDisabled:function(e){return!l&&"sport"!==e},value:[(null==(t=o.fields.rigType)?void 0:t.value)||"sport"],onChange:function(e){var n=(0,W.default)(e,1)[0];return i(rn.forms.rig.setField(["rigType",n]))}}):null,(0,Hn.jsx)(eh,{value:o.fields.repackExpiresAt.value||(new Date).getTime()/1e3,onChange:function(e){return i(rn.forms.rig.setField(["repackExpiresAt",e]))},label:"Reserve repack expiry date"}),(0,Hn.jsx)(yt.default,{type:o.fields.repackExpiresAt.error?"error":"info",children:o.fields.repackExpiresAt.error||""})]})}var Gy=Vn.default.create({fields:{flex:1},field:{marginBottom:8}});function Wy(e){var n,t,r=e.open,o=e.dropzoneId,i=e.onClose,a=e.onSuccess,s=e.userId,u=un(),d=dn((function(e){return e.forms.rig})),c=Mn(),f=Dy({onSuccess:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return requestAnimationFrame((function(){console.log(e),a()}))})),onFieldError:function(e,n){return u(rn.forms.rig.setFieldError([e,n]))},onError:function(e){return c.error(e)}}),p=Vy({onSuccess:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return requestAnimationFrame((function(){return a()}))})),onFieldError:function(e,n){return u(rn.forms.rig.setFieldError([e,n]))},onError:function(e){return c.error(e)}}),m=f.loading||p.loading,g=l.useCallback((0,S.default)((function*(){var e;if(null!=(e=d.original)&&e.id){var n,t={id:Number(null==(n=d.original)?void 0:n.id),name:d.fields.name.value,make:d.fields.make.value,model:d.fields.model.value,serial:d.fields.serial.value,canopySize:d.fields.canopySize.value,rigType:d.fields.rigType.value,repackExpiresAt:d.fields.repackExpiresAt.value,userId:s?Number(s):null,dropzoneId:o?Number(o):null};console.log(t);var r=yield f.mutate(t);console.log(r)}else{var i=yield p.mutate({name:d.fields.name.value,make:d.fields.make.value,model:d.fields.model.value,serial:d.fields.serial.value,canopySize:d.fields.canopySize.value,rigType:d.fields.rigType.value,repackExpiresAt:d.fields.repackExpiresAt.value,userId:s?Number(s):null,dropzoneId:o?Number(o):null});console.log(i)}})),[p,o,d.fields.canopySize.value,d.fields.make.value,d.fields.model.value,d.fields.repackExpiresAt.value,d.fields.rigType.value,d.fields.name.value,d.fields.serial.value,null==(n=d.original)?void 0:n.id,f,s]),h=l.useMemo((function(){return[580]}),[]),v=l.useCallback((function(){requestAnimationFrame((function(){i(),u(rn.forms.rig.reset())}))}),[u,i]);return(0,Hn.jsx)(Hs,{title:null!=(t=d.original)&&t.id?"Edit rig":"New rig",open:r,snapPoints:h,onClose:v,buttonAction:g,buttonLabel:"Save",loading:m,children:(0,Hn.jsx)(qy,{showTypeSelect:!!o})})}function _y(){var e,n,t,r,o,i,a,s,u,d,c,p,m,g,h,v,y,b,x,j,k,O,w,S,P=dn((function(e){return e.forms.user})),C=un();return l.useEffect((function(){if(P.original){var e,n,t;if(!P.fields.exitWeight.value)C(rn.forms.user.setField(["exitWeight",(null==(n=P.original.user)?void 0:n.exitWeight)||"60"]));if(!P.fields.rigs.value&&null!=(e=P.original)&&e.id)C(rn.forms.user.setField(["rigs",null==(t=P.original.user)?void 0:t.rigs]))}}),[C,P.fields.exitWeight.value,P.fields.rigs.value,P.original,null==(e=P.original)?void 0:e.id]),(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(iu,{style:Hy.field,label:"Name",error:P.fields.name.error,value:(null==(n=P.fields.name)||null==(t=n.value)?void 0:t.toString())||"",onChange:function(e){return C(rn.forms.user.setField(["name",e]))}}),(0,Hn.jsx)(yt.default,{type:P.fields.name.error?"error":"info",children:P.fields.name.error||" "}),(0,Hn.jsx)(iu,{style:Hy.field,label:"Nickname",error:P.fields.nickname.error,value:(null==(r=P.fields.nickname)||null==(o=r.value)?void 0:o.toString())||"",onChange:function(e){return C(rn.forms.user.setField(["nickname",e]))}}),(0,Hn.jsx)(yt.default,{type:P.fields.nickname.error?"error":"info",children:P.fields.nickname.error||" "}),(0,Hn.jsx)(iu,{style:Hy.field,label:"Email",error:P.fields.email.error,value:(null==(i=P.fields.email)||null==(a=i.value)?void 0:a.toString())||"",onChange:function(e){return C(rn.forms.user.setField(["email",e]))}}),(0,Hn.jsx)(iu,{style:Hy.field,label:"Phone",error:P.fields.phone.error,value:(null==(s=P.fields.phone)||null==(u=s.value)?void 0:u.toString())||"",onChange:function(e){return C(rn.forms.user.setField(["phone",e]))}}),(0,Hn.jsx)(xu,{value:P.fields.exitWeight.value?Number(P.fields.exitWeight.value):0,error:P.fields.exitWeight.error,onChange:function(e){return C(rn.forms.user.setField(["exitWeight",e.toString()]))},label:"Exit weight (kg)"}),(0,Hn.jsx)(du.default,{}),(0,Hn.jsxs)(f.default,{style:{width:"100%"},children:[(0,Hn.jsx)(Mc,{value:(null==P||null==(d=P.fields)||null==(c=d.license)||null==(p=c.value)?void 0:p.federation)||P.federation.value,onChange:function(e){return C(rn.forms.user.setFederation(e))}}),(0,Hn.jsx)(yt.default,{type:P.federation.error?"error":"info",children:P.federation.error||""}),((null==P||null==(m=P.fields)||null==(g=m.license)||null==(h=g.value)||null==(v=h.federation)?void 0:v.id)||(null==P||null==(y=P.federation)||null==(b=y.value)?void 0:b.id))&&(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(Gu,{value:P.fields.license.value,federationId:Number((null==P||null==(x=P.fields)||null==(j=x.license)||null==(k=j.value)||null==(O=k.federation)?void 0:O.id)||(null==(w=P.federation)||null==(S=w.value)?void 0:S.id)),onChange:function(e){return C(rn.forms.user.setField(["license",e]))}}),(0,Hn.jsx)(yt.default,{type:P.fields.license.error?"error":"info",children:P.fields.license.error||""})]})]})]})}var Hy=Vn.default.create({fields:{flex:1,width:"100%",paddingTop:32},field:{marginBottom:8,width:"100%"},ticketAddons:{marginBottom:8}});const Yy=Vh(va,{getPayload:function(e){return e.updateUser},validates:{email:[Nh("Email is required"),(Jy="Not a valid email",{message:Jy,pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/})],name:[Nh("Name is required")],exitWeight:[Nh("Exit weight is required"),$h("Exit weight must be a valid number"),function(e,n){return{message:e,callback:n}}("Exit weight seems too low?",(function(e){var n=e.exitWeight;return Number(n)>30}))]}});var Jy;function Qy(e){var n,t,r,o,i,a,s,u,d,c,f=e.open,p=e.onSuccess,m=e.onClose,g=e.dropzoneUserId,h=dn((function(e){return e.forms.user})),v=un(),y=Mn(),b=Jl(),x=(0,W.default)(b,1)[0],j=Yy({onSuccess:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){y.success("Profile has been updated"),v(rn.forms.user.setOpen(!1)),p()})),onFieldError:function(e,n){return v(rn.forms.user.setFieldError([e,n]))},onError:function(e){return y.error(e)},mutation:{refetchQueries:[{query:Ta,variables:{dropzoneUserId:g}}]}}),k=l.useCallback((0,S.default)((function*(){var e,n,t,r,o,i,l,a,s,u,d,c;yield j.mutate({dropzoneUser:null==(e=h.original)?void 0:e.id,name:h.fields.name.value,license:null!=(n=h.fields.license.value)&&n.id?Number(null==(t=h.fields.license.value)?void 0:t.id):null,phone:h.fields.phone.value,exitWeight:parseFloat((null==(r=h.fields.exitWeight)?void 0:r.value)||"50"),email:h.fields.email.value});var f,p,m,g,v,y,b=null==(o=h.original)||null==(i=o.user)||null==(l=i.userFederations)?void 0:l.find((function(e){var n,t;return e.federation.slug===(null==(n=h.fields.license.value)||null==(t=n.federation)?void 0:t.slug)}));(null!=(a=h.fields.license.value)&&a.id&&(null==b||null==(s=b.license)?void 0:s.id)!==(null==(u=h.fields.license.value)?void 0:u.id)||null!=(d=h.fields.apfNumber)&&d.value&&(null==(c=h.fields.apfNumber)?void 0:c.value)!==(null==b?void 0:b.uid))&&(yield x({variables:{federation:null==(f=h.fields.license.value)||null==(p=f.federation)||null==(m=p.id)?void 0:m.toString(),uid:null==(g=h.fields)||null==(v=g.apfNumber)?void 0:v.value,license:null==(y=h.fields.license.value)?void 0:y.id}}))})),[x,j,null==(n=h.fields.apfNumber)?void 0:n.value,h.fields.email.value,null==(t=h.fields.exitWeight)?void 0:t.value,null==(r=h.fields.license.value)||null==(o=r.federation)?void 0:o.id,null==(i=h.fields.license.value)||null==(a=i.federation)?void 0:a.slug,null==(s=h.fields.license.value)?void 0:s.id,h.fields.name.value,h.fields.phone.value,null==(u=h.original)?void 0:u.id,null==(d=h.original)||null==(c=d.user)?void 0:c.userFederations]),O=l.useMemo((function(){return[740]}),[]);return(0,Hn.jsx)(Hs,{title:"Update information",open:f,snapPoints:O,loading:j.loading,onClose:m,buttonAction:k,buttonLabel:"Save",children:(0,Hn.jsx)(_y,{})})}function Ky(){var e=(0,ap.useNavigation)(),n=Ut().dropzone.currentUser;return l.useCallback((function(t){n&&e.navigate("Wizards",{screen:"UserWizardScreen",params:{dropzoneUserId:n.id,index:t}})}),[n,e])}var Xy,Zy=t(67294),eb=(Xy={},(0,N.default)(Xy,R.ActAsLoadMaster,"LM"),(0,N.default)(Xy,R.ActAsPilot,"Pilot"),(0,N.default)(Xy,R.ActAsRigInspector,"Rig.Insp"),(0,N.default)(Xy,R.ActAsGca,"GCA"),(0,N.default)(Xy,R.ActAsDzso,"DZSO"),Xy);function nb(e){var n,t,r,o,i,a,s,u,d,c=e.dropzoneUser,p=e.variant,m=e.children,g=e.onPressAvatar,h=dn((function(e){return e.global})),v=h.theme,y=(h.palette,l.useState(!1)),b=(0,W.default)(y,2),x=b[0],j=b[1],k=ds(R.UpdateUser),O=un(),w="light"===p?v.colors.surface:v.colors.onSurface,S=Fe()(v.colors.primary).darken(.3).hex(),P=((null==c||null==(n=c.permissions)?void 0:n.filter((function(e){return/^actAs/.test(e)})))||[]).map((function(e){return eb[e]}));return console.log("image",null==c||null==(t=c.user)?void 0:t.image),(0,Hn.jsxs)(f.default,{style:[tb.container,{backgroundColor:v.colors.surface}],children:[(0,Hn.jsxs)(f.default,{style:tb.avatarContainer,children:[(0,Hn.jsx)(f.default,{style:{flex:1/3,alignItems:"center",justifyContent:"center"},children:(0,Hn.jsx)(bg.default,{onPress:g,children:(0,Hn.jsx)(ud,{image:null==c||null==(r=c.user)?void 0:r.image,name:null==c||null==(o=c.user)?void 0:o.name,size:80})})}),(0,Hn.jsxs)(f.default,{style:tb.titleContainer,children:[(0,Hn.jsxs)(hd,{setOpen:j,open:x,anchor:(0,Hn.jsx)(bg.default,{onPress:function(){return j(!0)},children:(0,Hn.jsx)(Fc.default,{style:[tb.title,{color:S,fontSize:26}],children:null==c||null==(i=c.user)?void 0:i.name})}),children:[(0,Hn.jsx)(gd,{onPress:function(){j(!1),null!=c&&c.user.email&&(0,dp.openURL)("mail:"+(null==c?void 0:c.user.email))},icon:"email",title:null==c||null==(a=c.user)?void 0:a.email}),(0,Hn.jsx)(gd,{onPress:function(){j(!1),null!=c&&c.user.email&&(0,dp.openURL)("tel:"+(null==c?void 0:c.user.phone))},icon:"phone",title:null==c||null==(s=c.user)?void 0:s.phone}),(0,Hn.jsx)(gd,{onPress:function(){j(!1),k&&c&&O(rn.forms.dropzoneUser.setOpen(c))},icon:"card-account-details-star-outline",title:null!=c&&c.expiresAt?(0,uc.default)(1e3*((null==c?void 0:c.expiresAt)||0),"yyyy/MM/dd"):"Not a member"})]}),(0,Hn.jsx)(du.default,{style:{width:"100%"}}),(0,Hn.jsxs)(vp.default,{style:[tb.paragraph,{fontWeight:"bold",fontSize:14,paddingLeft:4,color:w}],children:[null==c||null==(u=c.role)||null==(d=u.name)?void 0:d.replace("_"," ").toUpperCase(),P.length?(0,Hn.jsx)(Zy.default,{style:{marginTop:4},children:" "+P.map(Gc()).join(", ")}):null]})]})]}),m]})}var tb=Vn.default.create({container:{width:"100%",paddingTop:16},actions:{position:"absolute",top:0,right:8,flexDirection:"row",justifyContent:"flex-end"},avatarContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:32,paddingTop:16,marginBottom:16},titleContainer:{paddingLeft:32,paddingTop:16,flex:2/3,alignItems:"flex-start",justifyContent:"center"},title:{color:"white"},paragraph:{color:"white"}});function rb(e){var n=e.items,t=e.style,r=1/n.length,o=(0,$s.useTheme)();return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(du.default,{style:[ob.divider]}),(0,Hn.jsx)(f.default,{style:Vn.default.flatten([ob.container,t]),children:n.map((function(e,t){return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(f.default,{style:{flex:r},children:(0,Hn.jsx)(dc.default,{titleStyle:[ob.title,{alignSelf:"center",justifyContent:"center",color:o.colors.text,fontWeight:!1!==e.bold?"bold":void 0}],style:{paddingTop:15},title:e.value,descriptionStyle:[ob.description,{color:o.colors.text}],description:e.title,onPress:e.onPress})},"info-grid-"+t),t===n.length-1?null:(0,Hn.jsx)(du.default,{style:[ob.verticalDivider]},"info-grid-divider-"+t)]})}))})]})}var ob=Vn.default.create({container:{width:"100%",flexDirection:"row"},divider:{height:Vn.default.hairlineWidth,width:"100%"},verticalDivider:{width:Vn.default.hairlineWidth,height:"100%"},title:{textAlign:"center",color:"white"},description:{textAlign:"center",color:"white"}}),ib=t(88859);function lb(e){var n,t=e.dropzoneUser,r=e.visible,o=Ut().dropzone.currentUser,i=l.useState(!1),a=(0,W.default)(i,2),s=a[0],u=a[1],d=Sd().dialogs,c=Mn(),f=un(),p=fy(),m=(0,ap.useNavigation)(),g=(0,$s.useTheme)(),h=l.useCallback((function(){t&&m.navigate("Wizards",{screen:"UserWizardScreen",params:{index:void 0,dropzoneUserId:t.id}})}),[t,m]),v=l.useCallback((function(){t&&f(rn.forms.dropzoneUser.setOpen(t))}),[f,t]),y=l.useCallback((function(){null!=t&&t.id&&p.navigate("OrdersScreen",{userId:null==t?void 0:t.id})}),[null==t?void 0:t.id,p]),b=l.useCallback((function(){null!=t&&t.id&&p.navigate("EquipmentScreen",{userId:null==t?void 0:t.id})}),[null==t?void 0:t.id,p]),x=l.useCallback((function(){t&&d.credits.open({dropzoneUser:t})}),[d.credits,t]),j=l.useCallback((function(){null!=t&&t.user&&f(rn.forms.user.setOpen(t))}),[f,t]),k=l.useMemo((function(){return(null==o?void 0:o.id)===(null==t?void 0:t.id)}),[null==o?void 0:o.id,null==t?void 0:t.id]),O=ds(R.CreateUserTransaction),w=ds(R.ReadUserTransactions),P=ds(R.UpdateUser),C=ds(R.DeleteUser),D=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(Al,n)}(),E=(0,W.default)(D,1)[0],z=l.useCallback((function(){var e;ib.default.alert(k?"Delete My Account":"Delete "+(null==t||null==(e=t.user)?void 0:e.name),k?"Are you sure you want to delete your account? You will be logged out":"Are you sure you want to delete this user ? ",[{style:"cancel",text:"Cancel",onPress:function(){return null}},{style:"destructive",text:"Yes, delete",onPress:function(){var e=(0,S.default)((function*(){try{var e,n,r,o,i,l=(yield E({variables:{id:Number(null==t?void 0:t.id)},refetchQueries:[Da]})).data;if(null==l||null==(e=l.deleteUser)||null==(n=e.errors)||n.forEach((function(e){c.success(e)})),null!=l&&null!=(r=l.deleteUser)&&null!=(o=r.dropzoneUser)&&o.id)c.success((null==t||null==(i=t.user)?void 0:i.name)+" has been removed");p.goBack()}catch(a){console.log(a)}}));return function(){return e.apply(this,arguments)}}()}])}),[E,null==t?void 0:t.id,null==t||null==(n=t.user)?void 0:n.name,k,p,c]),T=l.useMemo((function(){return[k&&P?{icon:"pencil",label:"Edit",onPress:j}:null,{icon:"account-convert",label:"Setup Wizard",color:Ne,onPress:h},P?{icon:"lock",label:"Access & Membership",color:Me,onPress:v}:null,O?{icon:"cash-plus",label:"Add Funds",color:Be,onPress:x}:null,k||w?{icon:"account-cash",label:"Manage Transactions",onPress:y}:null,{icon:"parachute",label:"Manage Equipment",onPress:b},C?{icon:"account-off",label:"Delete user",onPress:z,color:Le}:null].filter(Boolean)}),[O,C,P,w,k,v,x,j,b,h,y,z]);return(0,Hn.jsx)(gp.default.Group,{testID:"user-profile-fab",open:s,visible:!(null==t||!t.id)&&r||!1,icon:s?"close":"account-edit",fabStyle:{marginLeft:16,marginBottom:16,backgroundColor:g.colors.primary},onStateChange:function(e){var n=e.open;return u(n)},actions:T})}var ab=t(55907),sb=t(66712),ub=t(53525),db=t(25155),cb=t(11743);function fb(e){var n,t=e.slot,r=e.onPress,o=(0,$s.useTheme)();return(0,Hn.jsx)(cd.default,{onPress:r,style:{width:"100%"},children:(0,Hn.jsx)(vt.default,{style:pb.transaction,children:(0,Hn.jsx)(vt.default.Content,{style:pb.transactionContent,children:(0,Hn.jsx)(dc.default,{description:"on Load #"+t.load.loadNumber,title:null==(n=t.jumpType)?void 0:n.name,style:{width:"100%"},titleStyle:pb.transactionTitle,descriptionStyle:pb.transactionDescription,right:function(){var e;return(0,Hn.jsx)(f.default,{style:{width:180,alignItems:"center",justifyContent:"flex-end",flexDirection:"row"},children:(0,Hn.jsxs)(Vd.default,{style:[pb.jumpType,{color:o.colors.onSurface}],children:["-$",null==(e=t.cost)?void 0:e.toFixed(2)]})})},left:function(){return(0,Hn.jsx)(f.default,{style:{width:100,alignItems:"center",flexDirection:"row",justifyContent:"center"},children:(0,Hn.jsx)(zp.default,{icon:"parachute-outline",size:48,style:{alignSelf:"center",marginHorizontal:12}})})}})})})})}var pb=Vn.default.create({avatarIcon:{},transactionTitle:{paddingLeft:0,fontSize:16,fontWeight:"500",marginBottom:6,flexGrow:1},jumpType:{fontSize:16,fontFamily:"Roboto_400Regular",fontWeight:"400",textAlign:"center",alignSelf:"center"},transactionDescription:{paddingLeft:0,flexGrow:1,minWidth:150},transactionContent:{paddingLeft:0,paddingRight:4,paddingTop:8,paddingBottom:8},transaction:{margin:0,marginBottom:0,marginVertical:0,borderRadius:2,width:"100%"}});function mb(e){var n,t=e.dropzoneUser,r=e.tabIndex,o=e.currentTabIndex,i=(0,ap.useNavigation)(),a=l.useMemo((function(){var e;return(0,oe.map)((0,oe.groupBy)(null==t||null==(e=t.slots)?void 0:e.edges,(function(e){var n;return(0,ky.default)((0,ub.default)(null==e||null==(n=e.node)?void 0:n.createdAt)).toISOString()})),(function(e,n){var t=(0,ub.default)(n);return{title:(0,db.default)(new Date,t)>7?(0,uc.default)(t,"dd MMM, yyyy"):(0,cb.default)(t,new Date,{addSuffix:!0,locale:sb.default}),data:e}}))}),[null==t||null==(n=t.slots)?void 0:n.edges]);return(0,Hn.jsx)(ab.View,{animation:o>r?"slideInLeft":"slideInRight",easing:"ease-in-out",duration:200,style:{padding:8},children:a.map((function(e){var n=e.title,t=e.data;return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(uu.default,{style:{marginTop:16,marginBottom:4},children:n}),t.map((function(e){return null!=e&&e.node?(0,Hn.jsx)(fb,{slot:e.node,onPress:function(){var n,t,r,o;null!=e&&null!=(n=e.node)&&null!=(t=n.load)&&t.id&&i.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"LoadScreen",params:{loadId:null==(r=e.node)||null==(o=r.load)?void 0:o.id}}}})}}):null}))]})}))})}function gb(e){var n,t,r,o,i,a=e.order,s=e.dropzoneUser,u=e.showAvatar,d=e.onPress,c=(0,$s.useTheme)(),p="DropzoneUser"===(null==(n=a.buyer)?void 0:n.__typename)&&(null==(t=a.buyer)?void 0:t.id)===(null==s?void 0:s.id),m=p===(null==s?void 0:s.id)?"cash-minus":"cash-plus",g=l.useCallback((function(){return(0,Hn.jsx)(Vd.default,{style:{fontSize:16,fontFamily:"Roboto_400Regular",fontWeight:"400",textAlign:"center",alignSelf:"center",color:c.colors.onSurface},children:(p?"-$":"$")+a.amount.toFixed(2)})}),[p,a.amount,c.colors.onSurface]),h=l.useCallback((function(){var e,n,t,r;return(0,Hn.jsx)(f.default,{style:{alignItems:"center",flexDirection:"row"},children:u?(0,Hn.jsx)(ud,{style:{alignSelf:"center",marginHorizontal:12},size:60,name:(null==a||null==(e=a.buyer)||null==(n=e.user)?void 0:n.name)||(null==a?void 0:a.buyer).name||"",image:(null==(t=(null==a?void 0:a.buyer).user)?void 0:t.image)||(null==a?void 0:a.buyer).banner||void 0}):(0,Hn.jsx)(ju.default,{color:a.buyer&&"__typename"in a.buyer&&"DropzoneUser"===a.buyer.__typename&&(null==(r=a.buyer)?void 0:r.id)===(null==s?void 0:s.id)?"#FF1414":Be,name:m,size:36,style:{marginHorizontal:16}})})}),[null==s?void 0:s.id,m,a.buyer,u]);return(0,Hn.jsx)(cd.default,{onPress:d,children:(0,Hn.jsxs)(vt.default,{style:vb.order,children:[(0,Hn.jsx)(Zy.default,{style:{textAlign:"right",paddingRight:4,paddingTop:2,marginBottom:0},children:us.DateTime.fromISO(null==a?void 0:a.createdAt).toLocaleString(us.DateTime.DATETIME_SHORT)}),(0,Hn.jsx)(vt.default.Content,{style:vb.orderContent,children:(0,Hn.jsx)(dc.default,{title:(null==a||null==(r=a.buyer)||null==(o=r.user)?void 0:o.name)||(null==a||null==(i=a.buyer)?void 0:i.name),style:{width:"100%"},titleStyle:vb.orderTitle,description:a.title||null,descriptionStyle:vb.orderDescription,right:g,left:h})})]})})}var hb,vb=Vn.default.create({avatarIcon:{},orderTitle:{paddingLeft:0,fontSize:16,fontWeight:"500",marginBottom:6},orderDescription:{paddingLeft:0},orderContent:{paddingLeft:0,paddingRight:4,paddingTop:8,paddingBottom:8},order:{marginHorizontal:0,marginVertical:Vn.default.hairlineWidth,width:"100%"}});function yb(e){var n,t=e.dropzoneUser,r=e.tabIndex,o=e.currentTabIndex,i=fy(),a=l.useMemo((function(){var e;return(0,oe.map)((0,oe.groupBy)(null==t||null==(e=t.orders)?void 0:e.edges,(function(e){var n;return us.DateTime.fromISO(null==e||null==(n=e.node)?void 0:n.createdAt).startOf("day").toISO()})),(function(e,n){var t=us.DateTime.fromISO(n),r=t.diffNow("days")>us.Duration.fromDurationLike({days:7})?t.toLocaleString(us.DateTime.DATE_MED_WITH_WEEKDAY):t.toRelative({locale:"au",round:!0,style:"long"});return{title:t.startOf("day").hasSame(us.DateTime.local(),"day")?"Today":r,data:e}}))}),[null==t||null==(n=t.orders)?void 0:n.edges]);return(0,Hn.jsx)(ab.View,{animation:o>r?"slideInLeft":"slideInRight",easing:"ease-in-out",duration:200,children:a.map((function(e){var n=e.title,r=e.data;return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(uu.default,{style:{marginTop:16,marginBottom:4},children:n}),r.map((function(e){return null!=e&&e.node?(0,Hn.jsx)(gb,{showAvatar:!0,onPress:function(){var n,r;return(null==e||null==(n=e.node)?void 0:n.id)&&t&&i.navigate("OrderReceiptScreen",{orderId:null==e||null==(r=e.node)?void 0:r.id,userId:null==t?void 0:t.id})},order:null==e?void 0:e.node,dropzoneUser:t}):null}))]})}))})}function bb(e){var n,t,r=e.dropzoneUser,o=e.tabIndex,i=e.currentTabIndex,l=un();return(0,Hn.jsx)(ab.View,{animation:i<o?"slideInRight":"slideInLeft",duration:200,easing:"ease-in-out",style:{padding:8},children:null==r||null==(n=r.user)||null==(t=n.rigs)?void 0:t.map((function(e){var n;return(0,Hn.jsx)(Ey,{dropzoneUser:r,onSuccessfulImageUpload:function(){return null},rig:e,rigInspection:null==r||null==(n=r.rigInspections)?void 0:n.find((function(n){var t;return(null==(t=n.rig)?void 0:t.id)===e.id&&n.isOk})),onPress:function(){l(rn.forms.rig.setOpen(e))}})}))})}function xb(e){var n=e.active,t=e.dropzoneUser;return n===hb.Funds?(0,Hn.jsx)(yb,{dropzoneUser:t,tabIndex:hb.Funds,currentTabIndex:n}):n===hb.Equipment?(0,Hn.jsx)(bb,{dropzoneUser:t,tabIndex:hb.Equipment,currentTabIndex:n}):n===hb.Jumps?(0,Hn.jsx)(mb,{dropzoneUser:t,tabIndex:hb.Jumps,currentTabIndex:n}):null}function jb(e){var n=e.onChange,t=dn((function(e){return e.global.theme})),r=t.colors,o=t.dark;return(0,Hn.jsxs)($d.Tabs,{defaultIndex:hb.Jumps,disableSwipe:!0,style:{backgroundColor:r.surface},mode:"fixed",dark:o,children:[(0,Hn.jsx)($d.TabScreen,{label:"Funds",icon:"cash",onPress:function(){return n(0)},children:(0,Hn.jsx)(f.default,{})},"funds"),(0,Hn.jsx)($d.TabScreen,{label:"Jumps",icon:"airplane-takeoff",onPress:function(){return n(1)},children:(0,Hn.jsx)(f.default,{})},"jumps"),(0,Hn.jsx)($d.TabScreen,{label:"Equipment",icon:"parachute",onPress:function(){return n(2)},children:(0,Hn.jsx)(f.default,{})},"equipment")]})}function kb(){var e,n=dn((function(e){return e.global})),t=dn((function(e){return e.forms})),r=un(),o=(0,ap.useNavigation)(),i=Ut().dropzone.currentUser,a=Os({id:(0,ap.useRoute)().params.userId||(null==i?void 0:i.id)}),s=a.dropzoneUser,u=a.loading,c=kg(),p=(0,ap.useIsFocused)(),m=l.useState(1),g=(0,W.default)(m,2),h=g[0],v=g[1],y=l.useCallback((function(){s&&r(rn.forms.dropzoneUser.setOpen(s))}),[r,s]),b=l.useCallback((function(){return null!=i&&i.expiresAt?(0,Hn.jsx)(ku.default,{onPress:y,style:{marginRight:16,height:24,backgroundColor:1e3*i.expiresAt<(new Date).getTime()?Le:Be},textStyle:{color:"white",marginTop:0},children:(0,uc.default)(1e3*i.expiresAt,"dd/MM/yy")}):null}),[null==i?void 0:i.expiresAt,y]);l.useEffect((function(){return o.setOptions({title:"Profile"})}),[o]),l.useEffect((function(){p&&o.setOptions({headerRight:b})}),[b,p,o]);var x=ya(),j=(0,W.default)(x,1)[0],k=l.useCallback((0,S.default)((function*(){try{var e=yield c();e&&(yield j({variables:{dropzoneUser:null==s?void 0:s.id,image:"data:image/jpeg;base64,"+e}}))}catch(n){console.log(n)}})),[null==s?void 0:s.id,j,c]),O=Sd().dialogs,w=l.useCallback((function(){return r(rn.forms.rig.setOpen(!1))}),[r]),P=l.useCallback((function(){r(rn.forms.user.setOpen(!1))}),[r]),C=Ky(),D=l.useCallback((function(e){return 0===e.index?(0,Hn.jsx)(jb,{onChange:v}):s?(0,Hn.jsx)(xb,{active:h,dropzoneUser:s}):null}),[h,s]);return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsxs)(f.default,{style:Vn.default.absoluteFill,children:[u&&(0,Hn.jsx)(d.default,{color:n.theme.colors.primary,indeterminate:!0,visible:u}),(0,Hn.jsx)(mp.default,{style:{backgroundColor:n.theme.colors.background},contentContainerStyle:[Ob.content,{backgroundColor:"transparent"}],refreshControl:(0,Hn.jsx)(uy.default,{refreshing:u}),keyExtractor:function(e,n){return"profile-"+n},ListHeaderComponent:function(){var e,n;return(0,Hn.jsx)(f.default,{style:Ob.wrappingHeader,children:(0,Hn.jsx)(f.default,{style:{width:"100%"},children:s?(0,Hn.jsxs)(nb,{dropzoneUser:s,onPressAvatar:k,children:[(0,Hn.jsx)(rb,{style:{height:80},items:[{title:"Funds",value:"$"+((null==s?void 0:s.credits)||0),onPress:function(){O.credits.open({dropzoneUser:s})}},{title:"License",value:""+((null==s||null==(e=s.license)?void 0:e.name)||"-"),onPress:function(){C(5)}},{title:"Exit weight",onPress:function(){C(9)},value:Math.round(Number(null==s||null==(n=s.user)?void 0:n.exitWeight)).toString()||"-"}]}),(0,Hn.jsx)(du.default,{style:Ob.divider})]}):(0,Hn.jsx)(Uu,{containerStyle:{height:256,width:"100%"},isLoading:!0,layout:[{key:"header",width:"100%",height:256,borderRadius:8}]},"profile-header")})})},renderItem:D,data:[null,null]}),(0,Hn.jsx)(Wy,{onClose:w,onSuccess:function(){return requestAnimationFrame((function(){return r(rn.forms.rig.setOpen(!1))}))},open:t.rig.open,userId:Number(null==s||null==(e=s.user)?void 0:e.id)}),(0,Hn.jsx)($y,{onClose:function(){return r(rn.forms.dropzoneUser.setOpen(!1))},onSuccess:function(e){r(rn.forms.dropzoneUser.setOpen(!1)),(null==i?void 0:i.id)===(null==s?void 0:s.id)&&r(rn.global.setUser(e.user))},open:t.dropzoneUser.open}),(0,Hn.jsx)(Qy,{dropzoneUserId:null==s?void 0:s.id,onClose:P,onSuccess:function(){r(rn.forms.user.setOpen(!1))},open:t.user.open})]}),(0,Hn.jsx)(lb,{dropzoneUser:s,visible:p})]})}!function(e){e[e.Funds=0]="Funds",e[e.Jumps=1]="Jumps",e[e.Equipment=2]="Equipment"}(hb||(hb={}));var Ob=Vn.default.create({container:{flex:1},content:{paddingBottom:56,paddingHorizontal:0},wrappingHeader:{width:"100%",flexDirection:"row",flexWrap:"wrap"},wrappingHeaderItem:{},divider:{height:1,width:"100%"},chip:{margin:1,backgroundColor:"transparent",minHeight:23,borderWidth:0,justifyContent:"center",alignItems:"center",display:"flex"},chipTitle:{color:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,lineHeight:24,textAlignVertical:"center"}}),wb=t(8643);function Sb(){var e,n,t,r,o=dn((function(e){return e.global})),i=Ut().dropzone.currentUser,a=(0,ap.useRoute)(),s=Os({id:(null==a||null==(e=a.params)?void 0:e.userId)||(null==i?void 0:i.id)}),u=s.dropzoneUser,c=s.loading,p=s.refetch,m=fy();return l.useEffect((function(){var e;if(null!=u&&null!=(e=u.user)&&e.name&&(null==u?void 0:u.id)!==(null==i?void 0:i.id)){var n,t,r=(null==(n=u.user)||null==(t=n.name)?void 0:t.split(/\s/))||[],o=(0,W.default)(r,1)[0];m.setOptions({title:o+"'s Transactions"})}else m.setOptions({title:"Your Transactions"})}),[null==i?void 0:i.id,null==u?void 0:u.id,null==u||null==(n=u.user)?void 0:n.name,m]),(0,Hn.jsxs)(f.default,{style:{flexGrow:1,backgroundColor:o.theme.colors.surface},children:[c&&(0,Hn.jsx)(d.default,{color:o.theme.colors.primary,indeterminate:!0,visible:c}),(0,Hn.jsx)(wb.default,{sections:(0,oe.map)((0,oe.groupBy)(null==u||null==(t=u.orders)?void 0:t.edges,(function(e){var n;return(0,ky.default)((0,ub.default)(null==e||null==(n=e.node)?void 0:n.createdAt)).toISOString()})),(function(e,n){var t=(0,ub.default)(n);return{title:(0,db.default)(new Date,t)>7?(0,uc.default)(t,"dd MMM, yyyy"):(0,cb.default)(t,new Date,{addSuffix:!0,locale:sb.default}),data:e}})),renderSectionHeader:function(e){var n=e.section.title;return(0,Hn.jsx)(uu.default,{children:n})},style:Pb.flatList,data:(null==u||null==(r=u.orders)?void 0:r.edges)||[],refreshing:!1,onRefresh:p,renderItem:function(e){var n=e.item;return(0,Hn.jsx)(gb,{showAvatar:!0,onPress:function(){var e;return null!=n&&n.node&&u?m.navigate("OrderReceiptScreen",{orderId:null==n||null==(e=n.node)?void 0:e.id,userId:u.id}):null},order:null==n?void 0:n.node,dropzoneUser:u})}})]})}var Pb=Vn.default.create({flatList:{flex:1,paddingTop:0}});function Cb(){var e,n,t,r,i=dn((function(e){return e.global})),a=dn((function(e){return e.forms})),s=un(),u=Ut().dropzone.currentUser,d=(0,ap.useNavigation)(),c=(0,ap.useRoute)(),f=Os({id:(null==c||null==(e=c.params)?void 0:e.userId)||(null==u?void 0:u.id)}),p=f.dropzoneUser,m=f.loading;l.useEffect((function(){var e;if(null!=p&&null!=(e=p.user)&&e.name&&(null==p?void 0:p.id)!==(null==u?void 0:u.id)){var n,t=(null==(n=p.user)?void 0:n.name.split(/\s/))||[],r=(0,W.default)(t,1)[0];d.setOptions({title:r+"'s Equipment"})}else d.setOptions({title:"Your Equipment"})}),[null==u?void 0:u.id,null==p?void 0:p.id,null==p||null==(n=p.user)?void 0:n.name,d]);var g=ds(R.UpdateUser);return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(o.FlatList,{data:(null==p||null==(t=p.user)?void 0:t.rigs)||[],numColumns:1,style:{flex:1},refreshing:m,keyExtractor:function(e){return"rig-"+(null==e?void 0:e.id)},contentContainerStyle:{padding:16},renderItem:function(e){var n,t=e.item;return(0,Hn.jsx)(Ey,{dropzoneUser:p,rig:t,rigInspection:null==p||null==(n=p.rigInspections)?void 0:n.find((function(e){var n;return(null==(n=e.rig)?void 0:n.id)===t.id&&e.isOk})),onPress:function(){s(rn.forms.rig.setOpen(t))}})}}),(0,Hn.jsx)(gp.default,{small:!0,style:[Db.fab,{backgroundColor:i.theme.colors.primary}],visible:g,icon:"plus",onPress:function(){return s(rn.forms.rig.setOpen(!0))},label:"Add rig"}),(0,Hn.jsx)(Wy,{onClose:function(){return s(rn.forms.rig.setOpen(!1))},onSuccess:function(){return requestAnimationFrame((function(){return s(rn.forms.rig.setOpen(!1))}))},open:a.rig.open,userId:Number(null==p||null==(r=p.user)?void 0:r.id)})]})}var Db=Vn.default.create({container:{flex:1},content:{flexGrow:1,paddingBottom:56,paddingHorizontal:0},fab:{position:"absolute",margin:16,right:0,bottom:0},divider:{height:1,width:"100%"},chip:{margin:1,backgroundColor:"transparent",minHeight:23,borderWidth:0,justifyContent:"center",alignItems:"center",display:"flex"},chipTitle:{color:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,lineHeight:24,textAlignVertical:"center"}}),Eb=["style","children","contentContainerStyle"];function zb(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Tb(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?zb(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zb(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Ib=l.forwardRef((function(e,n){var t=(0,jt.default)().height,r=dn((function(e){return e.global})).theme,o=e.style,i=e.children,l=e.contentContainerStyle,a=(0,zt.default)(e,Eb);return(0,Hn.jsx)(Gp.default,Tb(Tb({},a),{},{ref:n,keyboardDismissMode:"on-drag",keyboardShouldPersistTaps:"handled",contentInsetAdjustmentBehavior:"always",style:[Ab.container,{backgroundColor:r.colors.surface,height:t-112},o],contentContainerStyle:[Ab.content,{backgroundColor:r.colors.background},l],children:i}))}));var Ab=Vn.default.create({container:{flex:1},content:{paddingHorizontal:16,alignItems:"flex-start",flexGrow:1,paddingBottom:50}});const Fb=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.0.0","a":"","k":"","d":"","tc":"#FFFFFF"},"fr":60,"ip":0,"op":149,"w":512,"h":512,"nm":"airplane","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"ticket Outlines 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":97,"s":[0]},{"t":120,"s":[28]}],"ix":10},"p":{"a":0,"k":[306,343,0],"ix":2},"a":{"a":0,"k":[44,47.75,0],"ix":1},"s":{"a":0,"k":[400,400,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[63.25,8],[43.75,8],[43.75,56.5],[63.25,56.5]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[44,48],[44,44]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":75,"s":[100]},{"t":80,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[44,16],[44,20]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":50,"s":[100]},{"t":56.666015625,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[22,36],[22,40]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":20,"s":[100]},{"t":25,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":68.334,"s":[100]},{"t":75,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,38],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":61.666,"s":[100]},{"t":68.333984375,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,32],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":3,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":56.666,"s":[100]},{"t":61.666015625,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,26],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":3,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,-2.209],[2.209,0],[0,0],[0,0],[0,0],[0,2.209],[-2.209,0]],"o":[[0,0],[0,0],[2.209,0],[0,2.209],[0,0],[0,0],[0,0],[-2.209,0],[0,-2.209],[0,0]],"v":[[26,-16],[-26,-16],[-26,-4],[-22,0],[-26,4],[-26,16],[26,16],[26,4],[22,0],[26,-4]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":25,"s":[100]},{"t":50,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[32,32],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":3,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-6,-6],[6,-6],[6,6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":15,"s":[100]},{"t":25,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[24,34],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":3,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-8,6],[-4,6],[8,-6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[100]},{"t":15,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[26,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":3,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"ticket Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[258,280,0],"ix":2},"a":{"a":0,"k":[32,32,0],"ix":1},"s":{"a":0,"k":[400,400,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":95,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[61.75,12.5],[4,12.5],[4,51.25],[61.75,51.25]],"c":true}]},{"t":97,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[44,12.5],[-13.75,12.5],[-13.75,51.25],[44,51.25]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[44,48],[44,44]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":75,"s":[100]},{"t":80,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[44,16],[44,20]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":50,"s":[100]},{"t":56.666015625,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[22,36],[22,40]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":20,"s":[100]},{"t":25,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":68.334,"s":[100]},{"t":75,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,38],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":61.666,"s":[100]},{"t":68.333984375,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,32],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":3,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":56.666,"s":[100]},{"t":61.666015625,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,26],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":3,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,-2.209],[2.209,0],[0,0],[0,0],[0,0],[0,2.209],[-2.209,0]],"o":[[0,0],[0,0],[2.209,0],[0,2.209],[0,0],[0,0],[0,0],[-2.209,0],[0,-2.209],[0,0]],"v":[[26,-16],[-26,-16],[-26,-4],[-22,0],[-26,4],[-26,16],[26,16],[26,4],[22,0],[26,-4]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":25,"s":[100]},{"t":50,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[32,32],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":3,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-6,-6],[6,-6],[6,6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":15,"s":[100]},{"t":25,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[24,34],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":3,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-8,6],[-4,6],[8,-6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[100]},{"t":15,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[26,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":3,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"circle","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":105,"s":[100]},{"t":129,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[260,254,0],"ix":2},"a":{"a":0,"k":[8.9,23.828,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":75,"s":[0,0,100]},{"t":120,"s":[130,130,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[354,354],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":75,"s":[1,0.803921580315,0.219607844949,1]},{"t":120,"s":[1,0.866666674614,0.403921574354,1]}],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[7,25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"bg","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[256,256,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[518,514],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":60,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.952941176471,0.952941176471,0.952941176471,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-1,-1],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[97.683,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"bm":0}],"markers":[]}');function Rb(e){switch(e){case"paid":case"withdrawal":return"cash-minus";case"refunded":case"deposit":return"cash-plus";default:return"cash"}}function Ub(e){var n=e.transaction,t=e.onPress,r=(0,$s.useTheme)();return(0,Hn.jsx)(cd.default,{onPress:t,style:{width:"100%"},children:(0,Hn.jsx)(vt.default,{style:Bb.transaction,children:(0,Hn.jsxs)(vt.default.Content,{style:Bb.transactionContent,children:[(0,Hn.jsx)(Zy.default,{style:{position:"absolute",top:4,right:8,color:r.colors.onSurface},children:(null==n?void 0:n.createdAt)&&us.DateTime.fromISO(n.createdAt).toLocaleString(us.DateTime.DATETIME_SHORT)}),(0,Hn.jsx)(dc.default,{description:(0,oe.capitalize)(n.message||""),title:n.transactionType.toUpperCase(),style:{width:"100%"},titleStyle:Bb.transactionTitle,descriptionStyle:Bb.transactionDescription,left:function(){return(0,Hn.jsxs)(f.default,{style:{width:165,alignItems:"center",flexDirection:"row"},children:[(0,Hn.jsx)(ju.default,{color:n.amount<0?"#FF1414":Be,name:Rb(n.status),size:36,style:{marginHorizontal:16}}),(0,Hn.jsx)(Vd.default,{style:{fontSize:30,fontWeight:"100",textAlign:"center",color:r.colors.onSurface},children:n.amount<0?"-$"+-1*n.amount:"$"+n.amount})]})}})]})})})}var Bb=Vn.default.create({avatarIcon:{},transactionTitle:{paddingLeft:0,fontSize:14,fontWeight:"500",marginBottom:0},transactionDescription:{paddingLeft:0},transactionContent:{paddingLeft:0,paddingRight:4,paddingTop:8,paddingBottom:8},transaction:{marginHorizontal:0,marginVertical:Vn.default.hairlineWidth,borderRadius:2,width:"100%"}});function Lb(e){var n,t=e.receipt,r=e.index,o=Ut().dropzone.currentUser,i=l.useCallback((function(e){return"__typename"in e&&"DropzoneUser"===e.__typename&&e.id===(null==o?void 0:o.id)}),[o]);return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(uu.default,{children:"Receipt #"+(r+1)}),null==t||null==(n=t.transactions)?void 0:n.filter((function(e){return i(e.receiver)})).map((function(e){return(0,Hn.jsx)(Ub,{transaction:e})}))]})}function Mb(){var e,n,t,r,o,i=(0,ap.useRoute)(),a=(0,$s.useTheme)(),s=i.params,u=s.orderId,d=Os({id:s.userId}).dropzoneUser,c=l.useMemo((function(){var e,n;return null==d||null==(e=d.orders)||null==(n=e.edges)?void 0:n.map((function(e){return null==e?void 0:e.node})).find((function(e){return(null==e?void 0:e.id)===u}))}),[null==d||null==(e=d.orders)?void 0:e.edges,u]),p=l.useMemo((function(){return JSON.parse(JSON.stringify(Fb).replace(/260,254,0/g,[Fe()(a.colors.primary).red(),Fe()(a.colors.primary).green(),Fe()(a.colors.primary).blue()].join(",")))}),[a.colors.primary]);return(0,Hn.jsxs)(Ib,{children:[(0,Hn.jsxs)(vt.default,{style:{marginTop:32,width:"100%",maxWidth:600},children:[(0,Hn.jsx)(vt.default.Content,{style:{paddingBottom:16},children:(0,Hn.jsxs)(f.default,{style:{flexDirection:"row",alignItems:"center",flex:1},children:[(0,Hn.jsx)(Gn,{loop:!1,autoPlay:!0,speed:.5,style:{height:150,width:150},source:p}),(0,Hn.jsxs)(f.default,{style:{flexGrow:1},children:[(0,Hn.jsx)(Vd.default,{style:{fontWeight:"bold",alignSelf:"flex-start",fontSize:26,marginLeft:16,width:"100%",color:a.colors.onSurface},children:"Order #"+((null==c?void 0:c.id)||"")}),(0,Hn.jsx)(Vd.default,{style:{fontWeight:"bold",opacity:.6,alignSelf:"flex-start",fontSize:14,marginLeft:16,width:"100%",marginBottom:48,color:a.colors.onSurface},children:null==c?void 0:c.title}),(0,Hn.jsx)(bt.default,{mode:"outlined",color:Be,style:{borderRadius:16,margin:8},children:null==c?void 0:c.state})]})]})}),(0,Hn.jsx)(du.default,{}),(0,Hn.jsx)(vt.default.Title,{style:{flexDirection:"row"},titleStyle:{width:"50%"},rightStyle:{width:"50%"},title:(0,Hn.jsx)(dc.default,{description:"Buyer",title:(null==c||null==(n=c.buyer)||null==(t=n.user)?void 0:t.name)||(null==c||null==(r=c.buyer)?void 0:r.name),left:function(e){var n,t,r,o,i,l;return(0,Hn.jsx)(ud,{name:(null==c||null==(n=c.buyer)||null==(t=n.user)?void 0:t.name)||(null==c||null==(r=c.buyer)?void 0:r.name)||"",image:(null==c||null==(o=c.buyer)||null==(i=o.user)?void 0:i.image)||(null==c||null==(l=c.buyer)?void 0:l.banner)||"",style:{alignSelf:"center"},size:36})},titleStyle:{width:100,fontSize:14},descriptionStyle:{width:100,fontSize:10}}),right:function(){var e,n,t;return(0,Hn.jsx)(dc.default,{description:"Seller",right:function(e){var n,t,r,o,i,l;return(0,Hn.jsx)(ud,{name:(null==c||null==(n=c.seller)||null==(t=n.user)?void 0:t.name)||(null==c||null==(r=c.seller)?void 0:r.name)||"",image:(null==c||null==(o=c.buyer)||null==(i=o.user)?void 0:i.image)||(null==c||null==(l=c.buyer)?void 0:l.banner)||"",style:{alignSelf:"center",marginLeft:8},size:36})},titleStyle:{textAlign:"right",fontSize:14},descriptionStyle:{textAlign:"right",fontSize:10},title:(null==c||null==(e=c.seller)||null==(n=e.user)?void 0:n.name)||(null==c||null==(t=c.seller)?void 0:t.name)})}})]}),null==c||null==(o=c.receipts)?void 0:o.map((function(e,n){return(0,Hn.jsx)(Lb,{receipt:e,order:c,index:n})}))]})}function Nb(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function $b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Nb(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Nb(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Vb=(0,cp.default)();function qb(){var e=dn((function(e){return e.screens.users})),n=e.isSearchVisible,t=e.searchText,r=un(),o=Ut().dropzone.currentUser;return(0,Hn.jsx)(wt,{children:(0,Hn.jsxs)(Vb.Navigator,{screenOptions:{cardStyle:{flex:1},presentation:"modal"},children:[(0,Hn.jsx)(Vb.Screen,{name:"UserListScreen",component:vy,options:{title:"Dropzone users",headerShown:!0,header:function(e){return(0,Hn.jsx)(jy,$b($b({},e),{},{searchText:t,searchVisible:n,setSearchVisible:function(e){return r(rn.screens.users.setSearchVisible(e))},onSearch:function(e){return r(rn.screens.users.setSearchText(e))}}))}}}),(0,Hn.jsx)(Vb.Screen,{name:"ProfileScreen",component:kb,options:{title:"User"},initialParams:{userId:null==o?void 0:o.id}}),(0,Hn.jsx)(Vb.Screen,{name:"RigInspectionScreen",component:Ay,options:{title:"Inspection"}}),(0,Hn.jsx)(Vb.Screen,{name:"OrdersScreen",component:Sb,options:{title:"Transactions"}}),(0,Hn.jsx)(Vb.Screen,{name:"EquipmentScreen",component:Cb,options:{title:"Equipment"}}),(0,Hn.jsx)(Vb.Screen,{name:"OrderReceiptScreen",component:Mb,options:{title:"Order"}})]})})}var Gb=(0,cp.default)();function Wb(){return(0,Hn.jsxs)(Gb.Navigator,{screenOptions:{headerShown:!1,presentation:"modal",cardStyle:{flex:1}},children:[(0,Hn.jsx)(Gb.Screen,{name:"DropzoneWizardScreen",component:qv}),(0,Hn.jsx)(Gb.Screen,{name:"UserWizardScreen",component:Lh}),(0,Hn.jsx)(Gb.Screen,{name:"RecoverPasswordScreen",component:Qv}),(0,Hn.jsx)(Gb.Screen,{name:"ConfirmUserScreen",component:Xv}),(0,Hn.jsx)(Gb.Screen,{name:"ChangePasswordScreen",component:sy}),(0,Hn.jsx)(Gb.Screen,{name:"User",component:qb})]})}var _b=t(67191),Hb=t(83211),Yb=t(85140),Jb=t(29923),Qb=t.n(Jb);function Kb(e){var n=e.items,t=1/n.length;return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(du.default,{style:Xb.divider}),(0,Hn.jsx)(f.default,{style:Xb.container,children:n.map((function(e,r){return(0,Hn.jsxs)(l.Fragment,{children:[(0,Hn.jsx)(f.default,{style:{flex:t},children:(0,Hn.jsx)(dc.default,{titleStyle:[Xb.title,{fontWeight:!1!==e.bold?"bold":void 0}],style:{paddingVertical:20},title:e.value,descriptionStyle:Xb.description,description:e.title,onPress:e.onPress})}),r===n.length-1?null:(0,Hn.jsx)(du.default,{style:Xb.verticalDivider},"info-grid-divider-"+r)]},"info-grid-"+r)}))})]})}var Xb=Vn.default.create({container:{width:"100%",flexDirection:"row"},divider:{height:Vn.default.hairlineWidth,width:"100%"},verticalDivider:{width:Vn.default.hairlineWidth,height:"100%"},title:{textAlign:"center"},description:{textAlign:"center"}});function Zb(){var e,n,t,r,i=dn((function(e){return e.global})),a=i.theme,s=i.currentRouteName,u=un(),d=Ut().dropzone,c=d.currentUser,p=d.dropzone,m=d.loading,g=ss().dropzones,h=(0,ap.useNavigation)(),v=ds(R.UpdateDropzone),y=ds(R.UpdatePlane),b=ds(R.UpdateTicketType),x=ds(R.UpdateExtra),j=ds(R.GrantPermission),k=ds(R.UpdateDropzoneRig),O=ds(R.UpdateFormTemplate),w=function(){var e=un(),n=(0,Fy.useApolloClient)();return l.useCallback((function(){console.debug("[Hooks::useLogout]: Logging out..."),En.abort(),n.clearStore(),e(rn.global.logout())}),[n,e])}(),S=l.useCallback((function(){h.dispatch(ap.DrawerActions.closeDrawer()),w()}),[w,h]),P=v||y||b||x||j||k||O;return(0,Hn.jsxs)(f.default,{style:{flex:1,paddingTop:100},children:[m?(0,Hn.jsx)(Uu,{containerStyle:ex.skeleton,isLoading:!0,layout:[{key:"avatar",borderRadius:25,height:50,width:50},{key:"role",height:12,width:120,marginLeft:8,marginTop:12}]}):(0,Hn.jsx)(dc.default,{left:function(){var e;return null!=c&&null!=(e=c.user)&&e.image?(0,Hn.jsx)(rd.default,{size:50,source:{uri:null==c?void 0:c.user.image},style:{backgroundColor:a.colors.surface}}):(0,Hn.jsx)(zp.default,{size:50,icon:"account",color:a.colors.primary,style:{backgroundColor:a.colors.surface}})},title:null==c||null==(e=c.user)?void 0:e.name,description:"@ "+(null==p?void 0:p.name),titleStyle:ex.profileAvatarTitle,descriptionStyle:ex.profileAvatarSubtitle,style:ex.profileAvatar,onPress:function(){h.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"User",params:{screen:"ProfileScreen",params:{userId:null==c?void 0:c.id}}}}})}}),(0,Hn.jsx)(Kb,{items:[{title:"Role",value:Qb()(((null==c||null==(n=c.role)?void 0:n.name)||"").replace("_"," "))},{title:"Funds",value:"$"+((null==c?void 0:c.credits)||0)}]}),(0,Hn.jsxs)(o.ScrollView,{showsVerticalScrollIndicator:!1,children:[(0,Hn.jsxs)(Hb.default,{title:"Dropzone",children:[(null==p||null==(t=p.currentUser)||null==(r=t.user)?void 0:r.moderationRole)!==I.User?(0,Hn.jsx)(Yb.default,{label:"Admin",active:/Overview/.test(s||""),icon:"view-dashboard",onPress:function(){h.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Overview",params:{screen:"OverviewScreen"}}})}}):null,(0,Hn.jsx)(Yb.default,{label:"Overview",active:/Dashboard/.test(s||""),icon:"view-dashboard-outline",onPress:function(){h.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Overview",params:{screen:"DashboardScreen"}}})}}),(0,Hn.jsx)(Yb.default,{label:"Manifest",active:/Manifest/.test(s||""),icon:"home",onPress:function(){h.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"ManifestScreen"}}})}}),(0,Hn.jsx)(Yb.default,{label:"Order Activity",active:"DropzoneTransactionsScreen"===s,icon:"cash",onPress:function(){h.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"Configuration",params:{screen:"TransactionsScreen"}}}})}}),P?(0,Hn.jsx)(Yb.default,{active:"Settings"===s,label:"Settings",icon:"cog",onPress:function(){return h.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"Configuration",params:{screen:"SettingsMenuScreen"}}}})}}):null]}),(0,Hn.jsxs)(Hb.default,{title:"Account",children:[(0,Hn.jsx)(Yb.default,{label:"Profile",active:"ProfileScreen"===s,icon:"account",onPress:function(){h.navigate("Wizards",{screen:"User",params:{screen:"ProfileScreen",params:{userId:null==c?void 0:c.id}}})}}),(0,Hn.jsx)(Yb.default,{label:"Equipment",active:"EquipmentScreen"===s,icon:"parachute",onPress:function(){h.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"User",params:{screen:"EquipmentScreen",params:{userId:null==c?void 0:c.id}}}}})}}),(0,Hn.jsx)(Yb.default,{label:"Notifications",active:"NotificationsScreen"===s,icon:"bell",onPress:function(){return h.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Notifications",params:{screen:"NotificationsScreen"}}})}}),(0,Hn.jsx)(Yb.default,{label:"Transactions",active:"OrdersScreen"===s,icon:"cash",onPress:function(){h.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"User",params:{screen:"OrdersScreen",params:{userId:null==c?void 0:c.id}}}}})}}),(0,Hn.jsx)(Yb.default,{label:"Log out",icon:"logout",onPress:S})]}),(0,Hn.jsxs)(Hb.default,{title:"Switch dropzone",children:[null==g?void 0:g.map((function(e){return(0,Hn.jsx)(Yb.default,{label:(null==e?void 0:e.name)||"",icon:null!=e&&e.banner?function(n){var t=n.size;return(0,Hn.jsx)(rd.default,{source:{uri:null==e?void 0:e.banner},size:t})}:"map-marker",active:(null==p?void 0:p.id)===(null==e?void 0:e.id),onPress:function(){e&&(u(rn.global.setDropzone(e)),h.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"ManifestScreen"}}}))}},(null==e?void 0:e.id)+"-dz")})),(0,Hn.jsx)(Yb.default,{label:"Create new",icon:"plus",onPress:function(){h.navigate("Wizards",{screen:"DropzoneWizardScreen"})}})]})]})]})}var ex=Vn.default.create({profileHeader:{backgroundColor:"#FF1414",flexGrow:1},skeleton:{marginLeft:32,height:50,width:"100%",paddingHorizontal:8,flexDirection:"row",marginBottom:16},profileAvatar:{marginLeft:32,marginBottom:16},profileAvatarTitle:{fontWeight:"bold",marginLeft:4},profileAvatarSubtitle:{fontSize:12,marginLeft:4}}),nx=t(49881);function tx(e){var n=e.action,t=e.title,r=(0,jt.default)().width,o=(0,$s.useTheme)(),i=Fe()(o.colors.primary).contrast(Fe()(o.colors.onSurface))<11?o.colors.surface:o.colors.onSurface;return(0,Hn.jsxs)(f.default,{style:[ox.warning,{backgroundColor:o.colors.primary}],children:[(0,Hn.jsx)(vp.default,{style:{width:n?r-56:r,color:i,flexGrow:1},adjustsFontSizeToFit:!0,allowFontScaling:!0,children:t}),n?(0,Hn.jsx)(f.default,{style:{width:40},children:(0,Hn.jsx)(Vs.default,{icon:"launch",color:i,onPress:n,style:{width:24}})}):null]})}function rx(e){var n=e.credits,t=e.loading,r=e.isCreditSystemEnabled,o=e.isRigSetUp,i=e.isExitWeightDefined,l=e.isMembershipInDate,a=e.isReserveInDate,s=e.isRigInspectionComplete,u=e.onSetupWizard,d=(0,ap.useNavigation)(),c=Ut().dropzone.currentUser;if(t)return null;if(!i||!o){var f=[i?null:"exit weight",o?null:"equipment"].filter(Boolean);return(0,Hn.jsx)(tx,{title:"You need to define "+f.join(" and ")+" in your profile",action:function(){return null==u?void 0:u()}})}return l?s?a?!r||n||t?null:(0,Hn.jsx)(tx,{title:"You'll need to top up on credits before you can manifest"}):(0,Hn.jsx)(tx,{title:"Your reserve repack is due. You can update the repack date on your profile",action:function(){return(null==c?void 0:c.id)&&d.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"User",params:{screen:"EquipmentScreen",params:{userId:c.id}}}}})}}):(0,Hn.jsx)(tx,{title:"Your rig must be inspected before you can manifest at this dropzone"}):(0,Hn.jsx)(tx,{title:"Your membership seems to be out of date"})}var ox=Vn.default.create({warning:{flexDirection:"row",alignItems:"center",height:56,width:"100%",backgroundColor:"black",justifyContent:"space-between",paddingHorizontal:16}});const ix=function(e){var n,t,r,o,i,l,a,s,u,d,c,f,p=e.hideWarnings,m=e.back,g=e.options,h=dn((function(e){return e.global})),v=h.palette,y=h.theme,b=(un(),Ut().dropzone),x=b.currentUser,j=b.loading,k=b.dropzone,O=(0,ap.useNavigation)(),w=(0,ap.useNavigation)().openDrawer;return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsxs)(by.default.Header,{style:{backgroundColor:y.dark?y.colors.background:y.colors.surface},children:[m?(0,Hn.jsx)(by.default.BackAction,{onPress:O.goBack}):(0,Hn.jsx)(Vs.default,{icon:"menu",size:32,onPress:w}),(0,Hn.jsx)(by.default.Content,{title:g.title,titleStyle:{fontWeight:"bold"}}),g.headerRight?g.headerRight({tintColor:"white"}):(0,Hn.jsx)(ku.default,{style:{backgroundColor:v.background,height:36,padding:4,alignItems:"center",justifyContent:"center"},mode:"flat",textStyle:{color:v.onSurface,fontFamily:"Roboto_700Bold"},children:"$"+((null==x?void 0:x.credits)||0)})]}),p?null:(0,Hn.jsx)(rx,{credits:(null==x?void 0:x.credits)||0,loading:j,isCreditSystemEnabled:!(null==k||null==(n=k.settings)||!n.requireCredits),isExitWeightDefined:!(null==x||null==(t=x.user)||!t.exitWeight),isMembershipInDate:!(null!=k&&null!=(r=k.settings)&&r.requireMembership)||!(null==x||!x.expiresAt)&&(null==x?void 0:x.expiresAt)>(new Date).getTime()/1e3,isReserveInDate:!(null!=k&&null!=(o=k.settings)&&o.requireEquipment)||!(null==x||null==(i=x.user)||null==(l=i.rigs)||!l.some((function(e){var n,t,r=null==k||null==(n=k.currentUser)||null==(t=n.rigInspections)?void 0:t.map((function(n){var t;return(null==n||null==(t=n.rig)?void 0:t.id)===e.id})),o=(e.repackExpiresAt||0)>(new Date).getTime()/1e3;return r&&o}))),isRigInspectionComplete:!(null!=k&&null!=(a=k.settings)&&a.requireEquipment)||!(null!=k&&null!=(s=k.settings)&&s.requireRigInspection)||!(null==x||null==(u=x.rigInspections)||!u.length),isRigSetUp:!(null!=k&&null!=(d=k.settings)&&d.requireEquipment)||!(null==x||null==(c=x.user)||null==(f=c.rigs)||!f.length),onSetupWizard:function(){console.log("opening setup wizard"),x&&O.navigate("Wizards",{screen:"UserWizardScreen",params:{index:void 0,dropzoneUserId:x.id}})}})]})};function lx(e){var n,t,r,o=e.small,i=e.color,a=e.backgroundColor,s=e.onSelect,u=e.value,d=(0,$s.useTheme)(),c=i||d.colors.onSurface,p=dn((function(e){return e.global})).currentDropzoneId,m=Ea({variables:{dropzoneId:null==p?void 0:p.toString(),permissions:[R.ActAsGca]}}).data,g=ds(R.UpdateLoad),h=l.useMemo((function(){var e,n;return(null==m||null==(e=m.dropzoneUsers)||null==(n=e.edges)?void 0:n.filter((function(e){return!(null==e||!e.node)})).map((function(e){var n,t,r,o;return{label:(null==e||null==(n=e.node)||null==(t=n.user)?void 0:t.name)||"",value:null==e?void 0:e.node,avatar:null==e||null==(r=e.node)||null==(o=r.user)?void 0:o.image}})))||[]}),[null==m||null==(n=m.dropzoneUsers)?void 0:n.edges]),v=l.useMemo((function(){var e,n;return null==m||null==(e=m.dropzoneUsers)||null==(n=e.edges)?void 0:n.map((function(e){return null==e?void 0:e.node})).find((function(e){return(null==e?void 0:e.id)===(null==u?void 0:u.id)}))}),[null==m||null==(t=m.dropzoneUsers)?void 0:t.edges,null==u?void 0:u.id]),y=l.useCallback((function(e){var n=e.item,t=e.openMenu;return(0,Hn.jsx)(Pu,{backgroundColor:a,small:o,color:c,onPress:t,icon:"radio-handheld",children:(0,oe.truncate)((null==n?void 0:n.label)||"No GCA",{length:12})})}),[a,c,o]);return(0,Hn.jsx)(f.default,{style:{maxWidth:100},children:g?(0,Hn.jsx)(vd,{value:v,options:h,onChange:s,renderAnchor:y}):(0,Hn.jsx)(Pu,{backgroundColor:a,small:o,color:c,icon:"radio-handheld",children:(null==u||null==(r=u.user)?void 0:r.name)||"No gca"})})}function ax(e){var n,t=e.small,r=e.color,o=e.backgroundColor,i=e.value,a=e.onSelect,s=e.slots,u=(0,$s.useTheme)(),d=r||u.colors.onSurface,c=ds(R.UpdateLoad),p=l.useMemo((function(){return(null==s?void 0:s.map((function(e){var n,t,r,o;return{label:(null==e||null==(n=e.dropzoneUser)||null==(t=n.user)?void 0:t.name)||"",value:null==e?void 0:e.dropzoneUser,avatar:null==e||null==(r=e.dropzoneUser)||null==(o=r.user)?void 0:o.image}})))||[]}),[s]),m=l.useMemo((function(){var e;return null==s||null==(e=s.map((function(e){return null==e?void 0:e.dropzoneUser})))?void 0:e.find((function(e){return(null==e?void 0:e.id)===(null==i?void 0:i.id)}))}),[s,null==i?void 0:i.id]),g=l.useCallback((function(e){var n=e.item,r=e.openMenu;return(0,Hn.jsx)(Pu,{backgroundColor:o,small:t,color:d,onPress:r,icon:"shield-account",children:(0,oe.truncate)((null==n?void 0:n.label)||"No LM",{length:12})})}),[o,d,t]);return(0,Hn.jsx)(f.default,{style:{maxWidth:100},children:c?(0,Hn.jsx)(vd,{value:m,options:p,renderAnchor:g,onChange:a}):(0,Hn.jsx)(Pu,{backgroundColor:o,small:t,color:d,icon:"shield-account",children:(null==i||null==(n=i.user)?void 0:n.name)||"No LM"})})}function sx(e){var n,t,r,o=e.small,i=e.color,a=e.backgroundColor,s=e.onSelect,u=e.value,d=(0,$s.useTheme)(),c=i||d.colors.onSurface,p=dn((function(e){return e.global})).currentDropzoneId,m=Ea({variables:{dropzoneId:null==p?void 0:p.toString(),permissions:[R.ActAsPilot]}}).data,g=ds(R.UpdateLoad),h=l.useMemo((function(){var e,n;return(null==m||null==(e=m.dropzoneUsers)||null==(n=e.edges)?void 0:n.filter((function(e){return!(null==e||!e.node)})).map((function(e){var n,t,r,o;return{label:(null==e||null==(n=e.node)||null==(t=n.user)?void 0:t.name)||"",value:null==e?void 0:e.node,avatar:null==e||null==(r=e.node)||null==(o=r.user)?void 0:o.image}})))||[]}),[null==m||null==(n=m.dropzoneUsers)?void 0:n.edges]),v=l.useMemo((function(){var e,n;return null==m||null==(e=m.dropzoneUsers)||null==(n=e.edges)?void 0:n.map((function(e){return null==e?void 0:e.node})).find((function(e){return(null==e?void 0:e.id)===(null==u?void 0:u.id)}))}),[null==m||null==(t=m.dropzoneUsers)?void 0:t.edges,null==u?void 0:u.id]),y=l.useCallback((function(e){var n=e.item,t=e.openMenu;return(0,Hn.jsx)(Pu,{backgroundColor:a,small:o,color:c,onPress:t,style:{maxWidth:100},icon:"account-tie-hat",children:(0,oe.truncate)((null==n?void 0:n.label)||"No Pilot",{length:12})})}),[a,c,o]);return g?(0,Hn.jsx)(f.default,{style:{maxWidth:146},children:(0,Hn.jsx)(vd,{value:v,options:h,renderAnchor:y,onChange:s})}):(0,Hn.jsx)(Pu,{backgroundColor:a,small:o,color:c,style:{maxWidth:146},icon:"account-tie-hat",children:(null==u||null==(r=u.user)?void 0:r.name)||"No Pilot"})}function ux(e){var n=e.small,t=e.color,r=e.backgroundColor,o=e.value,i=e.onSelect,a=(0,$s.useTheme)(),s=t||a.colors.onSurface,u=dn((function(e){return e.global})).currentDropzoneId,d=Ha({variables:{dropzoneId:null==u?void 0:u.toString()}}).data,c=ds(R.UpdateLoad),p=l.useMemo((function(){var e;return(null==d||null==(e=d.planes)?void 0:e.map((function(e){return{label:(null==e?void 0:e.name)||"",value:e}})))||[]}),[null==d?void 0:d.planes]),m=l.useMemo((function(){var e;return null==d||null==(e=d.planes)?void 0:e.find((function(e){return(null==e?void 0:e.id)===(null==o?void 0:o.id)}))}),[null==d?void 0:d.planes,null==o?void 0:o.id]),g=l.useCallback((function(e){var t=e.item,o=e.openMenu;return(0,Hn.jsx)(Pu,{backgroundColor:r,small:n,color:s,onPress:o,style:{maxWidth:100},icon:"airplane",children:(0,oe.truncate)((null==t?void 0:t.label)||"No Plane",{length:12})})}),[r,s,n]);return c?(0,Hn.jsx)(f.default,{style:{maxWidth:100},children:(0,Hn.jsx)(vd,{value:m,options:p,renderAnchor:g,onChange:i})}):(0,Hn.jsx)(Pu,{backgroundColor:r,small:n,color:s,style:{maxWidth:100},icon:"airplane",children:(null==o?void 0:o.name)||"No Plane"})}var dx=t(83574),cx=t(44972),fx=t(92339),px=t(3698),mx=t(72762),gx=t(78604);function hx(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function vx(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?hx(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hx(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var yx=(0,mx.default)(fu.default,{shouldForwardProp:function(e){return"color"!==e}})((function(e){return{"& .MuiInput-input":{color:e.color},"& label.Mui-focused":{color:e.color},"& .MuiInput-root:before":{borderBottomColor:e.color},"& .MuiInput-root:hover":{borderBottomColor:e.color},"& .MuiFilledInput-underline":{borderBottomColor:e.color},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:e.color}}}}));function bx(e){var n,t=e.label,r=e.onChange,o=e.disabled,i=e.placeholder,a=e.color,s=function(e){var n=Ai(Ai({},Fi),e);return zi.useLazyQuery(Da,n)}(),u=(0,W.default)(s,2),d=u[0],c=u[1],f=c.data,p=c.loading,m=l.useState(""),g=(0,W.default)(m,2),h=g[0],v=g[1],y=dn((function(e){return e.global})).currentDropzoneId;l.useEffect((function(){y&&null!==h&&d({variables:{dropzoneId:null==y?void 0:y.toString(),search:h,licensed:!1}})}),[y,h,d]);var b=(0,$s.useTheme)(),x=l.useCallback((function(e){return e.user.nickname?e.user.nickname+" ("+e.user.name+")":e.user.name}),[]),j=l.useCallback((function(e){return id()(x(e).split(""))}),[x]),k=l.useMemo((function(){var e,n;return((null==f||null==(e=f.dropzoneUsers)||null==(n=e.edges)?void 0:n.map((function(e){return null==e?void 0:e.node})))||[]).sort((function(e,n){return-id()(x(n).split("")).localeCompare(id()(x(e).split("")))}))}),[null==f||null==(n=f.dropzoneUsers)?void 0:n.edges,x]),O=l.useCallback((function(e,n){v(""),n&&r(n)}),[r]);return(0,Hn.jsx)(gx.default,{disabled:o,loading:p,options:k,groupBy:j,getOptionLabel:x,value:null,sx:{width:"100%"},renderInput:function(e){return(0,Hn.jsx)(yx,vx(vx({variant:"standard"},e),{},{color:a,label:t,placeholder:i,fullWidth:!0,value:h,InputProps:vx(vx({},e.InputProps),{},{value:h,disableUnderline:!0,startAdornment:(0,Hn.jsx)(pu.default,{position:"start",children:(0,Hn.jsx)(ju.default,{name:"account-search-outline",size:20,color:a||b.colors.text})})})}))},onInputChange:function(e,n){return v(n)},onChange:O,inputValue:h,popupIcon:(0,Hn.jsx)(ju.default,{name:"chevron-down",color:a}),clearIcon:(0,Hn.jsx)(ju.default,{name:"close",color:a}),renderOption:function(e,n){var t;return(0,l.createElement)(Ku.default,vx(vx({},e),{},{key:"autocomplete-user-"+n.id,id:n.id}),(0,Hn.jsx)(Zu.default,{children:(0,Hn.jsx)(md,{name:n.user.name,image:null==n||null==(t=n.user)?void 0:t.image,size:32})}),(0,Hn.jsx)(ed.default,{children:n.user.nickname?(0,Hn.jsxs)(Hn.Fragment,{children:[n.user.nickname,"\xa0",(0,Hn.jsxs)(Zy.default,{children:["(",n.user.name,")"]})]}):n.user.name}))}})}function xx(e){var n,t,r,o,i=e.dropzoneUserId,a=e.onChangeRig,s=e.exitWeight,u=e.selectedRig,c=e.isTandem,p=e.passengerName,m=e.passengerWeight,g=e.onRemove,h=e.onChangeExitWeight,v=e.onChangePassengerName,y=e.onChangePassengerWeight,b=dn((function(e){return e})).global,x=Os({id:i}),j=x.dropzoneUser,k=x.loading;return l.useEffect((function(){var e;!s&&null!=j&&null!=(e=j.user)&&e.exitWeight&&h(Number(j.user.exitWeight))}),[null==j?void 0:j.user.exitWeight,s,h]),(0,Hn.jsxs)(vt.default,{style:{marginHorizontal:16,marginBottom:16},elevation:1,children:[(0,Hn.jsx)(d.default,{indeterminate:!0,color:b.theme.colors.primary,visible:k}),(0,Hn.jsx)(vt.default.Title,{title:null==j?void 0:j.user.name,left:function(){var e,n;return(0,Hn.jsx)(ud,{name:null==j||null==(e=j.user)?void 0:e.name,image:null==j||null==(n=j.user)?void 0:n.image,size:36})},titleStyle:{paddingRight:0},right:function(){return(0,Hn.jsx)(f.default,{style:{maxWidth:100,marginRight:16},children:(0,Hn.jsx)(xu,{value:s||0,mode:"flat",variant:au.Weight,onChange:function(e){return h(e)}})})}}),(0,Hn.jsxs)(vt.default.Content,{children:[(0,Hn.jsx)(du.default,{style:{marginBottom:8}}),(0,Hn.jsxs)(Gp.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:[(0,Hn.jsx)(f.default,{style:{maxWidth:128},children:(0,Hn.jsx)(xd,{small:!0,variant:"chip",dropzoneUserId:i?Number(i):void 0,onChange:a,value:u,tandem:c,autoSelectFirst:!0})}),u&&s&&u.canopySize?(0,Hn.jsx)(Pu,{small:!0,icon:"escalator-down",mode:"outlined",disabled:!0,children:(r=s,o=u.canopySize,(0,oe.round)(2.20462*r/o,2).toFixed(2))}):null,(0,Hn.jsx)(Pu,{small:!0,icon:"lock",mode:"outlined",disabled:!0,children:null==j||null==(n=j.role)?void 0:n.name}),(0,Hn.jsx)(Pu,{small:!0,icon:"ticket-account",mode:"outlined",disabled:!0,children:null==j||null==(t=j.license)?void 0:t.name})]}),c?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(du.default,{}),(0,Hn.jsx)(uu.default,{children:"Passenger"}),(0,Hn.jsxs)(f.default,{style:jx.row,children:[(0,Hn.jsx)(f.default,{style:jx.rowFirst,children:(0,Hn.jsx)(iu,{mode:"flat",value:p||"",onChangeText:function(e){return null==v?void 0:v(e)},label:"Passenger name"})}),(0,Hn.jsx)(f.default,{style:jx.rowLast,children:(0,Hn.jsx)(xu,{value:m||0,onChange:function(e){return null==y?void 0:y(e)},variant:au.Weight})})]})]}):null]}),(0,Hn.jsx)(vt.default.Actions,{style:jx.actions,children:(0,Hn.jsx)(bt.default,{mode:"text",onPress:function(){return null==g?void 0:g()},children:"Remove"})})]})}var jx=Vn.default.create({row:{width:"100%",flexDirection:"row",alignItems:"center",marginTop:16},rowFirst:{flex:.5,marginRight:4},rowLast:{flex:.5},actions:{justifyContent:"flex-end"}});var kx,Ox=t(25290);function wx(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Sx(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wx(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wx(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Px(e){var n,t,r,o=e.children,i=e.rowProps,l=Sd().manifest.permissions,a=(0,Ox.useDraggable)({id:null==(n=i.slot)?void 0:n.id,disabled:!l.canUpdateSlot,data:{slotId:null==(t=i.slot)?void 0:t.id,loadId:null==(r=i.load)?void 0:r.id,props:i}}),s=a.setNodeRef,u=a.listeners,d=a.attributes,c=a.isDragging;return(0,Hn.jsx)("div",Sx(Sx(Sx({ref:s},d),u),{},{className:"draggable-wrapper",children:(0,Hn.jsx)(f.default,{pointerEvents:"box-none",children:null==o?void 0:o({isDragging:c})})}))}function Cx(e){var n=e.rowIndex,t=e.loadId,r=e.slotId,o=e.children,i=(0,Ox.useDroppable)({id:"load-"+t+"-row-"+n,data:{slotId:r,loadId:t}}),a=i.setNodeRef,s=i.isOver,u=i.active,d=dn((function(e){return e.global.theme})),c=l.useMemo((function(){var e,n,r,o;return{backgroundColor:s&&(null==u||null==(e=u.data)||null==(n=e.current)||null==(r=n.props)||null==(o=r.load)?void 0:o.id)!==t?d.colors.primary:void 0,opacity:s?.5:void 0}}),[null==u?void 0:u.data,s,t,d.colors.primary]);return(0,Hn.jsx)("div",{ref:a,className:"droppable-wrapper",children:(0,Hn.jsx)(f.default,{style:c,children:o})})}!function(e){e.License="license",e.Group="groupNumber",e.WingLoading="wingloading",e.Altitude="altitude",e.Rig="rig",e.TicketType="ticketType",e.JumpType="jumpType"}(kx||(kx={}));var Dx=Array.from({length:20}).map((function(){return(0,Ae.hsl)(360*Math.random(),25+70*Math.random(),85+10*Math.random()).rgb().toString()}));function Ex(e){var n,t,r=e.fields,o=e.load,i=e.slot,l=e.index,a=e.onDeletePress,s=e.onSlotGroupPress,u=e.onSlotPress,d=Ut().dropzone.currentUser,c=ds(R.UpdateSlot),p=ds(R.UpdateUserSlot),m=ds(R.DeleteSlot),g=ds(R.DeleteUserSlot),h=null==o||null==(n=o.slots)?void 0:n.filter((function(e){var n=e.groupNumber;return n&&n===i.groupNumber})),v=(null==i||null==(t=i.dropzoneUser)?void 0:t.id)===(null==d?void 0:d.id);return(0,Hn.jsx)(Cx,{loadId:o.id,slotId:null==i?void 0:i.id,rowIndex:l,children:(0,Hn.jsx)(Px,{rowProps:e,children:function(e){var n,t,l,y,b,x,j,k,O,w,S,P,C,D,E,z,T,I,A,F,R,U,B,L,M=e.isDragging;return(0,Hn.jsx)(f.default,{style:{height:46},children:(0,Hn.jsxs)(hm,{disabled:M||v&&!m||!v&&!g,rightAction:{label:"Delete",backgroundColor:"red",onPress:function(){return a(i)}},children:[(0,Hn.jsxs)(qd.default.Row,{testID:"slot-row",style:(0,oe.isNumber)(null==i?void 0:i.groupNumber)?{borderLeftWidth:5,borderLeftColor:Dx[i.groupNumber%20],paddingLeft:4}:void 0,disabled:!(null==o||!o.hasLanded),onPress:function(){var e;(null==(e=i.dropzoneUser)?void 0:e.id)===(null==d?void 0:d.id)?c&&(null!=h&&h.length?s(h):u(i)):p&&(null!=h&&h.length?s(h):u(i))},pointerEvents:"none",children:[(0,Hn.jsx)(qd.default.Cell,{style:zx.avatarCell,children:(0,Hn.jsx)(ud,{size:20,name:(null==i||null==(n=i.dropzoneUser)||null==(t=n.user)?void 0:t.nickname)||(null==i||null==(l=i.dropzoneUser)||null==(y=l.user)?void 0:y.name)||"",image:null==i||null==(b=i.dropzoneUser)||null==(x=b.user)?void 0:x.image,style:{marginLeft:-12}})}),(0,Hn.jsxs)(qd.default.Cell,{style:zx.nameCell,children:[(0,Hn.jsx)(vp.default,{style:zx.slotText,children:null!=i&&null!=(j=i.dropzoneUser)&&null!=(k=j.user)&&k.nickname?null==i||null==(O=i.dropzoneUser)||null==(w=O.user)?void 0:w.nickname:null==i||null==(S=i.dropzoneUser)||null==(P=S.user)?void 0:P.name}),null!=i&&null!=(C=i.dropzoneUser)&&null!=(D=C.user)&&D.nickname?(0,Hn.jsx)(Zy.default,{children:"("+(null==i||null==(E=i.dropzoneUser)||null==(z=E.user)?void 0:z.name)+")"}):null]}),null!=r&&r.includes(kx.License)?(0,Hn.jsx)(qd.default.Cell,{numeric:!0,style:zx.licenseCell,children:(0,Hn.jsx)(vp.default,{style:zx.slotText,children:null==i||null==(T=i.dropzoneUser)||null==(I=T.license)?void 0:I.name})}):null,null!=r&&r.includes(kx.Rig)?(0,Hn.jsx)(qd.default.Cell,{numeric:!0,style:zx.rigCell,children:(0,Hn.jsx)(vp.default,{style:zx.slotText,children:null!=i&&i.rig?i.rig.make+" "+i.rig.model+" w/ "+i.rig.canopySize:null})}):null,null!=r&&r.includes(kx.WingLoading)?(0,Hn.jsx)(qd.default.Cell,{numeric:!0,style:zx.wingLoadingCell,children:(0,Hn.jsx)(vp.default,{style:zx.slotText,children:(null==i||null==(A=i.wingLoading)?void 0:A.toFixed(2))||"-"})}):null,!r||r.includes(kx.JumpType)?(0,Hn.jsx)(qd.default.Cell,{numeric:!0,style:zx.jumpTypeCell,children:(0,Hn.jsx)(vp.default,{style:zx.slotText,children:null==i||null==(F=i.jumpType)?void 0:F.name})}):null,null!=r&&r.includes(kx.TicketType)?(0,Hn.jsx)(qd.default.Cell,{numeric:!0,style:zx.ticketCell,children:(0,Hn.jsx)(vp.default,{style:zx.slotText,children:null==i||null==(R=i.ticketType)?void 0:R.name})}):null,!r||r.includes(kx.Altitude)?(0,Hn.jsx)(qd.default.Cell,{numeric:!0,style:zx.altitudeCell,children:(0,Hn.jsxs)(vp.default,{style:zx.slotText,children:[((null==i||null==(U=i.ticketType)?void 0:U.altitude)||14e3)/1e3,"k"]})}):null]}),(null==i||null==(B=i.ticketType)?void 0:B.isTandem)&&(0,Hn.jsxs)(qd.default.Row,{testID:"slot-row",disabled:!(null==o||!o.hasLanded),pointerEvents:"none",style:(0,oe.isNumber)(null==i?void 0:i.groupNumber)?{borderLeftWidth:5,borderLeftColor:Dx[i.groupNumber%20],paddingLeft:4}:void 0,children:[(0,Hn.jsx)(qd.default.Cell,{style:zx.avatarCell,children:(0,Hn.jsx)(zp.default,{icon:"parachute",size:20})}),(0,Hn.jsx)(qd.default.Cell,{style:zx.tandemPassengerNameCell,children:(0,Hn.jsxs)(vp.default,{style:zx.slotText,children:[(0,Hn.jsx)(Vd.default,{style:{fontWeight:"bold"},children:"Tandem Passenger:"})," ",null==i?void 0:i.passengerName]})}),(0,Hn.jsx)(qd.default.Cell,{numeric:!0,style:zx.altitudeCell,children:(0,Hn.jsxs)(vp.default,{style:zx.slotText,children:[((null==i||null==(L=i.ticketType)?void 0:L.altitude)||14e3)/1e3,"k"]})})]})]},"slot-"+i.id)})}})})}var zx=Vn.default.create({slotText:{fontSize:12,alignSelf:"center",height:24,textAlignVertical:"center"},avatarCell:{flex:1},licenseCell:{flex:3},rigCell:{flex:3},wingLoadingCell:{flex:3},jumpTypeCell:{flex:3},altitudeCell:{flex:3},nameCell:{flex:6},tandemPassengerNameCell:{flexGrow:20},tandemInfoCell:{flex:1},ticketCell:{flex:3}});function Tx(e){var n,t=e.value,r=e.onChange,o=e.availableGroups,i=l.useCallback((function(e){return function(){return r(e)}}),[r]);return(0,Hn.jsxs)(f.default,{style:Ix.row,children:[null==(n=(0,oe.sortedUniq)(o).sort())?void 0:n.map((function(e){return(0,Hn.jsx)(cd.default,{onPress:i(e),children:(0,Hn.jsx)(td.default,{label:""+e,size:20,style:[t===e?Ix.selected:void 0,{backgroundColor:Dx[e]}]})})})),(0,Hn.jsx)(cd.default,{onPress:i(null),children:(0,Hn.jsx)(zp.default,{icon:"plus",size:20,style:[null===t?Ix.selected:void 0,{backgroundColor:"#FAFAFA"}]})})]})}var Ix=Vn.default.create({row:{flexDirection:"row",padding:16,gap:4},selected:{borderWidth:Vn.default.hairlineWidth}});function Ax(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Fx(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ax(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ax(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Rx(e){var n,t,r=e.slotUser,o=dn((function(e){return e.forms.manifestGroup})),i=un(),a=!(null==(n=o.fields.ticketType.value)||!n.isTandem),s=l.useCallback((function(e){var n;return i(rn.forms.manifestGroup.setField(["users",null==(n=o.fields.users.value)?void 0:n.map((function(n){return n.id===r.id?Fx(Fx({},r),{},{exitWeight:e}):n}))]))}),[i,r,o.fields.users.value]),u=l.useCallback((function(){var e;return i(rn.forms.manifestGroup.setField(["users",null==(e=o.fields.users.value)?void 0:e.filter((function(e){return e.id!==r.id}))]))}),[i,r.id,o.fields.users.value]),d=l.useCallback((function(e){var n;return i(rn.forms.manifestGroup.setField(["users",null==(n=o.fields.users.value)?void 0:n.map((function(n){return n.id===r.id?Fx(Fx({},r),{},{rigId:Number(e.id),rig:e}):n}))]))}),[i,r,o.fields.users.value]),c=l.useCallback((function(e){var n;return i(rn.forms.manifestGroup.setField(["users",null==(n=o.fields.users.value)?void 0:n.map((function(n){return n.id===r.id?Fx(Fx({},r),{},{passengerName:e}):n}))]))}),[i,r,o.fields.users.value]),f=l.useCallback((function(e){var n;return i(rn.forms.manifestGroup.setField(["users",null==(n=o.fields.users.value)?void 0:n.map((function(n){return n.id===r.id?Fx(Fx({},r),{},{passengerExitWeight:e}):n}))]))}),[i,r,o.fields.users.value]);return(0,Hn.jsx)(xx,{dropzoneUserId:null==(t=r.id)?void 0:t.toString(),selectedRig:r.rig||void 0,exitWeight:r.exitWeight,onChangeExitWeight:s,onRemove:u,onChangeRig:d,onChangePassengerName:c,onChangePassengerWeight:f,isTandem:a,passengerName:r.passengerName,passengerWeight:r.passengerExitWeight},"user-rig-card-"+r.id)}function Ux(){var e,n,t,r,o,i,a,s,u,d,c,p,m,g,h,v,y,b,x,j,k,O,w=dn((function(e){return e.forms.manifestGroup})),S=dn((function(e){return e.global})),P=un(),C=ds(R.CreateUserSlot),D=Ma({variables:{allowedForDropzoneUserIds:null==(e=w.fields.users)||null==(n=e.value)?void 0:n.map((function(e){return e.id})),isPublic:!C||null,dropzoneId:null==(t=S.currentDropzoneId)?void 0:t.toString()},onError:console.error}).data,E=l.useMemo((function(){var e;return(0,oe.uniqBy)([].concat((0,$n.default)((null==D||null==(e=D.dropzone)?void 0:e.allowedJumpTypes)||[]),(0,$n.default)((null==D?void 0:D.jumpTypes)||[])),(function(e){return e.id}))||[]}),[D]),z=l.useCallback((function(e){return function(){var n,t,r,o,i,l;return P(rn.forms.manifestGroup.setField(["extras",null!=w&&null!=(n=w.fields)&&null!=(t=n.extras.value)&&t.some((function(n){return n.id===e.id}))?null==w||null==(r=w.fields)||null==(o=r.extras.value)?void 0:o.filter((function(n){return n.id!==e.id})):[].concat((0,$n.default)((null==w||null==(i=w.fields)||null==(l=i.extras)?void 0:l.value)||[]),[e])]))}}),[P,null==w||null==(r=w.fields)?void 0:r.extras.value]);return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsxs)(f.default,{style:{paddingHorizontal:8},children:[(0,Hn.jsx)(uu.default,{children:"Jump type"}),(0,Hn.jsx)(Tu,{autoSelectFirst:!0,items:E,value:w.fields.jumpType.value?[w.fields.jumpType.value]:[],renderItemLabel:function(e){return e.name},isDisabled:function(e){var n,t;return!(null!=D&&null!=(n=D.dropzone)&&null!=(t=n.allowedJumpTypes)&&t.map((function(e){return e.id})).includes(e.id))},onChange:function(e){var n=(0,W.default)(e,1)[0];return P(rn.forms.manifestGroup.setField(["jumpType",n]))}}),(0,Hn.jsx)(yt.default,{type:w.fields.jumpType.error?"error":"info",children:w.fields.jumpType.error||""}),(0,Hn.jsx)(uu.default,{children:"Ticket"}),(0,Hn.jsx)(Tu,{autoSelectFirst:!0,items:(null==D||null==(o=D.dropzone)?void 0:o.ticketTypes)||[],value:w.fields.ticketType.value?[w.fields.ticketType.value]:[],renderItemLabel:function(e){return e.name},onChange:function(e){var n=(0,W.default)(e,1)[0];return P(rn.forms.manifestGroup.setField(["ticketType",n]))}}),(0,Hn.jsx)(yt.default,{type:w.fields.ticketType.error?"error":"info",children:w.fields.ticketType.error||""}),null!=w&&null!=(i=w.fields)&&null!=(a=i.ticketType)&&null!=(s=a.value)&&null!=(u=s.extras)&&u.length?(0,Hn.jsx)(uu.default,{children:"Ticket addons"}):null,(0,Hn.jsx)(Gp.default,{horizontal:!0,style:Bx.ticketAddons,children:null==w||null==(d=w.fields)||null==(c=d.ticketType)||null==(p=c.value)||null==(m=p.extras)?void 0:m.map((function(e){var n,t;return(0,Hn.jsx)(ku.default,{selected:null==w||null==(n=w.fields)||null==(t=n.extras.value)?void 0:t.some((function(n){return n.id===e.id})),onPress:z(e),children:e.name+" ($"+e.cost+")"},"addon-"+(null==e?void 0:e.id))}))}),(0,Hn.jsx)(yt.default,{type:w.fields.extras.error?"error":"info",children:w.fields.extras.error||""})]},"manifest-group-config"),(0,Hn.jsx)(du.default,{}),(0,Hn.jsxs)(f.default,{style:{paddingHorizontal:0,paddingTop:16,flexGrow:1},children:[(0,Hn.jsxs)(uu.default,{style:Bx.label,children:["Group",(0,Hn.jsx)(Tx,{value:(null==w||null==(g=w.fields)||null==(h=g.groupNumber)?void 0:h.value)||null,availableGroups:(null==w||null==(v=w.fields)||null==(y=v.load)||null==(b=y.value)||null==(x=b.slots)?void 0:x.map((function(e){return e.groupNumber})))||[],onChange:function(e){return P(rn.forms.manifestGroup.setField(["groupNumber",e]))}})]}),null==(j=w.fields)||null==(k=j.users)||null==(O=k.value)?void 0:O.map((function(e){return(0,l.createElement)(Rx,{slotUser:e,key:"manifest-"+e.id})}))]},"manifest-group-users")]})}var Bx=Vn.default.create({fields:{flex:1},field:{marginBottom:8},label:{justifyContent:"space-between"},ticketAddons:{marginBottom:8}});function Lx(e){var n,t,r,i,a,s,u,d,c=e.open,p=e.onClose,m=Mn(),g=un(),h=dn((function(e){return e.forms.manifestGroup})),v=Zl(),y=(0,W.default)(v,2),b=y[0],x=y[1],j=l.useCallback((function(){var e,n,t=!1;return null!=(e=h.fields.jumpType.value)&&e.id||(t=!0,g(rn.forms.manifestGroup.setFieldError(["jumpType","You must specify the type of jump"]))),null!=(n=h.fields.ticketType.value)&&n.id||(t=!0,g(rn.forms.manifestGroup.setFieldError(["ticketType","You must select a ticket type to manifest"]))),!t}),[g,null==(n=h.fields.jumpType.value)?void 0:n.id,null==(t=h.fields.ticketType.value)?void 0:t.id]),k=l.useCallback((0,S.default)((function*(){var e;if(j()&&null!=(e=h.fields.users.value)&&e.length)try{var n,t,r,o,i,l,a,s,u,d,c,f,v,y,x,k,O,w,S,P=yield b({variables:{jumpType:null==(n=h.fields.jumpType.value)?void 0:n.id,ticketType:null==(t=h.fields.ticketType.value)?void 0:t.id,groupNumber:(null==(r=h.fields)||null==(o=r.groupNumber)?void 0:o.value)||null,extras:null==(i=h.fields.extras)||null==(l=i.value)?void 0:l.map((function(e){return e.id})),load:null==(a=h.fields.load.value)?void 0:a.id,userGroup:null==(s=h.fields.users.value)?void 0:s.map((function(e){var n=e.id,t=e.exitWeight,r=e.rigId,o=e.rig,i=e.passengerName,l=e.passengerExitWeight;return{id:n,rig:(null==r?void 0:r.toString())||(null==o?void 0:o.id)||void 0,exitWeight:t,passengerName:i,passengerExitWeight:l}}))}});if(null==(u=P.data)||null==(d=u.createSlots)||null==(c=d.fieldErrors)||c.map((function(e){var n=e.field,t=e.message;switch(n){case"jump_type":case"jump_type_id":return g(rn.forms.manifestGroup.setFieldError(["jumpType",t]));case"load":return g(rn.forms.manifestGroup.setFieldError(["load",t]));case"credits":case"extras":case"extra_ids":return g(rn.forms.manifestGroup.setFieldError(["extras",t]));case"ticket_type":return g(rn.forms.manifestGroup.setFieldError(["ticketType",t]));default:return null}})),null!=P&&null!=(f=P.data)&&null!=(v=f.createSlots)&&null!=(y=v.errors)&&y.length)return void m.error(null==P||null==(w=P.data)||null==(S=w.createSlots)?void 0:S.errors[0]);null!=(x=P.data)&&null!=(k=x.createSlots)&&null!=(O=k.fieldErrors)&&O.length||p()}catch(Bn){Bn instanceof Error&&m.error(Bn.message)}})),[j,h.fields.users.value,null==(r=h.fields.jumpType.value)?void 0:r.id,null==(i=h.fields.ticketType.value)?void 0:i.id,null==(a=h.fields)||null==(s=a.groupNumber)?void 0:s.value,null==(u=h.fields.extras)?void 0:u.value,null==(d=h.fields.load.value)?void 0:d.id,b,g,m,p]),O=Ia(),w=(0,W.default)(O,2),P=w[0],C=w[1].loading,D=l.useCallback((function(e){g(rn.forms.manifestGroup.setDropzoneUsers([e]))}),[g]);return(0,Hn.jsx)(Hs,{loading:x.loading,open:c,disablePadding:!0,buttonLabel:"Manifest",onClose:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){g(rn.forms.manifestGroup.reset()),p()})),buttonAction:k,scrollable:!1,children:(0,Hn.jsxs)(f.default,{style:Mx.wrapper,testID:"manifest-group-sheet",children:[(0,Hn.jsx)(dx.default,{position:"static",children:(0,Hn.jsx)(cx.default,{children:(0,Hn.jsx)(bx,{color:"white",placeholder:"Search skydivers...",onChange:function(e){P({variables:{id:e.id}}).then((function(e){var n,t;null!=(n=e.data)&&n.dropzoneUser&&D(null==(t=e.data)?void 0:t.dropzoneUser)}))}})})}),(0,Hn.jsx)(fx.default,{in:C||x.loading,children:(0,Hn.jsx)(px.default,{variant:"indeterminate"})}),(0,Hn.jsx)(o.ScrollView,{testID:"scroll-area",children:(0,Hn.jsx)(Ux,{})})]})})}var Mx=Vn.default.create({wrapper:{height:"100%"},button:{width:"100%",borderRadius:16,padding:5,paddingTop:0},buttonContainer:{paddingHorizontal:16,backgroundColor:"white"},contentContainer:{paddingHorizontal:16,paddingBottom:32},userListContainer:{height:"calc(100% - 200px)",backgroundColor:"white",width:"100%",padding:16},sheet:{elevation:3,backgroundColor:"white",flexGrow:1,height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",paddingBottom:32},sheetHeader:{elevation:2,borderTopLeftRadius:15,borderTopRightRadius:15,height:30,shadowColor:"#000",shadowOffset:{width:0,height:-4},backgroundColor:"white",shadowOpacity:.22,shadowRadius:2.22}}),Nx=t(44993);function $x(e){var n,t,r,o=un(),i=Sd().dialogs,a=yc(),s=a.dialogs.timepicker,u=a.load,d=u.cancel,c=u.markAsLanded,f=u.updateLoadState,p=u.createAircraftDispatchAction,m=l.useState(!1),g=(0,W.default)(m,2),h=g[0],v=g[1],y=e.load,b=Ut().dropzone.currentUser,x=(0,$s.useTheme)(),j=ds(R.UpdateLoad),k=ds(R.CreateSlot),O=ds(R.CreateUserSlot),w=ds(R.CreateUserSlotWithSelf),S=[T.Open,T.BoardingCall].includes(y.state),P=((null==y||null==(n=y.slots)?void 0:n.length)||0)>=((null==y?void 0:y.maxSlots)||(null==y||null==(t=y.plane)?void 0:t.maxSlots)||0),C=S&&!P&&k&&!(null!=y&&null!=(r=y.slots)&&r.some((function(e){var n;return(null==(n=e.dropzoneUser)?void 0:n.id)===(null==b?void 0:b.id)}))),D=(O||w)&&(null==y?void 0:y.state)!==T.Landed&&(!(null!=y&&y.dispatchAt)||y.dispatchAt>(new Date).getTime()/1e3),E=[{label:"Custom call",onPress:s.open,icon:"airplane-takeoff"},{label:"20 minute call",onPress:p(20),icon:"airplane-takeoff"},{label:"15 minute call",onPress:p(15),icon:"airplane-takeoff"},{label:"10 minute call",onPress:p(10),icon:"airplane-takeoff"}],z=(0,Nx.default)(new Date,(0,ub.default)(y.createdAt)),I=[C&&z?{label:"Manifest me",icon:"account",onPress:function(){return i.manifestUser.open({load:y,slot:{dropzoneUser:b}})}}:null,D&&z?{label:"Manifest group",icon:"account-group",onPress:function(){o(rn.forms.manifestGroup.reset()),o(rn.forms.manifestGroup.setField(["load",y])),w&&!O&&b&&(o(rn.screens.manifest.setSelected([b])),o(rn.forms.manifestGroup.setDropzoneUsers([b]))),o(rn.forms.manifestGroup.setOpen(!0)),o(rn.forms.manifestGroup.setField(["load",y]))}}:null].filter(Boolean),A=[[T.BoardingCall].includes(y.state)?{label:"Cancel boarding call",icon:"airplane-off",onPress:p(null)}:null,[T.Open].includes(y.state)?{label:"Cancel load",icon:"delete-sweep",onPress:d}:null,[T.Cancelled,T.Landed].includes(y.state)&&z?{label:"Re-open load",icon:"undo",onPress:function(){return f(T.Open)}}:null,[T.BoardingCall,T.InFlight].includes(y.state)?{label:"Mark as Landed",icon:"airplane-landing",onPress:c}:null].filter(Boolean),F=[].concat((0,$n.default)(S?I:[]),(0,$n.default)(j&&[T.Open].includes(null==y?void 0:y.state)&&z?E:[]),(0,$n.default)(j?A:[]));return(0,Hn.jsx)(vv.default,{children:(0,Hn.jsx)(gp.default.Group,{visible:!!F.length,open:h,icon:h?"close":"plus",fabStyle:{marginLeft:16,marginBottom:100,backgroundColor:x.colors.primary},actions:F,onStateChange:function(e){var n=e.open;return v(n)}})})}var Vx=t(95567),qx=t(1283),Gx=t(98764);const Wx=t(91074).CountdownCircleTimer;function _x(e){var n=e.end,t=e.size,r=e.variant,o=(0,qx.default)(n,new Date),i=5/o,l=10/o,a=10/o;return(0,Hn.jsx)(Wx,{isPlaying:o>1,duration:o>1?o:0,colors:o>0?[["light"===r?"#FFFFFF":"#004777",a],["light"===r?"#FFFFFF":"#F7B801",l],["light"===r?"#FFFFFF":"#A30000",i]]:[["light"===r?"#FFFFFF":"#A30000",1]],size:t||50,strokeWidth:2,children:function(e){var n=e.remainingTime,t=e.animatedColor,r=Math.round(n%60),o=(0,Gx.default)(n),i=r<10?"0"+r:r,l=o<10?"0"+o:o;return(0,Hn.jsxs)(mm.default.Text,{style:{color:t,fontSize:16},children:[l,":",i]})}})}function Hx(e){var n=e.load,t=e.renderBadges,r=e.children,o=dn((function(e){return e.global})),i=o.theme,l=o.palette,a=(0,jt.default)().width;return(0,Hn.jsxs)(Vx.LinearGradient,{start:{x:0,y:.25},end:{x:.5,y:1},style:Yx.container,colors:[i.colors.surface,i.colors.surface],children:[(0,Hn.jsxs)(f.default,{style:Yx.avatarContainer,children:[(0,Hn.jsx)(f.default,{style:{flex:1/3,alignItems:"center",justifyContent:"center"},children:null!=n&&n.dispatchAt&&"number"===typeof n.dispatchAt&&us.DateTime.fromSeconds(n.dispatchAt)>us.DateTime.local()?(0,Hn.jsx)(_x,{end:new Date(1e3*n.dispatchAt),variant:i.dark?"light":"dark",size:80}):(0,Hn.jsx)(zp.default,{size:80,icon:"account-tie-hat",color:i.dark?i.colors.text:l.primary.dark,style:{backgroundColor:i.dark?l.primary.dark:l.primary.light}})}),(0,Hn.jsxs)(f.default,{style:Yx.titleContainer,children:[(0,Hn.jsxs)(Fc.default,{style:Yx.title,children:["Load #",null==n?void 0:n.loadNumber]}),(0,Hn.jsx)(vp.default,{style:Yx.paragraph,children:(null==n?void 0:n.createdAt)&&(0,uc.default)((0,ub.default)(n.createdAt),"dd LLLL, yyyy")}),t&&a>600?(0,Hn.jsx)(t,{}):(0,Hn.jsx)(vp.default,{style:Yx.paragraph,children:null==n?void 0:n.name})]})]}),t&&a<600?(0,Hn.jsx)(t,{}):null,r]})}var Yx=Vn.default.create({container:{width:"100%",paddingTop:16},actions:{flexDirection:"row",justifyContent:"flex-end"},avatarContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:8,marginBottom:32,marginTop:32},titleContainer:{paddingLeft:8,fontWeight:"bold",fontSize:26,flex:2/3,alignItems:"flex-start",justifyContent:"center"},title:{},paragraph:{}});function Jx(e){e.onPress;var n,t=e.index,r=yc().load.load,o=Sd().dialogs,i=l.useCallback((function(e){r&&o.manifestUser.open({load:r,slot:{dropzoneUser:e}})}),[o.manifestUser,r]);return(0,Hn.jsx)(Cx,{loadId:(null==r||null==(n=r.id)?void 0:n.toString())||"0",rowIndex:t,children:(0,Hn.jsx)(qd.default.Row,{testID:"slot-row",style:{paddingTop:8},children:(0,Hn.jsx)(bx,{disabled:[T.Cancelled,T.InFlight,T.Landed].includes(null==r?void 0:r.state),placeholder:"- Available -",value:null,onChange:i})})})}function Qx(e){var n,t=e.load,r=e.fields,i=e.onDeletePress,a=e.scrollable,s=void 0!==a&&a,u=e.onAvailableSlotPress,d=e.onSlotGroupPress,c=e.onSlotPress;return console.log(r),(0,Hn.jsx)(ah.default,{style:s?{height:"100%"}:void 0,children:(0,Hn.jsxs)(qd.default,{style:s?{height:"100%",paddingBottom:80}:void 0,children:[(0,Hn.jsxs)(qd.default.Header,{style:{width:"100%"},children:[(0,Hn.jsx)(qd.default.Title,{style:zx.avatarCell,children:null}),(0,Hn.jsx)(qd.default.Title,{style:zx.nameCell,children:(0,Hn.jsx)(Ep.default,{style:Kx.th,children:"Name"})}),(null==r?void 0:r.includes(kx.License))&&(0,Hn.jsx)(qd.default.Title,{numeric:!0,style:zx.licenseCell,children:(0,Hn.jsx)(Ep.default,{style:Kx.th,children:"License"})}),(null==r?void 0:r.includes(kx.Rig))&&(0,Hn.jsx)(qd.default.Title,{numeric:!0,style:zx.rigCell,children:(0,Hn.jsx)(Ep.default,{style:Kx.th,children:"Equipment"})}),(null==r?void 0:r.includes(kx.WingLoading))&&(0,Hn.jsx)(qd.default.Title,{numeric:!0,style:zx.wingLoadingCell,children:(0,Hn.jsx)(Ep.default,{style:Kx.th,children:"Wing Loading"})}),!r||(null==r?void 0:r.includes(kx.JumpType))&&(0,Hn.jsx)(qd.default.Title,{numeric:!0,style:zx.jumpTypeCell,children:(0,Hn.jsx)(Ep.default,{style:Kx.th,children:"Jump type"})}),(null==r?void 0:r.includes(kx.TicketType))&&(0,Hn.jsx)(qd.default.Title,{numeric:!0,style:zx.ticketCell,children:(0,Hn.jsx)(Ep.default,{style:Kx.th,children:"Ticket"})}),!r||(null==r?void 0:r.includes(kx.Altitude))&&(0,Hn.jsx)(qd.default.Title,{numeric:!0,style:zx.altitudeCell,children:(0,Hn.jsx)(Ep.default,{style:Kx.th,children:"Altitude"})})]}),(0,Hn.jsx)(o.FlatList,{data:null==(n=Array.from({length:(null==t?void 0:t.maxSlots)||0}))?void 0:n.map((function(e,n){var r;return(null==t||null==(r=t.slots)?void 0:r[n])||null})),keyExtractor:function(e,n){return(null==e?void 0:e.id)||"available-"+n},renderItem:function(e){var n=e.item,o=e.index;return n&&t?(0,l.createElement)(Ex,{fields:r,slot:n,load:t,onDeletePress:i,onSlotGroupPress:d,onSlotPress:c,index:o,key:"slot-"+n.id}):(0,l.createElement)(Jx,{onPress:u,key:"slot-available-"+o,index:o})}})]})})}var Kx=Vn.default.create({th:{fontWeight:"bold"}});function Xx(e){var n=e.load,t=e.loading,r=e.onAvailableSlotPress,o=e.onDeletePress,i=e.onSlotGroupPress,l=e.onSlotPress,a=(0,jt.default)().width,s=Math.floor(a/200);return console.log({width:a,numFields:s,load:n}),(0,Hn.jsx)(Qx,{fields:[kx.Altitude,kx.JumpType,s>2?kx.License:null,s>3?kx.TicketType:null,s>4?kx.WingLoading:null,s>5?kx.Rig:null].filter(Boolean),load:n,loading:t,onAvailableSlotPress:r,onDeletePress:o,onSlotGroupPress:i,onSlotPress:l})}function Zx(){var e,n,t=un(),r=l.useState(!1),o=(0,W.default)(r,2),i=o[0],a=o[1],s=dn((function(e){return e.forms})),u=dn((function(e){return e.global})),d=u.palette,c=(u.theme,Sd().manifest.deleteSlot),f=yc().load,p=f.load,m=f.loading,h=f.refetch,v=f.updateGCA,y=f.updateLoadMaster,b=f.updatePilot,x=f.updatePlane,j=(0,ap.useIsFocused)();l.useEffect((function(){null!=p&&p.maxSlots&&(null==p?void 0:p.maxSlots)<5&&!i&&a(!0)}),[i,null==p?void 0:p.maxSlots]);var k=Ut().dropzone.currentUser,O=ds(R.CreateUserSlot),w=ds(R.CreateUserSlotWithSelf),P=ds(R.UpdateSlot),C=ds(R.UpdateUserSlot),D=(null==p?void 0:p.maxSlots)||0,E=(null==p?void 0:p.occupiedSlots)||0,z=Mn(),I=l.useCallback(function(){var e=(0,S.default)((function*(e){var n,t,r=yield c({id:Number(e.id)});if("error"in r&&r.error)z.error((null==r?void 0:r.error)||(null==(n=e.dropzoneUser)||null==(t=n.user)?void 0:t.name)+" could not be taken off load #"+(null==p?void 0:p.loadNumber));else if("slot"in r&&null!=e&&e.id){var o,i,l;z.error(((null==(o=r.slot)||null==(i=o.dropzoneUser)||null==(l=i.user)?void 0:l.name)||"User")+" has been taken off load #"+(null==p?void 0:p.loadNumber))}}));return function(n){return e.apply(this,arguments)}}(),[c,null==p?void 0:p.loadNumber,z]),A=l.useCallback((function(e){var n,r,o=null==p||null==(n=p.slots)?void 0:n.filter((function(n){var t=n.groupNumber;return t&&t===e.groupNumber}));(P&&(null==(r=e.dropzoneUser)?void 0:r.id)===(null==k?void 0:k.id)||C)&&P&&(null!=o&&o.length||"web"===g.default.OS?o&&p&&(t(rn.forms.manifestGroup.reset()),t(rn.forms.manifestGroup.setOpen(!0)),t(rn.forms.manifestGroup.setFromSlots({slots:null!=o&&o.length?o:[e],load:p})),t(rn.forms.manifestGroup.setField(["load",p]))):(t(rn.forms.manifest.setOpen(e)),t(rn.forms.manifest.setField(["load",p]))))}),[C,P,null==k?void 0:k.id,t,p]),F=l.useCallback((function(e){p&&(t(rn.forms.manifestGroup.reset()),t(rn.forms.manifestGroup.setOpen(!0)),t(rn.forms.manifestGroup.setFromSlots({slots:e,load:p})),t(rn.forms.manifestGroup.setField(["load",p])))}),[t,p]),U=l.useCallback((function(){t(rn.forms.manifestGroup.reset()),t(rn.forms.manifestGroup.setField(["load",p])),w&&!O&&k&&(t(rn.screens.manifest.setSelected([k])),t(rn.forms.manifestGroup.setDropzoneUsers([k]))),t(rn.forms.manifestGroup.setOpen(!0)),t(rn.forms.manifestGroup.setField(["load",p]))}),[O,w,k,t,p]);return(0,Hn.jsxs)(fm,{fullWidth:!0,scrollable:"web"!==g.default.OS,children:[(0,Hn.jsx)(Hx,{load:p||void 0,renderBadges:function(){return(0,Hn.jsx)(mp.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{marginVertical:8},data:["plane","pilot","gca","loadMaster"],keyExtractor:function(e){return e.toString()},renderItem:function(e){switch(e.item){case"plane":return(0,Hn.jsx)(ux,{value:null==p?void 0:p.plane,onSelect:function(){var e=(0,S.default)((function*(e){var n;if(((null==p||null==(n=p.slots)?void 0:n.length)||0)>(e.maxSlots||0)){var t,r=((null==p||null==(t=p.slots)?void 0:t.length)||0)-(e.maxSlots||0);z.info("You need to take "+r+" people off the load to fit on this plane")}else yield x(e),h()}));return function(n){return e.apply(this,arguments)}}(),small:!0,backgroundColor:"transparent",color:d.onSurface});case"gca":return(0,Hn.jsx)(lx,{value:null==p?void 0:p.gca,onSelect:v,small:!0,backgroundColor:"transparent",color:d.onSurface});case"pilot":return(0,Hn.jsx)(sx,{value:null==p?void 0:p.pilot,onSelect:b,small:!0,backgroundColor:"transparent",color:d.onSurface});default:return(0,Hn.jsx)(ax,{value:null==p?void 0:p.loadMaster,slots:(null==p?void 0:p.slots)||[],onSelect:y,small:!0,backgroundColor:"transparent",color:d.onSurface})}}})},children:(0,Hn.jsx)(Kb,{items:[{title:"Status",value:(e={},(0,N.default)(e,T.Open,"Open"),(0,N.default)(e,T.BoardingCall,"On call"),(0,N.default)(e,T.Cancelled,"Cancelled"),(0,N.default)(e,T.InFlight,"In air"),(0,N.default)(e,T.Landed,"Landed"),e)[(null==p?void 0:p.state)||T.Open]},{title:"Slots",value:E+"/"+D},{title:"Weight",value:((null==p?void 0:p.weight)||0)+"kg"}]})}),(0,Hn.jsx)(du.default,{}),(0,Hn.jsx)(Xx,{scrollable:"web"===g.default.OS,slots:(null==p||null==(n=p.slots)?void 0:n.filter(Boolean))||[],load:p,loading:m,refetch:h,onSlotPress:A,onDeletePress:I,onSlotGroupPress:F,onAvailableSlotPress:U}),p&&j?(0,Hn.jsx)($x,{load:p}):null,(0,Hn.jsx)(Lx,{open:s.manifestGroup.open,onClose:function(){t(rn.forms.manifestGroup.setOpen(!1)),t(rn.forms.manifestGroup.reset())},onSuccess:function(){return t(rn.forms.manifestGroup.setOpen(!1))}})]})}function ej(){var e,n=(0,ap.useRoute)(),t=null==n||null==(e=n.params)?void 0:e.loadId;return(0,Hn.jsx)(wc,{id:t,children:(0,Hn.jsx)(Zx,{})})}var nj=t(46337),tj=t(81555);function rj(e){var n=e.size,t=e.paginationIndex,r=e.icons,o=nj.default.get("window").width,i=((o>500?500:o)-96-30*n)/n;return(0,Hn.jsx)(f.default,{style:oj.pagination,children:Array.from({length:n}).map((function(e,o){var a=r&&r.length>o,s=o<(t||0)?"check":"";return s=o===t?"pencil":s,(0,Hn.jsxs)(l.Fragment,{children:[(0,Hn.jsx)(zp.default,{icon:a&&r?r[o]:s,size:30,style:[oj.icon,(t||0)>o?oj.iconDone:void 0]}),n-1>o?(0,Hn.jsx)(f.default,{style:[oj.bridge,{width:i},(t||0)>o?oj.bridgeDone:void 0]}):null]},"dot-"+o)}))})}var oj=Vn.default.create({pagination:{flexDirection:"row",position:"absolute",top:100,alignSelf:"center"},bridge:{height:10,marginTop:10,marginLeft:-2,width:50,backgroundColor:"white"},bridgeDone:{backgroundColor:Be},icon:{backgroundColor:"white",marginLeft:-1},iconDone:{backgroundColor:Be,marginLeft:-1}});function ij(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function lj(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ij(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ij(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var aj=l.createContext({index:0,count:0,setIndex:function(){return null}});var sj=nj.default.get("window").width,uj=Vn.default.create({container:{width:sj,flex:1,paddingBottom:0}});const dj=function(e){var n=e.children,t=e.icons,r=l.useState(0),o=(0,W.default)(r,2),i=o[0],a=o[1],s=l.useRef(null),u=l.Children.count(n),d=l.useMemo((function(){return{index:i,count:u,setIndex:function(e){var n;null==(n=s.current)||n.scrollToIndex({index:e,animated:!0})}}}),[u,i]);return(0,Hn.jsx)(aj.Provider,{value:d,children:(0,Hn.jsx)(f.default,{style:[uj.container],children:(0,Hn.jsx)(tj.SwiperFlatList,{showPagination:!0,index:i,PaginationComponent:function(e){return(0,Hn.jsx)(rj,lj(lj({},e),{},{icons:t}))},numColumns:1,scrollEnabled:!1,autoplay:!1,ref:s,onChangeIndex:function(e){var n=e.index;e.prevIndex;a(n||0)},children:n})})})};var cj=Vn.default.create({wizardScreen:{justifyContent:"center"},container:{backgroundColor:"#FF1414",paddingHorizontal:32,alignSelf:"center"},content:{paddingTop:200,flexGrow:1,paddingBottom:0},title:{position:"absolute",top:140,marginBottom:50,color:"white",fontSize:24,fontWeight:"bold",textAlign:"center",alignSelf:"center"},button:{alignSelf:"center",width:"100%"},buttonBack:{alignSelf:"center",width:"100%",marginHorizontal:48},buttons:{alignSelf:"center",alignItems:"flex-end",flexGrow:1,justifyContent:"flex-end",width:"100%",maxWidth:404,marginBottom:100}});const fj=function(e){var n=e.children,t=e.title,r=e.loading,o=e.onBack,i=e.backButtonLabel,a=e.nextButtonLabel,s=e.onNext,u=e.contentStyle,d=e.containerStyle,c=e.style,p=e.disableScroll,m=nj.default.get("window"),g=m.width,h=m.height,v=l.useContext(aj),y=v.index,b=v.setIndex,x=l.useRef();return l.useEffect((function(){x.current?(x.current.scrollTo({y:0,animated:!1}),console.log("Scrolling ",t," to 0")):console.log("No ref")}),[y,t]),(0,Hn.jsx)(f.default,{style:Vn.default.flatten([cj.wizardScreen,{width:g},c]),children:(0,Hn.jsxs)(Ib,{style:[cj.container,d||{},{width:g}],contentContainerStyle:Vn.default.flatten([cj.content,{minHeight:h,backgroundColor:"transparent"},u]),scrollEnabled:!p,pointerEvents:"box-none",ref:x,children:[(0,Hn.jsx)(Fc.default,{style:cj.title,children:t}),n,(0,Hn.jsxs)(f.default,{style:cj.buttons,pointerEvents:"box-none",children:[(0,Hn.jsx)(bt.default,{loading:r,mode:"contained",color:"#FFFFFF",disabled:r,style:cj.button,onPress:(0,S.default)((function*(){s(y,b)})),children:a},"button-next-"+y),o?(0,Hn.jsx)(bt.default,{mode:"text",disabled:r,color:"#FFFFFF",style:cj.buttonBack,onPress:(0,S.default)((function*(){o(y,b)})),children:i},"button-"+y):null]})]})})};var pj=["title","subtitle"];function mj(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function gj(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?mj(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mj(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var hj=Vn.default.create({subtitle:{color:"white",textAlign:"center"},title:{fontSize:26,color:"white",textAlign:"center",fontWeight:"bold"},content:{alignItems:"center",justifyContent:"center",flexGrow:1,alignSelf:"center"},icon:{marginVertical:32,backgroundColor:Be},container:{paddingHorizontal:48,alignItems:"center",backgroundColor:"transparent"}});const vj=function(e){var n=e.title,t=e.subtitle,r=(0,zt.default)(e,pj);return(0,Hn.jsx)(fj,gj(gj({style:hj.container},r),{},{children:(0,Hn.jsxs)(f.default,{style:hj.content,children:[(0,Hn.jsx)(zp.default,{icon:"check",size:150,style:hj.icon}),(0,Hn.jsx)(Vd.default,{style:hj.title,children:n}),(0,Hn.jsx)(vp.default,{style:hj.subtitle,children:t})]})}))};var yj;const bj=Vh((0,Ci.default)(yj||(yj=(0,Pi.default)(["\n  mutation CreateWeatherConditions(\n    $id: Int!\n    $dropzoneId: Int!\n    $winds: String\n    $temperature: Int\n    $jumpRun: Int\n    $exitSpotMiles: Int\n    $offsetMiles: Int\n    $offsetDirection: String\n  ) {\n    createWeatherCondition(\n      input: {\n        id: $id\n        attributes: {\n          dropzoneId: $dropzoneId\n          winds: $winds\n          temperature: $temperature\n          jumpRun: $jumpRun\n          exitSpotMiles: $exitSpotMiles\n          offsetMiles: $offsetMiles\n          offsetDirection: $offsetDirection\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      weatherCondition {\n        id\n        temperature\n        winds {\n          speed\n          altitude\n          direction\n        }\n        jumpRun\n        exitSpotMiles\n        offsetMiles\n        offsetDirection\n        createdAt\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.createWeatherCondition},validates:{},fieldErrorMap:{}});var xj=t(43497),jj=t(39540);function kj(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Oj(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?kj(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kj(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function wj(e){var n=e.speed,t=e.direction,r=e.altitude,i=e.onChange,a=l.useState(!1),s=(0,W.default)(a,2),u=s[0],d=s[1],c=l.useState(n),p=(0,W.default)(c,2),m=p[0],g=p[1],h=l.useState(t),v=(0,W.default)(h,2),y=v[0],b=v[1],x=(0,$s.useTheme)();return(0,Hn.jsx)(vt.default,{style:Pj.card,elevation:3,children:(0,Hn.jsxs)(vt.default.Content,{style:Pj.row,children:[(0,Hn.jsx)(f.default,{style:Pj.altitudeCard,children:(0,Hn.jsx)(jj.default,{onDismiss:function(){return d(!1)},visible:u,style:{minWidth:130},anchor:(0,Hn.jsxs)(o.TouchableOpacity,{style:{flexGrow:1,height:60,flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:function(){return d(!0)},children:[(0,Hn.jsx)(cc.default,{icon:"arrow-up",style:Pj.icon}),(0,Hn.jsx)(Vd.default,{style:[Pj.altitudeOption,{color:x.colors.onSurface}],children:null==r?void 0:r.toString()})]}),children:[14e3,12e3,1e4,7e3,5e3,2e3,1e3].map((function(e){return(0,Hn.jsx)(dc.default,{onPress:function(){e&&i("altitude",e),d(!1)},title:e.toString(),left:function(){return(0,Hn.jsx)(cc.default,{style:Pj.icon,icon:"arrow-up"})}},e)}))})}),(0,Hn.jsxs)(f.default,{style:Pj.strengthCard,children:[(0,Hn.jsx)(cc.default,{icon:"weather-windy",style:Pj.icon}),(0,Hn.jsx)(Ys.default,{value:null==m?void 0:m.toString(),onBlur:function(){return i("speed",Number(m))},onChangeText:function(e){if(/\d/.test(e)){var n=e.match(/\d+/)||[m],t=(0,W.default)(n,1)[0];g(t)}else e||g("")},style:Pj.textField,keyboardType:"numeric"})]}),(0,Hn.jsxs)(f.default,{style:Pj.directionCard,children:[(0,Hn.jsx)(cc.default,{icon:"compass",style:Pj.icon}),(0,Hn.jsx)(Ys.default,{value:null==y?void 0:y.toString(),onBlur:function(){return i("direction",Number(y))},onChangeText:function(e){if(/\d/.test(e)){var n=e.match(/\d+/)||[y],t=(0,W.default)(n,1)[0];b(t)}else e||b("")},style:Pj.textField,keyboardType:"numeric"})]})]})})}var Sj={height:60,flexDirection:"row",width:350/3},Pj=Vn.default.create({altitudeOption:{minWidth:50,flexGrow:1,alignItems:"center",justifyContent:"center",textAlignVertical:"center",lineHeight:20,fontSize:20,alignSelf:"center"},card:{marginVertical:8,marginHorizontal:18,width:350,alignSelf:"center",borderRadius:10},icon:{width:20},altitudeCard:Oj(Oj({},Sj),{},{borderTopLeftRadius:10,borderBottomLeftRadius:10,overflow:"hidden"}),strengthCard:Oj({},Sj),directionCard:Oj(Oj({},Sj),{},{borderTopRightRadius:10,borderBottomRightRadius:10,overflow:"hidden"}),textField:{flex:1,flexGrow:1,borderTopLeftRadius:0,borderTopRightRadius:0,width:"100%",minWidth:80},row:{flexGrow:1,display:"flex",flexWrap:"nowrap",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",paddingHorizontal:0,paddingVertical:0,marginVertical:16,marginTop:0,marginBottom:0}});function Cj(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Dj(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Cj(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cj(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ej(e){var n,t,r,i,a=e.variant,s=e.onPressJumpRun,u=dn((function(e){return e.forms.weather})),d=un(),c=u.fields.winds.value,p=(0,$s.useTheme)(),m=l.useState((null==(n=u.fields)||null==(t=n.temperature)?void 0:t.value)||0),g=(0,W.default)(m,2),h=g[0],v=g[1],y=l.useState((null==(r=u.fields)||null==(i=r.jumpRun)?void 0:i.value)||0),b=(0,W.default)(y,2),x=b[0],j=b[1];return l.useEffect((function(){u.fields.jumpRun.value!==x&&j(u.fields.jumpRun.value)}),[j,u.fields.jumpRun.value,x]),l.useEffect((function(){u.fields.temperature.value!==h&&v(u.fields.temperature.value)}),[u.fields.jumpRun.value,u.fields.temperature.value,v,h]),(0,Hn.jsxs)(Mp.default,{behavior:"height",style:zj.content,children:[(0,Hn.jsxs)(f.default,{style:zj.row,children:[(0,Hn.jsx)(Vd.default,{style:[zj.headerTemperature,{color:"light"===a?"white":"black"}],children:"Temperature"}),(0,Hn.jsx)(Vd.default,{style:[zj.headerJumprun,{color:"light"===a?"white":"black"}],children:"Jump run"})]}),(0,Hn.jsxs)(f.default,{style:zj.altitudeTempRow,children:[(0,Hn.jsx)(vt.default,{style:[zj.temperatureCard,{backgroundColor:p.colors.surface}],elevation:3,children:(0,Hn.jsxs)(vt.default.Content,{style:zj.cardContent,children:[(0,Hn.jsx)(cc.default,{icon:"thermometer",style:{width:20}}),(0,Hn.jsx)(xj.default,{value:null==h?void 0:h.toString(),onBlur:function(){return d(rn.forms.weather.setField(["temperature",Number(h)]))},onChangeText:function(e){if(/\d/.test(e)){var n=e.match(/^\-?\d+/)||[h],t=(0,W.default)(n,1)[0];v(Number(t))}},style:[zj.textField,{color:p.colors.onSurface}],keyboardType:"numeric"})]})}),(0,Hn.jsx)(vt.default,{style:zj.jumpRunCard,elevation:3,children:(0,Hn.jsxs)(vt.default.Content,{style:[zj.cardContent,{backgroundColor:p.colors.surface}],children:[(0,Hn.jsx)(cc.default,{icon:"compass",style:{width:20}}),(0,Hn.jsx)(xj.default,{value:null==x?void 0:x.toString(),onBlur:function(){return d(rn.forms.weather.setField(["jumpRun",Number(x)]))},onChangeText:function(e){if(/\d/.test(e)){var n=e.match(/\d+/)||[x],t=(0,W.default)(n,1)[0];j(Number(t))}},keyboardType:"numeric",style:[zj.textField,{color:p.colors.onSurface}]}),(0,Hn.jsx)(o.TouchableOpacity,{onPress:function(){return null==s?void 0:s()},children:(0,Hn.jsx)(cc.default,{icon:"earth",color:"#40AA40",style:{width:40}})})]})})]}),(0,Hn.jsxs)(f.default,{style:zj.row,children:[(0,Hn.jsx)(Vd.default,{style:[zj.headerAltitude,{color:"light"===a?"white":"black"}],children:"Altitude"}),(0,Hn.jsx)(Vd.default,{style:[zj.headerSpeed,{color:"light"===a?"white":"black"}],children:"Speed"}),(0,Hn.jsx)(Vd.default,{style:[zj.headerDirection,{color:"light"===a?"white":"black"}],children:"Direction"})]}),(0,Hn.jsx)(du.default,{}),(0,Hn.jsx)(o.FlatList,{data:c,keyExtractor:function(e,n){return"wind."+e.altitude+"."+n},scrollEnabled:!1,renderItem:function(e){var n=e.item,t=e.index;return(0,l.createElement)(wj,Dj(Dj({},n),{},{key:"wind-input-"+t,onChange:function(e,r){var o=(0,oe.set)((0,$n.default)(c),t,Dj(Dj({},n),{},(0,N.default)({},e,r)));d(rn.forms.weather.setField(["winds",o]))}}))}}),(null==c?void 0:c.length)<5?(0,Hn.jsx)(o.TouchableOpacity,{onPress:function(){return d(rn.forms.weather.setField(["winds",[].concat((0,$n.default)(c||[]),[{altitude:"0",direction:"0",speed:"0"}])]))},children:(0,Hn.jsx)(f.default,{style:{width:"100%",opacity:.5},pointerEvents:"box-only",children:(0,Hn.jsx)(wj,{altitude:"Add",direction:"0",speed:"0",onChange:function(){return null}})})}):null]})}var zj=Vn.default.create({container:{paddingHorizontal:0,alignItems:"center",paddingLeft:0,paddingRight:0},content:{width:"100%",flexDirection:"column",backgroundColor:"transparent"},altitudeTempRow:{paddingHorizontal:32,width:400,alignSelf:"center",backgroundColor:"transparent",flexGrow:1,display:"flex",flexWrap:"nowrap",flexDirection:"row",alignItems:"flex-start",paddingVertical:0,marginVertical:16,marginTop:0,marginBottom:0,justifyContent:"space-between"},textField:Dj(Dj({},g.default.select({web:{width:"100%"},ios:{flexGrow:1}})),{},{paddingBottom:4,height:60,fontWeight:"bold",fontSize:20}),cardContent:{borderRadius:5,flexGrow:1,display:"flex",flexWrap:"nowrap",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",paddingHorizontal:0,paddingVertical:0,marginVertical:16,marginTop:0,marginBottom:0},row:{width:400,alignSelf:"center",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:0,marginVertical:16},headerTemperature:{width:120,color:"white",textAlign:"center",fontWeight:"bold"},headerJumprun:{width:120,color:"white",textAlign:"center",fontWeight:"bold"},jumpRunCard:{width:120,height:60,flexDirection:"row",backgroundColor:"white",borderRadius:8},temperatureCard:{height:60,width:120,flexDirection:"row",backgroundColor:"white",borderRadius:8},headerAltitude:{width:120,color:"white",textAlign:"center",fontWeight:"bold"},headerSpeed:{width:120,color:"white",textAlign:"center",fontWeight:"bold"},headerDirection:{width:120,color:"white",textAlign:"center",fontWeight:"bold"},card:{marginVertical:8,width:360,alignSelf:"center",backgroundColor:"transparent",shadowColor:"transparent"},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:50,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}});function Tj(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ij(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Tj(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Tj(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Aj=Vn.default.create({container:{paddingHorizontal:0,alignItems:"center",paddingLeft:0,paddingRight:0}});const Fj=function(e){return(0,Hn.jsx)(fj,Ij(Ij({style:Aj.container},e),{},{title:"Winds Aloft",children:(0,Hn.jsx)(Ej,{})}))};function Rj(e,n){var t=function(e,n){var t=e.x,r=e.y,o=n.x,i=n.y-r,l=o-t,a=Math.atan2(i,l);return a*(180/Math.PI)}({x:e.x,y:e.y},{x:n.x,y:n.y});return t<0&&(t=360+t),t}var Uj=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"];function Bj(e){var n=e.x,t=e.y,r=e.degrees,o=e.radius,i=e.offsetX,l=e.offsetY;return{x:n+o+i+o*Math.sin((r+180)*Math.PI/180),y:t+o+l+o*-Math.cos((r+180)*Math.PI/180)}}function Lj(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Mj(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Lj(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Lj(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Nj=nj.default.get("window").width,$j=1;function Vj(e){var n=l.useState({x:0,y:0,height:0,width:0}),t=(0,W.default)(n,2),r=t[0],i=t[1],a=r.width*$j;a=a>475?475:a;var s=e.latitude,u=e.longitude,d=e.value,c=e.title,p=e.onChange,m=l.useState(!1),g=(0,W.default)(m,2),h=g[0],v=g[1],y=l.useState(d||0),b=(0,W.default)(y,2),x=b[0],j=b[1],k=l.useState({x:0,y:0,height:0,width:0,originX:0,originY:0}),O=(0,W.default)(k,2),w=O[0],S=O[1],P=l.useRef(new mm.default.Value(x)),C=l.useRef(new mm.default.Value(0));l.useEffect((function(){h||j(d)}),[h,d]);var D,E=l.useRef(new mm.default.Value(0)),z=l.useRef(mm.default.loop(mm.default.timing(E.current,{duration:3e3,toValue:-400,useNativeDriver:!0}),{resetBeforeIteration:!0})),T=l.useCallback((function(e){E.current.setValue(0),z.current.stop(),z.current.reset();var n=e.nativeEvent,t={x:n.x,y:n.y},r=Rj({x:w.originX,y:w.originY},t);requestAnimationFrame((function(){return j(r)})),P.current.setValue(r)}),[j,w]),I=l.useCallback((function(e){var n=e.nativeEvent.layout;S(Mj(Mj({},n),{},{originX:n.x+r.width/2,originY:n.y+r.height/2}))}),[r.height,r.width]),A=Bj({x:w.originX,y:w.originY,degrees:x,offsetX:-20,offsetY:-20,radius:a/2});return(0,Hn.jsx)(o.PanGestureHandler,{onBegan:function(){v(!0),mm.default.timing(C.current,{duration:350,toValue:1,useNativeDriver:!0}).start()},onEnded:function(){v(!1),mm.default.timing(C.current,{duration:350,toValue:0,useNativeDriver:!0}).start(),z.current.start(),requestAnimationFrame((function(){return null==p?void 0:p(x)}))},onGestureEvent:T,children:(0,Hn.jsxs)(f.default,{style:{width:"100%",height:"100%",alignItems:"center",marginTop:50},onLayout:function(e){return i(e.nativeEvent.layout)},children:[c&&(0,Hn.jsx)(mm.default.Text,{style:[qj.title,{marginBottom:4,opacity:C.current.interpolate({inputRange:[0,1],outputRange:[1,0]})}],children:c}),(0,Hn.jsxs)(ov,{position:{y:0,x:0},coords:{lat:s,lng:u},containerStyle:{position:"relative",top:void 0,left:void 0,maxWidth:500,maxHeight:500},interactive:!1,height:a,width:a,onChange:function(){return null},shape:"round",children:[(0,Hn.jsx)(mm.default.View,{onLayout:I,style:[qj.iconContainer,{width:a,height:a}],children:(0,Hn.jsx)(mm.default.View,{style:{height:a,width:C.current.interpolate({inputRange:[0,1],outputRange:[10,2]}),backgroundColor:"#FF1414",opacity:C.current.interpolate({inputRange:[0,1],outputRange:[.6,1]}),transform:[{rotate:P.current.interpolate({inputRange:[0,360],outputRange:["0deg","360deg"]})}]}})}),null!=r&&r.width?(0,Hn.jsx)(mm.default.View,{style:[{position:"absolute",width:40,height:40,top:A.y,left:A.x,zIndex:100,opacity:E.current.interpolate({inputRange:[-400,-200,400],outputRange:[0,1,0]}),transform:[{rotate:P.current.interpolate({inputRange:[0,360],outputRange:["0deg","360deg"]})},{translateY:E.current}]}],children:(0,Hn.jsx)(ju.default,{name:"airplane",size:40,color:"#ffffff"})}):null,(0,Hn.jsx)(mm.default.Text,{style:[qj.degreeLabel,{opacity:C.current,top:a/2-60,left:a/2-100}],children:Math.round(x)})]}),(0,Hn.jsxs)(mm.default.Text,{style:[qj.bottomDegreeLabel,{opacity:C.current.interpolate({inputRange:[0,1],outputRange:[1,0]})}],children:[Math.round(x),"\xb0 (",(D=x,Uj[Math.round(D/22.5)]),")"]})]})})}var qj=Vn.default.create({container:{paddingHorizontal:0,alignItems:"center",paddingLeft:0,paddingRight:0},title:{fontSize:50,fontWeight:"bold",color:"white",left:0,width:"100%",paddingBottom:40,textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2}},degreeLabel:{width:200,height:120,textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2},fontSize:100,color:"white",position:"absolute"},bottomDegreeLabel:{fontSize:50,paddingBottom:16,fontWeight:"bold",color:"white",position:"absolute",bottom:50,left:0,top:48,width:"100%",textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2}},content:{width:"100%",flexDirection:"column"},iconContainer:{borderWidth:10,borderRadius:Nj/2,borderStyle:"solid",borderColor:"#222222",alignSelf:"center",alignItems:"center",justifyContent:"center"}});function Gj(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Wj(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Gj(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gj(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _j=Vn.default.create({container:{paddingHorizontal:0,alignItems:"center",paddingLeft:0,backgroundColor:"blue",paddingRight:0},slider:{width:"100%",marginTop:32},textInput:{height:80,width:200,alignSelf:"center",backgroundColor:"transparent",color:"white",fontSize:60,textAlign:"center",marginBottom:60},content:{width:"100%",flexDirection:"column"},iconContainer:{width:250,height:250,borderRadius:125,borderWidth:15,borderColor:"white",alignSelf:"center",alignItems:"center",justifyContent:"center"},icon:{position:"absolute",top:-75},row:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:0,marginVertical:16},headerAltitude:{flex:.35,color:"white",textAlign:"center",fontWeight:"bold"},headerSpeed:{flex:.3,color:"white",textAlign:"center",fontWeight:"bold"},headerDirection:{flex:.3,color:"white",textAlign:"center",fontWeight:"bold"},card:{padding:8,marginVertical:16},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:50,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}});const Hj=function(e){var n=dn((function(e){return e.forms.weather})),t=un(),r=Ut().dropzone.dropzone,o=l.useState(),i=(0,W.default)(o,2),a=i[0],s=i[1],u=l.useCallback((0,S.default)((function*(){try{if("granted"!==(yield Xh.requestForegroundPermissionsAsync()).status)return;var e=yield Xh.getCurrentPositionAsync({});s(e.coords)}catch(Bn){console.log(Bn)}})),[]);return l.useEffect((function(){null!=r&&r.lat&&null!=r&&r.lng||u()}),[null==r?void 0:r.lat,null==r?void 0:r.lng,u]),(0,Hn.jsx)(fj,Wj(Wj({style:_j.container},e),{},{contentStyle:{paddingTop:130},children:(0,Hn.jsx)(f.default,{style:{width:"100%",height:"80%"},children:(0,Hn.jsx)(Vj,{value:n.fields.jumpRun.value||0,latitude:(null==r?void 0:r.lat)||(null==a?void 0:a.latitude)||0,longitude:(null==r?void 0:r.lng)||(null==a?void 0:a.longitude)||0,onChange:function(e){return t(rn.forms.weather.setField(["jumpRun",Math.round(e)]))}})})}))};const Yj=function(){var e=dn((function(e){return e.forms.weather})),n=dn((function(e){return e.global.currentDropzoneId})),t=un(),r=(0,ap.useNavigation)(),o=Mn(),i=bj({onSuccess:function(){return null},onFieldError:function(e,n){return t(rn.forms.weather.setFieldError([e,n]))},onError:o.error}),a=l.useCallback(function(){var t=(0,S.default)((function*(t,r){var o;yield i.mutate({id:Number(null==(o=e.original)?void 0:o.id),dropzoneId:n,winds:JSON.stringify(e.fields.winds.value),jumpRun:e.fields.jumpRun.value,temperature:e.fields.temperature.value}),r(t+1)}));return function(e,n){return t.apply(this,arguments)}}(),[i,e,n]);return(0,Hn.jsxs)(dj,{children:[(0,Hn.jsx)(Fj,{backButtonLabel:"Cancel",nextButtonLabel:"Next",onBack:function(){t(rn.forms.weather.reset()),t(rn.forms.weather.setOpen(!1)),r.goBack()},loading:i.loading,onNext:function(e,n){return n(e+1)}}),(0,Hn.jsx)(Hj,{backButtonLabel:"Back",nextButtonLabel:"Next",loading:i.loading,onNext:function(e,n){a(e,n)},onBack:function(e,n){return n(e-1)}}),(0,Hn.jsx)(vj,{title:"Weather conditions saved",subtitle:"You can update these at any time",backButtonLabel:"Back",nextButtonLabel:"Done",onBack:function(e,n){n(e-1)},onNext:function(){t(rn.forms.weather.reset()),t(rn.forms.weather.setOpen(!1)),r.goBack()}})]})};function Jj(){var e,n=dn((function(e){return e.forms.weather})),t=dn((function(e){return e.global.currentDropzoneId})),r=un(),o=(0,ap.useNavigation)(),i=(0,$s.useTheme)(),a=Mn(),s=bj({onSuccess:function(){return null},onFieldError:function(e,n){return r(rn.forms.weather.setFieldError([e,n]))},onError:a.error}),u=l.useCallback((0,S.default)((function*(){var e;yield s.mutate({id:Number(null==(e=n.original)?void 0:e.id),dropzoneId:t,winds:JSON.stringify(n.fields.winds.value),jumpRun:n.fields.jumpRun.value,temperature:n.fields.temperature.value}),o.goBack(),a.success("Weather board updated")})),[s,null==(e=n.original)?void 0:e.id,n.fields.winds.value,n.fields.jumpRun.value,n.fields.temperature.value,t,o,a]),d=Ut().dropzone.dropzone,c=l.useState(),p=(0,W.default)(c,2),m=p[0],g=p[1],h=l.useCallback((0,S.default)((function*(){try{if("granted"!==(yield Xh.requestForegroundPermissionsAsync()).status)return;var e=yield Xh.getCurrentPositionAsync({});g(e.coords)}catch(Bn){console.log(Bn)}})),[]);return l.useEffect((function(){null!=d&&d.lat&&null!=d&&d.lng||h()}),[null==d?void 0:d.lat,null==d?void 0:d.lng,h]),(0,Hn.jsxs)(f.default,{style:Vn.default.absoluteFill,children:[(0,Hn.jsx)(Vj,{value:n.fields.jumpRun.value||0,latitude:(null==d?void 0:d.lat)||(null==m?void 0:m.latitude)||0,longitude:(null==d?void 0:d.lng)||(null==m?void 0:m.longitude)||0,onChange:function(e){return r(rn.forms.weather.setField(["jumpRun",Math.round(e)]))}}),(0,Hn.jsx)(gp.default,{style:[Qj.fab,{backgroundColor:i.colors.primary}],small:!0,icon:"check",loading:s.loading,disabled:s.loading,onPress:function(){return u()},label:"Save"})]})}var Qj=Vn.default.create({fab:{position:"absolute",margin:16,right:0,bottom:0}});function Kj(){return(0,ap.useNavigation)()}function Xj(){var e,n=dn((function(e){return e.forms.weather})),t=dn((function(e){return e.global})),r=t.theme,o=t.palette,i=dn((function(e){return e.global.currentDropzoneId})),a=un(),s=Kj(),u=Mn(),d=bj({onSuccess:function(){return null},onFieldError:function(e,n){return a(rn.forms.weather.setFieldError([e,n]))},onError:u.error}),c=l.useCallback((0,S.default)((function*(){var e;yield d.mutate({id:Number(null==(e=n.original)?void 0:e.id),dropzoneId:i,winds:JSON.stringify(n.fields.winds.value),jumpRun:n.fields.jumpRun.value,temperature:n.fields.temperature.value}),s.goBack(),u.success("Weather board updated"),a(rn.forms.weather.reset()),a(rn.forms.weather.setOpen(!1))})),[d,null==(e=n.original)?void 0:e.id,n.fields.winds.value,n.fields.jumpRun.value,n.fields.temperature.value,i,s,u,a]);return(0,Hn.jsxs)(Ib,{contentContainerStyle:{backgroundColor:r.colors.background},children:[(0,Hn.jsx)(Ej,{onPressJumpRun:function(){return s.navigate("Manifest",{screen:"JumpRunScreen"})},variant:r.dark?"light":void 0}),(0,Hn.jsxs)(f.default,{style:Zj.buttons,pointerEvents:"box-none",children:[(0,Hn.jsx)(bt.default,{loading:d.loading,mode:"contained",color:o.primary.main,disabled:d.loading,style:[Zj.button,{borderRadius:20,height:42,alignItems:"center",justifyContent:"center",marginTop:20}],labelStyle:{color:"white"},onPress:(0,S.default)((function*(){c()})),children:"Save"}),(0,Hn.jsx)(bt.default,{loading:d.loading,mode:"outlined",color:o.primary.main,disabled:d.loading,style:[Zj.button,{borderRadius:20,height:42,alignItems:"center",justifyContent:"center",marginTop:20}],onPress:(0,S.default)((function*(){c()})),children:"Reload Conditions"}),(0,Hn.jsx)(yt.default,{type:"info",children:"Winds aloft and temperature are retrieved from MarkSchulze.net's amazing Winds Aloft service."})]})]})}var Zj=Vn.default.create({button:{alignSelf:"center",width:"100%"},buttonBack:{alignSelf:"center",width:"100%",marginHorizontal:48},buttons:{alignSelf:"center",alignItems:"flex-end",flexGrow:1,justifyContent:"flex-end",width:"100%",maxWidth:404,marginBottom:0}});function ek(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function nk(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ek(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ek(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function tk(e){var n=e.item;return(0,Hn.jsx)(Ox.DragOverlay,{children:n?(0,Hn.jsx)(Ex,nk({},n)):null})}function rk(e){var n=e.children,t=l.useState(),r=(0,W.default)(t,2),o=r[0],i=r[1],a=Sd().manifest.moveSlot,s=Mn(),u=l.useCallback(function(){var e=(0,S.default)((function*(e){var n,t,r,o,i,l,u,d,c,f,p=null==(n=e.over)||null==(t=n.data)||null==(r=t.current)?void 0:r.loadId,m=null==(o=e.active.data.current)?void 0:o.loadId,g=null==e||null==(i=e.active)||null==(l=i.data)||null==(u=l.current)?void 0:u.slotId,h=null==e||null==(d=e.over)||null==(c=d.data)||null==(f=c.current)?void 0:f.slotId;if(console.debug("Moving Slot "+g+" from Load "+m+" to Load "+p,{targetLoad:p,sourceLoad:m,sourceSlot:g}),m!==p){var v=yield a(m,{targetLoad:Number(p),sourceSlot:Number(g),targetSlot:h?Number(h):void 0});"error"in v&&v.error&&s.error(v.error)}}));return function(n){return e.apply(this,arguments)}}(),[a,s]);return(0,Hn.jsxs)(Ox.DndContext,{onDragStart:function(e){var n,t,r,o,l,a;console.debug("Drag start",e,null==e||null==(n=e.active)||null==(t=n.data)||null==(r=t.current)?void 0:r.props),i(null==e||null==(o=e.active)||null==(l=o.data)||null==(a=l.current)?void 0:a.props)},onDragEnd:u,children:[n,(0,Hn.jsx)(tk,{item:o})]})}var ok=t(42869),ik=t(57234);function lk(){return(0,Hn.jsx)(Uu,{containerStyle:{height:160,width:335,margin:16},isLoading:!0,layout:[{key:"header",width:335,height:160,borderRadius:8}]},"loading-card")}var ak=Vn.default.create({cardContent:{marginVertical:8,overflow:"hidden",maxWidth:450,flexDirection:"row"},smallChip:{height:25,margin:4,alignItems:"center"},smallChipText:{fontSize:12}});const sk=Sc((function(e){var n,t,r=e.onPress,o=dn((function(e){return e.global})),i=o.theme,a=o.palette,s=yc().load,u=s.load,d=s.loading,c=s.updatePlane,f=s.updatePilot,p=l.useMemo((function(){return{open:a.accent.main,cancelled:Le,boarding_call:Me}}),[a.accent.main]);if(d)return(0,Hn.jsx)(lk,{});var m=(n={},(0,N.default)(n,T.Open,"Open"),(0,N.default)(n,T.BoardingCall,"On call"),(0,N.default)(n,T.Cancelled,"Cancelled"),(0,N.default)(n,T.InFlight,"In air"),(0,N.default)(n,T.Landed,"Landed"),n);return(0,Hn.jsxs)(vt.default,{testID:"load-card",style:{margin:16,borderRadius:8,minWidth:300,maxWidth:450,opacity:["cancelled","landed"].includes((null==u?void 0:u.state)||"")?.5:1},elevation:1,onPress:r,children:[(0,Hn.jsx)(ok.default,{style:{backgroundColor:null!=u&&u.state?p[u.state]:void 0,marginTop:-5,marginRight:-5,color:"white",fontSize:12},children:null!=u&&u.state?m[null==u?void 0:u.state]:""}),(0,Hn.jsx)(vt.default.Title,{style:{justifyContent:"space-between"},title:"Load #"+((null==u?void 0:u.loadNumber)||"?"),subtitle:null==u?void 0:u.name,right:function(){return null==u||!u.dispatchAt||(0,ik.default)(new Date,null==u?void 0:u.dispatchAt)?null:(0,Hn.jsx)(kp,{style:{marginRight:16},children:(0,Hn.jsx)(_x,{end:new Date(1e3*u.dispatchAt)})})}}),(0,Hn.jsx)(vt.default.Content,{style:ak.cardContent,children:(0,Hn.jsxs)(Gp.default,{style:{flexDirection:"row",flexWrap:"nowrap",backgroundColor:"transparent",width:"100%"},horizontal:!0,children:[(0,Hn.jsx)(ux,{value:null==u?void 0:u.plane,small:!0,color:i.colors.onSurface,onSelect:function(){var e=(0,S.default)((function*(e){yield c(e)}));return function(n){return e.apply(this,arguments)}}()}),(0,Hn.jsx)(sx,{color:i.colors.onSurface,value:null==u?void 0:u.pilot,onSelect:f,small:!0}),(0,Hn.jsxs)(ku.default,{mode:"outlined",icon:"parachute",style:{marginHorizontal:4,backgroundColor:"transparent",height:25,alignItems:"center",borderColor:i.colors.onSurface},textStyle:{color:i.colors.onSurface,fontSize:12,marginTop:0},children:[(null==u?void 0:u.occupiedSlots)||0," / ",null==u||null==(t=u.plane)?void 0:t.maxSlots]})]})})]})}));var uk=t(4049);function dk(){return(0,Hn.jsx)(Uu,{containerStyle:{height:300,maxWidth:535,paddingHorizontal:16},isLoading:!0,layout:[{key:"header",width:"100%",height:"100%",borderRadius:8}]})}const ck=Sc((function(e){var n=e.onManifest,t=e.onManifestGroup,r=e.controlsVisible,o=e.onSlotGroupPress,i=e.onSlotPress,a=dn((function(e){return e.global})),s=un(),u=l.useState(!1),c=(0,W.default)(u,2),f=c[0],p=c[1],m=l.useState(!1),h=(0,W.default)(m,2),v=h[0],y=h[1],b=Sd().manifest.deleteSlot,x=l.useState(!1),j=(0,W.default)(x,2),k=j[0],O=j[1],w=Mn(),P=yc().load,C=P.load,D=P.loading,E=P.refetch,z=P.updateGCA,T=P.updatePlane,I=P.updatePilot,A=P.dispatchInMinutes,F=P.updateLoadMaster,U=P.markAsLanded,B=Ut().dropzone.currentUser,L=l.useCallback(function(){var e=(0,S.default)((function*(e){try{O(!0);var n,t,r=yield b({id:Number(e.id)});if("error"in r&&r.error)w.error((null==r?void 0:r.error)||(null==(n=e.dropzoneUser)||null==(t=n.user)?void 0:t.name)+" could not be taken off load #"+(null==C?void 0:C.loadNumber));else if("slot"in r&&null!=e&&e.id){var o,i,l;w.error(((null==(o=r.slot)||null==(i=o.dropzoneUser)||null==(l=i.user)?void 0:l.name)||"User")+" has been taken off load #"+(null==C?void 0:C.loadNumber))}}finally{O(!1)}}));return function(n){return e.apply(this,arguments)}}(),[b,null==C?void 0:C.loadNumber,w]),M=Kj(),N=ds(R.UpdateLoad),$=ds(R.CreateSlot),V=ds(R.CreateUserSlot),q=ds(R.CreateUserSlotWithSelf),G=$&&(null==C?void 0:C.isOpen)&&!(null!=C&&C.isFull);l.useEffect((function(){null!=C&&C.maxSlots&&(null==C?void 0:C.maxSlots)<5&&p(!0)}),[null==C?void 0:C.maxSlots]);var _=r&&(V||q)&&!(null!=C&&C.hasLanded)&&(!(null!=C&&C.dispatchAt)||C.dispatchAt>(new Date).getTime()/1e3);return D?(0,Hn.jsx)(dk,{}):(0,Hn.jsxs)(vt.default,{testID:"load-card",style:{margin:16,opacity:null!=C&&C.hasLanded?.5:1},elevation:3,children:[(0,Hn.jsx)(vt.default.Title,{style:{justifyContent:"space-between"},title:(0,Hn.jsxs)(kp,{style:{width:"100%",flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,Hn.jsx)(Ep.default,{testID:"title",children:"Load "+((null==C?void 0:C.loadNumber)||0)}),(0,Hn.jsx)(kp,{style:{flexGrow:1}}),_&&(0,Hn.jsx)(Vs.default,{icon:"account-group",testID:"manifest-group-button",onPress:function(){s(rn.forms.manifestGroup.reset()),s(rn.forms.manifestGroup.setField(["load",C])),q&&!V&&B&&(s(rn.screens.manifest.setSelected([B])),s(rn.forms.manifestGroup.setDropzoneUsers([B]))),t&&t()}})]}),subtitle:null==C?void 0:C.name}),(0,Hn.jsx)(d.default,{visible:D||k,color:a.theme.colors.primary}),(0,Hn.jsxs)(vt.default.Content,{style:{marginVertical:8,paddingHorizontal:0,height:f||!r?void 0:300,overflow:"hidden"},children:[(0,Hn.jsx)(kp,{style:{flexDirection:"row",paddingHorizontal:8,backgroundColor:"transparent"},children:(0,Hn.jsxs)(Gp.default,{style:{height:32},horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:{backgroundColor:"transparent"},children:[(0,Hn.jsx)(ux,{small:!0,value:null==C?void 0:C.plane,onSelect:function(){var e=(0,S.default)((function*(e){var n;if(((null==C||null==(n=C.slots)?void 0:n.length)||0)>(e.maxSlots||0)){var t,r=((null==C||null==(t=C.slots)?void 0:t.length)||0)-(e.maxSlots||0);w.info("You need to take "+r+" people off the load to fit on this plane")}else yield T(e),E()}));return function(n){return e.apply(this,arguments)}}()}),(0,Hn.jsx)(lx,{small:!0,value:null==C?void 0:C.gca,onSelect:z}),(0,Hn.jsx)(sx,{small:!0,value:null==C?void 0:C.pilot,onSelect:I}),(0,Hn.jsx)(ax,{small:!0,value:null==C?void 0:C.loadMaster,slots:(null==C?void 0:C.slots)||[],onSelect:F})]})}),(0,Hn.jsx)(Qx,{scrollable:"web"===g.default.OS,load:C,loading:D,onSlotPress:i,onSlotGroupPress:o,onDeletePress:L,onAvailableSlotPress:function(){return(null==C?void 0:C.id)&&M.navigate("Manifest",{screen:"LoadScreen",params:{loadId:null==C?void 0:C.id}})},onSlotPress:i,fields:[kx.JumpType].filter(Boolean)})]}),!(null==C||!C.dispatchAt)&&(null==C?void 0:C.dispatchAt)>(new Date).getTime()/1e3&&(0,Hn.jsx)(kp,{style:{flex:1,backgroundColor:"black",padding:8},children:(0,Hn.jsx)(vp.default,{style:{color:"#FFFFFF"},children:"Take-off in "+(0,uk.default)(new Date,1e3*(null==C?void 0:C.dispatchAt))+" min"})}),r?(0,Hn.jsxs)(vt.default.Actions,{children:[null!=C&&C.maxSlots&&(null==C?void 0:C.maxSlots)<5?null:(0,Hn.jsx)(bt.default,{onPress:function(){return p(!f)},testID:f?"show-less":"show-more",children:f?"Show less":"Show more"}),(0,Hn.jsx)(kp,{style:{flexGrow:1}}),!N||null!=C&&C.hasLanded?null:null!=C&&C.dispatchAt?(0,Hn.jsx)(bt.default,{mode:"outlined",onPress:function(){return A(null)},testID:"dispatch-cancel",children:"Cancel"}):(0,Hn.jsxs)(hd,{setOpen:y,open:v,anchor:(0,Hn.jsx)(bt.default,{mode:"outlined",onPress:function(){return y(!0)},testID:"dispatch-button",children:"Dispatch"}),children:[(0,Hn.jsx)(gd,{testID:"dispatch-call",onPress:function(){y(!1),A(20)},title:"20 minute call"}),(0,Hn.jsx)(gd,{testID:"dispatch-call",onPress:function(){y(!1),A(15)},title:"15 minute call"}),(0,Hn.jsx)(gd,{testID:"dispatch-call",onPress:function(){y(!1),A(10)},title:"10 minute call"}),(0,Hn.jsx)(gd,{onPress:function(){y(!1),A(5)},title:"5 minute call"})]}),null!=C&&C.hasLanded?null:null!=C&&C.dispatchAt&&C.dispatchAt<(new Date).getTime()/1e3&&N?(0,Hn.jsx)(bt.default,{style:{marginLeft:8},mode:"contained",onPress:function(){var e,n;return null!=C&&null!=(e=C.loadMaster)&&e.id?null!=C&&null!=(n=C.pilot)&&n.id?U():w.info("You must select a pilot before this load can be finalized"):w.info("You must select a load master before this load can be finalized")},children:"Mark as landed"}):(0,Hn.jsx)(bt.default,{style:{marginLeft:8},mode:"contained",testID:"manifest-button",onPress:function(){return n()},disabled:!G||Boolean((null==C?void 0:C.dispatchAt)&&C.dispatchAt<(new Date).getTime()/1e3),children:"Manifest"})]}):null]})}));var fk=t(51223),pk=t(83455);const mk=t.p+"static/media/night.f2cf113d20e7fbfc1e41.png",gk=t.p+"static/media/weather.0908eb6b3ae4499286aa.png";function hk(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function vk(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?hk(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hk(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var yk=nj.default.get("window").width;var bk=Vn.default.create({container:{paddingHorizontal:0,alignItems:"center",paddingLeft:0,paddingRight:0},planeIcon:{transform:[{rotate:"-45deg"}]},degreeLabel:{width:200,height:120,textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2},fontSize:100,color:"white",position:"absolute"},content:{width:"100%",flexDirection:"column"},iconContainer:{borderWidth:2,borderRadius:yk/2,borderStyle:"solid",borderColor:"white",alignSelf:"center",alignItems:"center",justifyContent:"center"}});const xk=l.memo((function(e){var n=e.lat,t=e.lng,r=l.useState({x:0,y:0,height:0,width:0}),o=(0,W.default)(r,2),i=o[0],a=o[1],s=1*i.width,u=i.height/2,d=i.width/2,c=e.jumpRun,p=l.useState({x:0,y:0,height:0,width:0,originX:0,originY:0}),m=(0,W.default)(p,2),g=m[0],h=m[1],v=l.useRef(new mm.default.Value(0)),y=l.useRef(new mm.default.Value(0)),b=l.useRef(mm.default.loop(mm.default.timing(y.current,{duration:3e3,toValue:-400,useNativeDriver:!0}),{resetBeforeIteration:!0})),x=l.useCallback((function(e){var n=e.nativeEvent.layout;h(vk(vk({},n),{},{originX:n.x+i.width/2,originY:n.y+i.height/2}))}),[i.height,i.width]);l.useEffect(function(){var e=function(){b.current.start()};return e._closure={planeAnimation:{current:{start:b.current.start}}},e.asString="function _f(){const{planeAnimation}=jsThis._closure;{planeAnimation.current.start();}}",e.__workletHash=6984743035892,e.__location="/home/runner/work/openmanifest/openmanifest/app/screens/authenticated/dropzone/manifest/Weather/JumpRun.tsx (69:18)",e}(),[]);var j=function(){var e=function(){b.current.stop(),b.current.reset(),b.current.start()};return e._closure={planeAnimation:{current:{stop:b.current.stop,reset:b.current.reset,start:b.current.start}}},e.asString="function _f(){const{planeAnimation}=jsThis._closure;{planeAnimation.current.stop();planeAnimation.current.reset();planeAnimation.current.start();}}",e.__workletHash=4402863442905,e.__location="/home/runner/work/openmanifest/openmanifest/app/screens/authenticated/dropzone/manifest/Weather/JumpRun.tsx (75:18)",e}();l.useEffect((function(){j()}),[c]);var k=Bj({x:g.x,y:g.y,degrees:c,offsetX:0,offsetY:0,radius:i.height/2}),O=l.useMemo((function(){return{x:0,y:0}}),[]),w=l.useMemo((function(){return n&&t?{lat:n,lng:t}:void 0}),[n,t]);return(0,Hn.jsxs)(f.default,{onLayout:function(e){var n=e.nativeEvent;return a(n.layout)},style:{width:"100%",height:"100%"},children:[(0,Hn.jsx)(f.default,{style:{width:s,height:s,borderRadius:s/2,overflow:"hidden",position:"absolute",top:0,left:0},children:(0,Hn.jsx)(ov,{coords:w,center:w,height:s,width:s,position:O,interactive:!1})}),(0,Hn.jsx)(mm.default.View,{onLayout:x,style:[bk.iconContainer,{width:s,height:s,position:"absolute",top:0,left:0,transform:[{rotate:c+"deg"}]}],children:(0,Hn.jsx)(mm.default.View,{style:{height:s-6,width:1,backgroundColor:"#FF1414",opacity:v.current.interpolate({inputRange:[0,1],outputRange:[.6,1]}),transform:[{scaleX:v.current.interpolate({inputRange:[0,1],outputRange:[3,1]})}]}})}),null!=i&&i.width?(0,Hn.jsx)(mm.default.View,{style:[{position:"absolute",width:20,height:20,top:k.y,left:k.x,opacity:y.current.interpolate({inputRange:[-s,-s/2,s],outputRange:[0,1,0]}),transform:[{rotate:c+"deg"},{translateY:y.current}]}],children:(0,Hn.jsx)(ju.default,{name:"airplane",size:20,color:"#ffffff",style:bk.planeIcon})}):null,(0,Hn.jsx)(mm.default.Text,{style:[bk.degreeLabel,{opacity:v.current,top:u,left:d}],children:Math.round(c)})]})}),(function(e,n){return ot()(e,n)}));function jk(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function kk(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?jk(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jk(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ok(){var e,n,t,r,o,i=Ut().dropzone,a=i.dropzone,s=i.loading,u=i.called,d=un(),c=(0,ap.useNavigation)(),p=l.useState(!1),m=(0,W.default)(p,2),g=m[0],h=m[1],v=l.useRef(new mm.default.Value(0)),y=(0,$s.useTheme)(),b=null==a?void 0:a.currentConditions,x=null!=a&&null!=(e=a.currentConditions)&&e.createdAt?(0,ub.default)(a.currentConditions.createdAt):new Date,j=(null==a||null==(n=a.currentConditions)?void 0:n.jumpRun)||0,k=(null==a||null==(t=a.currentConditions)?void 0:t.temperature)||0,O=ds(R.UpdateWeatherConditions),w=(null==b?void 0:b.id)&&(null==b||null==(r=b.winds)?void 0:r.length)&&(null==b?void 0:b.jumpRun);l.useEffect((function(){g?mm.default.timing(v.current,{toValue:1,duration:300,easing:pk.default.inOut(pk.default.ease),useNativeDriver:!1}).start():mm.default.timing(v.current,{toValue:0,duration:300,easing:pk.default.inOut(pk.default.ease),useNativeDriver:!1}).start()}),[g]);var S=l.useCallback((function(){O&&null!=a&&a.currentConditions&&(d(rn.forms.weather.setOpen(null==a?void 0:a.currentConditions)),c.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"WindScreen"}}}))}),[O,d,null==a?void 0:a.currentConditions,c]),P=l.useCallback((function(){null!=a&&a.currentConditions&&O&&(d(rn.forms.weather.setOpen(a.currentConditions)),c.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"JumpRunScreen"}}}))}),[O,d,null==a?void 0:a.currentConditions,c]),C=y.dark?mk:gk;return(!s||null!=a&&a.currentConditions)&&u?(0,Hn.jsx)(mm.default.View,{style:{marginBottom:8,height:v.current.interpolate({inputRange:[0,1],outputRange:[200,300]})},children:(0,Hn.jsx)(vt.default,{style:wk.card,elevation:3,onPress:function(){return h(!g)},onLongPress:S,children:(0,Hn.jsx)(Dp.default,{source:C,style:kk(kk({},Vn.default.absoluteFillObject),{},{opacity:.75}),resizeMode:"cover",children:(0,Hn.jsx)(vt.default.Content,{style:{alignItems:"center",justifyContent:"center",flexGrow:1},children:w?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsxs)(f.default,{style:wk.top,children:[(0,Hn.jsxs)(f.default,{style:wk.cell,children:[(0,Hn.jsx)(fk.default,{name:"calendar",color:"#ffffff",size:20,style:{marginRight:8}}),(0,Hn.jsx)(Vd.default,{style:wk.date,children:(0,uc.default)(x,"LLL do, yy")})]}),(0,Hn.jsxs)(f.default,{style:[wk.cell,{justifyContent:"flex-end",alignSelf:"flex-end"}],children:[(0,Hn.jsx)(fk.default,{name:"thermometer",color:"#ffffff",size:20,style:{marginRight:8}}),(0,Hn.jsx)(Vd.default,{style:wk.temperature,children:k||"?"}),(0,Hn.jsx)(ju.default,{name:"temperature-celsius",color:"#ffffff",size:20})]})]}),(0,Hn.jsxs)(f.default,{style:wk.bottom,children:[(0,Hn.jsxs)(mm.default.View,{style:[wk.windboard,{height:v.current.interpolate({inputRange:[0,1],outputRange:[100,210]}),transform:[{translateY:v.current.interpolate({inputRange:[0,1],outputRange:[0,10],easing:pk.default.inOut(pk.default.ease)})}]}],children:[(0,Hn.jsxs)(f.default,{style:wk.row,children:[(0,Hn.jsx)(f.default,{style:wk.cell,children:(0,Hn.jsx)(Vd.default,{style:wk.header,children:"Altitude"})}),(0,Hn.jsx)(f.default,{style:wk.cell,children:(0,Hn.jsx)(Vd.default,{style:wk.header,children:"Wind"})}),(0,Hn.jsx)(f.default,{style:wk.cell,children:(0,Hn.jsx)(Vd.default,{style:wk.header,children:"Direction"})})]}),(0,oe.orderBy)((null==a||null==(o=a.currentConditions)?void 0:o.winds)||[],(function(e){return Number(e.altitude)}),"desc").map((function(e){var n=e.speed,t=e.direction,r=e.altitude;return(0,Hn.jsxs)(l.Fragment,{children:[(0,Hn.jsx)(du.default,{style:{width:"100%",backgroundColor:"white"}}),(0,Hn.jsxs)(f.default,{style:wk.row,children:[(0,Hn.jsx)(f.default,{style:wk.cell,children:(0,Hn.jsx)(Vd.default,{style:wk.value,children:r})}),(0,Hn.jsx)(f.default,{style:wk.cell,children:(0,Hn.jsx)(Vd.default,{style:wk.value,children:n})}),(0,Hn.jsxs)(f.default,{style:[wk.cell,{justifyContent:"center"}],children:[(0,Hn.jsx)(Vd.default,{style:wk.value,children:t}),(0,Hn.jsx)(fk.default,{name:"long-arrow-down",size:14,style:t&&/\d+/.test(t)&&Number(t)<361?{transform:[{rotate:t+"deg"}],marginLeft:4}:{marginLeft:4}})]})]})]},"wind-at-"+r)}))]}),(0,Hn.jsxs)(f.default,{style:wk.jumpRun,pointerEvents:"box-none",children:[(0,Hn.jsxs)(Vd.default,{style:[wk.header,{textAlign:"left"}],children:["Jump run ",j,"\xb0"]}),(0,Hn.jsx)(cd.default,{style:{width:"100%",height:"100%"},disabled:!O,onLongPress:P,onPress:S,children:(0,Hn.jsx)(xk,{jumpRun:j,lat:null==a?void 0:a.lat,lng:null==a?void 0:a.lng})})]})]})]}):(0,Hn.jsx)(f.default,{style:wk.noData,children:(0,Hn.jsx)(Vd.default,{style:wk.noDataLabel,children:"No weather data"})})})})})}):(0,Hn.jsx)(Uu,{containerStyle:wk.card,isLoading:!0,layout:[{key:"root",height:200,width:"100%"}]})}var wk=Vn.default.create({card:{flexGrow:1,borderRadius:10,marginBottom:30,height:200,width:"100%",overflow:"hidden",backgroundColor:"transparent"},date:{flex:1,fontSize:20,color:"white",textShadowOffset:{width:1,height:1},textShadowRadius:5,textShadowColor:"rgba(15, 15, 15, 0.5)"},temperature:{fontSize:24,lineHeight:24,color:"white",justifyContent:"flex-end",textShadowOffset:{width:1,height:1},textShadowRadius:5,textShadowColor:"rgba(15, 15, 15, 0.5)"},label:{color:"white",fontWeight:"bold"},value:{color:"#ffffff",textShadowOffset:{width:2,height:2},textShadowRadius:10,textShadowColor:"rgba(0, 0, 0, 0.75)"},row:{alignItems:"center",justifyContent:"space-evenly",height:20,width:"100%",flexDirection:"row"},cell:{flex:1,color:"white",flexDirection:"row"},header:{flexGrow:3,fontWeight:"bold",color:"#ffffff",textShadowOffset:{width:1,height:1},textShadowRadius:10,textShadowColor:"rgba(0, 0, 0, 0.5)"},noData:{alignItems:"center",justifyContent:"center",flexGrow:1,textAlign:"center",alignSelf:"center",height:"100%"},noDataLabel:{color:"#ffffff",textShadowOffset:{width:2,height:2},textShadowRadius:10,textShadowColor:"rgba(0, 0, 0, 0.75)",fontSize:22},top:{marginTop:16,justifyContent:"space-between",alignItems:"center",flexDirection:"row",width:"100%"},bottom:{flexDirection:"row",width:"100%",justifyContent:"space-between",alignItems:"flex-end",flexGrow:1,height:105,marginTop:32,paddingBottom:20},windboard:{width:200,height:105,padding:8,borderRadius:8,backgroundColor:"rgba(50, 50,50, 0.5)",flexDirection:"column",overflow:"hidden"},jumpRun:{width:94,height:94,marginBottom:24,flexDirection:"column",alignItems:"flex-end"}});function Sk(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Pk(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Sk(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sk(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ck(){var e=Ky(),n=l.useCallback((function(){return e()}),[e]);return(0,Hn.jsx)(vt.default,{style:Dk.card,onPress:n,children:(0,Hn.jsx)(vt.default.Content,{style:Dk.content,children:(0,Hn.jsx)(dc.default,{title:"Complete your profile",description:"Let this dropzone know who you are",titleStyle:{marginBottom:4},left:function(){return(0,Hn.jsx)(Gn,{style:{height:80,width:80},autoPlay:!0,loop:!1,source:t(25202)})},right:function(e){return(0,Hn.jsx)(cc.default,Pk(Pk({},e),{},{icon:"chevron-right",style:Dk.icon}))}})})})}var Dk=Vn.default.create({card:{marginHorizontal:16,borderRadius:8},content:{paddingHorizontal:4,paddingVertical:4},icon:{alignSelf:"center"}});function Ek(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function zk(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ek(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ek(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Tk(e){var n=e.completed,t=e.index,r=e.title,o=e.description,i=e.onPress;return(0,Hn.jsx)(vt.default,{style:Vn.default.flatten([Ik.card,{opacity:n?.7:1}]),onPress:i,pointerEvents:n?"none":void 0,children:(0,Hn.jsx)(vt.default.Content,{style:Ik.content,children:(0,Hn.jsx)(dc.default,{title:r,description:o,titleStyle:{marginBottom:4},left:function(){return n?(0,Hn.jsx)(zp.default,{icon:"check"}):(0,Hn.jsx)(td.default,{label:""+t})},right:function(e){return(0,Hn.jsx)(cc.default,zk(zk({},e),{},{icon:"chevron-right",style:Ik.icon}))}})})})}var Ik=Vn.default.create({card:{marginHorizontal:16,borderRadius:8,marginVertical:16},content:{paddingHorizontal:4,paddingVertical:4},icon:{alignSelf:"center"}});function Ak(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Fk(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ak(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ak(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Rk={id:"__LOADING__",availableSlots:0,createdAt:"",isFull:!1,isOpen:!1,loadNumber:0,maxSlots:0,occupiedSlots:0,plane:{id:"__LOADING__",maxSlots:0},state:T.Open,weight:0},Uk=Fk(Fk({},Rk),{},{id:"__SETUP_PROFILE_CARD__"}),Bk=Fk(Fk({},Rk),{},{id:"__SETUP_AIRCRAFT_CARD__"}),Lk=Fk(Fk({},Rk),{},{id:"__SETUP_TICKETS_CARD__"});function Mk(){var e,n,t,r,i,a,s=dn((function(e){return e.global})),u=dn((function(e){return e.screens.manifest})),c=un(),f=l.useState(!1),p=(0,W.default)(f,2),m=p[0],g=p[1],h=Ut(),v=h.dropzone,y=v.dropzone,b=v.currentUser,x=v.loading,j=v.refetch,k=v.fetchMore,O=h.dialogs,w=Sd(),S=w.manifest,P=w.dialogs,C=Ns({dropzoneId:null==y?void 0:y.id}),D=C.aircrafts,E=C.loading,z=Bs({dropzone:null==y?void 0:y.id}),T=z.ticketTypes,I=z.loading,A=(0,ap.useNavigation)(),F=(0,ap.useIsFocused)();l.useEffect((function(){F&&null!=y&&y.name&&A.setOptions({title:y.name})}),[F,null==y?void 0:y.name,A]),l.useEffect((function(){F&&j()}),[F,j]),l.useEffect((function(){var e,n,t,r;null!=y&&y.primaryColor&&(null==y?void 0:y.primaryColor)!==(null==(e=s.theme)||null==(n=e.colors)?void 0:n.primary)&&c(rn.global.setPrimaryColor(y.primaryColor)),null!=y&&y.secondaryColor&&(null==y?void 0:y.secondaryColor)!==(null==(t=s.theme)||null==(r=t.colors)?void 0:r.accent)&&console.log("Accent color disabled")}),[c,null==y?void 0:y.primaryColor,null==y?void 0:y.secondaryColor,null==(e=s.theme)||null==(n=e.colors)?void 0:n.accent,null==(t=s.theme)||null==(r=t.colors)?void 0:r.primary]);var U=(0,jt.default)().width,B=32+("cards"===u.display?338:550);B=B>U?U-32:B;var L=Math.floor(U/B)||1,M=B*L,N=ds(R.UpdateDropzone),$=!y||!(null!=S&&null!=(i=S.loads)&&i.length)&&(null==S?void 0:S.loading),V=(0,$s.useTheme)(),q=l.useMemo((function(){var e;return[!E&&(!(null!=T&&T.length)||!(null!=D&&D.length))&&N&&Bk,!I&&(!(null!=T&&T.length)||!(null!=D&&D.length))&&N&&Lk,$||null!=b&&b.hasExitWeight&&null!=b&&b.hasLicense&&null!=(e=b.user)&&e.name?null:Uk].concat((0,$n.default)($?new Array(5).fill(Rk):S.loads)).filter(Boolean)}),[E,null==T?void 0:T.length,null==D?void 0:D.length,N,I,$,null==b?void 0:b.hasExitWeight,null==b?void 0:b.hasLicense,null==b||null==(a=b.user)?void 0:a.name,S.loads]),G=l.useCallback((function(e){var n=e.item,t=e.index;return"__LOADING__"===n.id?"list"===u.display?(0,Hn.jsx)(dk,{},"loading-card-"+t):(0,Hn.jsx)(lk,{},"loading-card-"+t):"__SETUP_PROFILE_CARD__"===n.id?(0,Hn.jsx)(Ck,{}):"__SETUP_AIRCRAFT_CARD__"===n.id?(0,Hn.jsx)(Tk,{title:"Add an aircraft",completed:!(null==D||!D.length),onPress:O.aircraft.open,index:1}):"__SETUP_TICKETS_CARD__"===n.id?(0,Hn.jsx)(Tk,{title:"Create a ticket",completed:!(null==T||!T.length),onPress:O.ticketType.open,index:2}):"list"===u.display?(0,Hn.jsx)(ck,{controlsVisible:!1,id:null==n?void 0:n.id,onSlotPress:function(e){n&&P.manifestUser.open({load:n,slot:Fk(Fk({},e||{}),{},{dropzoneUser:e?null==e?void 0:e.dropzoneUser:b})})},onSlotGroupPress:function(e){c(rn.forms.manifestGroup.reset()),c(rn.forms.manifestGroup.setFromSlots({load:n,slots:e})),c(rn.forms.manifestGroup.setField(["load",n]))},onManifest:function(){P.manifestUser.open({load:n,slot:{dropzoneUser:b}})},onManifestGroup:function(){c(rn.forms.manifestGroup.reset()),c(rn.forms.manifestGroup.setOpen(!0)),c(rn.forms.manifestGroup.setField(["load",n]))}},"load-"+(null==n?void 0:n.id)):(0,Hn.jsx)(sk,{id:null==n?void 0:n.id,onPress:function(){return A.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"LoadScreen",params:{loadId:null==n?void 0:n.id}}}})}},"load-"+(null==n?void 0:n.id))}),[u.display,null==D?void 0:D.length,O.aircraft.open,O.ticketType.open,null==T?void 0:T.length,P.manifestUser,b,c,A]);return(0,Hn.jsxs)(kp,{style:{flex:1},children:[(0,Hn.jsx)(d.default,{visible:x||S.loading,indeterminate:!0,color:s.theme.colors.primary}),(0,Hn.jsxs)(kp,{style:Nk.container,children:[(0,Hn.jsxs)(kp,{style:{width:"100%",flex:1,height:nj.default.get("window").height,backgroundColor:V.colors.background},children:[(null==y?void 0:y.banner)&&(0,Hn.jsx)(Dp.default,{source:{uri:y.banner},style:{position:"absolute",top:-8,left:0,width:"100%",height:340},resizeMode:"cover"}),(0,Hn.jsx)(rk,{children:(0,Hn.jsx)(o.FlatList,{ListHeaderComponent:function(){return(0,Hn.jsx)(Ok,{})},ListEmptyComponent:function(){return(0,Hn.jsx)(Pp,{style:{marginTop:156},title:"No loads so far today",subtitle:"How's the weather?"})},style:{paddingTop:35,flex:1,height:nj.default.get("window").height},testID:"loads",keyExtractor:function(e,n){return"load-small-"+((null==e?void 0:e.id)||n)+"-"+n},contentContainerStyle:{width:M,alignSelf:"center",paddingBottom:100},numColumns:L,data:q,renderItem:G,refreshControl:(0,Hn.jsx)(uy.default,{refreshing:x,onRefresh:function(){return k()}})},"loads-columns-"+L)})]}),S.permissions.canCreateLoad&&(0,Hn.jsx)(gp.default,{style:[Nk.fab,{backgroundColor:V.colors.primary}],small:!0,icon:"plus",onPress:function(){return P.load.open({})},label:"New load"})]}),(0,Hn.jsx)(kp,{style:Nk.header,children:(0,Hn.jsxs)(hd,{open:m,setOpen:g,anchor:(0,Hn.jsx)(Vs.default,{icon:"cog-outline",onPress:function(){return g(!0)}}),children:[(0,Hn.jsx)(gd,{title:"Show expanded cards",bold:"cards"!==u.display,onPress:function(){c(rn.screens.manifest.setDisplayStyle("list")),g(!1)}}),(0,Hn.jsx)(gd,{title:"Show compact cards",bold:"cards"===u.display,onPress:function(){c(rn.screens.manifest.setDisplayStyle("cards")),g(!1)}})]})})]})}var Nk=Vn.default.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fab:{position:"absolute",margin:16,right:0,bottom:0},header:{alignItems:"flex-start",justifyContent:"flex-end",flexDirection:"row",padding:0,width:"100%",position:"absolute",top:0,backgroundColor:"transparent"}}),$k=t(57986);function Vk(){var e,n,t=(0,ap.useNavigation)(),r=Mn(),o=Ut().dropzone.dropzone,i=(0,$s.useTheme)(),a=ds(R.UpdateDropzone),s=ds(R.UpdateFormTemplate),u=ss().updateVisibility,d=l.useCallback(function(){var e=(0,S.default)((function*(e){if(null!=o&&o.id){var n=yield u(o.id,e);"error"in n&&n.error&&r.error(n.error)}}));return function(n){return e.apply(this,arguments)}}(),[null==o?void 0:o.id,r,u]);return(0,Hn.jsxs)(Ib,{contentContainerStyle:{backgroundColor:i.colors.surface},children:[(0,Hn.jsxs)($k.default,{title:"Dropzone",style:{width:"100%"},children:[a?(0,Hn.jsx)(dc.default,{title:"Configuration",right:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"chevron-right"})},onPress:function(){return o?t.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"Configuration",params:{screen:"DropzoneSettingsScreen"}}}}):null},left:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"information-outline"})},description:"Set up name, branding and other settings"}):null,(0,Hn.jsx)(du.default,{}),(0,Hn.jsx)(dc.default,{title:"Permissions",description:"Grant or revoke access to define who can do what at this dropzone",right:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"chevron-right"})},left:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"lock"})},onPress:function(){return t.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"Configuration",params:{screen:"PermissionScreen"}}}})}}),(0,Hn.jsx)(du.default,{}),(0,Hn.jsx)(dc.default,{title:"Aircrafts",right:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"chevron-right"})},onPress:function(){return t.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"Configuration",params:{screen:"AircraftsScreen"}}}})},left:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"airplane"})}}),(0,Hn.jsx)(dc.default,{title:"Rigs",left:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"parachute"})},right:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"chevron-right"})},description:"Dropzone rigs, e.g tandems and student rigs",onPress:function(){return t.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"Configuration",params:{screen:"DropzoneRigsScreen"}}}})}}),(0,Hn.jsx)(du.default,{}),(0,Hn.jsx)(dc.default,{disabled:!s,title:"Rig Inspection Template",right:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"chevron-right"})},left:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"check"})},onPress:function(){return t.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"Configuration",params:{screen:"RigInspectionTemplateScreen"}}}})}}),a?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(du.default,{}),(0,Hn.jsx)(dc.default,{title:"Master Log",left:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"parachute"})},right:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"chevron-right"})},description:"View historic data for daily operations. Temporarily disabled",onPress:function(){return t.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"Configuration",params:{screen:"MasterLogScreen"}}}})}})]}):null,(0,Hn.jsx)(du.default,{}),a?(0,Hn.jsx)(dc.default,{title:(e={},(0,N.default)(e,P.Archived,"Re-open dropzone"),(0,N.default)(e,P.Public,"Go offline"),(0,N.default)(e,P.Private,"Go live"),(0,N.default)(e,P.InReview,"Awaiting review"),e)[(null==o?void 0:o.status)||P.Private],left:function(){var e;return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:(e={},(0,N.default)(e,P.Archived,"archive"),(0,N.default)(e,P.Public,"check"),(0,N.default)(e,P.Private,"upload"),(0,N.default)(e,P.InReview,"progress-upload"),e)[(null==o?void 0:o.status)||P.Private]})},right:function(){return(0,Hn.jsx)(tf.default,{value:[P.Public,P.InReview].includes((null==o?void 0:o.status)||P.Private),disabled:(null==o?void 0:o.status)===P.InReview,onValueChange:function(e){d(e?C.RequestPublication:C.Unpublish)}})},onPress:function(){switch(null==o?void 0:o.status){case P.Archived:return d(C.Publish);case P.Private:return d(C.RequestPublication);case P.Public:case P.InReview:return d(C.Unpublish);default:return null}},description:(n={},(0,N.default)(n,P.Archived,"Your dropzone has been archived and is not visible to users"),(0,N.default)(n,P.Public,"Your dropzone is available to the public"),(0,N.default)(n,P.Private,"Request a review to make your dropzone available to all users"),(0,N.default)(n,P.InReview,"You may be contacted to verify the legitimacy of your dropzone."),n)[(null==o?void 0:o.status)||P.Private],descriptionNumberOfLines:4}):null]}),(0,Hn.jsxs)($k.default,{title:"Tickets",style:{width:"100%"},children:[(0,Hn.jsx)(dc.default,{right:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"chevron-right"})},title:"Ticket types",onPress:function(){return t.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"Configuration",params:{screen:"TicketTypesScreen"}}}})},left:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"ticket"})},description:"Manage ticket prices and accessibility"}),(0,Hn.jsx)(du.default,{}),(0,Hn.jsx)(dc.default,{title:"Ticket add-ons",right:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"chevron-right"})},onPress:function(){return t.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"Configuration",params:{screen:"ExtrasScreen"}}}})},left:function(){return(0,Hn.jsx)(cc.default,{color:i.colors.text,icon:"plus"})},description:"Supplementary tickets like coach, camera, night jumpi"})]})]})}function qk(){var e=dn((function(e){return e.global})),n=Mn(),t=Ut(),r=t.dropzone.dropzone,o=t.dialogs,i=Bs({dropzone:null==r?void 0:r.id}),a=i.ticketTypes,s=i.loading,u=i.refetch,c=i.archiveTicketType,p=i.updateTicketType,m=ds(R.CreateTicketType),g=l.useCallback((function(e){return function(){var t=(0,S.default)((function*(){var t=yield c(e);"error"in t&&t.error?n.error(t.error):n.success("Archived "+e.name)}));return function(){return t.apply(this,arguments)}}()}),[c,n]),h=l.useCallback((function(e){return function(){var t=(0,S.default)((function*(){var t=yield p(Number(e.id),{allowManifestingSelf:!e.allowManifestingSelf});"error"in t&&t.error?n.error(t.error):n.success(e.name+" can "+(e.allowManifestingSelf?"no longer":"now"))}));return function(){return t.apply(this,arguments)}}()}),[n,p]);return(0,Hn.jsxs)(Ib,{style:Gk.container,contentContainerStyle:[Gk.content,{backgroundColor:"white"}],refreshControl:(0,Hn.jsx)(uy.default,{refreshing:s,onRefresh:u}),children:[(0,Hn.jsx)(d.default,{visible:s,color:e.theme.colors.primary}),(0,Hn.jsxs)(qd.default,{children:[(0,Hn.jsxs)(qd.default.Header,{children:[(0,Hn.jsx)(qd.default.Title,{children:"Name"}),(0,Hn.jsx)(qd.default.Title,{numeric:!0,children:"Cost"}),(0,Hn.jsx)(qd.default.Title,{numeric:!0,children:"Altitude"}),(0,Hn.jsx)(qd.default.Title,{numeric:!0,children:"Public"})]}),null==a?void 0:a.map((function(e){return(0,Hn.jsx)(f.default,{style:{height:46},children:(0,Hn.jsx)(hm,{rightAction:{label:"Delete",backgroundColor:"red",onPress:g(e)},children:(0,Hn.jsxs)(qd.default.Row,{onPress:function(){o.ticketType.open({original:e})},pointerEvents:"none",children:[(0,Hn.jsx)(qd.default.Cell,{children:e.name}),(0,Hn.jsxs)(qd.default.Cell,{numeric:!0,children:["$",e.cost]}),(0,Hn.jsx)(qd.default.Cell,{numeric:!0,children:e.altitude}),(0,Hn.jsx)(qd.default.Cell,{numeric:!0,children:(0,Hn.jsx)(f.default,{pointerEvents:"box-none",children:(0,Hn.jsx)(tf.default,{onValueChange:h(e),value:!!e.allowManifestingSelf})})})]})})})}))]}),(0,Hn.jsx)(gp.default,{small:!0,style:[Gk.fab,{backgroundColor:e.theme.colors.primary}],visible:m,icon:"plus",onPress:function(){return o.ticketType.open()},label:"New ticket type"})]})}var Gk=Vn.default.create({container:{flex:1,display:"flex"},content:{flexGrow:1},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}});function Wk(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Wk(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wk(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Hk=Vn.default.create({container:{paddingHorizontal:48,alignItems:"center",backgroundColor:"transparent"},title:{position:"absolute",fontSize:30,top:140,fontWeight:"bold",color:"white",left:0,paddingLeft:10,width:"100%",paddingBottom:40,textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2}},markerFixed:_k(_k({},Vn.default.absoluteFillObject),{},{justifyContent:"center",alignItems:"center",flexDirection:"column"}),content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:0,paddingVertical:16,marginVertical:16,width:"100%"},myLocation:{position:"absolute",bottom:30,right:30,backgroundColor:"white",borderRadius:50,padding:8}});const Yk=function(e){var n=e.markerSize,t=e.labelSize,r=e.value,o=void 0===r?{lat:-27.550908,lng:153.111635}:r,i=e.onChange,a=l.useState(),s=(0,W.default)(a,2),u=s[0],d=s[1],c=l.useCallback((0,S.default)((function*(){try{if("granted"!==(yield Xh.requestForegroundPermissionsAsync()).status)return;var e=yield Xh.getCurrentPositionAsync({});console.log("user location",e.coords),d({lat:e.coords.latitude,lng:e.coords.longitude})}catch(Bn){console.log(Bn)}})),[]);l.useEffect((function(){null!==(null==o?void 0:o.lng)&&null!=(null==o?void 0:o.lng)||c()}),[c,null==o?void 0:o.lng]);var p=l.useRef(new mm.default.Value(0)),m=o.lng&&o.lng?{lat:o.lat,lng:o.lng}:void 0,g=l.useState(!1),h=(0,W.default)(g,2),v=h[0],y=h[1],b=l.useRef(mm.default.timing(p.current,{duration:100,toValue:0,useNativeDriver:!0})),x=l.useRef(mm.default.timing(p.current,{duration:100,toValue:1,useNativeDriver:!0})),j=l.useCallback((function(e){y(!0),(e?x:b).current.start((function(){return y(!1)}))}),[]),k=l.useState(!1),O=(0,W.default)(k,2),w=O[0],P=O[1];return(0,Hn.jsxs)(ov,{position:{x:0,y:0},width:"100%",height:"100%",mapStyle:_k(_k({},Vn.default.absoluteFillObject),{},{marginTop:-50}),coords:m,center:u||m,onDragStart:function(){v||(j(!1),P(!0))},onDragEnd:function(e){var n,t;null==(n=b.current)||n.stop(),null==(t=x.current)||t.stop(),y(!1),j(!0),j(!0),P(!1),i({longitude:e.lng,latitude:e.lat})},interactive:!0,children:[m?(0,Hn.jsxs)(f.default,{style:Hk.markerFixed,pointerEvents:"none",children:[(0,Hn.jsx)(ju.default,{pointerEvents:"none",size:n||60,style:{color:"#ffffff",textShadowColor:"rgba(14,14,14,0.8)",textShadowOffset:{width:5,height:5},textShadowRadius:10,zIndex:10},name:w?"map-marker":"map-marker-check-outline"}),(0,Hn.jsxs)(mm.default.Text,{style:{fontSize:t||30,position:"absolute",bottom:"30%",width:"100%",opacity:p.current,textAlign:"center",color:"#ffffff",textShadowColor:"rgba(14,14,14,0.8)",textShadowOffset:{width:3,height:3},textShadowRadius:10},children:[m.lat.toFixed(5),",",m.lng.toFixed(5)]})]}):null,(0,Hn.jsx)(cd.default,{style:Hk.myLocation,onPress:function(){c()},children:(0,Hn.jsx)(Kh.default,{name:"my-location",size:20})})]})};var Jk=t(33133);const Qk=JSON.parse('{"v":"5.5.1","fr":30,"ip":0,"op":30,"w":1500,"h":1500,"nm":"Photo","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Frame","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[750,750,0],"ix":2},"a":{"a":0,"k":[675.511,675.511,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.2,0.2,0.2],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":5,"s":[100,100,100]},{"i":{"x":[0.2,0.2,0.2],"y":[1,1,1]},"o":{"x":[0.177,0.177,0.177],"y":[0,0,0]},"t":10,"s":[92.6,92.6,100]},{"t":25.0000010182709,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[312.073,0],[0,0],[0,312.073],[0,0],[-312.073,0],[0,0],[0,-312.073],[0,0]],"o":[[0,0],[-312.073,0],[0,0],[0,-312.073],[0,0],[312.073,0],[0,0],[0,312.073]],"v":[[0,565.058],[0,565.058],[-565.058,0],[-565.058,-0.001],[0,-565.058],[0,-565.058],[565.058,-0.001],[565.058,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.9568627450980393,0.9568627450980393,0.9568627450980393,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.37],"y":[1]},"o":{"x":[0.243],"y":[0]},"t":5,"s":[44.181]},{"i":{"x":[0.069],"y":[1]},"o":{"x":[0.309],"y":[0]},"t":12,"s":[70]},{"t":25.0000010182709,"s":[44.181]}],"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[675.511,675.511],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":506.000020609802,"st":6.00000024438501,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Open Photo Outlines 5","parent":5,"td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[675.511,675.511,0],"ix":2},"a":{"a":0,"k":[675.511,675.511,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[40.642,7.652],[0,0],[-7.652,40.642],[0,0],[-40.642,-7.653],[0,0],[7.652,-40.642],[0,0]],"o":[[0,0],[-40.642,-7.652],[0,0],[7.652,-40.642],[0,0],[40.642,7.652],[0,0],[-7.652,40.642]],"v":[[183.298,256.277],[-263.948,172.068],[-323.682,84.623],[-270.743,-196.543],[-183.298,-256.276],[263.948,-172.067],[323.682,-84.622],[270.742,196.544]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.9568627450980393,0.9568627450980393,0.9568627450980393,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":60,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.10980392156862745,0.10980392156862745,0.10980392156862745,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[744.407,682.378],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":13.0000005295009,"op":500.000020365417,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Open Photo Outlines 2","tt":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":5,"s":[0]},{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":12,"s":[-47.2]},{"t":25.0000010182709,"s":[-21.7]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":5,"s":[750,750,0],"to":[-42,-92,0],"ti":[50,-24,0]},{"i":{"x":0.2,"y":1},"o":{"x":0.333,"y":0},"t":12,"s":[624,618,0],"to":[-50,24,0],"ti":[0,0,0]},{"t":23.0000009368092,"s":[628,792,0]}],"ix":2},"a":{"a":0,"k":[675.511,675.511,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":5,"s":[100,100,100]},{"i":{"x":[0.2,0.2,0.2],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":12,"s":[73.6,73.6,100]},{"t":24.00000097754,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":12,"s":[{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-298.974,11.473],[-108.65,-80.904],[-22.871,11.415],[189.467,-145.849],[306.798,16.764],[267.775,145.848],[-306.798,48.951]],"c":true}]},{"i":{"x":0.2,"y":1},"o":{"x":0.167,"y":0.167},"t":15,"s":[{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-231.825,65.287],[-60.329,-72.044],[27.931,22.06],[194.597,-124.664],[306.798,16.764],[267.775,145.848],[-175.051,72.665]],"c":true}]},{"t":23.0000009368092,"s":[{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-41.813,100.895],[21.751,-56.994],[114.223,40.141],[203.31,-88.679],[306.798,16.764],[267.775,145.848],[48.737,112.944]],"c":true}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9568627450980393,0.9568627450980393,0.9568627450980393,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[723.252,783.023],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.199,-31.616],[31.616,-1.199],[1.2,31.615],[-31.616,1.199]],"o":[[1.199,31.616],[-31.616,1.2],[-1.199,-31.616],[31.616,-1.199]],"v":[[57.246,-2.172],[2.172,57.245],[-57.246,2.172],[-2.172,-57.246]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9568627450980393,0.9568627450980393,0.9568627450980393,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[675.511,595.959],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[40.642,7.652],[0,0],[-7.652,40.642],[0,0],[-40.642,-7.653],[0,0],[7.652,-40.642],[0,0]],"o":[[0,0],[-40.642,-7.652],[0,0],[7.652,-40.642],[0,0],[40.642,7.652],[0,0],[-7.652,40.642]],"v":[[183.298,256.277],[-263.948,172.068],[-323.682,84.623],[-270.743,-196.543],[-183.298,-256.276],[263.948,-172.067],[323.682,-84.622],[270.742,196.544]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.9568627450980393,0.9568627450980393,0.9568627450980393,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":50,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[744.407,682.378],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":500.000020365417,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Open Photo Outlines 6","parent":3,"td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[675.511,675.511,0],"ix":2},"a":{"a":0,"k":[675.511,675.511,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[40.642,7.652],[0,0],[-7.652,40.642],[0,0],[-40.642,-7.653],[0,0],[7.652,-40.642],[0,0]],"o":[[0,0],[-40.642,-7.652],[0,0],[7.652,-40.642],[0,0],[40.642,7.652],[0,0],[-7.652,40.642]],"v":[[183.298,256.277],[-263.948,172.068],[-323.682,84.623],[-270.743,-196.543],[-183.298,-256.276],[263.948,-172.067],[323.682,-84.622],[270.742,196.544]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.9568627450980393,0.9568627450980393,0.9568627450980393,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":60,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.10980392156862745,0.10980392156862745,0.10980392156862745,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[744.407,682.378],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":13.0000005295009,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Open Photo Outlines 4","tt":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":5,"s":[-21.7]},{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":15,"s":[-20.9]},{"t":28.0000011404634,"s":[0]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":5,"s":[628,792,0],"to":[0,0,0],"ti":[-120,34,0]},{"i":{"x":0.2,"y":1},"o":{"x":0.333,"y":0},"t":15,"s":[872.0000000000001,1018,0],"to":[120,-34,0],"ti":[142,52,0]},{"t":26.0000010590017,"s":[750,750,0]}],"ix":2},"a":{"a":0,"k":[675.511,675.511,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":5,"s":[100,100,100]},{"i":{"x":[0.2,0.2,0.2],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":15,"s":[63,63,100]},{"t":27.0000010997325,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":5,"s":[{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-41.813,100.895],[21.751,-56.994],[114.223,40.141],[203.31,-88.679],[306.798,16.764],[267.775,145.848],[48.737,112.944]],"c":true}]},{"i":{"x":0.2,"y":1},"o":{"x":0.167,"y":0.167},"t":15,"s":[{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-241.182,67.291],[-105.183,-80.268],[-19.226,12.179],[189.835,-144.329],[306.798,16.764],[267.775,145.848],[-297.346,50.653]],"c":true}]},{"t":18.000000733155,"s":[{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-298.974,11.473],[-108.65,-80.904],[-22.871,11.415],[189.467,-145.849],[306.798,16.764],[267.775,145.848],[-306.798,48.951]],"c":true}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9568627450980393,0.9568627450980393,0.9568627450980393,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[723.252,783.023],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.199,-31.616],[31.616,-1.199],[1.2,31.615],[-31.616,1.199]],"o":[[1.199,31.616],[-31.616,1.2],[-1.199,-31.616],[31.616,-1.199]],"v":[[57.246,-2.172],[2.172,57.245],[-57.246,2.172],[-2.172,-57.246]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.9568627450980393,0.9568627450980393,0.9568627450980393,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.833,"y":1},"o":{"x":0.333,"y":0},"t":8,"s":[815.511,855.959],"to":[-20,-20],"ti":[23.333,43.333]},{"i":{"x":0.2,"y":1},"o":{"x":0.333,"y":0},"t":17,"s":[695.511,735.959],"to":[-23.333,-43.333],"ti":[3.333,23.333]},{"t":27.0000010997325,"s":[675.511,595.959]}],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[40.642,7.652],[0,0],[-7.652,40.642],[0,0],[-40.642,-7.653],[0,0],[7.652,-40.642],[0,0]],"o":[[0,0],[-40.642,-7.652],[0,0],[7.652,-40.642],[0,0],[40.642,7.652],[0,0],[-7.652,40.642]],"v":[[183.298,256.277],[-263.948,172.068],[-323.682,84.623],[-270.743,-196.543],[-183.298,-256.276],[263.948,-172.067],[323.682,-84.622],[270.742,196.544]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.9568627450980393,0.9568627450980393,0.9568627450980393,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":50,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[744.407,682.378],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":500.000020365417,"st":0,"bm":0}],"markers":[{"tm":5.00000020365417,"cm":"","dr":0},{"tm":25.0000010182709,"cm":"","dr":0}]}');function Kk(e){var n=e.loading,t=e.control,r=un(),o=(0,$s.useTheme)(),i=kg(),l=(0,Js.useWatch)({control:t}),a=(l.lat,l.lng,l.name),s=l.banner,u=l.primaryColor;return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(Uu,{isLoading:n,containerStyle:[Xk.skeletonCard,{marginTop:0,paddingHorizontal:0}],layout:[{key:"box",height:300,width:"100%"}],children:(0,Hn.jsx)(vt.default,{style:[Xk.card,{paddingLeft:0,paddingRight:0,paddingHorizontal:0,marginLeft:0,width:"100%",alignItems:"center",justifyContent:"center"}],children:(0,Hn.jsxs)(vt.default.Content,{style:{alignItems:"center",justifyContent:"center"},children:[(0,Hn.jsx)(Js.Controller,{control:t,name:"banner",render:function(e){var n=e.field.onChange;return(0,Hn.jsx)(bg.default,{onPress:(0,S.default)((function*(){try{var e=yield i();e&&n("data:image/jpeg;base64,"+e)}catch(t){console.log(t)}})),style:{width:185},children:s?(0,Hn.jsx)(rd.default,{size:175,source:{uri:s},style:{borderWidth:Vn.default.hairlineWidth,backgroundColor:o.colors.primary}}):(0,Hn.jsx)(Gn,{style:{height:175,width:175},autoPlay:!0,loop:!1,source:o.dark?Qk:Jk})})}}),(0,Hn.jsx)(Fc.default,{children:a}),(0,Hn.jsx)(yt.default,{type:"info",style:{marginTop:16},children:"Your banner is displayed on the weather board and on the dropzone selection screen"})]})})}),(0,Hn.jsx)(Uu,{isLoading:n,containerStyle:Xk.skeletonCard,layout:[{key:"box",height:300,width:"100%"}],children:(0,Hn.jsxs)(vt.default,{style:Xk.card,children:[(0,Hn.jsx)(uu.default,{children:"Name"}),(0,Hn.jsx)(ou,{control:t,name:"name",mode:"outlined"}),(0,Hn.jsx)(Lc,{control:t,name:"federation"})]})}),(0,Hn.jsx)(Uu,{isLoading:n,containerStyle:Xk.skeletonCard,layout:[{key:"box",height:300,width:"100%"}],children:(0,Hn.jsxs)(vt.default,{style:[Xk.card,{height:500,paddingHorizontal:0}],children:[(0,Hn.jsx)(uu.default,{children:"Location"}),(0,Hn.jsx)(vt.default.Content,{style:{marginTop:50,paddingBottom:50,paddingLeft:0,paddingRight:0,flexGrow:1},children:(0,Hn.jsx)(Js.Controller,{control:t,name:"lat",render:function(e){var n=e.field;return(0,Hn.jsx)(Js.Controller,{control:t,name:"lng",render:function(e){var t=e.field;return(0,Hn.jsx)(Yk,{value:n.value&&t.value?{lat:n.value,lng:t.value}:void 0,onChange:function(e){t.onChange(e.latitude),n.onChange(e.longitude)}})}})}})})]})}),(0,Hn.jsx)(Uu,{isLoading:n,containerStyle:Xk.skeletonCard,layout:[{key:"box",height:300,width:"100%"}],children:(0,Hn.jsxs)(vt.default,{style:Xk.card,children:[(0,Hn.jsx)(vt.default.Title,{title:"Branding"}),(0,Hn.jsxs)(vt.default.Content,{style:{flexDirection:"row",justifyContent:"space-evenly",alignItems:"flex-end",width:"100%"},children:[(0,Hn.jsx)(mv,{primaryColor:u||"#000000"}),(0,Hn.jsx)(hv,{primaryColor:u||"#000000"})]})]})}),(0,Hn.jsx)(Uu,{isLoading:n,containerStyle:Xk.skeletonCardColorPicker,layout:[{key:"box",height:200,width:"100%"}],children:(0,Hn.jsx)(Js.Controller,{control:t,name:"primaryColor",render:function(e){var n,t=e.field,o=t.onChange,i=t.value,l=e.fieldState;return(0,Hn.jsx)(Ov,{title:"Primary color",helperText:"Primary color is used for elements like the title bar and the tab bar",error:null==l||null==(n=l.error)?void 0:n.message,onChange:function(e){o(e),r(rn.global.setPrimaryColor(e))},value:i||"#000000"})}})}),(0,Hn.jsx)(Uu,{isLoading:n,containerStyle:Xk.skeletonCardCheckbox,layout:[{key:"box",height:150,width:"100%"}],children:(0,Hn.jsxs)(vt.default,{style:Xk.card,children:[(0,Hn.jsx)(sf,{control:t,label:"Require Credits",name:"requireCredits",helperText:"Users cannot manifest without credits on their account"}),(0,Hn.jsx)(sf,{control:t,label:"Manifest can ignore rules",name:"allowManifestBypass",helperText:"Manifest can bypass all rules"}),(0,Hn.jsx)(sf,{control:t,label:"Allow Negative Credits",name:"allowNegativeCredits",helperText:"Allow users to go into negative credits"}),(0,Hn.jsx)(sf,{control:t,label:"Require License",name:"requireLicense",helperText:"Require users to have a valid license to manifest"}),(0,Hn.jsx)(sf,{control:t,label:"Require in-date membership",name:"requireMembership",helperText:"Require membership to be in-date"}),(0,Hn.jsx)(sf,{control:t,label:"Require Equipment",name:"requireEquipment",helperText:"Users cannot manifest without selecting a rig"}),(0,Hn.jsx)(sf,{control:t,label:"Require Rig Inspection",name:"requireRigInspection",helperText:"Users cannot manifest before their rig is inspected"}),(0,Hn.jsx)(sf,{control:t,label:"Allow double manifesting",name:"allowDoubleManifesting",helperText:"Users are allowed to manifest on multiple loads"})]})})]})}var Xk=Vn.default.create({skeletonCard:{marginVertical:16,paddingHorizontal:24,width:"100%"},skeletonCardColorPicker:{marginVertical:16,minHeight:200,width:"100%",paddingHorizontal:24},skeletonCardCheckbox:{minHeight:116,marginVertical:16,paddingHorizontal:24,width:"100%"},card:{padding:16,width:"100%"},fields:{flexGrow:1,display:"flex",width:"100%"},field:{marginBottom:8,width:"100%"},subheader:{paddingLeft:0}}),Zk=["id","banner","isCreditSystemEnabled","federation","primaryColor","lat","lng","name","requestPublication","secondaryColor","isPublic"];function eO(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function nO(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?eO(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eO(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var tO=cs.object({name:cs.string().nullable().default(null),federation:cs.object().required("Your dropzone must be part of a federation"),lat:cs.number().nullable(),lng:cs.number().nullable(),primaryColor:cs.string(),requireRigInspection:cs.boolean(),requireLicense:cs.boolean(),requireCredits:cs.boolean(),requireMembership:cs.boolean(),allowNegativeCredits:cs.boolean(),allowManifestBypass:cs.boolean(),allowDoubleManifesting:cs.boolean()}),rO={id:void 0,federation:null,lat:null,lng:null,primaryColor:null,requireRigInspection:!0,requireMembership:!0,allowNegativeCredits:!1,allowManifestBypass:!1,requireCredits:!0,requireLicense:!0};function oO(){var e=dn((function(e){return e.global})),n=Mn(),t=function(e){var n,t,r,o,i,a,s,u,d=e.initial,c=e.onSuccess,f=Mn(),p=Ua().data,m=Ut().dropzone.dropzone,g=l.useMemo((function(){var e,n,t,r,o,i,l,a,s;return nO(nO({},rO),{},{id:null!=m&&m.id?Number(null==m?void 0:m.id):void 0,lat:(null==m?void 0:m.lat)||void 0,lng:(null==m?void 0:m.lng)||void 0,federation:(null==m?void 0:m.federation)||(null==p||null==(e=p.federations)?void 0:e[0])||void 0,name:(null==m?void 0:m.name)||void 0,primaryColor:(null==m?void 0:m.primaryColor)||void 0,secondaryColor:(null==m?void 0:m.secondaryColor)||void 0,allowManifestBypass:null==m||null==(n=m.settings)?void 0:n.allowManifestBypass,allowNegativeCredits:null==m||null==(t=m.settings)?void 0:t.allowNegativeCredits,allowDoubleManifesting:null==m||null==(r=m.settings)?void 0:r.allowDoubleManifesting,requireCredits:null==m||null==(o=m.settings)?void 0:o.requireCredits,requireLicense:null==m||null==(i=m.settings)?void 0:i.requireLicense,requireMembership:null==m||null==(l=m.settings)?void 0:l.requireMembership,requireRigInspection:null==m||null==(a=m.settings)?void 0:a.requireRigInspection,isCreditSystemEnabled:null==m?void 0:m.isCreditSystemEnabled,requireEquipment:null==m||null==(s=m.settings)?void 0:s.requireEquipment},d)}),[d,null==m?void 0:m.name,null==p?void 0:p.federations,null==m?void 0:m.primaryColor,null==m?void 0:m.secondaryColor,null==m||null==(n=m.settings)?void 0:n.allowManifestBypass,null==m||null==(t=m.settings)?void 0:t.allowNegativeCredits,null==m||null==(r=m.settings)?void 0:r.allowDoubleManifesting,null==m||null==(o=m.settings)?void 0:o.requireCredits,null==m||null==(i=m.settings)?void 0:i.requireLicense,null==m||null==(a=m.settings)?void 0:a.requireMembership,null==m||null==(s=m.settings)?void 0:s.requireRigInspection,null==m?void 0:m.isCreditSystemEnabled,null==m?void 0:m.id,null==m?void 0:m.lat,null==m?void 0:m.lng,null==m?void 0:m.federation,null==m||null==(u=m.settings)?void 0:u.requireEquipment]),h=l.useState(g),v=(0,W.default)(h,2),y=v[0],b=v[1],x=(0,Js.useForm)({defaultValues:y,mode:"all",resolver:(0,kd.yupResolver)(tO)});l.useEffect((function(){(0,oe.isEqual)(y,g)||b(g)}),[y,g]);var j=x.reset;l.useEffect((function(){j(y)}),[y,j]);var k=x.handleSubmit,O=x.setError,w=Ut().dropzone.update,P=ds(R.UpdateDropzone),C=(0,Pd.default)(function(){var e=(0,S.default)((function*(e){try{if(!P)return{error:"You don't have permission to update this dropzone"};var n=tO.validateSync(e);console.debug({validatedFields:n}),e.id;var t,r=e.banner,o=e.isCreditSystemEnabled,i=e.federation,l=e.primaryColor,a=e.lat,s=e.lng,u=e.name,d=e.requestPublication,p=(e.secondaryColor,e.isPublic),m=(0,zt.default)(e,Zk),g=yield w({banner:r,federation:null!=i&&i.id?Number(null==i?void 0:i.id):void 0,primaryColor:l,lat:a,lng:s,name:u,requestPublication:d,isCreditSystemEnabled:o,isPublic:p,settings:m});"fieldErrors"in g&&(null==(t=g.fieldErrors)||t.forEach((function(e){var n=e.field,t=e.message;O(zd()(n),{type:"custom",message:t})}))),"dropzone"in g&&(f.success("Your changes have been saved"),null==c||c(g.dropzone))}catch(Bn){console.error(Bn),Bn instanceof Error&&f.error(Bn.message)}}));return function(n){return e.apply(this,arguments)}}(),[w,O,P,f,c]),D=(0,W.default)(C,2),E=D[0].loading,z=D[1],T=l.useMemo((function(){return k(z,console.error)}),[k,z]);return l.useMemo((function(){return nO(nO({},x),{},{onSubmit:T,loading:E})}),[x,T,E])}({onSuccess:function(){n.success("Your changes have been saved")}}),r=t.control,o=t.formState,i=t.onSubmit,a=t.loading,s=ds(R.UpdateDropzone);return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(d.default,{indeterminate:!0,color:e.theme.colors.primary,visible:a}),(0,Hn.jsx)(fm,{fullWidth:!1,children:(0,Hn.jsx)(Kk,{loading:a,control:r})}),(0,Hn.jsx)(gp.default,{style:[iO.fab,{backgroundColor:e.theme.colors.primary}],visible:Boolean(s&&o.isDirty),disabled:!o.isDirty||a,small:!0,icon:"check",onPress:i,label:"Save"})]})}var iO=Vn.default.create({container:{flex:1,backgroundColor:"white",display:"flex"},fab:{position:"absolute",margin:16,right:0,bottom:0},content:{display:"flex",flexGrow:1,paddingLeft:0,paddingRight:0,paddingTop:0,marginTop:0,width:"100%"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fields:{width:"100%",marginBottom:16},field:{marginBottom:8}});function lO(){var e,n=dn((function(e){return e.global})),t=Ut().dialogs,r=Ns({dropzoneId:null==(e=n.currentDropzoneId)?void 0:e.toString()}),o=r.aircrafts,i=r.archive,a=r.loading,s=r.refetch,u=Mn(),c=(0,ap.useIsFocused)();l.useEffect((function(){c&&s()}),[c,s]);var p=ds(R.DeletePlane),m=ds(R.CreatePlane),g=(0,$s.useTheme)(),h=l.useCallback((function(e){return function(){var n=(0,S.default)((function*(){var n=yield i(e);"error"in n&&n.error?u.error(n.error):u.success("Archived aircraft "+e.name)}));return function(){return n.apply(this,arguments)}}()}),[i,u]),v=l.useCallback((function(e){return function(){t.aircraft.open({original:e})}}),[t.aircraft]);return(0,Hn.jsxs)(Ib,{contentContainerStyle:{backgroundColor:g.colors.surface},refreshControl:(0,Hn.jsx)(uy.default,{refreshing:a,onRefresh:s}),children:[(0,Hn.jsx)(d.default,{visible:a,color:n.theme.colors.primary}),null!=o&&o.length?null:(0,Hn.jsx)(Pp,{title:"No planes?",subtitle:"You need to have at least one plane to manifest loads"}),null!=o&&o.length?(0,Hn.jsxs)(qd.default,{children:[(0,Hn.jsxs)(qd.default.Header,{children:[(0,Hn.jsx)(qd.default.Title,{children:"Name"}),(0,Hn.jsx)(qd.default.Title,{numeric:!0,children:"Registration"}),(0,Hn.jsx)(qd.default.Title,{numeric:!0,children:"Slots"})]}),null==o?void 0:o.map((function(e){return(0,Hn.jsx)(f.default,{style:{height:46},children:(0,Hn.jsx)(hm,{disabled:!p,rightAction:{label:"Delete",backgroundColor:"red",onPress:h(e)},children:(0,Hn.jsxs)(qd.default.Row,{pointerEvents:"none",onPress:v(e),children:[(0,Hn.jsx)(qd.default.Cell,{children:e.name}),(0,Hn.jsx)(qd.default.Cell,{numeric:!0,children:e.registration}),(0,Hn.jsx)(qd.default.Cell,{numeric:!0,children:e.maxSlots})]})},"plane-"+e.id)})}))]}):null,(0,Hn.jsx)(gp.default,{style:[aO.fab,{backgroundColor:n.theme.colors.primary}],visible:m,small:!0,icon:"plus",onPress:t.aircraft.open,label:"New plane"})]})}var aO=Vn.default.create({content:{flexGrow:1},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}});function sO(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function uO(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?sO(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):sO(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function dO(){var e,n=dn((function(e){return e.forms.rigInspectionTemplate})),t=l.useState(null),r=(0,W.default)(t,2),o=r[0],i=r[1],a=l.useState(!1),s=(0,W.default)(a,2),u=s[0],d=s[1],c=un(),p=(0,$s.useTheme)();return(0,Hn.jsxs)(Hn.Fragment,{children:[null==(e=n.fields)?void 0:e.map((function(e,t){return(0,Hn.jsxs)(l.Fragment,{children:[(0,Hn.jsxs)(f.default,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},children:[(0,Hn.jsx)(f.default,{style:{flexGrow:1},onTouchEnd:function(){return i(uO(uO({},e),{},{index:t}))},children:(0,Hn.jsx)(Py,{config:e,value:(null==e?void 0:e.value)||"",onChange:function(){return null}})}),(0,Hn.jsx)(Vs.default,{icon:"minus-circle",onPress:function(){return c(rn.forms.rigInspectionTemplate.setFields(n.fields.filter((function(e,n){return n!==t}))))}})]}),(0,Hn.jsx)(du.default,{})]},""+e.valueType+t)})),(0,Hn.jsxs)(vv.default,{children:[(0,Hn.jsxs)(qs.default,{visible:!!o,children:[(0,Hn.jsx)(qs.default.Title,{children:"New field"}),(0,Hn.jsxs)(qs.default.Content,{children:[(0,Hn.jsx)(Ys.default,{label:"Name",mode:"outlined",value:null==o?void 0:o.label,onChangeText:function(e){return i(uO(uO({},o),{},{label:e}))}}),(0,Hn.jsx)(Ys.default,{label:"Description",placeholder:"optional",mode:"outlined",value:null==o?void 0:o.description,onChangeText:function(e){return i(uO(uO({},o),{},{description:e}))}}),(0,Hn.jsx)(Oy.default.Item,{label:"This is a required field",mode:"android",onPress:function(){return i(uO(uO({},o),{},{isRequired:!(null!=o&&o.isRequired)}))},status:null!=o&&o.isRequired?"checked":"unchecked"})]}),(0,Hn.jsxs)(qs.default.Actions,{children:[(0,Hn.jsx)(bt.default,{onPress:function(){return i(null)},children:"Cancel"}),(0,Hn.jsx)(bt.default,{onPress:function(){void 0!==(null==o?void 0:o.index)?c(rn.forms.rigInspectionTemplate.setFields(n.fields.map((function(e,n){return n===o.index?o:e})))):c(rn.forms.rigInspectionTemplate.setFields([].concat((0,$n.default)(n.fields),[o]))),i(null)},children:"Save"})]})]}),(0,Hn.jsx)(gp.default.Group,{open:u,visible:!0,icon:u?"close":"plus",fabStyle:{marginLeft:16,marginBottom:48,backgroundColor:p.colors.primary},actions:[{icon:"pencil",label:"Text",onPress:function(){return i({valueType:"string"})}},{icon:"calendar",label:"Date",onPress:function(){return i({valueType:"date"})}},{icon:"counter",label:"Number",onPress:function(){return i({valueType:"integer"})}},{icon:"checkbox-marked-circle-outline",label:"Checkbox",onPress:function(){return i({valueType:"boolean"})}}],onStateChange:function(e){var n=e.open;return d(n)}})]})]})}function cO(){var e,n,t,r,o,i,a=dn((function(e){return e.forms.rigInspectionTemplate})),s=Ut().dropzone,u=un(),d=Mn(),c=Qa({variables:{dropzoneId:null==s||null==(e=s.dropzone)||null==(n=e.id)?void 0:n.toString()}}).data,p=ds(R.UpdateFormTemplate),m=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(pa,n)}(),g=(0,W.default)(m,2),h=g[0],v=g[1];l.useEffect((function(){var e;null!=c&&null!=(e=c.dropzone)&&e.rigInspectionTemplate&&u(rn.forms.rigInspectionTemplate.setOpen(c.dropzone.rigInspectionTemplate))}),[null==c||null==(t=c.dropzone)?void 0:t.rigInspectionTemplate,u]);var y=l.useCallback((0,S.default)((function*(){try{var e,n,t;yield h({variables:{formId:Number(null==c||null==(e=c.dropzone)||null==(n=e.rigInspectionTemplate)?void 0:n.id),dropzoneId:Number(null==c||null==(t=c.dropzone)?void 0:t.id),definition:JSON.stringify(a.fields)}}),d.success("Template saved")}catch(Bn){Bn instanceof Error&&d.error(Bn.message)}})),[h,null==c||null==(r=c.dropzone)||null==(o=r.rigInspectionTemplate)?void 0:o.id,null==c||null==(i=c.dropzone)?void 0:i.id,a.fields,d]),b=(0,jt.default)().width;return(0,Hn.jsx)(f.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,Hn.jsxs)(Ib,{style:{marginTop:16,width:b>550?550:"100%"},children:[(0,Hn.jsxs)(vt.default,{style:{width:"100%"},children:[(0,Hn.jsx)(vt.default.Title,{title:"Rig Inspection Form Template"}),(0,Hn.jsx)(vt.default.Content,{children:(0,Hn.jsx)(dO,{})})]}),(0,Hn.jsx)(bt.default,{disabled:!p,mode:"contained",loading:v.loading,onPress:function(){return y()},style:{width:"100%",marginTop:16,borderRadius:20},children:"Save template"})]})})}function fO(){var e,n,t,r=dn((function(e){return e.global})),i=dn((function(e){return e.forms.rig})),a=Mn(),s=function(e){var n=Ai(Ai({},Fi),e);return Ei.useQuery(Sa,n)}({variables:{dropzoneId:null==(e=r.currentDropzoneId)?void 0:e.toString()}}),u=s.data,c=s.loading,f=s.refetch,p=un(),m=(0,ap.useIsFocused)(),g=fa(),h=(0,W.default)(g,2),v=h[0],y=h[1],b=ds(R.CreateDropzoneRig),x=(0,$s.useTheme)();return l.useEffect((function(){m&&f()}),[m,f]),(0,Hn.jsxs)(Ib,{style:pO.container,contentContainerStyle:[pO.content,{backgroundColor:"white"}],refreshControl:(0,Hn.jsx)(uy.default,{refreshing:c,onRefresh:function(){return f()}}),children:[(0,Hn.jsx)(d.default,{visible:c||y.loading,color:r.theme.colors.primary}),(0,Hn.jsxs)(qd.default,{children:[(0,Hn.jsxs)(qd.default.Header,{children:[(0,Hn.jsx)(qd.default.Title,{children:"Container"}),(0,Hn.jsx)(qd.default.Title,{numeric:!0,children:"Repack due"}),(0,Hn.jsx)(qd.default.Title,{numeric:!0,children:"Canopy size"}),(0,Hn.jsx)(qd.default.Title,{numeric:!0,children:"Type"}),(0,Hn.jsx)(qd.default.Title,{numeric:!0,children:"Public"})]}),null==u||null==(n=u.dropzone)||null==(t=n.rigs)?void 0:t.map((function(e){return(0,Hn.jsxs)(qd.default.Row,{children:[(0,Hn.jsx)(qd.default.Cell,{onPress:function(){p(rn.forms.rig.setOpen(e))},children:[null==e?void 0:e.make,null==e?void 0:e.model,"#"+(null==e?void 0:e.serial)].join(" ")}),(0,Hn.jsx)(qd.default.Cell,{numeric:!0,children:null!=e&&e.repackExpiresAt?(0,uc.default)(1e3*e.repackExpiresAt,"yyyy/MM/dd"):"-"}),(0,Hn.jsx)(qd.default.Cell,{numeric:!0,children:""+(null==e?void 0:e.canopySize)}),(0,Hn.jsx)(qd.default.Cell,{numeric:!0,children:e.rigType}),(0,Hn.jsx)(qd.default.Cell,{numeric:!0,children:(0,Hn.jsx)(o.Switch,{onValueChange:(0,S.default)((function*(){var n,t,r=(yield v({variables:{id:Number(e.id),isPublic:!e.isPublic},refetchQueries:[Ka,za]})).data;null!=r&&null!=(n=r.updateRig)&&null!=(t=n.errors)&&t.length&&a.error(null==r?void 0:r.updateRig.errors[0])})),value:!!e.isPublic})})]},"rig-"+e.id)}))]}),(0,Hn.jsx)(Wy,{onClose:function(){return p(rn.forms.rig.setOpen(!1))},onSuccess:function(){p(rn.forms.rig.setOpen(!1)),f()},dropzoneId:Number(r.currentDropzoneId),open:i.open}),(0,Hn.jsx)(gp.default,{visible:b,style:[pO.fab,{backgroundColor:x.colors.primary}],small:!0,icon:"plus",onPress:function(){return p(rn.forms.rig.setOpen(!0))},label:"New rig"})]})}var pO=Vn.default.create({container:{flex:1,display:"flex"},content:{flexGrow:1},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}}),mO=t(6131);function gO(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function hO(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?gO(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gO(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function vO(){var e,n,t,r,o,i=(0,$s.useTheme)(),a=dn((function(e){return e.global})),s=Za({variables:{dropzoneId:null==(e=a.currentDropzoneId)?void 0:e.toString()}}),u=s.data,d=s.loading,c=s.refetch,p=(0,ap.useIsFocused)(),m=(0,ap.useNavigation)();return l.useEffect((function(){p&&(m.setOptions({title:"Permissions"}),c())}),[p,m,c]),d||null==u||null==(n=u.dropzone)||null==(t=n.roles)||!t.length?(0,Hn.jsx)(f.default,{style:{height:"100%",width:"100%",justifyContent:"center",alignItems:"center"},children:(0,Hn.jsx)(f.default,{style:{maxWidth:550},children:(0,Hn.jsx)(Uu,{isLoading:!0,containerStyle:{width:"100%",flex:1,flexGrow:1,paddingHorizontal:16},layout:[{key:"first",height:175,marginTop:70,marginBottom:35,width:"100%"},{key:"second",height:175,marginBottom:35,width:"100%"},{key:"third",height:175,marginBottom:35,width:"100%"},{key:"fourth",height:175,marginBottom:35,width:"100%"},{key:"fifth",height:175,marginBottom:35,width:"100%"}]})})}):(0,Hn.jsx)($d.Tabs,{defaultIndex:0,mode:"scrollable",theme:hO(hO({},a.theme),{},{colors:hO(hO({},a.theme.colors),{},{primary:a.palette.primary.light})}),children:null==u||null==(r=u.dropzone)||null==(o=r.roles)?void 0:o.map((function(e){var n;return(0,Hn.jsx)($d.TabScreen,{label:(0,oe.capitalize)(null==(n=e.name)?void 0:n.replace("_"," ")),children:(0,Hn.jsxs)(Ib,{contentContainerStyle:{maxWidth:500,width:"100%",alignSelf:"center",backgroundColor:"transparent"},children:[(0,Hn.jsxs)(vt.default,{style:yO.card,children:[(0,Hn.jsx)(uu.default,{children:"User Management"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"readUser",description:"View other users' profiles",title:"View Users"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"updateUser",description:"Update other users",title:"Update Users"})]}),(0,Hn.jsx)(vt.default,{style:yO.card,children:(0,Hn.jsxs)($k.default,{title:"Manifest",style:{width:"100%"},children:[(0,Hn.jsxs)(mO.default,{title:"Loads",style:{backgroundColor:i.colors.surface},children:[(0,Hn.jsx)(Iv,{role:e,permissionName:"readLoad",description:"See available loads on the manifest screen",title:"View Load"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"createLoad",title:"Create Loads"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"updateLoad",description:"Dispatch loads, update load master, change pilot / plane, etc",title:"Update Loads"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"deleteLoad",description:"Permanently delete existing loads",title:"Delete Load"})]}),(0,Hn.jsxs)(mO.default,{title:"Manifesting",style:{backgroundColor:i.colors.surface},children:[(0,Hn.jsx)(Iv,{role:e,permissionName:"createSlot",description:"Create a slot for himself/herself only",title:"Manifest self"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"createDoubleSlot",description:"Manifest on more than one load at a time",title:"Double Manifest"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"updateSlot",description:"Update own slot after manifesting themselves",title:"Update own slot"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"deleteSlot",description:"Take themselves off the load",title:"Remove own slot"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"createUserSlot",description:"Manifest other users, e.g yourself + others",title:"Manifest other people"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"createUserSlotWithSelf",description:"Allow manifesting others only if the user is part of the group",title:"Manifest own groups"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"updateUserSlot",description:"Update other people's slots on a load",title:"Update other users slot"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"deleteUserSlot",description:"Delete other users' slots off a load",title:"Take others off the load"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"createStudentSlot",description:"Manifest a student on a load",title:"Manifest students"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"updateStudentSlot",description:"Make changes to an already manifested student",title:"Update student slots"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"deleteStudentSlot",description:"Take a student off the load",title:"Remove student slots"})]})]})}),(0,Hn.jsx)(vt.default,{style:yO.card,children:(0,Hn.jsxs)($k.default,{title:"Administration",style:{width:"100%"},children:[(0,Hn.jsxs)(mO.default,{title:"Dropzone",style:{backgroundColor:i.colors.surface},children:[(0,Hn.jsx)(Iv,{role:e,permissionName:"updateDropzone",description:"Change dropzone name, visibility, and branding",title:"Update Dropzone"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"deleteDropzone",description:"Permanently delete dropzone",title:"Delete Dropzone"})]}),(0,Hn.jsxs)(mO.default,{title:"Ticket types",style:{backgroundColor:i.colors.surface},children:[(0,Hn.jsx)(Iv,{role:e,permissionName:"createTicketType",description:"Create new jump tickets",title:"Create Ticket"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"updateTicketType",description:"Make changes to existing ticket types, including prices",title:"Update Tickets"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"deleteTicketType",description:"Delete existing ticket types",title:"Remove Tickets"})]}),(0,Hn.jsxs)(mO.default,{title:"Ticket addons",style:{backgroundColor:i.colors.surface},children:[(0,Hn.jsx)(Iv,{role:e,permissionName:"createExtra",description:"Set up new ticket addons",title:"Create Ticket addon"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"updateExtra",description:"Make changes to existing ticket addons, including prices",title:"Update Ticket addons"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"deleteExtra",description:"Delete existing ticket addons",title:"Remove Ticket addons"})]}),(0,Hn.jsxs)(mO.default,{title:"Planes",style:{backgroundColor:i.colors.surface},children:[(0,Hn.jsx)(Iv,{role:e,permissionName:"createPlane",description:"Add new aircrafts",title:"Create Aircraft"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"updatePlane",description:"Make changes to existing aircrafts",title:"Update Aircraft"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"deletePlane",description:"Remove existing aircrafts",title:"Remove Aircraft"})]}),(0,Hn.jsxs)(mO.default,{title:"Rigs",style:{backgroundColor:i.colors.surface},children:[(0,Hn.jsx)(Iv,{role:e,permissionName:"createDropzoneRig",description:"Create dropzone managed rigs, e.g tandem and student rigs",title:"Create Rig"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"updateDropzoneRig",description:"Make changes to existing student and tandem rigs",title:"Update Rigs"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"deleteDropzoneRig",description:"Delete existing student and tandem rigs",title:"Remove Rigs"}),(0,Hn.jsx)(Iv,{role:e,permissionName:"updateFormTemplate",description:"Make changes to the rig inspection template",title:"Modify Rig Inspection Form"})]})]})})]})},"permission-tab-role-"+e.id)}))})}var yO=Vn.default.create({container:{flex:1,display:"flex"},card:{width:"100%",marginVertical:16},content:{flexGrow:1},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}});const bO=function(){return Ve.light};function xO(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function jO(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xO(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xO(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var kO=cs.object({date:cs.string(),notes:cs.string().nullable().default(null),dzso:cs.object().required("You must select a DZSO")}),OO={dzso:null,date:null,notes:""};function wO(e){var n=e.initial,t=e.onSuccess,r=l.useMemo((function(){return jO(jO(jO({},OO),n),{},{notes:(null==n?void 0:n.notes)||""})}),[n]),o=l.useState(r),i=(0,W.default)(o,2),a=i[0],s=i[1],u=Mn();l.useEffect((function(){(0,oe.isEqual)(a,r)||s(r)}),[a,r]);var d=(0,Js.useForm)({defaultValues:a,mode:"all",resolver:(0,kd.yupResolver)(kO)}),c=d.handleSubmit,f=d.reset,p=d.setError,m=Ut().dropzone.dropzone,g=function(e){var n=Ai(Ai({},Fi),e);return Di.useMutation(da,n)}(),h=(0,W.default)(g,1)[0];l.useEffect((function(){f(a)}),[f,a]);var v=(0,Pd.default)(function(){var e=(0,S.default)((function*(e){try{var n,r,o,i,l=kO.validateSync(e);if(console.debug({validatedFields:l,dropzone:m}),null==m||!m.id)return;var a,s,d,c=(yield h({variables:{date:l.date,dropzone:null==m?void 0:m.id,attributes:{dzso:null==(n=l.dzso)?void 0:n.id,notes:l.notes}}})).data;if(null!=c&&null!=(r=c.updateMasterLog)&&r.fieldErrors)null==c||null==(a=c.updateMasterLog)||null==(s=a.fieldErrors)||s.forEach((function(e){var n=e.field,t=e.message;p((0,oe.camelCase)(n),{type:"custom",message:t})}));if(null!=c&&null!=(o=c.updateMasterLog)&&null!=(i=o.masterLog)&&i.date)u.success("Master Log entry updated"),null==t||t(null==c||null==(d=c.updateMasterLog)?void 0:d.masterLog)}catch(Bn){Bn instanceof Error&&(console.error(Bn),u.error(Bn.message))}}));return function(n){return e.apply(this,arguments)}}(),[m,h]),y=(0,W.default)(v,2),b=y[0].loading,x=y[1],j=(0,Js.useWatch)({control:d.control}),k=j.notes,O=j.dzso,w=l.useMemo((function(){var e;return!(0,oe.isEqual)({notes:null==n?void 0:n.notes,dzso:null==n||null==(e=n.dzso)?void 0:e.id},{notes:k,dzso:null==O?void 0:O.id})}),[O,n,k]),P=l.useMemo((function(){return c(x)}),[c,x]);return l.useMemo((function(){return jO(jO({},d),{},{isDirty:w,onSubmit:P,loading:b})}),[d,w,P,b])}function SO(){var e,n,t,r,o,i,a,s,u=Ut().dropzone,d=l.useState(us.DateTime.local().toISODate()),c=(0,W.default)(d,2),p=c[0],m=c[1],g=(0,ap.useNavigation)(),h=l.useState(!1),v=(0,W.default)(h,2),y=v[0],b=v[1],x=l.useCallback((function(){return b(!y)}),[y]),j=bO();l.useLayoutEffect((function(){g.setOptions({headerRight:function(){return(0,Hn.jsx)(eh,{validRange:{endDate:new Date},onChange:function(e){return m(us.DateTime.fromSeconds(e).toISODate())},value:p?us.DateTime.fromISO(p).toSeconds():us.DateTime.local().toSeconds(),color:j.text})}})}),[p,g,j.text]);var k=function(e){var n=Ai(Ai({},Fi),e);return Ei.useQuery(Ga,n)}({variables:l.useMemo((function(){var e,n;return{dropzoneId:null==u||null==(e=u.dropzone)||null==(n=e.id)?void 0:n.toString(),date:p}}),[null==u||null==(e=u.dropzone)?void 0:e.id,p]),skip:!(null!=u&&null!=(n=u.dropzone)&&n.id)}),O=k.data,w=l.useMemo((function(){return null==O?void 0:O.masterLog}),[null==O?void 0:O.masterLog]),S=l.useCallback((function(){var e,n;null!=O&&null!=(e=O.masterLog)&&e.downloadUrl&&Uf.default.openURL(null==O||null==(n=O.masterLog)?void 0:n.downloadUrl)}),[null==O||null==(t=O.masterLog)?void 0:t.downloadUrl]),P=wO({initial:{date:p,notes:null==w?void 0:w.notes,dzso:null==w?void 0:w.dzso},onSuccess:function(){return b(!1)}}),C=P.control,D=P.onSubmit,E=P.isDirty;return(0,Hn.jsx)(fm,{scrollable:!0,fullWidth:!1,children:(0,Hn.jsxs)(f.default,{style:{width:"100%",paddingTop:48},children:[(0,Hn.jsxs)(vt.default,{children:[(0,Hn.jsx)(vt.default.Title,{right:function(){return(0,Hn.jsx)(Vs.default,{icon:"download",onPress:S,style:{marginRight:8}})},title:""+us.DateTime.fromISO(p||(new Date).toISOString()).toLocaleString(us.DateTime.DATE_MED_WITH_WEEKDAY)}),(0,Hn.jsx)(vt.default.Content,{children:y?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(Uc,{name:"dzso",label:"DZSO",requiredPermissions:[R.ActAsDzso],control:C}),(0,Hn.jsx)(ou,{mode:"flat",numberOfLines:5,placeholder:"Any notes for the day? e.g hours of CI attendance",name:"notes",label:"Notes",control:C})]}):(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(dc.default,{title:null==w||null==(r=w.dzso)?void 0:r.name,description:"DZSO"}),(0,Hn.jsx)(uu.default,{children:"Notes"}),(0,Hn.jsx)(vp.default,{style:{padding:16},children:(null==w?void 0:w.notes)||"No notes for this day"})]})}),(0,Hn.jsxs)(vt.default.Actions,{style:{justifyContent:"space-between"},children:[y&&(0,Hn.jsx)(bt.default,{onPress:x,children:"Cancel"}),y&&(0,Hn.jsx)(bt.default,{mode:"contained",onPress:D,disabled:!E,children:"Save"}),!y&&(0,Hn.jsx)(bt.default,{onPress:x,children:"Edit"})]})]}),null!=O&&null!=(o=O.masterLog)&&null!=(i=o.loads)&&i.length?null:(0,Hn.jsx)(vt.default,{style:{width:"100%",marginVertical:16},children:(0,Hn.jsx)(vt.default.Content,{children:(0,Hn.jsx)(Pp,{title:"No loads for this day",subtitle:""})})}),null==O||null==(a=O.masterLog)||null==(s=a.loads)?void 0:s.map((function(e){var n,t,r,o,i,l;return(0,Hn.jsxs)(vt.default,{style:{width:"100%",marginVertical:16},children:[(0,Hn.jsx)(vt.default.Title,{title:"Load "+e.loadNumber}),(0,Hn.jsxs)(vt.default.Content,{children:[(0,Hn.jsx)(dc.default,{title:"Pilot",description:null==e||null==(n=e.pilot)?void 0:n.name}),(0,Hn.jsx)(dc.default,{title:"GCA",description:null==e||null==(t=e.gca)?void 0:t.name}),(0,Hn.jsx)(dc.default,{title:"Plane",description:null!=e&&null!=(r=e.aircraft)&&r.registration?(null==e||null==(o=e.aircraft)?void 0:o.name)+" "+(null==e||null==(i=e.aircraft)?void 0:i.registration):"No plane selected"}),(0,Hn.jsxs)(qd.default,{children:[(0,Hn.jsxs)(qd.default.Header,{children:[(0,Hn.jsx)(qd.default.Title,{children:"Name"}),(0,Hn.jsx)(qd.default.Title,{children:"Jump type"}),(0,Hn.jsx)(qd.default.Title,{numeric:!0,children:"Altitude"})]}),null==(l=e.slots)?void 0:l.map((function(e){return(0,Hn.jsxs)(qd.default.Row,{children:[(0,Hn.jsx)(qd.default.Cell,{children:null==e?void 0:e.name}),(0,Hn.jsx)(qd.default.Cell,{children:e.jumpType}),(0,Hn.jsx)(qd.default.Cell,{numeric:!0,children:null==e?void 0:e.altitude})]})}))]})]})]})}))]})})}function PO(){var e,n,t=dn((function(e){return e.global})),r=Ut().dropzone.currentUser,i=function(e){var n=Ai(Ai({},Fi),e);return zi.useLazyQuery(Ca,n)}(),a=(0,W.default)(i,1)[0],s=(0,ap.useRoute)(),u=Os({id:(null==s||null==(e=s.params)?void 0:e.userId)||(null==r?void 0:r.id)}),c=u.dropzoneUser,f=u.loading,p=u.refetch,m=(0,ap.useNavigation)();return l.useEffect((function(){var e;t.currentDropzoneId&&a({variables:{dropzoneId:null==(e=t.currentDropzoneId)?void 0:e.toString()}})}),[null==t?void 0:t.currentDropzoneId,a]),(0,Hn.jsxs)(Hn.Fragment,{children:[f&&(0,Hn.jsx)(d.default,{color:t.theme.colors.primary,indeterminate:!0,visible:f}),(0,Hn.jsx)(o.FlatList,{style:CO.flatList,data:(null==c||null==(n=c.orders)?void 0:n.edges)||[],refreshing:!1,onRefresh:p,keyExtractor:function(e){var n;return"transaction-"+(null==e||null==(n=e.node)?void 0:n.id)},renderItem:function(e){var n=e.item;return null!=n&&n.node?(0,Hn.jsx)(gb,{onPress:function(){var e,t,r,o;return null!=n&&null!=(e=n.node)&&e.id?m.navigate("Authenticated",{screen:"LeftDrawer",params:{screen:"Manifest",params:{screen:"User",params:{screen:"OrderReceiptScreen",params:{orderId:null==n||null==(t=n.node)?void 0:t.id,userId:null==n||null==(r=n.node)||null==(o=r.buyer)?void 0:o.id}}}}}):null},order:null==n?void 0:n.node,showAvatar:!0,dropzoneUser:c}):null}})]})}var CO=Vn.default.create({flatList:{flex:1,paddingTop:0}});function DO(){var e,n,t,r=Ut(),o=r.dropzone,i=r.dialogs,a=dn((function(e){return e.global})),s=function(e){var n=Ai(Ai({},Fi),e);return Ei.useQuery(Fa,n)}({variables:{dropzoneId:null==o||null==(e=o.dropzone)?void 0:e.id}}),u=s.data,c=s.loading,f=l.useCallback((function(e){return function(){return i.ticketTypeAddon.open({original:e})}}),[i.ticketTypeAddon]),p=ds(R.CreateExtra);return(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsx)(d.default,{visible:c,indeterminate:!0,color:a.theme.colors.primary}),(0,Hn.jsxs)(kp,{style:EO.container,children:[(0,Hn.jsxs)(qd.default,{children:[(0,Hn.jsxs)(qd.default.Header,{children:[(0,Hn.jsx)(qd.default.Title,{children:"Name"}),(0,Hn.jsx)(qd.default.Title,{numeric:!0,children:"Cost"})]}),null==u||null==(n=u.extras)?void 0:n.map((function(e){return(0,Hn.jsxs)(qd.default.Row,{onPress:f(e),pointerEvents:"none",children:[(0,Hn.jsx)(qd.default.Cell,{children:e.name}),(0,Hn.jsxs)(qd.default.Cell,{numeric:!0,children:["$",e.cost]})]})}))]}),!c&&!(null!=u&&null!=(t=u.extras)&&t.length)&&(0,Hn.jsx)(Pp,{title:"No ticket addons",subtitle:"You can add multiple addons to assign to tickets, e.g outside camera, or coach"}),(0,Hn.jsx)(gp.default,{style:[EO.fab,{backgroundColor:a.theme.colors.primary}],visible:p,small:!0,icon:"plus",onPress:i.ticketTypeAddon.open,label:"New ticket addon"})]})]})}var EO=Vn.default.create({container:{flex:1,padding:8,display:"flex"},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}});function zO(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var TO=(0,cp.default)();function IO(){return(0,Hn.jsx)(wt,{children:(0,Hn.jsxs)(TO.Navigator,{screenOptions:{headerShown:!0,header:function(e){return(0,Hn.jsx)(ix,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?zO(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zO(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e))},cardStyle:{flex:1}},children:[(0,Hn.jsx)(TO.Screen,{name:"SettingsMenuScreen",component:Vk,options:{title:"Settings"}}),(0,Hn.jsx)(TO.Screen,{name:"DropzoneSettingsScreen",component:oO,options:{title:"Basic settings"}}),(0,Hn.jsx)(TO.Screen,{name:"AircraftsScreen",component:lO,options:{title:"Planes"}}),(0,Hn.jsx)(TO.Screen,{name:"TicketTypesScreen",component:qk,options:{title:"Ticket types"}}),(0,Hn.jsx)(TO.Screen,{name:"ExtrasScreen",component:DO,options:{title:"Ticket add-ons"}}),(0,Hn.jsx)(TO.Screen,{name:"RigInspectionTemplateScreen",component:cO,options:{title:"Rig Inspection Form"}}),(0,Hn.jsx)(TO.Screen,{name:"DropzoneRigsScreen",component:fO,options:{title:"Dropzone rigs"}}),(0,Hn.jsx)(TO.Screen,{name:"TransactionsScreen",component:PO,options:{title:"Transactions"}}),(0,Hn.jsx)(TO.Screen,{name:"PermissionScreen",component:vO,options:{title:"Permissions"}}),(0,Hn.jsx)(TO.Screen,{name:"MasterLogScreen",component:SO,options:{title:"Master log"}})]})})}function AO(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var FO=(0,cp.default)();function RO(){var e=dn((function(e){return e.global}));return(0,Hn.jsx)(wt,{children:(0,Hn.jsxs)(FO.Navigator,{screenOptions:{headerShown:!(!e.credentials||!e.currentDropzone),header:function(e){return(0,Hn.jsx)(ix,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?AO(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):AO(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e))},headerStyleInterpolator:nx.forUIKit,cardStyle:{flex:1}},children:[(0,Hn.jsx)(FO.Screen,{name:"ManifestScreen",component:Mk,options:{title:"Manifest"}}),(0,Hn.jsx)(FO.Screen,{name:"WeatherConditionsScreen",component:Yj,options:{headerShown:!1}}),(0,Hn.jsx)(FO.Screen,{name:"WindScreen",component:Xj,options:{title:"Winds Aloft"}}),(0,Hn.jsx)(FO.Screen,{name:"JumpRunScreen",component:Jj,options:{title:"Jump Run"}}),(0,Hn.jsx)(FO.Screen,{name:"LoadScreen",component:ej,options:{title:"Load"}}),(0,Hn.jsx)(FO.Screen,{name:"User",component:qb,options:{headerShown:!1,presentation:"modal"}}),(0,Hn.jsx)(FO.Screen,{name:"Configuration",component:IO,options:{headerShown:!1}})]})})}var UO=t(93912);function BO(e){var n=e.title,t=e.description,r=e.icon,o=e.timestamp,i=e.onPress,l=dn((function(e){return e.global})),a=l.theme,s=l.palette;return(0,Hn.jsx)(cd.default,{onPress:i,children:(0,Hn.jsx)(vt.default,{style:LO.notification,elevation:3,children:(0,Hn.jsxs)(vt.default.Content,{style:LO.notificationContent,children:[(0,Hn.jsx)(dc.default,{title:n,description:t,style:{width:"100%"},titleStyle:LO.notificationTitle,descriptionStyle:LO.notificationDescription,left:function(){return(0,Hn.jsx)(zp.default,{size:55,icon:r,color:a.dark?a.colors.text:s.accent.light,style:LO.avatarIcon})}}),(0,Hn.jsx)(Zy.default,{style:LO.timestamp,children:(0,UO.default)((0,ub.default)(o),{addSuffix:!0})})]})})})}var LO=Vn.default.create({avatarIcon:{backgroundColor:"transparent",alignSelf:"center",marginHorizontal:12},notificationTitle:{paddingLeft:4,fontSize:12,fontWeight:"600",marginBottom:4},notificationDescription:{paddingLeft:4},notificationContent:{paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0},notification:{margin:0,paddingVertical:8,marginVertical:0,borderRadius:2,width:"100%"},timestamp:{position:"absolute",top:4,right:8}});function MO(e){var n=e.notification,t=Kj();return(0,Hn.jsx)(BO,{title:"Manifest",description:n.message,timestamp:n.createdAt,icon:"airplane",onPress:function(){var e,r;return(null==n||null==(e=n.resource)?void 0:e.id)&&t.navigate("Manifest",{screen:"LoadScreen",initial:!1,params:{loadId:null==n||null==(r=n.resource)?void 0:r.id}})}})}function NO(e){var n=e.notification,t=Kj();return(0,Hn.jsx)(BO,{title:"Load #"+n.resource.loadNumber+" boarding call",description:n.message,timestamp:n.createdAt,icon:"airplane-takeoff",onPress:function(){var e;return(null==n||null==(e=n.resource)?void 0:e.id)&&t.navigate("Manifest",{screen:"LoadScreen",initial:!1,params:{loadId:n.resource.id}})}})}function $O(e){switch(e){case"paid":default:return"cash";case"refunded":return"cash-refund";case"deposit":return"bank-transfer-in";case"withdrawal":return"bank-transfer-out"}}function VO(e){var n,t=e.notification;return(0,Hn.jsx)(BO,{title:(0,oe.capitalize)(t.resource.status||""),description:t.message,timestamp:t.createdAt,icon:$O(null==(n=t.resource)?void 0:n.status),onPress:function(){return null}})}function qO(e){var n=e.notification,t=(0,ap.useNavigation)();return(0,Hn.jsx)(BO,{title:"rig_inspection_requested"===n.notificationType?"Rig inspection required":"Rig inspection completed",description:n.message,timestamp:n.createdAt,icon:"rig_inspection_requested"===n.notificationType?"eye":"parachute",onPress:function(){var e,r;return"rig_inspection_requested"===n.notificationType?t.navigate("User",{screen:"RigInspectionScreen",params:{rigId:n.resource.id,dropzoneUserId:null==(e=n.resource.owner)?void 0:e.id}}):t.navigate("User",{screen:"ProfileScreen",params:{userId:null==(r=n.resource.owner)?void 0:r.id}})}})}function GO(e){var n=e.notification;return(0,Hn.jsx)(BO,{title:"permission_granted"===n.notificationType?"Permission granted":"Permission revoked",description:n.message,timestamp:n.createdAt,icon:"permission_granted"===n.notificationType?"lock-open":"lock-alert",onPress:function(){return null}})}function WO(e){var n=e.notification;return(0,Hn.jsx)(BO,{title:"Publication requested",description:n.message,timestamp:n.createdAt,icon:"progress-upload"})}function _O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function HO(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_O(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function YO(){var e,n,t,r,i,a,s,u=dn((function(e){return e.global})),c=Ut().dropzone.dropzone,p=function(e){var n=Ai(Ai({},Fi),e);return zi.useLazyQuery(Wa,n)}(),m=(0,W.default)(p,2),g=m[0],h=m[1],v=h.data,y=h.loading,b=l.useMemo((function(){return null!=c&&c.id?{dropzoneId:null==c?void 0:c.id}:void 0}),[null==c?void 0:c.id]),x=l.useCallback((function(){null!=b&&b.dropzoneId&&g({variables:b,fetchPolicy:"cache-and-network"})}),[g,b]);l.useEffect((function(){var e;y||(null==h||null==(e=h.variables)?void 0:e.dropzoneId)===(null==b?void 0:b.dropzoneId)||g({variables:b})}),[g,y,null==h||null==(e=h.variables)?void 0:e.dropzoneId,b]);var j=(0,ap.useIsFocused)();return l.useEffect((function(){j&&x&&x()}),[j,x]),console.debug("Notifications",null==v||null==(n=v.dropzone)||null==(t=n.currentUser)||null==(r=t.notifications)?void 0:r.edges),(0,Hn.jsxs)(f.default,{style:Vn.default.absoluteFill,children:[y&&(0,Hn.jsx)(d.default,{color:u.theme.colors.primary,indeterminate:!0,visible:y}),(0,Hn.jsx)(o.FlatList,{ListEmptyComponent:function(){return(0,Hn.jsx)(f.default,{style:JO.empty,children:(0,Hn.jsx)(Pp,{title:"No notifications",subtitle:"Notifications will show up here"})})},contentContainerStyle:JO.content,onRefresh:x,data:null==v||null==(i=v.dropzone)||null==(a=i.currentUser)||null==(s=a.notifications)?void 0:s.edges,refreshing:y,numColumns:1,keyExtractor:function(e){var n;return"notification-"+(null==e||null==(n=e.node)?void 0:n.id)},style:Vn.default.absoluteFill,renderItem:function(e){var n,t,r=e.item;switch(console.debug("Rendering notification ",null==r||null==(n=r.node)?void 0:n.notificationType),null==r||null==(t=r.node)?void 0:t.notificationType){case A.BoardingCall:return(0,Hn.jsx)(NO,{notification:r.node},r.node.id);case A.UserManifested:return console.debug("Renderign manifest card"),(0,Hn.jsx)(MO,{notification:r.node},r.node.id);case A.CreditsUpdated:return(0,Hn.jsx)(VO,{notification:r.node},r.node.id);case A.RigInspectionRequested:case A.RigInspectionCompleted:return(0,Hn.jsx)(qO,{notification:r.node},r.node.id);case A.PermissionGranted:case A.PermissionRevoked:return(0,Hn.jsx)(GO,{notification:r.node},r.node.id);case A.PublicationRequested:return(0,Hn.jsx)(WO,{notification:r.node},r.node.id);default:return null}}})]})}var JO=Vn.default.create({content:{flexGrow:1,paddingBottom:56,paddingHorizontal:4},divider:{height:1,width:"100%"},empty:HO(HO({},Vn.default.absoluteFillObject),{},{height:"100%",flexGrow:1,flex:1,alignSelf:"center",alignItems:"center",justifyContent:"center"})});function QO(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function KO(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?QO(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):QO(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var XO=(0,cp.default)();function ZO(){return(0,Hn.jsx)(wt,{children:(0,Hn.jsxs)(XO.Navigator,{screenOptions:{headerShown:!0,header:function(e){return(0,Hn.jsx)(ix,KO(KO({},e),{},{hideWarnings:!0}))},cardStyle:{flex:1}},initialRouteName:"NotificationsScreen",children:[(0,Hn.jsx)(XO.Screen,{name:"NotificationsScreen",component:YO,options:{title:"Notifications"}}),(0,Hn.jsx)(XO.Screen,{name:"User",component:qb})]})})}var ew=t(85765);function nw(e){var n=e.title,t=e.data,r=e.columns,o=l.useState({width:0,height:0}),i=(0,W.default)(o,2),a=i[0],s=i[1],u=l.useCallback((function(e){s(e.nativeEvent.layout)}),[]),d=l.useMemo((function(){return r||(null==t?void 0:t.length)||1}),[r,null==t?void 0:t.length]),c=l.useMemo((function(){return d?Math.floor((a.width-32)/d):50}),[d,a.width]),p=l.useMemo((function(){return 120*Math.ceil(((null==t?void 0:t.length)||1)/d)}),[d,null==t?void 0:t.length]);return(0,Hn.jsxs)(vt.default,{style:[rw.card,{height:p}],onLayout:u,children:[(0,Hn.jsx)(vt.default.Title,{title:n}),(0,Hn.jsx)(vt.default.Content,{style:rw.row,children:null==t?void 0:t.map((function(e,n){var r=e.label,o=e.color,i=e.value;return(0,Hn.jsxs)(f.default,{style:{flexDirection:"row",width:c,height:70},children:[(0,Hn.jsxs)(f.default,{style:rw.statistic,children:[(0,Hn.jsx)(f.default,{style:rw.value,children:(0,Hn.jsx)(Ep.default,{style:[rw.valueText,{color:o}],children:i})}),(0,Hn.jsx)(f.default,{style:rw.label,children:(0,Hn.jsx)(Ep.default,{style:[rw.labelText,{color:o}],lineBreakMode:"middle",numberOfLines:2,children:r})})]}),n===((null==t?void 0:t.length)||0)-1?null:(0,Hn.jsx)(f.default,{style:rw.divider})]})}))})]})}var tw,rw=Vn.default.create({card:{flex:1,marginVertical:4,maxWidth:"100%",justifyContent:"center"},row:{flexDirection:"row",justifyContent:"space-around",alignItems:"center",flexWrap:"wrap",width:"100%"},statistic:{flexDirection:"column",justifyContent:"center",flex:1},divider:{height:"100%",width:Vn.default.hairlineWidth,backgroundColor:"#FAFAFA"},value:{flex:1,alignItems:"center",justifyContent:"flex-end"},label:{flex:1,alignItems:"center",marginTop:4,justifyContent:"flex-start"},labelText:{fontSize:13,fontWeight:"bold"},valueText:{fontSize:16}}),ow=t(54813),iw=t(14931),lw=t.n(iw);t(39);function aw(e){var n=e.data,t=e.startTime,r=e.style,o=l.useState({width:0,height:0}),i=(0,W.default)(o,2),a=i[0],s=i[1],u=l.useCallback((function(e){s(e.nativeEvent.layout)}),[]);return(0,Hn.jsxs)(vt.default,{onLayout:u,style:r,children:[(0,Hn.jsx)(vt.default.Title,{title:"Dispatched Loads"}),(0,Hn.jsx)(vt.default.Content,{style:{height:a.height-75,width:a.width-32},children:(0,Hn.jsx)(lw(),{values:n,showMonthLabels:!0,classForValue:function(e){return null!=e&&e.count?e.count>3?"many":e.count<3&&e.count>0?"few":"none":"none"},horizontal:!0,titleForValue:function(e){return null!=e&&e.date?(null==e?void 0:e.date)+": "+(null==e?void 0:e.count)+" loads":"No loads"},startDate:t||(0,ow.default)(new Date,365),endDate:new Date})})]})}var sw=(tw={},(0,N.default)(tw,P.Archived,C.Archive),(0,N.default)(tw,P.InReview,C.RequestPublication),(0,N.default)(tw,P.Private,C.Unpublish),(0,N.default)(tw,P.Public,C.Publish),tw);function uw(e){var n,t,r=e.dropzone,o=ss().updateVisibility,i=Mn(),a=l.useCallback(function(){var e=(0,S.default)((function*(e){if(null!=r&&r.id){var n=yield o(r.id,sw[e]);"error"in n&&n.error&&i.error(n.error)}}));return function(n){return e.apply(this,arguments)}}(),[i,null==r?void 0:r.id,o]);return r?(0,Hn.jsxs)(qd.default.Row,{style:{borderLeftColor:r.primaryColor||void 0,borderLeftWidth:5},children:[(0,Hn.jsx)(qd.default.Cell,{style:cw.avatarCell,children:(0,Hn.jsx)(ud,{size:20,name:null==r?void 0:r.name,image:r.banner})}),(0,Hn.jsx)(qd.default.Cell,{style:cw.nameCell,children:r.name}),(0,Hn.jsx)(qd.default.Cell,{style:cw.createdCell,children:(0,Hn.jsx)(yt.default,{type:"info",children:(0,uc.default)((0,ub.default)(r.createdAt),"dd MMM, HH:mm")})}),(0,Hn.jsx)(qd.default.Cell,{style:cw.statusCell,children:(0,Hn.jsx)(vd,{value:r.status,options:[{label:"Archived",value:P.Archived},{label:"Private",value:P.Private},{label:"In Review",value:P.InReview},{label:"Public",value:P.Public}],onChange:a})}),(0,Hn.jsx)(qd.default.Cell,{style:cw.loadsCell,children:(null==r||null==(n=r.statistics)?void 0:n.loadsCount)||0}),(0,Hn.jsx)(qd.default.Cell,{style:cw.usersCell,children:(null==r||null==(t=r.statistics)?void 0:t.activeUserCount)||0})]}):null}function dw(e){var n=e.dropzones,t=e.onChangeSelected,r=e.selected;return(0,Hn.jsxs)(vt.default,{style:{flexGrow:1,width:"100%"},children:[(0,Hn.jsx)(vt.default.Title,{title:"Dropzones"}),(0,Hn.jsxs)(vt.default.Content,{style:{width:"100%"},children:[(0,Hn.jsx)(Tu,{allowEmpty:!0,items:n,onChange:t,value:r,renderItemLabel:function(e){return e.name}}),(0,Hn.jsx)(Gp.default,{horizontal:!0,alwaysBounceVertical:!1,showsVerticalScrollIndicator:!1,style:{width:"100%",height:"100%",flexGrow:1},contentContainerStyle:{flexGrow:1},children:(0,Hn.jsxs)(qd.default,{children:[(0,Hn.jsxs)(qd.default.Header,{children:[(0,Hn.jsx)(qd.default.Title,{style:cw.avatarCell,children:null}),(0,Hn.jsx)(qd.default.Title,{style:cw.nameCell,children:"Name"}),(0,Hn.jsx)(qd.default.Title,{style:cw.createdCell,children:"Created"}),(0,Hn.jsx)(qd.default.Title,{style:cw.statusCell,children:"Status"}),(0,Hn.jsx)(qd.default.Title,{style:cw.loadsCell,children:"Loads"}),(0,Hn.jsx)(qd.default.Title,{style:cw.usersCell,children:"Active Users"})]}),(0,Hn.jsx)(mp.default,{data:n,renderItem:function(e){var n=e.item;return n?(0,Hn.jsx)(uw,{dropzone:n},"dropzone-row="+(null==n?void 0:n.id)):null}})]})})]})]})}var cw=Vn.default.create({controls:{flexDirection:"row",justifyContent:"space-between",width:"100%",alignItems:"center",gap:8},avatarCell:{flex:5},statusCell:{flex:20},nameCell:{flex:40},loadsCell:{flex:5},usersCell:{flex:5},createdCell:{flex:10}}),fw={backgroundColor:"#e26a00",backgroundGradientFrom:"#fb8c00",backgroundGradientTo:"#ffa726",decimalPlaces:2,color:function(){return"rgba(255, 255, 255, "+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)+")"},labelColor:function(){return"rgba(255, 255, 255, "+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)+")"},style:{borderRadius:16},propsForDots:{r:"6",strokeWidth:"2",stroke:"#ffa726"},backgroundGradientFromOpacity:0,backgroundGradientToOpacity:.5,strokeWidth:2,barPercentage:.5,useShadowColorFromDataset:!1},pw=t(85935);function mw(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function gw(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?mw(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mw(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var hw,vw={angle:"#AA0000",cam:"#FFAA00",ws:"#AAFF00",hnp:"#ABABFF",hp:"#BAFFBA",fs:"#DD00FF",freefly:"#00ABFF"};function yw(e){var n=e.data,t=e.style,r=l.useState({width:0,height:0}),o=(0,W.default)(r,2),i=o[0],a=o[1],s=l.useCallback((function(e){a(e.nativeEvent.layout)}),[]),u=l.useMemo((function(){return(0,oe.sortBy)(n,"count").map((function(e){return gw(gw({},e),{},{color:null!=e&&e.name&&(null==e?void 0:e.name)in vw?vw[e.name]:"#AAA",legendFontColor:"#333",legendFontSize:15})}))}),[n]);return(0,Hn.jsxs)(vt.default,{onLayout:s,style:t,children:[(0,Hn.jsx)(vt.default.Title,{title:"Jump types"}),(0,Hn.jsx)(vt.default.Content,{style:{height:300},children:(0,Hn.jsx)(pw.PieChart,{data:u,chartConfig:fw,width:(i.width||400)-32,height:(i.height||200)-75,accessor:"count",backgroundColor:"transparent",paddingLeft:"15",center:[0,0],absolute:!1})})]})}function bw(){var e,n,t,r=l.useState(),o=(0,W.default)(r,2),i=o[0],a=o[1],s=l.useMemo((function(){return i?{startTime:(0,ew.default)(new Date,i).toISOString(),endTime:(new Date).toISOString()}:{startTime:new Date(2020,0,1).toISOString(),endTime:(new Date).toISOString()}}),[i]),u=l.useCallback((function(e){return function(){a(e)}}),[]),d=l.useState(),c=(0,W.default)(d,2),p=c[0],m=c[1],h=function(e){var n=Ai(Ai({},Fi),e);return Ei.useQuery(wa,n)}({variables:{timeRange:s}}),v=h.data;l.useEffect((function(){var e,n;null!=v&&null!=(e=v.dropzones)&&null!=(n=e.edges)&&n.length&&void 0===p&&m(v.dropzones.edges.map((function(e){return null==e?void 0:e.node})).filter(Boolean))}),[null==v?void 0:v.dropzones.edges,p]);var y=l.useMemo((function(){return{revenueCents:(0,oe.sumBy)(p||[],(function(e){var n;return(null==e||null==(n=e.statistics)?void 0:n.revenueCentsCount)||0})),loadsCount:(0,oe.sumBy)(p||[],(function(e){var n;return(null==e||null==(n=e.statistics)?void 0:n.loadsCount)||0})),cancelledLoadsCount:(0,oe.sumBy)(p||[],(function(e){var n;return(null==e||null==(n=e.statistics)?void 0:n.cancelledLoadsCount)||0})),slotsCount:(0,oe.sumBy)(p||[],(function(e){var n;return(null==e||null==(n=e.statistics)?void 0:n.slotsCount)||0})),pilotCount:(0,oe.sumBy)(p||[],(function(e){var n;return(null==e||null==(n=e.statistics)?void 0:n.pilotCount)||0})),dzsoCount:(0,oe.sumBy)(p||[],(function(e){var n;return(null==e||null==(n=e.statistics)?void 0:n.dzsoCount)||0})),gcaCount:(0,oe.sumBy)(p||[],(function(e){var n;return(null==e||null==(n=e.statistics)?void 0:n.gcaCount)||0})),totalUserCount:(0,oe.sumBy)(p||[],(function(e){var n;return(null==e||null==(n=e.statistics)?void 0:n.totalUserCount)||0})),activeUserCount:(0,oe.sumBy)(p||[],(function(e){var n;return(null==e||null==(n=e.statistics)?void 0:n.activeUserCount)||0})),inactiveUserCount:(0,oe.sumBy)(p||[],(function(e){var n;return(null==e||null==(n=e.statistics)?void 0:n.inactiveUserCount)||0})),loadCountByDay:(p||[]).flatMap((function(e){var n;return(null==e||null==(n=e.statistics)?void 0:n.loadCountByDay)||[]})),slotsByJumpType:(p||[]).flatMap((function(e){var n;return(null==e||null==(n=e.statistics)?void 0:n.slotsByJumpType)||[]}))}}),[p]);return(0,Hn.jsxs)(Ib,{stickyHeaderIndices:[0],children:[(0,Hn.jsx)(vt.default,{style:kw.controls,children:(0,Hn.jsxs)(vt.default.Content,{style:{flexDirection:"row"},children:[(0,Hn.jsx)(Pu,{small:"web"!==g.default.OS,selected:!i,onPress:u(),children:"All time"}),(0,Hn.jsx)(Pu,{small:"web"!==g.default.OS,selected:i===hw.ThreeMonths,onPress:u(hw.ThreeMonths),children:"3 months"}),(0,Hn.jsx)(Pu,{small:"web"!==g.default.OS,selected:i===hw.SixMonths,onPress:u(hw.SixMonths),children:"6 months"}),(0,Hn.jsx)(Pu,{small:"web"!==g.default.OS,selected:i===hw.Year,onPress:u(hw.Year),children:"12 months"})]})}),(0,Hn.jsxs)(f.default,{style:Vn.default.flatten([kw.row,kw.turnaround]),children:[(0,Hn.jsx)(nw,{title:"Turn-around",columns:"web"===g.default.OS?void 0:2,data:[{label:"Total",color:Be,value:"$"+((null==y?void 0:y.revenueCents)||0)},{label:"Dispatched",value:(null==y?void 0:y.loadsCount)||0},{label:"Cancelled",value:(null==y?void 0:y.cancelledLoadsCount)||0},{label:"Slots",value:(null==y?void 0:y.slotsCount)||0}].filter(Boolean)}),(0,Hn.jsx)(nw,{title:"Accounts",columns:"web"===g.default.OS?void 0:3,data:[{label:"Dropzones",value:(null==v||null==(e=v.dropzones.edges)?void 0:e.length)||0},{label:"Users",value:(null==y?void 0:y.totalUserCount)||0},{label:"Active",value:(null==y?void 0:y.activeUserCount)||0,color:Be},{label:"Inactive",value:(null==y?void 0:y.inactiveUserCount)||0,color:Me},{label:"Pilots",value:(null==y?void 0:y.pilotCount)||0},{label:"GCA",value:(null==y?void 0:y.gcaCount)||0},{label:"DZSO",value:y.dzsoCount||0}]})]}),(0,Hn.jsxs)(f.default,{style:Vn.default.flatten([kw.row,kw.statistics]),children:[(0,Hn.jsx)(aw,{style:kw.dispatchedLoadsCard,data:(null==y?void 0:y.loadCountByDay)||[],startTime:null!=s&&s.startTime?(0,ub.default)(null==s?void 0:s.startTime):(0,ew.default)(new Date,6)}),(0,Hn.jsx)(yw,{style:kw.jumpTypesCard,data:(null==y?void 0:y.slotsByJumpType)||[]})]}),(0,Hn.jsx)(f.default,{style:Vn.default.flatten([kw.row,kw.table]),children:(0,Hn.jsx)(dw,{selected:p||[],onChangeSelected:m,dropzones:(null==v||null==(n=v.dropzones)||null==(t=n.edges)?void 0:t.map((function(e){return null==e?void 0:e.node})))||[]})})]})}function xw(){return(0,Hn.jsx)(as,{state:[P.Archived,P.InReview,P.Private,P.Public],children:(0,Hn.jsx)(bw,{})})}!function(e){e[e.AllTime=0]="AllTime",e[e.ThreeMonths=3]="ThreeMonths",e[e.SixMonths=6]="SixMonths",e[e.Year=12]="Year"}(hw||(hw={}));var jw,kw=Vn.default.create({controls:{width:"100%",alignItems:"center"},turnaround:{width:"100%",flexDirection:"web"===g.default.OS?"row":"column",gap:8,justifyContent:"space-between",flexWrap:"web"===g.default.OS?"wrap":"nowrap"},statistics:{width:"100%",gap:8,flexWrap:"wrap"},table:{width:"100%",flex:8},dispatchedLoadsCard:{height:300,width:"web"===g.default.OS?void 0:"100%",flex:"web"===g.default.OS?3/4:void 0,marginVertical:4},jumpTypesCard:{height:300,marginVertical:4,width:"web"===g.default.OS?void 0:"100%",flex:"web"===g.default.OS?1/4:void 0},row:{flexDirection:"row",justifyContent:"flex-end",width:"100%",alignItems:"center",gap:8,marginTop:16,flexWrap:"wrap-reverse"},statistic:{flexDirection:"column",justifyContent:"center",padding:8,marginHorizontal:8},divider:{height:"100%",width:Vn.default.hairlineWidth,backgroundColor:"#FAFAFA"},value:{flex:1,alignItems:"center",justifyContent:"center"},label:{alignItems:"center",justifyContent:"center"},labelText:{fontSize:13,fontWeight:"bold"},valueText:{fontSize:16}}),Ow=(jw={},(0,N.default)(jw,z.Debug,"#AF00FF"),(0,N.default)(jw,z.Error,"#FF1515"),(0,N.default)(jw,z.Info,"#15A0FF"),jw);function ww(e){var n,t,r,o,i=e.event,a=l.useState(!1),s=(0,W.default)(a,2),u=s[0],d=s[1],c=l.useCallback((function(){null!=i&&i.details&&d(!u)}),[null==i?void 0:i.details,u]);return i?(0,Hn.jsxs)(Hn.Fragment,{children:[(0,Hn.jsxs)(qd.default.Row,{style:{borderLeftColor:Ow[(null==i?void 0:i.level)||"info"],borderLeftWidth:5},onPress:c,children:[(0,Hn.jsxs)(qd.default.Cell,{style:Pw.avatarCell,children:[(0,Hn.jsx)(ud,{size:20,name:(null==i||null==(n=i.createdBy)||null==(t=n.user)?void 0:t.name)||"System",image:(null==i||null==(r=i.createdBy)||null==(o=r.user)?void 0:o.image)||void 0}),(0,Hn.jsx)(yt.default,{type:"info",children:(0,uc.default)((0,ub.default)(i.createdAt),"dd MMM, HH:mm")})]}),(0,Hn.jsx)(qd.default.Cell,{style:Pw.levelCell,children:(0,Hn.jsx)(yt.default,{type:"info",children:null==i?void 0:i.level})}),(0,Hn.jsx)(qd.default.Cell,{style:Pw.messageCell,children:null==i?void 0:i.message})]}),u?(0,Hn.jsxs)(qd.default.Row,{style:{borderLeftColor:Ow[(null==i?void 0:i.level)||"info"],borderLeftWidth:5},children:[(0,Hn.jsx)(qd.default.Cell,{style:Pw.avatarCell,children:null}),(0,Hn.jsx)(qd.default.Cell,{style:Pw.levelCell,children:null}),(0,Hn.jsx)(qd.default.Cell,{style:Pw.messageCell,children:null==i?void 0:i.details})]}):null]}):null}function Sw(e){var n=e.data,t=e.onFetchMore;return(0,Hn.jsxs)(qd.default,{children:[(0,Hn.jsxs)(qd.default.Header,{children:[(0,Hn.jsx)(qd.default.Title,{style:Pw.avatarCell,children:"Time"}),(0,Hn.jsx)(qd.default.Title,{style:Pw.levelCell,children:"Level"}),(0,Hn.jsx)(qd.default.Title,{style:Pw.messageCell,children:"Message"})]}),(0,Hn.jsx)(mp.default,{data:n,renderItem:function(e){var n=e.item;return n?(0,Hn.jsx)(ww,{event:n},"event-log-row="+(null==n?void 0:n.id)):null},onEndReached:t,onEndReachedThreshold:1})]})}var Pw=Vn.default.create({avatarCell:{flex:1},levelCell:{flex:1},messageCell:{flex:4}});function Cw(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Dw(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Cw(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cw(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ew(e){var n,t,r,o=e.dropzone,i=e.accessLevels,a=e.levels,s=e.timeRange,u=e.onChange,d=ds(R.ViewAdminActivity),c=ds(R.ViewSystemActivity),p=ds(R.ViewUserActivity),m=l.useMemo((function(){return{dropzone:o,levels:a,accessLevels:i,timeRange:s}}),[i,o,a,s]),g=function(e){var n=Ai(Ai({},Fi),e);return zi.useLazyQuery(ja,n)}(),h=(0,W.default)(g,2),v=h[0],y=h[1];l.useEffect((function(){(0,oe.isEqual)(null==y?void 0:y.variables,m)||v({variables:m})}),[v,null==y?void 0:y.variables,m]);var b=l.useCallback((function(){var e,n,t,r,o,i,l,a,s,u;null==y||null==(e=y.data)||null==(n=e.activity)||null==(t=n.pageInfo)||!t.hasNextPage||null!=y&&y.loading||(null==y||null==(r=y.data)||null==(o=r.activity)||null==(i=o.pageInfo)?void 0:i.endCursor)===(null==y||null==(l=y.variables)?void 0:l.after)||(null==y||y.fetchMore({variables:{after:null==y||null==(a=y.data)||null==(s=a.activity)||null==(u=s.pageInfo)?void 0:u.endCursor}}).then((function(e){null==y||y.updateQuery((function(n){var t,r,o,i,l;return Dw(Dw({},n),{},{activity:Dw(Dw(Dw({},null==n?void 0:n.activity),null==e||null==(t=e.data)?void 0:t.activity),{},{pageInfo:null==e||null==(r=e.data)||null==(o=r.activity)?void 0:o.pageInfo,edges:(0,oe.uniqBy)([].concat((0,$n.default)(n.activity.edges||[]),(0,$n.default)((null==e||null==(i=e.data)||null==(l=i.activity)?void 0:l.edges)||[])),(function(e){var n;return null==e||null==(n=e.node)?void 0:n.id}))})})}))})))}),[y]),x=l.useCallback((function(e){return u({levels:e})}),[u]),j=l.useCallback((function(e){u({accessLevels:e})}),[u]);return console.debug({accessLevels:i,timeRange:s,levels:a}),(0,Hn.jsxs)(vt.default,{style:{width:"100%"},children:[(0,Hn.jsx)(vt.default.Title,{title:"Events"}),(0,Hn.jsxs)(vt.default.Content,{style:{paddingHorizontal:0},children:[(d||c)&&(0,Hn.jsxs)(f.default,{style:Tw.controls,children:[(0,Hn.jsxs)(f.default,{children:[(0,Hn.jsx)(uu.default,{children:"Event Type"}),(0,Hn.jsx)(Tu,{allowEmpty:!0,items:[d&&D.Admin,p&&D.User,c&&D.System].filter(Boolean),onChange:j,value:i||[],renderItemLabel:function(e){return Object.keys(D).find((function(n){return D[n]===e}))}})]}),(0,Hn.jsxs)(f.default,{children:[(0,Hn.jsx)(uu.default,{children:"Event Level"}),(0,Hn.jsx)(Tu,{allowEmpty:!0,items:[p&&z.Info,c&&z.Debug,d&&z.Error].filter(Boolean),onChange:x,value:a||[],renderItemLabel:function(e){return Object.keys(z).find((function(n){return z[n]===e}))}})]})]}),(0,Hn.jsx)(Sw,{data:(null==y||null==(n=y.data)||null==(t=n.activity)||null==(r=t.edges)?void 0:r.map((function(e){return null==e?void 0:e.node})))||[],onFetchMore:b})]})]})}var zw,Tw=Vn.default.create({controls:{flexDirection:"row",justifyContent:"space-between",width:"100%",alignItems:"center",flexWrap:"wrap",gap:8,marginHorizontal:8,marginBottom:16}});function Iw(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Aw(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Iw(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Iw(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Fw(){var e,n,t,r,o,i,a,s,u,d,c,p,m,h,v,y,b,x,j,k,O,w,S,P,C=Ut().dropzone.dropzone,E=l.useState(),T=(0,W.default)(E,2),I=T[0],A=T[1],F=ds(R.ViewAdminActivity),U=ds(R.ViewSystemActivity),B=ds(R.ViewStatistics),L=ds(R.ViewRevenue),M=l.useMemo((function(){if(I)return{startTime:(0,ew.default)(new Date,I),endTime:(new Date).toISOString()}}),[I]),N=l.useState({levels:[U&&z.Debug,U&&z.Error,z.Info].filter(Boolean),accessLevels:[U&&D.System,D.User,F&&D.Admin].filter(Boolean),timeRange:M}),$=(0,W.default)(N,2),V=$[0],q=$[1],G=l.useCallback((function(e){return q(Aw(Aw({},V),e))}),[V]),_=function(e){var n=Ai(Ai({},Fi),e);return Ei.useQuery(Oa,n)}({variables:{dropzoneId:null==C||null==(e=C.id)?void 0:e.toString(),timeRange:M},skip:!(null!=C&&C.id)}),H=_.data,Y=l.useCallback((function(e){return function(){A(e)}}),[]);return(0,Hn.jsxs)(Ib,{stickyHeaderIndices:[0],children:[(0,Hn.jsx)(vt.default,{style:Rw.controls,children:(0,Hn.jsxs)(vt.default.Content,{style:{flexDirection:"row"},children:[(0,Hn.jsx)(Pu,{small:"web"!==g.default.OS,selected:!I,onPress:Y(),children:"All time"}),(0,Hn.jsx)(Pu,{small:"web"!==g.default.OS,selected:I===zw.ThreeMonths,onPress:Y(zw.ThreeMonths),children:"3 months"}),(0,Hn.jsx)(Pu,{small:"web"!==g.default.OS,selected:I===zw.SixMonths,onPress:Y(zw.SixMonths),children:"6 months"}),(0,Hn.jsx)(Pu,{small:"web"!==g.default.OS,selected:I===zw.Year,onPress:Y(zw.Year),children:"12 months"})]})}),(0,Hn.jsxs)(f.default,{style:Vn.default.flatten([Rw.row,Rw.turnaround]),children:[L&&(0,Hn.jsx)(nw,{title:"Turn-around",columns:"web"===g.default.OS?void 0:4,data:[B?{label:"Total",color:Be,value:"$"+((null==H||null==(n=H.dropzone)||null==(t=n.statistics)?void 0:t.revenueCentsCount)||0)}:void 0,{label:"Dispatched",value:(null==H||null==(r=H.dropzone)||null==(o=r.statistics)?void 0:o.loadsCount)||0},{label:"Cancelled",value:(null==H||null==(i=H.dropzone)||null==(a=i.statistics)?void 0:a.cancelledLoadsCount)||0},{label:"Slots",value:(null==H||null==(s=H.dropzone)||null==(u=s.statistics)?void 0:u.slotsCount)||0}].filter(Boolean)}),(0,Hn.jsx)(nw,{title:"Roles",data:[{label:"Pilots",value:(null==H||null==(d=H.dropzone)||null==(c=d.statistics)?void 0:c.pilotCount)||0},{label:"GCA",value:(null==H||null==(p=H.dropzone)||null==(m=p.statistics)?void 0:m.gcaCount)||0},{label:"DZSO",value:(null==H||null==(h=H.dropzone)?void 0:h.statistics.dzsoCount)||0}]}),L&&(0,Hn.jsx)(nw,{title:"Users",data:[{label:"Total",value:(null==H||null==(v=H.dropzone)||null==(y=v.statistics)?void 0:y.totalUserCount)||0},{label:"Active",value:(null==H||null==(b=H.dropzone)||null==(x=b.statistics)?void 0:x.activeUserCount)||0,color:Be},{label:"Inactive",value:(null==H||null==(j=H.dropzone)||null==(k=j.statistics)?void 0:k.inactiveUserCount)||0,color:Me}]})]}),L&&(0,Hn.jsxs)(f.default,{style:Vn.default.flatten([Rw.row,Rw.statistics]),children:[(0,Hn.jsx)(aw,{style:Rw.dispatchedLoadsCard,data:(null==H||null==(O=H.dropzone)||null==(w=O.statistics)?void 0:w.loadCountByDay)||[],startTime:(null==M?void 0:M.startTime)||(0,ew.default)(new Date,6)}),(0,Hn.jsx)(yw,{style:Rw.jumpTypesCard,data:(null==H||null==(S=H.dropzone)||null==(P=S.statistics)?void 0:P.slotsByJumpType)||[]})]}),(0,Hn.jsx)(f.default,{style:Vn.default.flatten([Rw.row,Rw.table]),children:(0,Hn.jsx)(Ew,Aw(Aw({},V),{},{timeRange:M,onChange:G,dropzone:null==C?void 0:C.id}))})]})}!function(e){e[e.AllTime=0]="AllTime",e[e.ThreeMonths=3]="ThreeMonths",e[e.SixMonths=6]="SixMonths",e[e.Year=12]="Year"}(zw||(zw={}));var Rw=Vn.default.create({controls:{width:"100%",alignItems:"center"},turnaround:{width:"100%",flexDirection:"web"===g.default.OS?"row":"column",gap:8,justifyContent:"space-between",flexWrap:"web"===g.default.OS?"wrap":"nowrap"},statistics:{width:"100%",gap:8,flexWrap:"wrap"},table:{width:"100%",flex:8},dispatchedLoadsCard:{height:300,marginVertical:4,width:"web"===g.default.OS?void 0:"100%",flex:"web"===g.default.OS?3/4:void 0},jumpTypesCard:{height:300,marginVertical:4,width:"web"===g.default.OS?void 0:"100%",flex:"web"===g.default.OS?1/4:void 0},row:{flexDirection:"row",justifyContent:"flex-end",width:"100%",alignItems:"center",gap:8,marginTop:16,flexWrap:"wrap-reverse"},statistic:{flexDirection:"column",justifyContent:"center",padding:8,marginHorizontal:8},divider:{height:"100%",width:Vn.default.hairlineWidth,backgroundColor:"#FAFAFA"},value:{flex:1,alignItems:"center",justifyContent:"center"},label:{alignItems:"center",justifyContent:"center"},labelText:{fontSize:13,fontWeight:"bold"},valueText:{fontSize:16}});function Uw(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var Bw=(0,cp.default)();function Lw(){var e=dn((function(e){return e.global}));return(0,Hn.jsxs)(Bw.Navigator,{screenOptions:{headerShown:!(!e.credentials||!e.currentDropzone),header:function(e){return(0,Hn.jsx)(ix,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Uw(Object(t),!0).forEach((function(n){(0,N.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Uw(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e))},headerStyleInterpolator:nx.forUIKit,cardStyle:{flex:1}},children:[(0,Hn.jsx)(Bw.Screen,{name:"DashboardScreen",component:Fw,options:{title:"Dashboard"}}),(0,Hn.jsx)(Bw.Screen,{name:"OverviewScreen",component:xw,options:{title:"Overview"}})]})}const Mw=(0,t(99121).AnimatedTabBarNavigator)();function Nw(){var e,n=dn((function(e){return e.global})).palette,t=Ut().dropzone.currentUser,r=(null==t||null==(e=t.user)?void 0:e.moderationRole)!==I.User,o=ds(R.ReadUser),i=ds(R.ViewStatistics),a=(0,$s.useTheme)(),s=l.useMemo((function(){return{tabBarActiveTintColor:a.colors.primary,tabBarInactiveBackgroundColor:a.dark?a.colors.backdrop:a.colors.surface,tabBarActiveBackgroundColor:a.colors.surface,tabBarInactiveTintColor:"#CCCCCC",tabBarShowLabel:"web"!==g.default.OS,headerShown:!1,tabBarStyle:{backgroundColor:a.dark?a.colors.background:"#FFFFFF",borderTopWidth:Vn.default.hairlineWidth,borderTopColor:"#CCCCCC"}}}),[a.colors.backdrop,a.colors.background,a.colors.primary,a.colors.surface,a.dark]);return(0,Hn.jsx)(wt,{children:(0,Hn.jsxs)(Mw.Navigator,{appearance:{tabBarBackground:a.colors.surface,topPadding:16,shadow:!0,bottomPadding:16},tabBarOptions:{activeTintColor:"#FFFFFF",inactiveTintColor:n.primary.main,activeBackgroundColor:n.primary.main},initialRouteName:"Manifest",screenOptions:s,children:[(i||r)&&(0,Hn.jsx)(Mw.Screen,{name:"Overview",component:Lw,options:{tabBarIcon:function(e){var n=e.focused,t=e.color,r=e.size;return(0,Hn.jsx)(ju.default,{name:"view-dashboard-outline",size:r,color:t,style:[$w.icon,n?$w.iconActive:void 0]})},unmountOnBlur:!1}}),(0,Hn.jsx)(Mw.Screen,{name:"Manifest",component:RO,options:{tabBarIcon:function(e){var n=e.focused,t=e.color,r=e.size;return(0,Hn.jsx)(ju.default,{name:"airplane",size:r,color:t,style:[$w.icon,n?$w.iconActive:void 0]})},unmountOnBlur:!1}}),(0,Hn.jsx)(Mw.Screen,{name:"Notifications",component:ZO,options:{tabBarIcon:function(e){var n=e.focused,t=e.color,r=e.size;return(0,Hn.jsx)(ju.default,{name:"bell-outline",style:[$w.icon,n?$w.iconActive:void 0],size:r,color:t})},unmountOnBlur:!0}}),o&&(0,Hn.jsx)(Mw.Screen,{name:"Users",component:qb,options:{tabBarIcon:function(e){var n=e.size,t=e.color,r=e.focused;return(0,Hn.jsx)(ju.default,{size:n,color:t,name:"account-group-outline",style:[$w.icon,r?$w.iconActive:void 0]})},unmountOnBlur:!0}})]})})}var $w=Vn.default.create({icon:{opacity:.75},iconActive:{opacity:1},label:{color:"#FFFFFF",fontSize:12}}),Vw=(0,_b.default)();function qw(){var e=l.useCallback((function(){return(0,Hn.jsx)(Zb,{})}),[]);return(0,Hn.jsx)(Vw.Navigator,{drawerContent:e,screenOptions:{drawerType:"back",headerShown:!1},children:(0,Hn.jsx)(Vw.Screen,{name:"LeftDrawer",component:Nw})})}var Gw={prefixes:[dp.makeUrl("/"),"https://www.openmanifest.org","https://staging.openmanifest.org","openmanifest://","http://localhost:19006"],config:{screens:{Authenticated:{screens:{LeftDrawer:{screens:{Overview:{screens:{DashboardScreen:"/dropzone/dashboard",OverviewScreen:"/overview"}},Manifest:{screens:{ManifestScreen:"/dropzone/manifest",DashboardScreen:"/dropzone/overview",User:{screens:{EquipmentScreen:"/dropzone/manifest/users/:userId/equipment/",OrderReceiptScreen:"/dropzone/manifest/users/:userId/orders/:orderId/receipts",ProfileScreen:"/dropzone/manifest/users/:userId",OrdersScreen:"/dropzone/manifest/users/:userId/orders",RigInspectionScreen:"/dropzone/manifest/users/:dropzoneUserId/rig/:rigId/inspection",UserListScreen:"/dropzone/manifest/users"}},Configuration:{screens:{AircraftScreen:"/dropzone/configuration/aircraft/:planeId",TicketTypesScreen:"/dropzone/configuration/ticket-types",DropzoneRigsScreen:"/dropzone/configuration/rigs",ExtrasScreen:"/dropzone/ticket-types/extra",MasterLogScreen:"/dropzone/master-log",SettingsMenuScreen:"/dropzone/configuration",AircraftsScreen:"/dropzone/configuration/aircrafts",DropzoneSettingsScreen:"/dropzone/configuration/basic",PermissionScreen:"/dropzone/configuration/permissions",RigInspectionTemplateScreen:"/dropzone/configuration/rig-inspection",TransactionsScreen:"/dropzone/transactions"}},JumpRunScreen:"/dropzone/weather/jumprun",WeatherConditionsScreen:"/dropzone/weather",LoadScreen:"/dropzone/load/:loadId",WindScreen:"/dropzone/weather/winds"}},Users:{screens:{UserListScreen:"/users",ProfileScreen:"/user/:userId",EquipmentScreen:"/user/:userId/equipment",OrdersScreen:"/user/:userId/transactions",OrderReceiptScreen:"/user/:userId/transactions/:orderId/receipt",RigInspectionScreen:"/user/:dropzoneUserId/rig-inspection/:rig"}},Notifications:{screens:{NotificationsScreen:"/notifications"}}}}}},Limbo:{screens:{DropzoneSelectScreen:"/select-dropzone"}},Unauthenticated:{screens:{LoginScreen:"/login",SignUpScreen:"/signup",SignUpWizard:"/user-setup"}},Wizards:{screens:{ConfirmUserScreen:"/confirm",RecoverPasswordScreen:"/recover-password",ChangePasswordScreen:"/change-password",DropzoneWizardScreen:"/setup",User:{screens:{UserListScreen:"/modal/users",ProfileScreen:"/modal/user/:userId",EquipmentScreen:"/modal/user/:userId/equipment",OrdersScreen:"/modal/user/:userId/transactions",OrderReceiptScreen:"/modal/user/:userId/transactions/:orderId/receipt",RigInspectionScreen:"/modal/user/:dropzoneUserId/rig-inspection/:rig"}}}}}}},Ww=(0,cp.default)();function _w(){var e=dn((function(e){return e.global}));return(0,Hn.jsxs)(Ww.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}},children:[e.credentials?e.currentDropzone?(0,Hn.jsx)(Ww.Screen,{name:"Authenticated",component:qw}):(0,Hn.jsx)(Ww.Screen,{name:"Limbo",component:Up}):(0,Hn.jsx)(Ww.Screen,{name:"Unauthenticated",component:ag}),(0,Hn.jsx)(Ww.Screen,{name:"Wizards",component:Wb}),(0,Hn.jsx)(Ww.Screen,{name:"NotFound",component:fp,options:{title:"Oops!"}})]})}function Hw(){var e,n;!function(){var e=dn((function(e){return e.global})),n=un(),t=l.useRef(Kf.default.addChangeListener((function(e){var t=e.colorScheme;t&&n(rn.global.setAppearance(t))})));l.useEffect((function(){var e=null==t?void 0:t.current;return function(){return null==e||null==e.remove?void 0:e.remove()}}),[n,e.isDarkMode,e.theme.colors.background])}();var t=dn((function(e){return e.global})),r=function(){var e=dn((function(e){return e.global})),n=un();return l.useCallback((function(t){if(t){var r=(0,ap.getPathFromState)(t).split(/\?/),o=(0,W.default)(r,1)[0].split(/\//).reverse(),i=(0,W.default)(o,1)[0];e.currentRouteName!==i&&n(rn.global.setCurrentRouteName(i))}}),[n,e.currentRouteName])}();return(0,Hn.jsx)(Ct,{children:(0,Hn.jsx)(wt,{children:(0,Hn.jsx)(Jf,{children:(0,Hn.jsx)(l.Suspense,{fallback:(0,Hn.jsx)(f.default,{style:{flex:1,flexGrow:1},children:(0,Hn.jsx)(d.default,{indeterminate:!0,color:null==t||null==(e=t.theme)||null==(n=e.colors)?void 0:n.primary,visible:!0})}),children:(0,Hn.jsx)(ir,{children:(0,Hn.jsx)(qf,{children:(0,Hn.jsx)(o.GestureHandlerRootView,{style:{flex:1},children:(0,Hn.jsx)(m.PortalProvider,{children:(0,Hn.jsxs)(a.SafeAreaProvider,{children:[(0,Hn.jsx)(up,{}),(0,Hn.jsxs)(Qn,{children:[(0,Hn.jsx)(p.default,{documentTitle:{formatter:function(){return"OpenManifest"}},onStateChange:r,linking:Gw,theme:t.theme,children:(0,Hn.jsx)(lr,{children:(0,Hn.jsx)(zf,{children:(0,Hn.jsx)(Mt,{children:(0,Hn.jsx)(Mf,{children:(0,Hn.jsx)(_w,{})})})})})}),(0,Hn.jsx)(i.default,{})]})]})})})})})})})})})}const Yw=function(){return function(){var e=l.useState(!1),n=(0,W.default)(e,2),r=n[0],o=n[1],i=np.useFonts(lp(lp(lp({Inter_400Regular:op.Inter_400Regular,Inter_500Medium:op.Inter_500Medium,Inter_700Bold:op.Inter_700Bold,Roboto_400Regular:Wf.Roboto_400Regular,Roboto_500Medium:Wf.Roboto_500Medium,Roboto_700Bold:Wf.Roboto_700Bold},ep.default.font),Xf.default.font),Zf.default.font)),a=(0,W.default)(i,1)[0];return l.useEffect((function(){function e(){return(e=(0,S.default)((function*(){try{rp.preventAutoHideAsync(),yield tp.loadAsync(lp(lp(lp(lp({},ep.default.font),Xf.default.font),Zf.default.font),{},{"space-mono":t(70370)})),o(!0)}catch(e){console.warn(e)}finally{rp.hideAsync()}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r&&a}()?(0,Hn.jsx)(s.Provider,{store:an,children:(0,Hn.jsx)(u.PersistGate,{persistor:sn,loading:(0,Hn.jsx)(f.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,Hn.jsx)(c.default,{size:"large"})}),children:(0,Hn.jsx)(Hw,{})})}):(console.debug("[App] Loading resources and rendering nothing"),null)};(0,r.default)(Yw)},70370:(e,n,t)=>{"use strict";e.exports=t.p+"static/media/SpaceMono-Regular.8dc9dfb5a618f0d496e9.ttf"},10057:()=>{},24654:()=>{},33133:e=>{"use strict";e.exports=JSON.parse('{"v":"5.5.1","fr":29.9700012207031,"ip":0,"op":33.0000013441176,"w":1500,"h":1500,"nm":"Photo","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Frame","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[750,750,0],"ix":2},"a":{"a":0,"k":[675.511,675.511,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.2,0.2,0.2],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":5,"s":[100,100,100]},{"i":{"x":[0.2,0.2,0.2],"y":[1,1,1]},"o":{"x":[0.177,0.177,0.177],"y":[0,0,0]},"t":10,"s":[92.6,92.6,100]},{"t":25.0000010182709,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[312.073,0],[0,0],[0,312.073],[0,0],[-312.073,0],[0,0],[0,-312.073],[0,0]],"o":[[0,0],[-312.073,0],[0,0],[0,-312.073],[0,0],[312.073,0],[0,0],[0,312.073]],"v":[[0,565.058],[0,565.058],[-565.058,0],[-565.058,-0.001],[0,-565.058],[0,-565.058],[565.058,-0.001],[565.058,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026188491373,0.021800510556,0.023205497218,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":1,"k":[{"i":{"x":[0.37],"y":[1]},"o":{"x":[0.243],"y":[0]},"t":5,"s":[44.181]},{"i":{"x":[0.069],"y":[1]},"o":{"x":[0.309],"y":[0]},"t":12,"s":[70]},{"t":25.0000010182709,"s":[44.181]}],"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[675.511,675.511],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":506.000020609802,"st":6.00000024438501,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Open Photo Outlines 5","parent":5,"td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[675.511,675.511,0],"ix":2},"a":{"a":0,"k":[675.511,675.511,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[40.642,7.652],[0,0],[-7.652,40.642],[0,0],[-40.642,-7.653],[0,0],[7.652,-40.642],[0,0]],"o":[[0,0],[-40.642,-7.652],[0,0],[7.652,-40.642],[0,0],[40.642,7.652],[0,0],[-7.652,40.642]],"v":[[183.298,256.277],[-263.948,172.068],[-323.682,84.623],[-270.743,-196.543],[-183.298,-256.276],[263.948,-172.067],[323.682,-84.622],[270.742,196.544]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026188491373,0.021800510556,0.023205497218,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":60,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.999999820485,0.999999760646,0.999999820485,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[744.407,682.378],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":13.0000005295009,"op":500.000020365417,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Open Photo Outlines 2","tt":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":5,"s":[0]},{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":12,"s":[-47.2]},{"t":25.0000010182709,"s":[-21.7]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":5,"s":[750,750,0],"to":[-42,-92,0],"ti":[50,-24,0]},{"i":{"x":0.2,"y":1},"o":{"x":0.333,"y":0},"t":12,"s":[624,618,0],"to":[-50,24,0],"ti":[0,0,0]},{"t":23.0000009368092,"s":[628,792,0]}],"ix":2},"a":{"a":0,"k":[675.511,675.511,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":5,"s":[100,100,100]},{"i":{"x":[0.2,0.2,0.2],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":12,"s":[73.6,73.6,100]},{"t":24.00000097754,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.333,"y":0},"t":12,"s":[{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-298.974,11.473],[-108.65,-80.904],[-22.871,11.415],[189.467,-145.849],[306.798,16.764],[267.775,145.848],[-306.798,48.951]],"c":true}]},{"i":{"x":0.2,"y":1},"o":{"x":0.167,"y":0.167},"t":15,"s":[{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-231.825,65.287],[-60.329,-72.044],[27.931,22.06],[194.597,-124.664],[306.798,16.764],[267.775,145.848],[-175.051,72.665]],"c":true}]},{"t":23.0000009368092,"s":[{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-41.813,100.895],[21.751,-56.994],[114.223,40.141],[203.31,-88.679],[306.798,16.764],[267.775,145.848],[48.737,112.944]],"c":true}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.026188491373,0.021800510556,0.023205497218,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[723.252,783.023],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.199,-31.616],[31.616,-1.199],[1.2,31.615],[-31.616,1.199]],"o":[[1.199,31.616],[-31.616,1.2],[-1.199,-31.616],[31.616,-1.199]],"v":[[57.246,-2.172],[2.172,57.245],[-57.246,2.172],[-2.172,-57.246]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.026188491373,0.021800510556,0.023205497218,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[675.511,595.959],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[40.642,7.652],[0,0],[-7.652,40.642],[0,0],[-40.642,-7.653],[0,0],[7.652,-40.642],[0,0]],"o":[[0,0],[-40.642,-7.652],[0,0],[7.652,-40.642],[0,0],[40.642,7.652],[0,0],[-7.652,40.642]],"v":[[183.298,256.277],[-263.948,172.068],[-323.682,84.623],[-270.743,-196.543],[-183.298,-256.276],[263.948,-172.067],[323.682,-84.622],[270.742,196.544]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026188491373,0.021800510556,0.023205497218,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":50,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[744.407,682.378],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":500.000020365417,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Open Photo Outlines 6","parent":3,"td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[675.511,675.511,0],"ix":2},"a":{"a":0,"k":[675.511,675.511,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[40.642,7.652],[0,0],[-7.652,40.642],[0,0],[-40.642,-7.653],[0,0],[7.652,-40.642],[0,0]],"o":[[0,0],[-40.642,-7.652],[0,0],[7.652,-40.642],[0,0],[40.642,7.652],[0,0],[-7.652,40.642]],"v":[[183.298,256.277],[-263.948,172.068],[-323.682,84.623],[-270.743,-196.543],[-183.298,-256.276],[263.948,-172.067],[323.682,-84.622],[270.742,196.544]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026188491373,0.021800510556,0.023205497218,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":60,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.999999820485,0.999999760646,0.999999820485,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[744.407,682.378],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":13.0000005295009,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Open Photo Outlines 4","tt":2,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":5,"s":[-21.7]},{"i":{"x":[0.2],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":15,"s":[-20.9]},{"t":28.0000011404634,"s":[0]}],"ix":10},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":5,"s":[628,792,0],"to":[0,0,0],"ti":[-120,34,0]},{"i":{"x":0.2,"y":1},"o":{"x":0.333,"y":0},"t":15,"s":[872,1018,0],"to":[120,-34,0],"ti":[142,52,0]},{"t":26.0000010590017,"s":[750,750,0]}],"ix":2},"a":{"a":0,"k":[675.511,675.511,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":5,"s":[100,100,100]},{"i":{"x":[0.2,0.2,0.2],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":15,"s":[63,63,100]},{"t":27.0000010997325,"s":[100,100,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":5,"s":[{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-41.813,100.895],[21.751,-56.994],[114.223,40.141],[203.31,-88.679],[306.798,16.764],[267.775,145.848],[48.737,112.944]],"c":true}]},{"i":{"x":0.2,"y":1},"o":{"x":0.167,"y":0.167},"t":15,"s":[{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-241.182,67.291],[-105.183,-80.268],[-19.226,12.179],[189.835,-144.329],[306.798,16.764],[267.775,145.848],[-297.346,50.653]],"c":true}]},{"t":18.000000733155,"s":[{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-298.974,11.473],[-108.65,-80.904],[-22.871,11.415],[189.467,-145.849],[306.798,16.764],[267.775,145.848],[-306.798,48.951]],"c":true}]}],"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.026188491373,0.021800510556,0.023205497218,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[723.252,783.023],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.199,-31.616],[31.616,-1.199],[1.2,31.615],[-31.616,1.199]],"o":[[1.199,31.616],[-31.616,1.2],[-1.199,-31.616],[31.616,-1.199]],"v":[[57.246,-2.172],[2.172,57.245],[-57.246,2.172],[-2.172,-57.246]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.026188491373,0.021800510556,0.023205497218,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":1,"k":[{"i":{"x":0.833,"y":1},"o":{"x":0.333,"y":0},"t":8,"s":[815.511,855.959],"to":[-20,-20],"ti":[23.333,43.333]},{"i":{"x":0.2,"y":1},"o":{"x":0.333,"y":0},"t":17,"s":[695.511,735.959],"to":[-23.333,-43.333],"ti":[3.333,23.333]},{"t":27.0000010997325,"s":[675.511,595.959]}],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[40.642,7.652],[0,0],[-7.652,40.642],[0,0],[-40.642,-7.653],[0,0],[7.652,-40.642],[0,0]],"o":[[0,0],[-40.642,-7.652],[0,0],[7.652,-40.642],[0,0],[40.642,7.652],[0,0],[-7.652,40.642]],"v":[[183.298,256.277],[-263.948,172.068],[-323.682,84.623],[-270.743,-196.543],[-183.298,-256.276],[263.948,-172.067],[323.682,-84.622],[270.742,196.544]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.026188491373,0.021800510556,0.023205497218,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":50,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[744.407,682.378],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":500.000020365417,"st":0,"bm":0}],"markers":[{"tm":5.00000020365417,"cm":"","dr":0},{"tm":25.0000010182709,"cm":"","dr":0}]}')},14215:e=>{"use strict";e.exports=JSON.parse('{"v":"5.4.3","fr":29.9700012207031,"ip":0,"op":70.0000028511585,"w":307,"h":389,"nm":"refresh-button","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-44,"ix":10},"p":{"a":0,"k":[154.149,195.327,0],"ix":2},"a":{"a":0,"k":[-2.021,-4,0],"ix":1},"s":{"a":0,"k":[71.946,71.946,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.8784313725490196,0.396078431372549,0.396078431372549,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"d":[{"n":"d","nm":"dash","v":{"a":0,"k":33,"ix":1}},{"n":"o","nm":"offset","v":{"a":0,"k":0,"ix":7}}],"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.625],"y":[0]},"n":["0p667_1_0p625_0"],"t":26,"s":[0],"e":[100]},{"t":65.0000026475043}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"n":["0p667_1_1_0"],"t":7,"s":[0],"e":[100]},{"t":41.0000016699642}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[-179],"e":[181]},{"t":65.0000026475043}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-44,"ix":10},"p":{"a":0,"k":[154.149,195.327,0],"ix":2},"a":{"a":0,"k":[-2.021,-4,0],"ix":1},"s":{"a":0,"k":[71.946,71.946,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,0.0784313725490196,0.0784313725490196,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"d":[{"n":"d","nm":"dash","v":{"a":0,"k":33,"ix":1}},{"n":"o","nm":"offset","v":{"a":0,"k":0,"ix":7}}],"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.625],"y":[0]},"n":["0p667_1_0p625_0"],"t":26,"s":[0],"e":[100]},{"t":65.0000026475043}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"n":["0p667_1_1_0"],"t":0,"s":[0],"e":[100]},{"t":41.0000016699642}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[-224],"e":[136]},{"t":65.0000026475043}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-44,"ix":10},"p":{"a":0,"k":[154.149,195.327,0],"ix":2},"a":{"a":0,"k":[-2.021,-4,0],"ix":1},"s":{"a":0,"k":[46.072,46.072,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,0.0784313725490196,0.2549019607843137,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"n":["0p667_1_1_0"],"t":0,"s":[100],"e":[0]},{"t":38.0000015477717}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.733],"y":[0.015]},"n":["0p667_1_0p733_0p015"],"t":19,"s":[100],"e":[0]},{"t":60.0000024438501}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[-319],"e":[-679]},{"t":65.0000026475043}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-44,"ix":10},"p":{"a":0,"k":[154.149,195.327,0],"ix":2},"a":{"a":0,"k":[-2.021,-4,0],"ix":1},"s":{"a":0,"k":[46.072,46.072,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"n":["0p667_1_1_0"],"t":0,"s":[100],"e":[0]},{"t":38.0000015477717}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.733],"y":[0.015]},"n":["0p667_1_0p733_0p015"],"t":19,"s":[100],"e":[0]},{"t":60.0000024438501}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[-224],"e":[-584]},{"t":65.0000026475043}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[4.436],"e":[-355.564]},{"t":69.0000028104276}],"ix":10},"p":{"a":0,"k":[155,194,0],"ix":2},"a":{"a":0,"k":[-1.5,-4,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,0.0784313725490196,0.0784313725490196,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":1,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":0,"k":85,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[4.436],"e":[-355.564]},{"t":69.0000028104276}],"ix":10},"p":{"a":0,"k":[155,194,0],"ix":2},"a":{"a":0,"k":[-1.5,-4,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,0.0784313725490196,0.0784313725490196,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":1,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":0,"k":85,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"refresh-button Outlines","parent":7,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":85.093,"ix":10},"p":{"a":0,"k":[-6.619,-112.041,0],"ix":2},"a":{"a":0,"k":[188.881,115.959,0],"ix":1},"s":{"a":0,"k":[58.516,58.516,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[1.875,-1.875],[-1.875,-1.875],[0,0],[-1.274,0],[-0.898,0.903],[0,0],[1.875,1.875],[1.875,-1.875],[0,0]],"o":[[-1.875,-1.875],[-1.875,1.875],[0,0],[0.899,0.903],[1.277,0],[0,0],[1.875,-1.875],[-1.875,-1.875],[0,0],[0,0]],"v":[[-14.662,-12.188],[-21.451,-12.188],[-21.451,-5.398],[-3.393,12.656],[-0.002,14.063],[3.392,12.656],[21.451,-5.398],[21.451,-12.188],[14.662,-12.188],[-0.002,2.473]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[-14.662,-12.188]],"c":false},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.0784313725490196,0.2549019607843137,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[188.943,118.162],"ix":2},"a":{"a":0,"k":[0.062,2.438],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0}],"markers":[]}')},25202:e=>{"use strict";e.exports=JSON.parse('{"v":"5.5.7","meta":{"g":"LottieFiles AE 0.1.20","a":"","k":"","d":"","tc":""},"fr":30,"ip":0,"op":40,"w":240,"h":239,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":3,"ty":4,"nm":"AddUser","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[45]},{"t":10,"s":[0]}],"ix":10,"x":"var $bm_rt;\\nvar enable, amp, freq, decay, n, t, v;\\ntry {\\n    $bm_rt = enable = effect(\'Excite - Rotation\')(\'Pseudo/BNCA2506f0b33-0001\');\\n    if (enable == 0) {\\n        $bm_rt = value;\\n    } else {\\n        amp = $bm_div(effect(\'Excite - Rotation\')(\'Pseudo/BNCA2506f0b33-0003\'), 2.5);\\n        freq = $bm_div(effect(\'Excite - Rotation\')(\'Pseudo/BNCA2506f0b33-0004\'), 20);\\n        decay = $bm_div(effect(\'Excite - Rotation\')(\'Pseudo/BNCA2506f0b33-0005\'), 20);\\n        n = 0, 0 < numKeys && (n = nearestKey(time).index, key(n).time > time && n--), t = 0 === n ? 0 : $bm_sub(time, key(n).time), $bm_rt = 0 < n ? (v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10))), $bm_sum(value, $bm_div($bm_mul($bm_mul($bm_div(v, 100), amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))))) : value;\\n    }\\n} catch (err) {\\n    $bm_rt = value = value;\\n}"},"p":{"a":0,"k":[127.508,117.243,0],"ix":2},"a":{"a":0,"k":[127.508,117.243,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":0,"s":[0,0,100]},{"t":6,"s":[100,100,100]}],"ix":6,"x":"var $bm_rt;\\nvar enable, amp, freq, decay, n, t, v;\\ntry {\\n    $bm_rt = enable = effect(\'Excite - Scale\')(\'Pseudo/BNCA2506f0b33-0001\');\\n    if (enable == 0) {\\n        $bm_rt = value;\\n    } else {\\n        amp = $bm_div(effect(\'Excite - Scale\')(\'Pseudo/BNCA2506f0b33-0003\'), 2.5);\\n        freq = $bm_div(effect(\'Excite - Scale\')(\'Pseudo/BNCA2506f0b33-0004\'), 20);\\n        decay = $bm_div(effect(\'Excite - Scale\')(\'Pseudo/BNCA2506f0b33-0005\'), 20);\\n        n = 0, 0 < numKeys && (n = nearestKey(time).index, key(n).time > time && n--), t = 0 === n ? 0 : $bm_sub(time, key(n).time), $bm_rt = 0 < n ? (v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10))), $bm_sum(value, $bm_div($bm_mul($bm_mul($bm_div(v, 100), amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))))) : value;\\n    }\\n} catch (err) {\\n    $bm_rt = value = value;\\n}"}},"ao":0,"ef":[{"ty":5,"nm":"Excite - Scale","np":8,"mn":"Pseudo/BNCA2506f0b33","ix":1,"en":1,"ef":[{"ty":7,"nm":"Enable","mn":"Pseudo/BNCA2506f0b33-0001","ix":1,"v":{"a":0,"k":1,"ix":1}},{"ty":6,"nm":"Properties","mn":"Pseudo/BNCA2506f0b33-0002","ix":2,"v":0},{"ty":0,"nm":"Overshoot","mn":"Pseudo/BNCA2506f0b33-0003","ix":3,"v":{"a":0,"k":30,"ix":3,"x":"var $bm_rt;\\n$bm_rt = clamp(value, 0, 100);"}},{"ty":0,"nm":"Bounce","mn":"Pseudo/BNCA2506f0b33-0004","ix":4,"v":{"a":0,"k":15,"ix":4,"x":"var $bm_rt;\\n$bm_rt = clamp(value, 0, 100);"}},{"ty":0,"nm":"Friction","mn":"Pseudo/BNCA2506f0b33-0005","ix":5,"v":{"a":0,"k":60,"ix":5,"x":"var $bm_rt;\\n$bm_rt = clamp(value, 0, 100);"}},{"ty":6,"nm":"","mn":"Pseudo/BNCA2506f0b33-0006","ix":6,"v":0}]},{"ty":5,"nm":"Excite - Rotation","np":8,"mn":"Pseudo/BNCA2506f0b33","ix":2,"en":1,"ef":[{"ty":7,"nm":"Enable","mn":"Pseudo/BNCA2506f0b33-0001","ix":1,"v":{"a":0,"k":1,"ix":1}},{"ty":6,"nm":"Properties","mn":"Pseudo/BNCA2506f0b33-0002","ix":2,"v":0},{"ty":0,"nm":"Overshoot","mn":"Pseudo/BNCA2506f0b33-0003","ix":3,"v":{"a":0,"k":45,"ix":3,"x":"var $bm_rt;\\n$bm_rt = clamp(value, 0, 100);"}},{"ty":0,"nm":"Bounce","mn":"Pseudo/BNCA2506f0b33-0004","ix":4,"v":{"a":0,"k":40,"ix":4,"x":"var $bm_rt;\\n$bm_rt = clamp(value, 0, 100);"}},{"ty":0,"nm":"Friction","mn":"Pseudo/BNCA2506f0b33-0005","ix":5,"v":{"a":0,"k":70,"ix":5,"x":"var $bm_rt;\\n$bm_rt = clamp(value, 0, 100);"}},{"ty":6,"nm":"","mn":"Pseudo/BNCA2506f0b33-0006","ix":6,"v":0}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,6.721],[6.706,0],[0,-6.72],[-6.706,0]],"o":[[0,-6.72],[-6.706,0],[0,6.721],[6.706,0]],"v":[[3.034,-12.164],[-9.103,-24.327],[-21.241,-12.164],[-9.103,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[9.103,-6.082],[9.103,0],[18.207,0],[18.207,9.122],[24.275,9.122],[24.275,0],[33.379,0],[33.379,-6.082],[24.275,-6.082],[24.275,-15.204],[18.207,-15.204],[18.207,-6.082]],"c":true},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ind":2,"ty":"sh","ix":3,"ks":{"a":0,"k":{"i":[[0,-8.089],[0,0],[0,0],[0,0],[8.102,0]],"o":[[0,0],[0,0],[0,0],[0,-8.089],[-8.102,0]],"v":[[-33.379,18.245],[-33.379,24.327],[15.172,24.327],[15.172,18.245],[-9.103,6.082]],"c":true},"ix":2},"nm":"Path 3","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[127.508,117.243],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":5,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":40,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[45]},{"t":10,"s":[0]}],"ix":10,"x":"var $bm_rt;\\nvar enable, amp, freq, decay, n, t, v;\\ntry {\\n    $bm_rt = enable = effect(\'Excite - Rotation\')(\'Pseudo/BNCA2506f0b33-0001\');\\n    if (enable == 0) {\\n        $bm_rt = value;\\n    } else {\\n        amp = $bm_div(effect(\'Excite - Rotation\')(\'Pseudo/BNCA2506f0b33-0003\'), 2.5);\\n        freq = $bm_div(effect(\'Excite - Rotation\')(\'Pseudo/BNCA2506f0b33-0004\'), 20);\\n        decay = $bm_div(effect(\'Excite - Rotation\')(\'Pseudo/BNCA2506f0b33-0005\'), 20);\\n        n = 0, 0 < numKeys && (n = nearestKey(time).index, key(n).time > time && n--), t = 0 === n ? 0 : $bm_sub(time, key(n).time), $bm_rt = 0 < n ? (v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10))), $bm_sum(value, $bm_div($bm_mul($bm_mul($bm_div(v, 100), amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))))) : value;\\n    }\\n} catch (err) {\\n    $bm_rt = value = value;\\n}"},"p":{"a":0,"k":[119.971,119.805,0],"ix":2},"a":{"a":0,"k":[119.971,119.805,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.833,0.833,0.833],"y":[0.833,0.833,0.833]},"o":{"x":[0.167,0.167,0.167],"y":[0.167,0.167,0.167]},"t":0,"s":[0,0,100]},{"t":6,"s":[100,100,100]}],"ix":6,"x":"var $bm_rt;\\nvar enable, amp, freq, decay, n, t, v;\\ntry {\\n    $bm_rt = enable = effect(\'Excite - Scale\')(\'Pseudo/BNCA2506f0b33-0001\');\\n    if (enable == 0) {\\n        $bm_rt = value;\\n    } else {\\n        amp = $bm_div(effect(\'Excite - Scale\')(\'Pseudo/BNCA2506f0b33-0003\'), 2.5);\\n        freq = $bm_div(effect(\'Excite - Scale\')(\'Pseudo/BNCA2506f0b33-0004\'), 20);\\n        decay = $bm_div(effect(\'Excite - Scale\')(\'Pseudo/BNCA2506f0b33-0005\'), 20);\\n        n = 0, 0 < numKeys && (n = nearestKey(time).index, key(n).time > time && n--), t = 0 === n ? 0 : $bm_sub(time, key(n).time), $bm_rt = 0 < n ? (v = velocityAtTime($bm_sub(key(n).time, $bm_div(thisComp.frameDuration, 10))), $bm_sum(value, $bm_div($bm_mul($bm_mul($bm_div(v, 100), amp), Math.sin($bm_mul($bm_mul($bm_mul(freq, t), 2), Math.PI))), Math.exp($bm_mul(decay, t))))) : value;\\n    }\\n} catch (err) {\\n    $bm_rt = value = value;\\n}"}},"ao":0,"ef":[{"ty":5,"nm":"Excite - Scale","np":8,"mn":"Pseudo/BNCA2506f0b33","ix":1,"en":1,"ef":[{"ty":7,"nm":"Enable","mn":"Pseudo/BNCA2506f0b33-0001","ix":1,"v":{"a":0,"k":1,"ix":1}},{"ty":6,"nm":"Properties","mn":"Pseudo/BNCA2506f0b33-0002","ix":2,"v":0},{"ty":0,"nm":"Overshoot","mn":"Pseudo/BNCA2506f0b33-0003","ix":3,"v":{"a":0,"k":30,"ix":3,"x":"var $bm_rt;\\n$bm_rt = clamp(value, 0, 100);"}},{"ty":0,"nm":"Bounce","mn":"Pseudo/BNCA2506f0b33-0004","ix":4,"v":{"a":0,"k":15,"ix":4,"x":"var $bm_rt;\\n$bm_rt = clamp(value, 0, 100);"}},{"ty":0,"nm":"Friction","mn":"Pseudo/BNCA2506f0b33-0005","ix":5,"v":{"a":0,"k":60,"ix":5,"x":"var $bm_rt;\\n$bm_rt = clamp(value, 0, 100);"}},{"ty":6,"nm":"","mn":"Pseudo/BNCA2506f0b33-0006","ix":6,"v":0}]},{"ty":5,"nm":"Excite - Rotation","np":8,"mn":"Pseudo/BNCA2506f0b33","ix":2,"en":1,"ef":[{"ty":7,"nm":"Enable","mn":"Pseudo/BNCA2506f0b33-0001","ix":1,"v":{"a":0,"k":1,"ix":1}},{"ty":6,"nm":"Properties","mn":"Pseudo/BNCA2506f0b33-0002","ix":2,"v":0},{"ty":0,"nm":"Overshoot","mn":"Pseudo/BNCA2506f0b33-0003","ix":3,"v":{"a":0,"k":45,"ix":3,"x":"var $bm_rt;\\n$bm_rt = clamp(value, 0, 100);"}},{"ty":0,"nm":"Bounce","mn":"Pseudo/BNCA2506f0b33-0004","ix":4,"v":{"a":0,"k":40,"ix":4,"x":"var $bm_rt;\\n$bm_rt = clamp(value, 0, 100);"}},{"ty":0,"nm":"Friction","mn":"Pseudo/BNCA2506f0b33-0005","ix":5,"v":{"a":0,"k":60,"ix":5,"x":"var $bm_rt;\\n$bm_rt = clamp(value, 0, 100);"}},{"ty":6,"nm":"","mn":"Pseudo/BNCA2506f0b33-0006","ix":6,"v":0}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-35.442,0],[0,35.3],[35.442,0],[0,-35.299]],"o":[[35.442,0],[0,-35.299],[-35.442,0],[0,35.3]],"v":[[-0.001,63.916],[64.173,-0.001],[-0.001,-63.916],[-64.173,-0.001]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.588000009574,0.294000004787,0.922000002394,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[119.971,119.805],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":40,"st":0,"bm":0},{"ddd":0,"ind":9,"ty":4,"nm":"Big line","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[120,119.5,0],"ix":2},"a":{"a":0,"k":[120,119.5,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-65.722,0],[0,65.446],[65.722,0],[0,-65.446]],"o":[[65.722,0],[0,-65.446],[-65.722,0],[0,65.446]],"v":[[0,118.5],[119,0],[0,-118.5],[-119,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.980000035903,0.964999988032,0.995999983245,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"d":[{"n":"d","nm":"dash","v":{"a":0,"k":12,"ix":1}},{"n":"g","nm":"gap","v":{"a":0,"k":12,"ix":2}},{"n":"o","nm":"offset","v":{"a":0,"k":0,"ix":7}}],"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[120,119.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.67],"y":[1]},"o":{"x":[0.75],"y":[0]},"t":13,"s":[0]},{"t":32,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":40,"st":0,"bm":0},{"ddd":0,"ind":10,"ty":4,"nm":"Small line","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[120.101,119.619,0],"ix":2},"a":{"a":0,"k":[120.101,119.619,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-53.828,0],[0,53.613],[53.829,0],[0,-53.612]],"o":[[53.829,0],[0,-53.612],[-53.828,0],[0,53.613]],"v":[[-0.001,97.074],[97.465,0],[-0.001,-97.074],[-97.465,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.894000004787,0.819999964097,0.980000035903,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":1,"lj":1,"ml":10,"bm":0,"d":[{"n":"d","nm":"dash","v":{"a":0,"k":12,"ix":1}},{"n":"g","nm":"gap","v":{"a":0,"k":12,"ix":2}},{"n":"o","nm":"offset","v":{"a":0,"k":0,"ix":7}}],"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[120.101,119.619],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.67],"y":[1]},"o":{"x":[0.75],"y":[0]},"t":5,"s":[0]},{"t":24,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":40,"st":0,"bm":0}],"markers":[]}')}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}t.m=e,(()=>{var e=[];t.O=(n,r,o,i)=>{if(!r){var l=1/0;for(d=0;d<e.length;d++){for(var[r,o,i]=e[d],a=!0,s=0;s<r.length;s++)(!1&i||l>=i)&&Object.keys(t.O).every((e=>t.O[e](r[s])))?r.splice(s--,1):(a=!1,i<l&&(l=i));if(a){e.splice(d--,1);var u=o();void 0!==u&&(n=u)}}return n}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,o,i]}})(),t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},(()=>{var e,n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;t.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);t.r(i);var l={};e=e||[null,n({}),n([]),n(n)];for(var a=2&o&&r;"object"==typeof a&&!~e.indexOf(a);a=n(a))Object.getOwnPropertyNames(a).forEach((e=>l[e]=()=>r[e]));return l.default=()=>r,t.d(i,l),i}})(),t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),t.p="/",(()=>{var e={179:0};t.O.j=n=>0===e[n];var n=(n,r)=>{var o,i,[l,a,s]=r,u=0;if(l.some((n=>0!==e[n]))){for(o in a)t.o(a,o)&&(t.m[o]=a[o]);if(s)var d=s(t)}for(n&&n(r);u<l.length;u++)i=l[u],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(d)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})(),t.nc=void 0,t.O(void 0,[208],(()=>t(38925)));var r=t.O(void 0,[208],(()=>t(23817)));r=t.O(r)})();
//# sourceMappingURL=main.f60bdfeb.js.map