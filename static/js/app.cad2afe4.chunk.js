(this.webpackJsonp=this.webpackJsonp||[]).push([[1],{160:function(e,n,t){"use strict";t.d(n,"a",(function(){return g}));var r=t(4),a=t.n(r),i=t(5),o=t.n(i),l=t(3),s=t.n(l),c=t(0),u=t(1),d=t(351),m=t(110);t(244);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(e){var n=e.width,t=e.height,r=e.position,a=e.children,i=e.center,l=e.coords,f=e.shape,g=e.interactive,v=e.onDragEnd,h=Object(d.b)({googleMapsApiKey:void 0,id:"google-maps-script"}).isLoaded,b=e.containerStyle,y=e.mapStyle,x=c.useRef(null),E=c.useCallback((function(e){var n,t,r;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return x.current=e,a.prev=1,a.next=4,s.a.awrap(m.b());case 4:if(n=a.sent,"granted"===n.status){a.next=8;break}return a.abrupt("return");case 8:a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),r=new window.google.maps.LatLngBounds,null==(t=x.current)||t.fitBounds(r);case 14:case"end":return a.stop()}}),null,null,[[1,10]],Promise)}),[]),k=c.useCallback((function(){x.current=null}),[]),S=(c.useRef(),c.useCallback((function(e,n){}),[]));c.useEffect((function(){i&&(console.log({center:i,coords:l}),S(i.lat,i.lng))}),[i,l,S]);var w=c.useState(),C=o()(w,2),z=C[0],O=C[1];return h?c.createElement(u.a,{onLayout:function(e){var n=e.nativeEvent;return O(n.layout)},style:p({width:n,height:t,borderRadius:"round"===f&&null!=z&&z.width?z.width/2:void 0,overflow:"hidden",position:"absolute",top:r.y,left:r.x},b),pointerEvents:g?void 0:"none"},c.createElement(d.a,{onLoad:function(e){x.current=e,E(e)},center:l,onDragEnd:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){null==v||v({lat:x.current.center.lat(),lng:x.current.center.lng()})})),onUnmount:k,mapContainerStyle:p({width:"100%",height:"100%"},y),options:{zoom:15,fullscreenControl:!1,streetViewControl:!1,mapTypeControl:!1,zoomControl:!1,mapTypeId:"satellite"}},a)):null}},244:function(e,n,t){"use strict";function r(e){return e*(Math.PI/180)}function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=69.172,a=Math.cos(r(e))*t;return n/a}t.d(n,"a",(function(){return a}))},311:function(e,n,t){"use strict";function r(e){var n=e.x,t=e.y,r=e.degrees,a=e.radius,i=e.offsetX,o=e.offsetY;return{x:n+a+i+a*Math.sin((r+180)*Math.PI/180),y:t+a+o+a*-Math.cos((r+180)*Math.PI/180)}}t.d(n,"a",(function(){return r}))},313:function(e,n,t){e.exports=t.p+"static/media/logo.6fa2ed95.png"},480:function(e){e.exports=JSON.parse('{"assets":[],"layers":[{"ddd":0,"ind":0,"ty":4,"nm":"line4","ks":{"o":{"k":100},"r":{"k":-180},"p":{"k":[96.75,100.25,0]},"a":{"k":[30,-31.5,0]},"s":{"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[30,-31.5],[38.75,-21.5]],"c":false}},"nm":"Path 1"},{"ty":"st","fillEnabled":true,"c":{"k":[0.8588235294117647,0.09803921568627451,0.09803921568627451,1]},"o":{"k":100},"w":{"k":3},"lc":2,"lj":1,"ml":4,"nm":"Stroke 1"},{"ty":"tr","p":{"k":[0,0],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1"},{"ty":"tm","s":{"k":[{"i":{"x":[0.25],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p25_1_0p333_0"],"t":8.75,"s":[0],"e":[100]},{"t":12.5}],"ix":1},"e":{"k":[{"i":{"x":[0.25],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p25_1_0p333_0"],"t":12.5,"s":[0],"e":[100]},{"t":16.25}],"ix":2},"o":{"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1"}],"ip":8,"op":31,"st":10,"bm":0,"sr":1},{"ddd":0,"ind":1,"ty":4,"nm":"line2","ks":{"o":{"k":100},"r":{"k":0},"p":{"k":[143.75,153.25,0]},"a":{"k":[30,-31.5,0]},"s":{"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[30,-31.5],[38.75,-21.5]],"c":false}},"nm":"Path 1"},{"ty":"st","fillEnabled":true,"c":{"k":[0.7215686274509804,0.050980392156862744,0.050980392156862744,1]},"o":{"k":100},"w":{"k":3},"lc":2,"lj":1,"ml":4,"nm":"Stroke 1"},{"ty":"tr","p":{"k":[0,0],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1"},{"ty":"tm","s":{"k":[{"i":{"x":[0.25],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p25_1_0p333_0"],"t":9.5,"s":[0],"e":[100]},{"t":13.25}],"ix":1},"e":{"k":[{"i":{"x":[0.25],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p25_1_0p333_0"],"t":13.25,"s":[0],"e":[100]},{"t":17}],"ix":2},"o":{"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1"}],"ip":9,"op":31,"st":11,"bm":0,"sr":1},{"ddd":0,"ind":2,"ty":4,"nm":"line3","ks":{"o":{"k":100},"r":{"k":-180},"p":{"k":[129,114,0]},"a":{"k":[0,0,0]},"s":{"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[30,-31.5],[39.25,-40.75]],"c":false}},"nm":"Path 1"},{"ty":"st","fillEnabled":true,"c":{"k":[0.9215686274509803,0.1803921568627451,0.1803921568627451,1]},"o":{"k":100},"w":{"k":3},"lc":2,"lj":1,"ml":4,"nm":"Stroke 1"},{"ty":"tr","p":{"k":[0,0],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1"},{"ty":"tm","s":{"k":[{"i":{"x":[0.25],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p25_1_0p333_0"],"t":11.75,"s":[0],"e":[100]},{"t":15.5}],"ix":1},"e":{"k":[{"i":{"x":[0.25],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p25_1_0p333_0"],"t":15.5,"s":[0],"e":[100]},{"t":19.25}],"ix":2},"o":{"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1"}],"ip":11,"op":31,"st":14,"bm":0,"sr":1},{"ddd":0,"ind":3,"ty":4,"nm":"line1","ks":{"o":{"k":100},"r":{"k":0},"p":{"k":[125,125,0]},"a":{"k":[0,0,0]},"s":{"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[30,-31.5],[42.5,-43.5]],"c":false}},"nm":"Path 1"},{"ty":"st","fillEnabled":true,"c":{"k":[1,0.0784313725490196,0.0784313725490196,1]},"o":{"k":100},"w":{"k":3},"lc":2,"lj":1,"ml":4,"nm":"Stroke 1"},{"ty":"tr","p":{"k":[0,0],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1"},{"ty":"tm","s":{"k":[{"i":{"x":[0.25],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p25_1_0p333_0"],"t":11,"s":[0],"e":[100]},{"t":14.75}],"ix":1},"e":{"k":[{"i":{"x":[0.25],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p25_1_0p333_0"],"t":14.75,"s":[0],"e":[100]},{"t":18.5}],"ix":2},"o":{"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1"}],"ip":11,"op":31,"st":13,"bm":0,"sr":1},{"ddd":0,"ind":4,"ty":4,"nm":"Layer 3 Outlines","ks":{"o":{"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":50,"s":[100],"e":[0]},{"t":60}]},"r":{"k":0},"p":{"k":[124.75,123.375,0]},"a":{"k":[29.25,25.875,0]},"s":{"k":[{"i":{"x":[0.25,0.25,0.667],"y":[1.15,1.15,0.667]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0.333]},"n":["0p25_1p15_0p333_0","0p25_1p15_0p333_0","0p667_0p667_0p333_0p333"],"t":11,"s":[0,0,100],"e":[100,100,100]},{"t":18.5}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-11.75,1.75],[-4.875,8.375],[11.75,-8.375]],"c":false}},"nm":"Path 1"},{"ty":"st","fillEnabled":true,"c":{"k":[1,1,1,1]},"o":{"k":100},"w":{"k":7},"lc":1,"lj":1,"ml":10,"nm":"Stroke 1"},{"ty":"tr","p":{"k":[29.25,25.875],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1"}],"ip":11,"op":31,"st":13,"bm":0,"sr":1},{"ddd":0,"ind":5,"ty":4,"nm":"Layer 4 Outlines 2","ks":{"o":{"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":50,"s":[100],"e":[0]},{"t":60}]},"r":{"k":0},"p":{"k":[125,125,0]},"a":{"k":[24.75,24.75,0]},"s":{"k":[{"i":{"x":[0.25,0.25,0.667],"y":[1.149,1.149,0.667]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0.333]},"n":["0p25_1p149_0p333_0","0p25_1p149_0p333_0","0p667_0p667_0p333_0p333"],"t":8,"s":[0,0,100],"e":[101,101,100]},{"t":15.5}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"k":{"i":[[0,-13.531],[13.531,0],[0,13.531],[-13.531,0]],"o":[[0,13.531],[-13.531,0],[0,-13.531],[13.531,0]],"v":[[24.5,0],[0,24.5],[-24.5,0],[0,-24.5]],"c":true}},"nm":"Path 1"},{"ty":"fl","fillEnabled":true,"c":{"k":[1,0.0784313725490196,0.0784313725490196,1]},"o":{"k":100},"nm":"Fill 1"},{"ty":"tr","p":{"k":[24.75,24.75],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1"}],"ip":8,"op":31,"st":9,"bm":0,"sr":1},{"ddd":0,"ind":6,"ty":4,"nm":"Layer 4 Outlines","ks":{"o":{"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":50,"s":[100],"e":[0]},{"t":60}]},"r":{"k":0},"p":{"k":[125,125,0]},"a":{"k":[24.75,24.75,0]},"s":{"k":[{"i":{"x":[0.25,0.25,0.667],"y":[1.15,1.15,0.667]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0.333]},"n":["0p25_1p15_0p333_0","0p25_1p15_0p333_0","0p667_0p667_0p333_0p333"],"t":5,"s":[0,0,100],"e":[100,100,100]},{"t":12.5}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"k":{"i":[[0,-13.531],[13.531,0],[0,13.531],[-13.531,0]],"o":[[0,13.531],[-13.531,0],[0,-13.531],[13.531,0]],"v":[[24.5,0],[0,24.5],[-24.5,0],[0,-24.5]],"c":true}},"nm":"Path 1"},{"ty":"fl","fillEnabled":true,"c":{"k":[0.95,0.95,0.95,1]},"o":{"k":100},"nm":"Fill 1"},{"ty":"tr","p":{"k":[24.75,24.75],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1"}],"ip":5,"op":31,"st":5,"bm":0,"sr":1},{"ddd":0,"ind":7,"ty":4,"nm":"Layer 5 Outlines","ks":{"o":{"k":100},"r":{"k":0},"p":{"k":[124.706,124.564,0]},"a":{"k":[19.206,17.064,0]},"s":{"k":[{"i":{"x":[0.25,0.25,0.667],"y":[1,1,0.667]},"o":{"x":[0.75,0.75,0.333],"y":[0,0,0.333]},"n":["0p25_1_0p75_0","0p25_1_0p75_0","0p667_0p667_0p333_0p333"],"t":5,"s":[100,100,100],"e":[0,0,100]},{"t":12.5}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"k":{"i":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],"v":[[-4.848,12.064],[-14.206,3.047],[-9.349,-1.994],[-4.957,2.239],[9.238,-12.064],[14.206,-7.132]],"c":true}},"nm":"Path 1"},{"ty":"st","fillEnabled":true,"c":{"k":[0.8,0.8,0.8,1]},"o":{"k":100},"w":{"k":2},"lc":1,"lj":1,"ml":10,"nm":"Stroke 1"},{"ty":"fl","fillEnabled":true,"c":{"k":[1,1,1,1]},"o":{"k":100},"nm":"Fill 1"},{"ty":"tr","p":{"k":[19.206,17.065],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1"}],"ip":0,"op":15,"st":-10,"bm":0,"sr":1},{"ddd":0,"ind":8,"ty":4,"nm":"Layer 7/Asset Outlines","ks":{"o":{"k":100},"r":{"k":0},"p":{"k":[125,125,0]},"a":{"k":[29.5,29.5,0]},"s":{"k":[{"i":{"x":[0.25,0.25,0.667],"y":[1,1,0.667]},"o":{"x":[0.75,0.75,0.333],"y":[0,0,0.333]},"n":["0p25_1_0p75_0","0p25_1_0p75_0","0p667_0p667_0p333_0p333"],"t":5,"s":[100,100,100],"e":[70,70,100]},{"t":12.5}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ks":{"k":{"i":[[0,-13.531],[13.531,0],[0,13.531],[-13.531,0]],"o":[[0,13.531],[-13.531,0],[0,-13.531],[13.531,0]],"v":[[24.5,0],[0,24.5],[-24.5,0],[0,-24.5]],"c":true}},"nm":"Path 1"},{"ty":"st","fillEnabled":true,"c":{"k":[0.8,0.8,0.8,1]},"o":{"k":100},"w":{"k":2},"lc":1,"lj":1,"ml":10,"nm":"Stroke 1"},{"ty":"tr","p":{"k":[29.5,29.5],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1"}],"ip":0,"op":31,"st":-10,"bm":0,"sr":1},{"ddd":0,"ind":9,"ty":4,"nm":"circle4","ks":{"o":{"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":17.75,"s":[100],"e":[0]},{"t":21.5}]},"r":{"k":0},"p":{"k":[{"i":{"x":0,"y":1},"o":{"x":0.2,"y":0},"n":"0_1_0p2_0","t":10.25,"s":[128.499,103.999,0],"e":[128.499,86.999,0],"to":[0,-2.83333325386047,0],"ti":[0,2.83333325386047,0]},{"t":21.5}]},"a":{"k":[-20.001,45.999,0]},"s":{"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"k":[5,5]},"p":{"k":[0,0]},"nm":"Ellipse Path 1"},{"ty":"fl","fillEnabled":true,"c":{"k":[0.7215686274509804,0.050980392156862744,0.050980392156862744,1]},"o":{"k":100},"nm":"Fill 1"},{"ty":"tr","p":{"k":[-20.001,45.999],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1"}],"ip":10,"op":31,"st":12,"bm":0,"sr":1},{"ddd":0,"ind":10,"ty":4,"nm":"circle5","ks":{"o":{"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":17.75,"s":[100],"e":[0]},{"t":21.5}]},"r":{"k":0},"p":{"k":[{"i":{"x":0,"y":1},"o":{"x":0.2,"y":0},"n":"0_1_0p2_0","t":10.25,"s":[113.499,118.999,0],"e":[87.999,118.499,0],"to":[-4.25,-0.08333333581686,0],"ti":[4.25,0.08333333581686,0]},{"t":21.5}]},"a":{"k":[-20.001,45.999,0]},"s":{"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"k":[5,5]},"p":{"k":[0,0]},"nm":"Ellipse Path 1"},{"ty":"fl","fillEnabled":true,"c":{"k":[1,0.0784313725490196,0.0784313725490196,1]},"o":{"k":100},"nm":"Fill 1"},{"ty":"tr","p":{"k":[-20.001,45.999],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1"}],"ip":9,"op":31,"st":12,"bm":0,"sr":1},{"ddd":0,"ind":11,"ty":4,"nm":"circle3","ks":{"o":{"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":19.25,"s":[100],"e":[0]},{"t":23}]},"r":{"k":0},"p":{"k":[{"i":{"x":0,"y":1},"o":{"x":0.2,"y":0},"n":"0_1_0p2_0","t":11.75,"s":[138.499,133.999,0],"e":[167.999,133.499,0],"to":[4.91666650772095,-0.08333333581686,0],"ti":[-4.91666650772095,0.08333333581686,0]},{"t":23}]},"a":{"k":[-20.001,45.999,0]},"s":{"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"k":[5,5]},"p":{"k":[0,0]},"nm":"Ellipse Path 1"},{"ty":"fl","fillEnabled":true,"c":{"k":[0.9215686274509803,0.1803921568627451,0.1803921568627451,1]},"o":{"k":100},"nm":"Fill 1"},{"ty":"tr","p":{"k":[-20.001,45.999],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1"}],"ip":11,"op":31,"st":14,"bm":0,"sr":1},{"ddd":0,"ind":12,"ty":4,"nm":"circle2","ks":{"o":{"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":17.75,"s":[100],"e":[0]},{"t":21.5}]},"r":{"k":0},"p":{"k":[{"i":{"x":0,"y":1},"o":{"x":0.2,"y":0},"n":"0_1_0p2_0","t":10.25,"s":[123.499,133.999,0],"e":[123.499,158.999,0],"to":[0,4.16666650772095,0],"ti":[0,-4.16666650772095,0]},{"t":21.5}]},"a":{"k":[-20.001,45.999,0]},"s":{"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"k":[3,3]},"p":{"k":[0,0]},"nm":"Ellipse Path 1"},{"ty":"fl","fillEnabled":true,"c":{"k":[0.8588235294117647,0.09803921568627451,0.09803921568627451,1]},"o":{"k":100},"nm":"Fill 1"},{"ty":"tr","p":{"k":[-20.001,45.999],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1"}],"ip":9,"op":31,"st":12,"bm":0,"sr":1},{"ddd":0,"ind":13,"ty":4,"nm":"circle1","ks":{"o":{"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"n":["0p667_1_0p333_0"],"t":16.25,"s":[100],"e":[0]},{"t":20}]},"r":{"k":0},"p":{"k":[{"i":{"x":0,"y":1},"o":{"x":0.2,"y":0},"n":"0_1_0p2_0","t":8.75,"s":[113.499,138.999,0],"e":[113.499,163.999,0],"to":[0,4.16666650772095,0],"ti":[0,-4.16666650772095,0]},{"t":20}]},"a":{"k":[-20.001,45.999,0]},"s":{"k":[100,100,100]}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"k":[5,5]},"p":{"k":[0,0]},"nm":"Ellipse Path 1"},{"ty":"fl","fillEnabled":true,"c":{"k":[1,0.0784313725490196,0.0784313725490196,1]},"o":{"k":100},"nm":"Fill 1"},{"ty":"tr","p":{"k":[-20.001,45.999],"ix":2},"a":{"k":[0,0],"ix":1},"s":{"k":[100,100],"ix":3},"r":{"k":0,"ix":6},"o":{"k":100,"ix":7},"sk":{"k":0,"ix":4},"sa":{"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1"}],"ip":8,"op":31,"st":10,"bm":0,"sr":1}],"v":"4.4.27","ddd":0,"ip":2,"op":25,"fr":25,"w":250,"h":250}')},492:function(e,n,t){e.exports=t.p+"static/media/weather.0908eb6b.png"},493:function(e,n,t){e.exports=t.p+"static/media/night.f2cf113d.png"},494:function(e,n,t){"use strict";(function(e){var r=t(4),a=t.n(r),i=t(5),o=t.n(i),l=t(0),s=t(8),c=t(36),u=t(2),d=t(1),m=t(495),f=t.n(m),p=t(345),g=t(311),v=t(160);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=c.a.get("window").width;var x=u.a.create({container:{paddingHorizontal:0,alignItems:"center",paddingLeft:0,paddingRight:0},degreeLabel:{width:200,height:120,textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2},fontSize:100,color:"white",position:"absolute"},content:{width:"100%",flexDirection:"column"},iconContainer:{borderWidth:2,borderRadius:y/2,borderStyle:"solid",borderColor:"white",alignSelf:"center",alignItems:"center",justifyContent:"center"}});n.a=l.memo((function(n){var t=n.lat,r=n.lng,a=l.useState({x:0,y:0,height:0,width:0}),i=o()(a,2),c=i[0],u=i[1],m=1*c.width,f=c.height/2,h=c.width/2,y=n.jumpRun,E=l.useState({x:0,y:0,height:0,width:0,originX:0,originY:0}),k=o()(E,2),S=k[0],w=k[1],C=l.useRef(new s.a.Value(0)),z=l.useRef(new s.a.Value(0)),O=l.useRef(s.a.loop(s.a.timing(z.current,{duration:3e3,toValue:-400,useNativeDriver:!0}),{resetBeforeIteration:!0})),I=l.useCallback((function(e){var n=e.nativeEvent.layout;w(b(b({},n),{},{originX:n.x+c.width/2,originY:n.y+c.height/2}))}),[c.height,c.width]);l.useEffect(function(){var n=function(){O.current.start()};return n._closure={planeAnimation:{current:{start:O.current.start}}},n.asString="function _f(){const{planeAnimation}=jsThis._closure;{planeAnimation.current.start();}}",n.__workletHash=6984743035892,n.__location="/Users/victor/openmanifest/openmanifest-app/app/screens/authenticated/manifest/Weather/JumpRun.tsx (78:18)",e.__reanimatedWorkletInit(n),n}(),[]);var T=function(){var n=function(){O.current.stop(),O.current.reset(),O.current.start()};return n._closure={planeAnimation:{current:{stop:O.current.stop,reset:O.current.reset,start:O.current.start}}},n.asString="function _f(){const{planeAnimation}=jsThis._closure;{planeAnimation.current.stop();planeAnimation.current.reset();planeAnimation.current.start();}}",n.__workletHash=4402863442905,n.__location="/Users/victor/openmanifest/openmanifest-app/app/screens/authenticated/manifest/Weather/JumpRun.tsx (84:18)",e.__reanimatedWorkletInit(n),n}();l.useEffect((function(){T()}),[y]);var j=Object(g.a)({x:S.originX,y:S.originY,degrees:y,offsetX:0,offsetY:0,radius:m/2}),P=l.useMemo((function(){return{x:0,y:0}}),[]),F=l.useMemo((function(){return t&&r?{lat:t,lng:r}:void 0}),[t,r]);return l.createElement(d.a,{onLayout:function(e){var n=e.nativeEvent;return u(n.layout)},style:{width:"100%",height:"100%"}},l.createElement(d.a,{style:{width:m,height:m,borderRadius:m/2,overflow:"hidden",position:"absolute",top:0,left:0}},l.createElement(v.a,{coords:F,center:F,height:m,width:m,position:P,interactive:!1})),l.createElement(s.a.View,{onLayout:I,style:[x.iconContainer,{width:m,height:m,position:"absolute",top:0,left:0,transform:[{rotate:y+"deg"}]}]},l.createElement(s.a.View,{style:{height:m-6,width:1,backgroundColor:"#FF1414",opacity:C.current.interpolate({inputRange:[0,1],outputRange:[.6,1]}),transform:[{scaleX:C.current.interpolate({inputRange:[0,1],outputRange:[3,1]})}]}})),null!=c&&c.width?l.createElement(s.a.View,{style:[{position:"absolute",width:20,height:20,top:j.y,left:j.x,opacity:z.current.interpolate({inputRange:[-m,-m/2,m],outputRange:[0,1,0]}),transform:[{rotate:y+"deg"},{translateY:z.current}]}]},l.createElement(p.a,{name:"airplane",size:20,color:"#ffffff"})):null,l.createElement(s.a.Text,{style:[x.degreeLabel,{opacity:C.current,top:f,left:h}]},Math.round(y)))}),(function(e,n){return f()(e,n)}))}).call(this,t(60))},502:function(e){e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.0.0","a":"","k":"","d":"","tc":"#FFFFFF"},"fr":60,"ip":0,"op":149,"w":512,"h":512,"nm":"airplane","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"ticket Outlines 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":97,"s":[0]},{"t":120,"s":[28]}],"ix":10},"p":{"a":0,"k":[306,343,0],"ix":2},"a":{"a":0,"k":[44,47.75,0],"ix":1},"s":{"a":0,"k":[400,400,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[63.25,8],[43.75,8],[43.75,56.5],[63.25,56.5]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[44,48],[44,44]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":75,"s":[100]},{"t":80,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[44,16],[44,20]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":50,"s":[100]},{"t":56.666015625,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[22,36],[22,40]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":20,"s":[100]},{"t":25,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":68.334,"s":[100]},{"t":75,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,38],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":61.666,"s":[100]},{"t":68.333984375,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,32],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":3,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":56.666,"s":[100]},{"t":61.666015625,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,26],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":3,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,-2.209],[2.209,0],[0,0],[0,0],[0,0],[0,2.209],[-2.209,0]],"o":[[0,0],[0,0],[2.209,0],[0,2.209],[0,0],[0,0],[0,0],[-2.209,0],[0,-2.209],[0,0]],"v":[[26,-16],[-26,-16],[-26,-4],[-22,0],[-26,4],[-26,16],[26,16],[26,4],[22,0],[26,-4]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":25,"s":[100]},{"t":50,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[32,32],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":3,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-6,-6],[6,-6],[6,6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":15,"s":[100]},{"t":25,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[24,34],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":3,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-8,6],[-4,6],[8,-6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[100]},{"t":15,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[26,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":3,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"ticket Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[258,280,0],"ix":2},"a":{"a":0,"k":[32,32,0],"ix":1},"s":{"a":0,"k":[400,400,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":95,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[61.75,12.5],[4,12.5],[4,51.25],[61.75,51.25]],"c":true}]},{"t":97,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[44,12.5],[-13.75,12.5],[-13.75,51.25],[44,51.25]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[44,48],[44,44]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":75,"s":[100]},{"t":80,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[44,16],[44,20]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":50,"s":[100]},{"t":56.666015625,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[22,36],[22,40]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":20,"s":[100]},{"t":25,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":68.334,"s":[100]},{"t":75,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,38],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":61.666,"s":[100]},{"t":68.333984375,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,32],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":3,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":56.666,"s":[100]},{"t":61.666015625,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,26],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":3,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,-2.209],[2.209,0],[0,0],[0,0],[0,0],[0,2.209],[-2.209,0]],"o":[[0,0],[0,0],[2.209,0],[0,2.209],[0,0],[0,0],[0,0],[-2.209,0],[0,-2.209],[0,0]],"v":[[26,-16],[-26,-16],[-26,-4],[-22,0],[-26,4],[-26,16],[26,16],[26,4],[22,0],[26,-4]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":25,"s":[100]},{"t":50,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[32,32],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":3,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-6,-6],[6,-6],[6,6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":15,"s":[100]},{"t":25,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[24,34],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":3,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-8,6],[-4,6],[8,-6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[100]},{"t":15,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[26,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":3,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"circle","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":105,"s":[100]},{"t":129,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[260,254,0],"ix":2},"a":{"a":0,"k":[8.9,23.828,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":75,"s":[0,0,100]},{"t":120,"s":[130,130,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[354,354],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":75,"s":[1,0.803921580315,0.219607844949,1]},{"t":120,"s":[1,0.866666674614,0.403921574354,1]}],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[7,25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"bg","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[256,256,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[518,514],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":60,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.952941176471,0.952941176471,0.952941176471,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-1,-1],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[97.683,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"bm":0}],"markers":[]}')},564:function(e,n,t){e.exports=t(760)},608:function(e){e.exports=JSON.parse('{"v":"5.4.3","fr":29.9700012207031,"ip":0,"op":70.0000028511585,"w":307,"h":389,"nm":"refresh-button","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-44,"ix":10},"p":{"a":0,"k":[154.149,195.327,0],"ix":2},"a":{"a":0,"k":[-2.021,-4,0],"ix":1},"s":{"a":0,"k":[71.946,71.946,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.8784313725490196,0.396078431372549,0.396078431372549,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"d":[{"n":"d","nm":"dash","v":{"a":0,"k":33,"ix":1}},{"n":"o","nm":"offset","v":{"a":0,"k":0,"ix":7}}],"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.625],"y":[0]},"n":["0p667_1_0p625_0"],"t":26,"s":[0],"e":[100]},{"t":65.0000026475043}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"n":["0p667_1_1_0"],"t":7,"s":[0],"e":[100]},{"t":41.0000016699642}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[-179],"e":[181]},{"t":65.0000026475043}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-44,"ix":10},"p":{"a":0,"k":[154.149,195.327,0],"ix":2},"a":{"a":0,"k":[-2.021,-4,0],"ix":1},"s":{"a":0,"k":[71.946,71.946,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,0.0784313725490196,0.0784313725490196,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"d":[{"n":"d","nm":"dash","v":{"a":0,"k":33,"ix":1}},{"n":"o","nm":"offset","v":{"a":0,"k":0,"ix":7}}],"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.625],"y":[0]},"n":["0p667_1_0p625_0"],"t":26,"s":[0],"e":[100]},{"t":65.0000026475043}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"n":["0p667_1_1_0"],"t":0,"s":[0],"e":[100]},{"t":41.0000016699642}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[-224],"e":[136]},{"t":65.0000026475043}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-44,"ix":10},"p":{"a":0,"k":[154.149,195.327,0],"ix":2},"a":{"a":0,"k":[-2.021,-4,0],"ix":1},"s":{"a":0,"k":[46.072,46.072,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,0.0784313725490196,0.2549019607843137,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"n":["0p667_1_1_0"],"t":0,"s":[100],"e":[0]},{"t":38.0000015477717}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.733],"y":[0.015]},"n":["0p667_1_0p733_0p015"],"t":19,"s":[100],"e":[0]},{"t":60.0000024438501}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[-319],"e":[-679]},{"t":65.0000026475043}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-44,"ix":10},"p":{"a":0,"k":[154.149,195.327,0],"ix":2},"a":{"a":0,"k":[-2.021,-4,0],"ix":1},"s":{"a":0,"k":[46.072,46.072,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"n":["0p667_1_1_0"],"t":0,"s":[100],"e":[0]},{"t":38.0000015477717}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.733],"y":[0.015]},"n":["0p667_1_0p733_0p015"],"t":19,"s":[100],"e":[0]},{"t":60.0000024438501}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[-224],"e":[-584]},{"t":65.0000026475043}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[4.436],"e":[-355.564]},{"t":69.0000028104276}],"ix":10},"p":{"a":0,"k":[155,194,0],"ix":2},"a":{"a":0,"k":[-1.5,-4,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,0.0784313725490196,0.0784313725490196,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":1,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":0,"k":85,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[4.436],"e":[-355.564]},{"t":69.0000028104276}],"ix":10},"p":{"a":0,"k":[155,194,0],"ix":2},"a":{"a":0,"k":[-1.5,-4,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,0.0784313725490196,0.0784313725490196,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":1,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":0,"k":85,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"refresh-button Outlines","parent":7,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":85.093,"ix":10},"p":{"a":0,"k":[-6.619,-112.041,0],"ix":2},"a":{"a":0,"k":[188.881,115.959,0],"ix":1},"s":{"a":0,"k":[58.516,58.516,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[1.875,-1.875],[-1.875,-1.875],[0,0],[-1.274,0],[-0.898,0.903],[0,0],[1.875,1.875],[1.875,-1.875],[0,0]],"o":[[-1.875,-1.875],[-1.875,1.875],[0,0],[0.899,0.903],[1.277,0],[0,0],[1.875,-1.875],[-1.875,-1.875],[0,0],[0,0]],"v":[[-14.662,-12.188],[-21.451,-12.188],[-21.451,-5.398],[-3.393,12.656],[-0.002,14.063],[3.392,12.656],[21.451,-5.398],[21.451,-12.188],[14.662,-12.188],[-0.002,2.473]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[-14.662,-12.188]],"c":false},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.0784313725490196,0.2549019607843137,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[188.943,118.162],"ix":2},"a":{"a":0,"k":[0.062,2.438],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0}],"markers":[]}')},632:function(e,n,t){e.exports=t.p+"./fonts/SpaceMono-Regular.ttf"},658:function(e,n){},760:function(e,n,t){"use strict";t.r(n);var r=t(3),a=t.n(r),i=t(32),o=t(505),l=t(50),s=t(437),c=t(438),u=t(503),d=t(425),m=t(426),f=t(427),p=t(439),g=t(0),v=t(511),h=t(246),b=t(458),y=t(403),x=t(428),E=t(189),k=t(87),S=t(228),w=t(10),C=t(1),z=t(436),O=t(795),I=t(459),T=t.n(I),j=t(2);function P(e){var n=e.children;return g.createElement(C.a,{style:j.a.absoluteFill},n)}var F,D,A,N,$,R,U,B,L,W=t(4),M=t.n(W),V=t(5),_=t.n(V),G=t(796),q=t(25),H=t(799),Y=t(374),J=t(201),Q=t.n(J),X=t(108),Z=t(41),K=t(509),ee=t(350);!function(e){e.Open="open",e.BoardingCall="boarding_call",e.InFlight="in_flight",e.Landed="landed",e.Cancelled="cancelled"}(F||(F={})),function(e){e.User="user",e.Support="support",e.Moderator="moderator",e.Administrator="administrator"}(D||(D={})),function(e){e.System="system",e.PackjobPendingConfirm="packjob_pending_confirm",e.PackjobConfirmed="packjob_confirmed",e.RigPendingInspection="rig_pending_inspection",e.BoardingCall="boarding_call",e.UserManifested="user_manifested",e.CreditsUpdated="credits_updated",e.RigInspectionCompleted="rig_inspection_completed",e.RigInspectionRequested="rig_inspection_requested",e.MembershipUpdated="membership_updated",e.BoardingCallCanceled="boarding_call_canceled",e.PermissionGranted="permission_granted",e.PermissionRevoked="permission_revoked",e.PublicationRequested="publication_requested"}(A||(A={})),function(e){e.Pending="pending",e.Completed="completed",e.Refunded="refunded",e.Cancelled="cancelled"}(N||(N={})),function(e){e.UpdateDropzone="updateDropzone",e.DeleteDropzone="deleteDropzone",e.UpdateWeatherConditions="updateWeatherConditions",e.CreateLoad="createLoad",e.UpdateLoad="updateLoad",e.DeleteLoad="deleteLoad",e.ReadLoad="readLoad",e.CreateSlot="createSlot",e.UpdateSlot="updateSlot",e.DeleteSlot="deleteSlot",e.CreateUserSlot="createUserSlot",e.CreateUserSlotWithSelf="createUserSlotWithSelf",e.UpdateUserSlot="updateUserSlot",e.DeleteUserSlot="deleteUserSlot",e.CreateStudentSlot="createStudentSlot",e.UpdateStudentSlot="updateStudentSlot",e.DeleteStudentSlot="deleteStudentSlot",e.CreateTicketType="createTicketType",e.UpdateTicketType="updateTicketType",e.DeleteTicketType="deleteTicketType",e.CreateExtra="createExtra",e.UpdateExtra="updateExtra",e.DeleteExtra="deleteExtra",e.ReadExtra="readExtra",e.CreatePlane="createPlane",e.UpdatePlane="updatePlane",e.DeletePlane="deletePlane",e.CreateRig="createRig",e.UpdateRig="updateRig",e.DeleteRig="deleteRig",e.ReadRig="readRig",e.CreateDropzoneRig="createDropzoneRig",e.UpdateDropzoneRig="updateDropzoneRig",e.DeleteDropzoneRig="deleteDropzoneRig",e.ReadDropzoneRig="readDropzoneRig",e.ReadPermissions="readPermissions",e.UpdatePermissions="updatePermissions",e.CreatePackjob="createPackjob",e.UpdatePackjob="updatePackjob",e.DeletePackjob="deletePackjob",e.ReadPackjob="readPackjob",e.CreateFormTemplate="createFormTemplate",e.UpdateFormTemplate="updateFormTemplate",e.DeleteFormTemplate="deleteFormTemplate",e.ReadFormTemplate="readFormTemplate",e.ReadUser="readUser",e.UpdateUser="updateUser",e.DeleteUser="deleteUser",e.CreateUser="createUser",e.ActAsPilot="actAsPilot",e.ActAsLoadMaster="actAsLoadMaster",e.ActAsGca="actAsGCA",e.ActAsDzso="actAsDZSO",e.ActAsRigInspector="actAsRigInspector",e.CreateUserTransaction="createUserTransaction",e.ReadUserTransactions="readUserTransactions",e.GrantPermission="grantPermission",e.RevokePermission="revokePermission"}($||($={})),function(e){e.Pack="pack",e.TicketType="ticketType",e.Extra="extra",e.Slot="slot"}(R||(R={})),function(e){e.Reserved="reserved",e.Completed="completed",e.Cancelled="cancelled"}(U||(U={})),function(e){e.Purchase="purchase",e.Sale="sale",e.Deposit="deposit",e.Withdrawal="withdrawal",e.Refund="refund"}(B||(B={})),function(e){e.DropzoneUser="dropzoneUser",e.Dropzone="dropzone"}(L||(L={}));var ne={original:null,open:!1,fields:{amount:{value:null,error:null},transactionType:{value:B.Deposit,error:null},message:{value:"",error:null}}},te=Object(Z.b)({name:"forms/credits",initialState:ne,reducers:{setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];console.log({field:r}),e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];r in e.fields&&"error"in e.fields[r]&&(e.fields[r].error=a)},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=ne.fields):(e.original=n.payload,e.open=!0)},reset:function(e){e.fields=ne.fields,e.original=null}}}),re={original:null,open:!1,fields:{federation:{value:null,error:null},lat:{value:null,error:null},lng:{value:null,error:null},name:{value:"",error:null},secondaryColor:{value:"",error:null},primaryColor:{value:"",error:null},banner:{value:"",error:null},isCreditSystemEnabled:{value:!1,error:null},isPublic:{value:!1,error:null},requestPublication:{value:!1,error:null}}},ae=Object(Z.b)({name:"forms/dropzone",initialState:re,reducers:{setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];r in e.fields&&"error"in e.fields[r]&&(e.fields[r].error=a)},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=re.fields):(e.original=n.payload,e.open=!0,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}})))},reset:function(e){e.fields=re.fields,e.original=null}}}),ie={original:null,open:!1,fields:{role:{value:null,error:null},expiresAt:{value:null,error:null}}},oe=Object(Z.b)({name:"forms/dropzoneUser",initialState:ie,reducers:{setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=ie.fields):(e.original=n.payload,e.open=!0,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}})))},reset:function(e){e.fields=ie.fields,e.original=null}}}),le={original:null,open:!1,fields:{name:{value:"",error:null},cost:{value:null,error:null},ticketTypes:{value:[],error:null}}},se=Object(Z.b)({name:"forms/extra",initialState:le,reducers:{setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields.name.error=null},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=le.fields):(e.original=n.payload,e.open=!0,e.fields.ticketTypes.value=n.payload.ticketTypes,e.fields.cost.value=n.payload.cost,e.fields.name.value=n.payload.name||"")},reset:function(e){e.fields=le.fields,e.original=null}}}),ce={original:null,open:!1,fields:{name:{value:"",error:null},gca:{value:null,error:null},dispatchAt:{value:null,error:null},isOpen:{value:!0,error:null},loadMaster:{value:null,error:null},pilot:{value:null,error:null},plane:{value:null,error:null},maxSlots:{value:4,error:null}}},ue=Object(Z.b)({name:"forms/load",initialState:ce,reducers:{setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=ce.fields):(e.original=n.payload,e.open=!0,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}})))},reset:function(e){e.fields=ce.fields,e.original=null}}}),de={original:null,open:!1,federation:{value:null,error:null},fields:{exitWeight:{value:null,error:null},email:{value:"",error:null},phone:{value:"",error:null},name:{value:null,error:null},role:{value:null,error:null},license:{value:null,error:null}}},me=Object(Z.b)({name:"forms/ghost",initialState:de,reducers:{setFederation:function(e,n){e.federation.value=n.payload},setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];r in e.fields&&(e.fields[r].value=a,e.fields[r].error=null)},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];r in e?e.fields[r].error=a:console.error("Cannot set error on ",r)},setOpen:function(e,n){var t;(console.log("Setting open"),console.log(n.payload),"boolean"===typeof n.payload)?(e.open=n.payload,e.original=null,e.fields=de.fields):(e.original=n.payload,e.open=!0,e.federation.value=(null==(t=n.payload.license)?void 0:t.federation)||null,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}})))},reset:function(e){e.fields=de.fields,e.original=null}}}),fe={original:null,open:!1,fields:{name:{value:"",error:null},registration:{value:"",error:null},minSlots:{value:0,error:null},maxSlots:{value:4,error:null},hours:{value:null,error:null},nextMaintenanceHours:{value:null,error:null}}},pe=Object(Z.b)({name:"Plane",initialState:fe,reducers:{setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields.name.error=null},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=fe.fields):(e.original=n.payload,e.open=!0,e.fields.hours.value=n.payload.hours||0,e.fields.minSlots.value=n.payload.minSlots||0,e.fields.maxSlots.value=n.payload.maxSlots||3,e.fields.name.value=n.payload.name||"",e.fields.registration.value=n.payload.registration||"",e.fields.nextMaintenanceHours.value=n.payload.nextMaintenanceHours||0)},reset:function(e){e.fields=fe.fields,e.original=null}}}),ge={original:null,open:!1,fields:{make:{value:"",error:null},name:{value:"",error:null},model:{value:"",error:null},serial:{value:"",error:null},repackExpiresAt:{value:null,error:null},canopySize:{value:null,error:null},rigType:{value:"sport",error:null}}},ve=Object(Z.b)({name:"forms/rig",initialState:ge,reducers:{setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=ge.fields):(e.original=n.payload,e.open=!0,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}})))},reset:function(e){e.fields=ge.fields,e.original=null}}}),he={fields:[],open:!1,ok:!1},be=Object(Z.b)({name:"forms/rigInspection",initialState:he,reducers:{setOk:function(e,n){e.ok=n.payload},setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields=e.fields.map((function(e,n){return n===r?a:e}))},setFields:function(e,n){try{e.fields=JSON.parse(n.payload)}catch(t){console.log(n.payload),console.error("Failed to read rig inspection template",t.message,n.payload)}},reset:function(e){e.fields=he.fields,e.ok=he.ok}}}),ye={original:null,fields:[]},xe=Object(Z.b)({name:"forms/rigInspectionTemplate",initialState:ye,reducers:{setFields:function(e,n){e.fields=n.payload},setOpen:function(e,n){e.original=n.payload;try{e.fields=JSON.parse(n.payload.definition||"[]")}catch(t){console.log("Invalid json: ",n.payload.definition)}},reset:function(e){e.fields=ye.fields,e.original=null}}}),Ee={original:null,open:!1,fields:{jumpType:{value:null,error:null},extras:{value:[],error:null},load:{value:null,error:null},rig:{value:null,error:null},ticketType:{value:null,error:null},dropzoneUser:{value:null,error:null},exitWeight:{value:null,error:null},passengerName:{value:null,error:null},passengerExitWeight:{value:null,error:null}}},ke=Object(Z.b)({name:"forms/manifest",initialState:Ee,reducers:{setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];r in e.fields&&(e.fields[r].value=a,e.fields[r].error=null)},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];r in e.fields&&(e.fields[r].error=a)},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=Ee.fields):(e.original=n.payload,e.open=!0,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}})))},reset:function(e){e.fields=Ee.fields,e.original=null}}}),Se={original:null,open:!1,fields:{jumpType:{value:null,error:null},extras:{value:[],error:null},load:{value:null,error:null},ticketType:{value:null,error:null},users:{value:[],error:null}}},we=Object(Z.b)({name:"forms/manifestGroup",initialState:Se,reducers:{setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setFromSlots:function(e,n){var t,r,a;e.fields.users.value=n.payload.map((function(e){var n,t;return{id:Number(null==(n=e.dropzoneUser)?void 0:n.id),rigId:Number(null==(t=e.rig)?void 0:t.id),exitWeight:Number(e.exitWeight)}})),e.fields.jumpType.value=null==(t=n.payload.find((function(e){return e})))?void 0:t.jumpType,e.fields.load.value=(null==(r=n.payload.find((function(e){return e})))?void 0:r.load)||null,e.fields.extras.value=null==(a=n.payload.find((function(e){return e})))?void 0:a.extras},setDropzoneUsers:function(e,n){e.fields.users.value=n.payload.map((function(e){var n,t,r;return{id:Number(e.id),rigId:Number(null==e||null==(n=e.availableRigs)||null==(t=n.find((function(e){return e.id})))?void 0:t.id),exitWeight:Number(null==e||null==(r=e.user)?void 0:r.exitWeight)}}))},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=Se.fields):(e.original=n.payload,e.open=!0,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}})))},reset:function(e){e.fields=Se.fields,e.original=null}}}),Ce={original:null,open:!1,fields:{name:{value:"",error:null},cost:{value:null,error:null},altitude:{value:14e3,error:null},allowManifestingSelf:{value:!1,error:null},isTandem:{value:!1,error:null},extras:{value:[],error:null}}},ze=Object(Z.b)({name:"forms/ticketType",initialState:Ce,reducers:{setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=Ce.fields):(e.original=n.payload,e.open=!0,e.fields.altitude.value=n.payload.altitude||0,e.fields.cost.value=n.payload.cost||0,e.fields.allowManifestingSelf.value=n.payload.allowManifestingSelf||!1,e.fields.name.value=n.payload.name||"")},reset:function(e){e.fields=Ce.fields,e.original=null}}}),Oe={original:null,open:!1,federation:{value:null,error:null},fields:{exitWeight:{value:"",error:null},apfNumber:{value:"",error:null},email:{value:"",error:null},phone:{value:"",error:null},name:{value:null,error:null},nickname:{value:null,error:null},rigs:{value:[],error:null},license:{value:null,error:null}}},Ie=Object(Z.b)({name:"forms/user",initialState:Oe,reducers:{setFederation:function(e,n){e.federation.value=n.payload},setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){if("boolean"===typeof n.payload)e.open=n.payload,e.original=null,e.fields=Oe.fields;else{var t,r,a,i,o,l,s,c,u;if(e.original=n.payload.user,e.open=!0,e.federation.value=(null==(t=n.payload.license)?void 0:t.federation)||(null==(r=n.payload)||null==(a=r.dropzone)?void 0:a.federation)||null,e.federation.value&&null!=(i=n.payload.user)&&null!=(o=i.userFederations)&&null!=(l=o.find((function(n){var t;return n.federation.id===(null==(t=e.federation.value)?void 0:t.id)})))&&l.uid)e.fields.apfNumber.value=null==(s=n.payload.user)||null==(c=s.userFederations)||null==(u=c.find((function(n){var t;return n.federation.id===(null==(t=e.federation.value)?void 0:t.id)})))?void 0:u.uid;"boolean"!==typeof n.payload&&Object.keys(n.payload.user).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload.user[a]}}))}},reset:function(e){e.fields=Oe.fields,e.original=null}}}),Te={original:null,open:!1,fields:{jumpRun:{value:null,error:null},temperature:{value:null,error:null},exitSpotMiles:{value:null,error:null},offsetDirection:{value:null,error:null},winds:{value:[],error:null}}},je=Object(Z.b)({name:"forms/weather",initialState:Te,reducers:{setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];r in e.fields&&(e.fields[r].value=a,e.fields[r].error=null)},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];r in e&&"error"in e.fields[r]?e.fields[r].error=a:console.error("Cannot set error on ",r)},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=Te.fields):(e.original=n.payload,e.open=!0,"boolean"!==typeof n.payload&&Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}})))},reset:function(e){e.fields=Te.fields,e.original=null}}}),Pe={open:!1,fields:{user:{value:null,error:null},skipRigSetup:{value:!1,error:null},rig:{value:null,error:null}}},Fe=Object(Z.b)({name:"forms/userWizard",initialState:Pe,reducers:{setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.fields=Pe.fields):(e.fields.user.value=n.payload,e.open=!0)},reset:function(e){e.fields=Pe.fields}}}),De={open:!1,complete:!1,fields:{dropzone:{value:null,error:null}}},Ae=Object(Z.b)({name:"forms/dropzoneWizard",initialState:De,reducers:{setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.fields=De.fields):(e.fields.dropzone.value=n.payload,e.open=!0)},complete:function(e,n){e.complete=void 0===n.payload||n.payload},reset:function(e){e.fields=De.fields}}}),Ne={credits:te,dropzone:ae,dropzoneUser:oe,extra:se,ghost:me,load:ue,plane:pe,rig:ve,rigInspection:be,rigInspectionTemplate:xe,manifest:ke,manifestGroup:we,ticketType:ze,user:Ie,userWizard:Fe,dropzoneWizard:Ae,weather:je},$e={isSearchVisible:!1,searchText:""},Re=Object(Z.b)({name:"screens/user",initialState:$e,reducers:{setSearchText:function(e,n){e.searchText=n.payload},setSearchVisible:function(e,n){e.isSearchVisible=n.payload},reset:function(e){e.isSearchVisible=$e.isSearchVisible,e.searchText=$e.searchText}}}),Ue={fields:{email:{value:"",error:null},password:{value:"",error:null}}},Be=Object(Z.b)({name:"login",initialState:Ue,reducers:{setEmail:function(e,n){e.fields.email.value=n.payload},setPassword:function(e,n){e.fields.password.value=n.payload},setEmailError:function(e,n){e.fields.email.error=n.payload},setPasswordError:function(e,n){e.fields.password.error=n.payload},reset:function(e){e.fields=Ue.fields}}}),Le={isSearchVisible:!1,selectedUsers:[],searchText:"",display:"cards"},We=Object(Z.b)({name:"manifestScreen",initialState:Le,reducers:{setSelected:function(e,n){e.selectedUsers=n.payload},setSearchText:function(e,n){e.searchText=n.payload},setSearchVisible:function(e,n){e.isSearchVisible=n.payload},setDisplayStyle:function(e,n){e.display=n.payload},reset:function(e){e.isSearchVisible=Le.isSearchVisible,e.searchText=Le.searchText}}}),Me={federation:null,fields:{email:{value:"",error:null},password:{value:"",error:null},passwordConfirmation:{value:"",error:null},exitWeight:{value:50,error:null},name:{value:"",error:null},phone:{value:"",error:null},license:{value:null,error:null}}},Ve=Object(Z.b)({name:"login",initialState:Me,reducers:{setFederation:function(e,n){e.federation=n.payload},setField:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=_()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},reset:function(e){e.fields=Me.fields}}}),_e={manifest:We,users:Re,login:Be,signup:Ve},Ge={open:!1,image:null},qe=Object(Z.b)({name:"dialog/imageViewer",initialState:Ge,reducers:{setOpen:function(e,n){e.open=!0,e.image=n.payload},close:function(e){e.open=!1}}}),He=t(186),Ye=t(370),Je=t(143),Qe=t(187),Xe=t(20),Ze=t.n(Xe);function Ke(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function en(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ke(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ke(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var nn=en(en(en({},Je.a),He.a),{},{colors:en(en(en({},Je.a.colors),He.a.colors),{},{primary:"#333333"})}),tn=en(en(en({},Qe.a),Ye.a),{},{colors:en(en(en({},Qe.a.colors),Ye.a.colors),{},{primary:"#333333"})}),rn={currentUser:null,currentDropzone:null,currentDropzoneId:null,permissions:[],credentials:null,expoPushToken:null,theme:nn,palette:en(en({},nn.colors),{},{primary:{main:"#FF1414",dark:"#991414",light:"#FFAAAA"},accent:{main:"#FFFFFF",dark:"#FFFFFF",light:"#FFFFFF"}}),isDarkMode:!1},an=Object(Z.b)({name:"global",initialState:rn,reducers:{setCredentials:function(e,n){e.credentials=n.payload},setUser:function(e,n){e.currentUser=n.payload},setExpoPushToken:function(e,n){e.expoPushToken=n.payload},setPermissions:function(e,n){e.permissions=n.payload},setPrimaryColor:function(e,n){e.theme.colors.primary=n.payload,e.palette=en(en({},e.theme.colors),{},{primary:{dark:Ze()(e.theme.colors.primary).darken(.4).hex(),main:e.theme.colors.primary,light:Ze()(e.theme.colors.primary).lighten(.6).hex()},accent:{dark:Ze()(e.theme.colors.accent).darken(.4).hex(),main:e.theme.colors.accent,light:Ze()(e.theme.colors.accent).lighten(.6).hex()}})},setAccentColor:function(e,n){e.theme.colors.accent=n.payload,e.palette=en(en({},e.theme.colors),{},{primary:{dark:Ze()(e.theme.colors.primary).darken(.4).hex(),main:e.theme.colors.primary,light:Ze()(e.theme.colors.primary).lighten(.6).hex()},accent:{dark:Ze()(e.theme.colors.accent).darken(.4).hex(),main:e.theme.colors.accent,light:Ze()(e.theme.colors.accent).lighten(.8).hex()}})},setDropzone:function(e,n){var t,r,a,i,o,l;(e.currentDropzone=n.payload,e.currentDropzoneId=null!=(t=n.payload)&&t.id?Number(null==(r=n.payload)?void 0:r.id):null,null!=(a=e.currentDropzone)&&a.primaryColor)&&(e.theme.colors.primary=null==(o=e.currentDropzone)?void 0:o.primaryColor);null!=(i=e.currentDropzone)&&i.secondaryColor&&(e.theme.colors.accent=null==(l=e.currentDropzone)?void 0:l.secondaryColor);e.palette=en(en({},e.theme.colors),{},{primary:{dark:Ze()(e.theme.colors.primary).darken(.4).hex(),main:e.theme.colors.primary,light:Ze()(e.theme.colors.primary).lighten(.6).hex()},accent:{dark:Ze()(e.theme.colors.accent).darken(.4).hex(),main:e.theme.colors.accent,light:Ze()(e.theme.colors.accent).lighten(.6).hex()}})},toggleDarkMode:function(e){var n,t,r,a;(e.isDarkMode=!e.isDarkMode,e.theme=e.isDarkMode?tn:nn,null!=(n=e.currentDropzone)&&n.primaryColor)&&(e.theme.colors.primary=null==(r=e.currentDropzone)?void 0:r.primaryColor);null!=(t=e.currentDropzone)&&t.secondaryColor&&(e.theme.colors.accent=null==(a=e.currentDropzone)?void 0:a.secondaryColor);e.palette=en(en({},e.theme.colors),{},{primary:{dark:Ze()(e.theme.colors.primary).darken(.4).hex(),main:e.theme.colors.primary,light:Ze()(e.theme.colors.primary).lighten(.6).hex()},accent:{dark:Ze()(e.theme.colors.accent).darken(.4).hex(),main:e.theme.colors.accent,light:Ze()(e.theme.colors.accent).lighten(.6).hex()}})},logout:function(e){Object.keys(rn).forEach((function(n){if(n in e){var t=n;e[n]=rn[t]}}))}}}),on=t(202),ln=t.n(on),sn={queue:[]},cn=Object(Z.b)({name:"notifications",initialState:sn,reducers:{hideSnackbar:function(e){var n=ln()(e.queue).slice(1);e.queue=n},showSnackbar:function(e,n){e.queue.push(n.payload)}}});function un(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function dn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?un(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):un(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var mn={key:"open-manifest.0.9.1",storage:"web"===w.a.OS?t(601).default:K.a,whitelist:["global"]},fn=Object.keys(_e).reduce((function(e,n){return _e&&n in _e?dn(dn({},e),{},M()({},n,_e[n].reducer)):e}),{}),pn=Object.keys(Ne).reduce((function(e,n){return Ne&&n in Ne?dn(dn({},e),{},M()({},n,Ne[n].reducer)):e}),{}),gn=Object.keys(_e).reduce((function(e,n){return n in _e?dn(dn({},e),{},M()({},n,_e[n].actions)):e}),{}),vn={forms:Object.keys(Ne).reduce((function(e,n){return n in Ne?dn(dn({},e),{},M()({},n,Ne[n].actions)):e}),{}),screens:gn,global:an.actions,notifications:cn.actions,imageViewer:qe.actions},hn=Object(X.b)({global:an.reducer,notifications:cn.reducer,imageViewer:qe.reducer,screens:Object(X.b)(fn),forms:Object(X.b)(pn)}),bn=Object(ee.a)(mn,hn),yn=Object(Z.a)({reducer:bn,middleware:Object(Z.c)({serializableCheck:{ignoredActions:["persist/PERSIST"]},immutableCheck:!1})}),xn=Object(ee.b)(yn),En=function(){return Object(h.b)()},kn=h.c;function Sn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function wn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Sn(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Cn(e){var n=e.children,r=g.useState(!1),i=_()(r,2),o=i[0],l=i[1],s=g.useState(!1),c=_()(s,2),u=c[0],d=c[1],m=g.useRef(null),f=En(),p=g.useCallback((function(){var e;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("web"!==w.a.OS){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.a.awrap(G.a());case 4:e=n.sent,e.isAvailable&&l(!0);case 7:case"end":return n.stop()}}),null,null,null,Promise)}),[]),v=g.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("web"!==w.a.OS){t.next=2;break}return t.abrupt("return");case 2:return null==(e=m.current)||e.play(),t.next=5,a.a.awrap(G.b());case 5:if(n=t.sent,!n.isNew){t.next=13;break}return t.next=10,a.a.awrap(G.d());case 10:d(!1),l(!1),f(vn.notifications.showSnackbar({message:"New version installed"}));case 13:case"end":return t.stop()}}),null,null,null,Promise)}),[f]);return g.useEffect((function(){p()}),[p]),g.createElement(C.a,{style:{flex:1}},n,o&&g.createElement(H.a,{tint:"dark",style:zn.blur,intensity:80},g.createElement(q.a,{style:zn.title},"A new update is available"),g.createElement(Q.a,{ref:m,style:{width:120,height:120},source:t(608)}),g.createElement(Y.a,{disabled:u,loading:u,color:"#FFFFFF",style:zn.button,mode:"outlined",onPress:function(){return v()}},"Click to update")))}var zn=j.a.create({blur:wn(wn({},j.a.absoluteFillObject),{},{alignItems:"center",justifyContent:"center"}),title:{color:"white",fontSize:24,fontWeight:"400",position:"absolute",top:100},button:{position:"absolute",bottom:100,borderColor:"white",borderRadius:20}}),On=t(790),In=t(794),Tn=t(779),jn=t(473),Pn=t(797),Fn=t(472),Dn=t(798);function An(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Nn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?An(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):An(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function $n(e){var n=e.children,t=g.useMemo((function(){var e,n,t,r,a,i;return new Pn.a({batchDebounce:!0,batchMax:10,uri:G.c in(null==(e=l.a.manifest)||null==(n=e.extra)?void 0:n.urls)?null==(t=l.a.manifest)||null==(r=t.extra)?void 0:r.urls[G.c]:null==(a=l.a.manifest)||null==(i=a.extra)?void 0:i.url})}),[]),r=kn((function(e){return e.global.credentials})),a=En(),i=g.useMemo((function(){return Object(Fn.a)((function(e){var n=e.graphQLErrors,t=e.networkError,r=e.operation;e.response;if(null!=n&&n.some((function(e){var n;return"AUTHENTICATION_ERROR"===(null==(n=e.extensions)?void 0:n.code)})))return a(vn.notifications.showSnackbar({message:"Session expired",variant:"error"})),void a(vn.global.logout());n&&"development"===Object({NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"OpenManifest",slug:"openmanifest",version:"1.0.0",orientation:"portrait",icon:"./assets/images/logo.png",scheme:"openmanifest",userInterfaceStyle:"automatic",splash:{image:"./assets/images/logo.png",resizeMode:"contain",backgroundColor:"#ff1414"},updates:{fallbackToCacheTimeout:0},assetBundlePatterns:["**/*"],web:{},_internal:{isDebug:!1,projectRoot:"/Users/victor/openmanifest/openmanifest-app",dynamicConfigPath:"/Users/victor/openmanifest/openmanifest-app/app.config.js",staticConfigPath:"/Users/victor/openmanifest/openmanifest-app/app.json",packageJsonPath:"/Users/victor/openmanifest/openmanifest-app/package.json"},sdkVersion:"42.0.0",platforms:["ios","android","web"],extra:{url:"https://devapi.openmanifest.org/graphql",urls:{development:"http://127.0.0.1",staging:"https://devapi.openmanifest.org/graphql",default:"https://devapi.openmanifest.org/graphql",production:"https://api.openmanifest.org/graphql"},environment:"staging"}}}).EXPO_ENV&&n.forEach((function(e){var n=e.message,t=e.locations,i=e.path,o=e.name,l=e.nodes;a(vn.notifications.showSnackbar({message:"[GraphQL error]: "+n+", "+JSON.stringify(t)+", "+i,variant:"error"})),console.error("[GraphQL error]: "+n+", "+JSON.stringify(t)+", "+i+", "+o+", "+l),console.log(JSON.stringify(e)),console.log(r)})),t&&"development"===Object({NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"OpenManifest",slug:"openmanifest",version:"1.0.0",orientation:"portrait",icon:"./assets/images/logo.png",scheme:"openmanifest",userInterfaceStyle:"automatic",splash:{image:"./assets/images/logo.png",resizeMode:"contain",backgroundColor:"#ff1414"},updates:{fallbackToCacheTimeout:0},assetBundlePatterns:["**/*"],web:{},_internal:{isDebug:!1,projectRoot:"/Users/victor/openmanifest/openmanifest-app",dynamicConfigPath:"/Users/victor/openmanifest/openmanifest-app/app.config.js",staticConfigPath:"/Users/victor/openmanifest/openmanifest-app/app.json",packageJsonPath:"/Users/victor/openmanifest/openmanifest-app/package.json"},sdkVersion:"42.0.0",platforms:["ios","android","web"],extra:{url:"https://devapi.openmanifest.org/graphql",urls:{development:"http://127.0.0.1",staging:"https://devapi.openmanifest.org/graphql",default:"https://devapi.openmanifest.org/graphql",production:"https://api.openmanifest.org/graphql"},environment:"staging"}}}).EXPO_ENV&&a(vn.notifications.showSnackbar({message:"[Network error]: "+t,variant:"error"}))}))}),[a]),o=g.useMemo((function(){return Object(jn.a)((function(e,n){return{headers:Nn(Nn({},n.headers),null!=r&&r.accessToken?Nn({Authorization:"Bearer "+r.accessToken,"access-token":r.accessToken,"token-type":r.tokenType},r):{})}}))}),[r]),s=g.useMemo((function(){return new On.a({link:i.concat(o).concat(new Dn.a).concat(t),cache:new In.a})}),[o,i,t]);return g.createElement(Tn.a,{client:s},n)}var Rn=t(476);function Un(){var e=kn((function(e){return e.imageViewer})),n=e.open,t=e.image,r=En();return n&&t?g.createElement(Rn.a,{mainSrc:t,onCloseRequest:function(){return r(vn.imageViewer.close())}}):null}var Bn=t(781),Ln=t(780),Wn=t(506),Mn=t(352),Vn=t(321);function _n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Gn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_n(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_n(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var qn=t(229),Hn=t.n(qn),Yn=t(320);var Jn={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc",success:"#00C851",error:"#ff4444",warning:"#FF8800",info:"#0099CC"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff",success:"#00C851",error:"#ff4444",warning:"#FF8800",info:"#0099CC"}};var Qn=function(){return Jn.light},Xn=t(480);function Zn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Kn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Zn(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var et,nt=cn.actions;!function(e){e[e.opening=0]="opening",e[e.waiting=1]="waiting",e[e.closed=2]="closed"}(et||(et={}));var tt=j.a.create({animation:{height:420,width:420}}),rt=function(){var e=kn((function(e){return e.notifications})),n=En(),t=Qn(),r=g.useRef(null),a=g.useState(et.closed),i=_()(a,2),o=i[0],l=i[1],s=g.useMemo((function(){return e.queue.length?e.queue[0]:null}),[e.queue]);g.useEffect((function(){o===et.closed&&"success"===(null==s?void 0:s.variant)&&l(et.opening)}),[o,null==s?void 0:s.variant]),g.useEffect((function(){s&&Yn.a.show({onHide:function(){return n(nt.hideSnackbar())},text1:Hn()(s.variant),text2:s.message,type:s.variant||"success"})}),[n,s]);t.info,t.success,t.error,t.warning;return g.createElement(g.Fragment,null,o===et.opening&&g.createElement(C.a,{style:Kn(Kn({},j.a.absoluteFillObject),{},{alignItems:"center",justifyContent:"center"}),pointerEvents:"none"},g.createElement(Q.a,{loop:!1,autoPlay:!0,onAnimationFinish:function(){l(et.waiting),setTimeout((function(){n(nt.hideSnackbar()),l(et.closed)}),200)},ref:r,style:tt.animation,source:Xn})),g.createElement(Yn.a,{ref:function(e){return Yn.a.setRef(e)},autoHide:!0,visibilityTime:4e3,position:"bottom",type:"success"}))},at=t(247),it={prefixes:[at.a("/"),"https://openmanifest.org","https://staging.openmanifest.org","openmanifest://","http://localhost:19006"],config:{screens:{confirm:{path:"/confirm"},Authenticated:{screens:{HomeScreen:"/home",LoadScreen:"/load/:load_id",PackingScreen:"/packing",ProfileScreen:"/user/:id",SetupScreen:"/dropzone/setup"}},Limbo:{screens:{DropzonesScreen:"/dropzones",CreateDropzoneScreen:"/dropzone/create"}},Unauthenticated:{screens:{LoginScreen:"/login",SignUpScreen:"/signup"}}}}},ot=t(789),lt=t(791),st=t(48);function ct(e){var n=e.navigation;return g.createElement(C.a,{style:dt.container},g.createElement(q.a,{style:dt.title},"This screen doesn't exist."),g.createElement(st.a,{onPress:function(){return n.replace("Root")},style:dt.link},g.createElement(q.a,{style:dt.linkText},"Go to home screen!")))}var ut,dt=j.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),mt=t(27),ft=t.n(mt),pt=t(792),gt=t(345),vt=t(9),ht=t(18),bt=t.n(ht),yt=t(782),xt=t(242),Et=t(24),kt=t(801),St=t(483),wt=t.n(St);function Ct(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function zt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ct(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ct(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ot(e){return{message:e,pattern:/.{1,}/}}function It(e){return{message:e,pattern:new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}}function Tt(e){return{message:e,pattern:/^\d+/}}function jt(e,n){return{message:e,callback:n}}function Pt(e,n){var t=n.getPayload,r=n.fieldErrorMap,i=n.validates;return function(o){var l=o.onFieldError,s=o.onSuccess,c=o.onError,u=Object(kt.a)(e,o.mutation),d=_()(u,2),m=d[0],f=d[1].loading,p=g.useCallback((function(e,n){var t=wt()(e),a=r&&t in r?r[e]:e;null==l||l(""+a,n)}),[l]);return{loading:f,mutate:g.useCallback((function(e,r){var o,l,u,d,f,g;return a.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(function(){var t=!1;return i&&Object.keys(e).forEach((function(r){var a,o=r;o in(n.validates||{})&&(null==(a=i[o])||a.forEach((function(n){n.pattern?n.pattern.test(""+(e[o]||""))||(t=!0,p(o,n.message)):n.callback&&!n.callback(e)?(t=!0,p(o,n.message)):console.log("Validator had no callback or pattern for "+o)})))})),!t}()){v.next=3;break}return v.abrupt("return",void 0);case 3:return v.prev=3,v.next=6,a.a.awrap(m(zt({variables:e},r)));case 6:if(d=v.sent,null==(f=t(d.data))||null==(o=f.fieldErrors)||o.forEach((function(e){var n=e.field,t=e.message;p(n,t)})),null==f||null==(l=f.errors)||!l.length||!c){v.next=12;break}return null==(g=f.errors)||g.map((function(e){return c(e)})),v.abrupt("return",void 0);case 12:return null!=f&&null!=(u=f.fieldErrors)&&u.length||!f||requestAnimationFrame((function(){return s(f)})),v.abrupt("return",f);case 16:v.prev=16,v.t0=v.catch(3),null==c||c(v.t0.message);case 19:return v.abrupt("return",void 0);case 20:case"end":return v.stop()}}),null,null,[[3,16]],Promise)}),[p,m,c,s])}}}var Ft,Dt=Pt(Object(Et.a)(ut||(ut=bt()(["\n  mutation UpdateUser(\n    $id: Int\n    $name: String\n    $phone: String\n    $email: String\n    $pushToken: String\n    $nickname: String\n    $licenseId: Int\n    $exitWeight: Float\n  ) {\n    updateUser(\n      input: {\n        id: $id\n        attributes: {\n          pushToken: $pushToken\n          name: $name\n          phone: $phone\n          email: $email\n          nickname: $nickname\n          licenseId: $licenseId\n          exitWeight: $exitWeight\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      user {\n        id\n        name\n        exitWeight\n        email\n        pushToken\n        phone\n        rigs {\n          id\n          name\n          model\n          make\n          serial\n          canopySize\n        }\n        jumpTypes {\n          id\n          name\n        }\n        userFederations {\n          id\n          license {\n            id\n            name\n          }\n          federation {\n            id\n            name\n            slug\n          }\n        }\n        license {\n          id\n          name\n\n          federation {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.updateUser},validates:{email:[Ot("Email is required"),It("Not a valid email")],name:[Ot("Name is required")],phone:[Ot("Phone number is required")],exitWeight:[Ot("Exit weight is required"),Tt("Exit weight must be a valid number"),jt("Exit weight seems too low?",(function(e){var n=e.exitWeight;return Number(n)>30}))]},fieldErrorMap:{licenseId:"license"}});function At(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Nt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?At(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):At(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var $t=Object(Et.a)(Ft||(Ft=bt()(["\n  query QueryDropzone($dropzoneId: Int!, $earliestTimestamp: Int) {\n    dropzone(id: $dropzoneId) {\n      id\n      lat\n      lng\n      name\n      primaryColor\n      secondaryColor\n      isPublic\n      requestPublication\n      planes {\n        id\n        name\n        registration\n      }\n      ticketTypes {\n        id\n        name\n      }\n\n      currentConditions {\n        id\n        jumpRun\n        temperature\n        offsetDirection\n        offsetMiles\n        winds {\n          altitude\n          speed\n          direction\n        }\n      }\n\n      currentUser {\n        id\n        credits\n        hasCredits\n        hasExitWeight\n        hasMembership\n        hasReserveInDate\n        hasRigInspection\n        hasLicense\n        permissions\n        expiresAt\n\n        user {\n          id\n          nickname\n          name\n          moderationRole\n        }\n\n        role {\n          id\n          name\n        }\n\n        rigInspections {\n          id\n          isOk\n          inspectedBy {\n            id\n            user {\n              id\n              name\n            }\n          }\n          rig {\n            id\n          }\n        }\n\n        orders {\n          edges {\n            node {\n              id\n              title\n              state\n              createdAt\n              title\n              amount\n              buyer {\n                __typename\n                ... on DropzoneUser {\n                  id\n                  user {\n                    id\n                    name\n                  }\n                }\n                ... on Dropzone {\n                  id\n                  name\n                }\n              }\n              seller {\n                __typename\n                ... on DropzoneUser {\n                  id\n                  user {\n                    id\n                    name\n                  }\n                }\n                ... on Dropzone {\n                  id\n                  name\n                }\n              }\n              item {\n                title\n                cost\n              }\n              item {\n                title\n                cost\n\n                ... on Slot {\n                  id\n\n                  ticketType {\n                    id\n                    name\n                    cost\n                  }\n\n                  extras {\n                    id\n                    name\n                    cost\n                  }\n                }\n                ... on TicketType {\n                  id\n                }\n                ... on Extra {\n                  id\n                  name\n                }\n              }\n              receipts {\n                id\n                transactions {\n                  id\n                  message\n                  transactionType\n                  status\n                  createdAt\n                  amount\n                  sender {\n                    ... on DropzoneUser {\n                      id\n                      user {\n                        id\n                        name\n                      }\n                    }\n                    ... on Dropzone {\n                      id\n                      name\n                    }\n                  }\n                  receiver {\n                    ... on DropzoneUser {\n                      id\n                      user {\n                        id\n                        name\n                      }\n                    }\n                    ... on Dropzone {\n                      id\n                      name\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        availableRigs {\n          name\n          id\n          make\n          model\n          canopySize\n          serial\n\n          user {\n            id\n          }\n        }\n        license {\n          id\n          name\n        }\n\n        user {\n          id\n          name\n          exitWeight\n          email\n          phone\n          pushToken\n          image\n\n          rigs {\n            id\n            name\n            model\n            make\n            serial\n            canopySize\n            repackExpiresAt\n            packingCard\n\n            user {\n              id\n            }\n          }\n          jumpTypes {\n            id\n            name\n          }\n          license {\n            id\n            name\n          }\n        }\n      }\n\n      loads(earliestTimestamp: $earliestTimestamp) {\n        edges {\n          node {\n            id\n            name\n            loadNumber\n            isOpen\n            maxSlots\n            state\n          }\n        }\n      }\n    }\n  }\n"])));function Rt(){var e,n,t,r,a,i,o,l,s,c,u,d=kn((function(e){return e.global.currentDropzoneId})),m=kn((function(e){return e.global.expoPushToken})),f=Object(yt.a)($t,{variables:{dropzoneId:d,earliestTimestamp:Object(xt.a)(new Date).getTime()/1e3},fetchPolicy:"cache-and-network"}),p=Dt({onSuccess:function(){return null},onError:function(){return null}});return g.useEffect((function(){var e,n,t,r,a,i,o,l,s=null==f||null==(e=f.data)||null==(n=e.dropzone)||null==(t=n.currentUser)||null==(r=t.user)?void 0:r.id,c=null==f||null==(a=f.data)||null==(i=a.dropzone)||null==(o=i.currentUser)||null==(l=o.user)?void 0:l.pushToken,u=m;!f.loading&&f.called&&u&&u!==c&&s&&p.mutate({id:Number(s),pushToken:u})}),[m,null==f||null==(e=f.data)||null==(n=e.dropzone)||null==(t=n.currentUser)||null==(r=t.user)?void 0:r.pushToken,null==f||null==(a=f.data)||null==(i=a.dropzone)||null==(o=i.currentUser)||null==(l=o.user)?void 0:l.id,f.loading,f.called,p]),Nt(Nt({},f),{},{dropzone:null==f||null==(s=f.data)?void 0:s.dropzone,currentUser:null==f||null==(c=f.data)||null==(u=c.dropzone)?void 0:u.currentUser})}var Ut,Bt,Lt,Wt,Mt,Vt,_t,Gt,qt,Ht,Yt,Jt,Qt,Xt,Zt=t(36),Kt=t(90),er=t(115),nr=t(276),tr=t(29),rr=t(73),ar=t.n(rr),ir=t(23),or=t(400),lr=t(401),sr=t(783);function cr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ur(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?cr(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var dr={},mr=Object(Et.b)(Ut||(Ut=bt()(["\n    fragment currentUserEssentials on DropzoneUser {\n  id\n  credits\n  hasCredits\n  hasExitWeight\n  hasMembership\n  hasReserveInDate\n  hasRigInspection\n  hasLicense\n  permissions\n  expiresAt\n  role {\n    id\n    name\n  }\n}\n    "]))),fr=(Object(Et.b)(Bt||(Bt=bt()(["\n    fragment currentUserDetailed on DropzoneUser {\n  ...currentUserEssentials\n  rigInspections {\n    id\n    isOk\n    inspectedBy {\n      id\n      user {\n        id\n        name\n      }\n    }\n    rig {\n      id\n    }\n  }\n  orders {\n    edges {\n      node {\n        id\n        title\n        state\n        createdAt\n        title\n        amount\n        buyer {\n          __typename\n          ... on DropzoneUser {\n            id\n            user {\n              id\n              name\n            }\n          }\n          ... on Dropzone {\n            id\n            name\n          }\n        }\n        seller {\n          __typename\n          ... on DropzoneUser {\n            id\n            user {\n              id\n              name\n            }\n          }\n          ... on Dropzone {\n            id\n            name\n          }\n        }\n        item {\n          title\n          cost\n          ... on Slot {\n            id\n            ticketType {\n              id\n              name\n              cost\n            }\n            extras {\n              id\n              name\n              cost\n            }\n          }\n          ... on TicketType {\n            id\n          }\n          ... on Extra {\n            id\n            name\n          }\n        }\n        receipts {\n          id\n          transactions {\n            id\n            message\n            transactionType\n            status\n            createdAt\n            amount\n            sender {\n              ... on DropzoneUser {\n                id\n                user {\n                  id\n                  name\n                }\n              }\n              ... on Dropzone {\n                id\n                name\n              }\n            }\n            receiver {\n              ... on DropzoneUser {\n                id\n                user {\n                  id\n                  name\n                }\n              }\n              ... on Dropzone {\n                id\n                name\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  availableRigs {\n    name\n    id\n    make\n    model\n    canopySize\n    serial\n    user {\n      id\n    }\n  }\n  license {\n    id\n    name\n  }\n  user {\n    id\n    name\n    moderationRole\n    nickname\n    exitWeight\n    email\n    phone\n    pushToken\n    image\n    rigs {\n      id\n      name\n      model\n      make\n      serial\n      canopySize\n      repackExpiresAt\n      packingCard\n      user {\n        id\n      }\n    }\n    jumpTypes {\n      id\n      name\n    }\n    license {\n      id\n      name\n    }\n  }\n}\n    ",""])),mr),Object(Et.b)(Lt||(Lt=bt()(["\n    fragment dropzoneEssentials on Dropzone {\n  id\n  lat\n  lng\n  name\n  primaryColor\n  secondaryColor\n  planes {\n    id\n    name\n    registration\n  }\n  ticketTypes {\n    id\n    name\n  }\n}\n    "])))),pr=(Object(Et.b)(Wt||(Wt=bt()(["\n    fragment dropzoneDetailed on Dropzone {\n  ...dropzoneEssentials\n  currentConditions {\n    id\n    jumpRun\n    temperature\n    offsetDirection\n    offsetMiles\n    winds {\n      altitude\n      speed\n      direction\n    }\n  }\n  loads(earliestTimestamp: $earliestTimestamp) {\n    edges {\n      node {\n        id\n        name\n        loadNumber\n        isOpen\n        maxSlots\n        state\n      }\n    }\n  }\n}\n    ",""])),fr),Object(Et.b)(Mt||(Mt=bt()(["\n    fragment slot on Slot {\n  id\n  createdAt\n  exitWeight\n  passengerName\n  passengerExitWeight\n  wingLoading\n  dropzoneUser {\n    id\n    role {\n      id\n      name\n    }\n    user {\n      id\n      name\n      nickname\n      exitWeight\n      image\n      license {\n        id\n        name\n      }\n    }\n  }\n  ticketType {\n    id\n    name\n    altitude\n    isTandem\n    extras {\n      id\n      name\n      cost\n    }\n  }\n  jumpType {\n    id\n    name\n  }\n  extras {\n    id\n    name\n  }\n}\n    "])))),gr=Object(Et.b)(Vt||(Vt=bt()(["\n    fragment load on Load {\n  id\n  name\n  createdAt\n  dispatchAt\n  hasLanded\n  loadNumber\n  isFull\n  state\n  isOpen\n  weight\n  maxSlots\n  availableSlots\n  occupiedSlots\n  plane {\n    id\n    maxSlots\n    name\n  }\n  gca {\n    id\n    user {\n      id\n      name\n    }\n  }\n  pilot {\n    id\n    user {\n      id\n      name\n    }\n  }\n  loadMaster {\n    id\n    user {\n      id\n      name\n    }\n  }\n  slots {\n    ...slot\n  }\n}\n    ",""])),pr),vr=Object(Et.b)(_t||(_t=bt()(["\n    fragment transaction on Transaction {\n  id\n  transactionType\n  amount\n  status\n  sender {\n    ... on DropzoneUser {\n      id\n      user {\n        id\n        name\n      }\n    }\n    ... on Dropzone {\n      id\n      name\n    }\n  }\n  receiver {\n    ... on DropzoneUser {\n      id\n      user {\n        id\n        name\n      }\n    }\n    ... on Dropzone {\n      id\n      name\n    }\n  }\n}\n    "]))),hr=Object(Et.b)(Gt||(Gt=bt()(["\n    fragment order on Order {\n  id\n  state\n  amount\n  title\n  orderNumber\n  buyer {\n    ... on DropzoneUser {\n      id\n      user {\n        id\n        name\n      }\n    }\n    ... on Dropzone {\n      id\n      name\n    }\n  }\n  seller {\n    ... on DropzoneUser {\n      id\n      user {\n        id\n        name\n      }\n    }\n    ... on Dropzone {\n      id\n      name\n    }\n  }\n  item {\n    title\n    cost\n    ... on Slot {\n      id\n      ticketType {\n        id\n        name\n        cost\n      }\n      extras {\n        id\n        name\n        cost\n      }\n    }\n    ... on TicketType {\n      id\n    }\n    ... on Extra {\n      id\n      name\n    }\n  }\n  receipts {\n    id\n    amountCents\n    createdAt\n    updatedAt\n    transactions {\n      ...transaction\n    }\n  }\n}\n    ",""])),vr);Object(Et.b)(qt||(qt=bt()(["\n    mutation CreateOrder($buyer: WalletInput!, $seller: WalletInput!, $dropzoneId: Int!, $title: String, $amount: Int!) {\n  createOrder(\n    input: {attributes: {dropzoneId: $dropzoneId, title: $title, buyer: $buyer, seller: $seller, amount: $amount}}\n  ) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    order {\n      ...order\n    }\n  }\n}\n    ",""])),hr);var br=Object(Et.b)(Ht||(Ht=bt()(["\n    mutation FinalizeLoad($id: Int!, $state: LoadState!) {\n  finalizeLoad(input: {id: $id, state: $state}) {\n    fieldErrors {\n      message\n      field\n    }\n    errors\n    load {\n      ...load\n    }\n  }\n}\n    ",""])),gr);var yr=Object(Et.b)(Yt||(Yt=bt()(["\n    mutation JoinFederation($federationId: Int!, $uid: String, $licenseId: Int) {\n  joinFederation(\n    input: {attributes: {federationId: $federationId, uid: $uid, licenseId: $licenseId}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    userFederation {\n      id\n      uid\n      qualifications {\n        id\n        name\n        uid\n        expiresAt\n      }\n      license {\n        id\n        name\n      }\n      user {\n        id\n        name\n        nickname\n        userFederations {\n          federation {\n            id\n            name\n            slug\n          }\n          license {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n}\n    "])));function xr(e){var n=ur(ur({},dr),e);return kt.a(yr,n)}var Er=Object(Et.b)(Jt||(Jt=bt()(["\n    query DropzoneTransactions($dropzoneId: Int!, $after: String) {\n  dropzone(id: $dropzoneId) {\n    ...dropzoneEssentials\n    orders(after: $after) {\n      edges {\n        node {\n          id\n        }\n      }\n    }\n  }\n}\n    ",""])),fr);Object(Et.b)(Qt||(Qt=bt()(["\n    query QueryDropzoneUserProfile($dropzoneId: Int!, $dropzoneUserId: Int!) {\n  dropzone(id: $dropzoneId) {\n    id\n    name\n    dropzoneUser(id: $dropzoneUserId) {\n      id\n      credits\n      expiresAt\n      permissions\n      role {\n        id\n        name\n      }\n      user {\n        id\n        name\n        exitWeight\n        email\n        phone\n        image\n        rigs {\n          id\n          name\n          model\n          make\n          serial\n          canopySize\n          repackExpiresAt\n        }\n        jumpTypes {\n          id\n          name\n        }\n        license {\n          id\n          name\n          federation {\n            id\n            name\n          }\n        }\n      }\n      slots {\n        edges {\n          node {\n            id\n            createdAt\n            load {\n              id\n              name\n              loadNumber\n              dispatchAt\n              createdAt\n            }\n            jumpType {\n              id\n              name\n            }\n            ticketType {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n}\n    "])));var kr,Sr=Object(Et.b)(Xt||(Xt=bt()(["\n    query CurrentUserPermissions($dropzoneId: Int!) {\n  dropzone(id: $dropzoneId) {\n    id\n    name\n    primaryColor\n    secondaryColor\n    currentUser {\n      id\n      role {\n        id\n        name\n      }\n      permissions\n    }\n  }\n}\n    "])));function wr(e){var n,t,r=kn((function(e){return e.global})).currentDropzoneId,a=function(e){var n=ur(ur({},dr),e);return sr.a(Sr,n)}({variables:{dropzoneId:Number(r)}}),i=_()(a,2),o=i[0],l=i[1].data;g.useEffect((function(){r&&o({variables:{dropzoneId:Number(r)}})}),[r,o]);var s=(null==l||null==(n=l.dropzone)||null==(t=n.currentUser)?void 0:t.permissions)||[];return(null==s?void 0:s.includes(e))||!1}var Cr,zr=Object(Et.a)(kr||(kr=bt()(["\n  query QueryGCAUsers($dropzoneId: Int!, $permissions: [Permission!]) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n\n      dropzoneUsers(permissions: $permissions) {\n        edges {\n          node {\n            id\n            role {\n              id\n              name\n            }\n            user {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function Or(e){var n,t,r,a,i,o=e.small,l=e.color,s=e.backgroundColor,c=e.onSelect,u=e.value,d=Object(ir.b)(),m=l||d.colors.onSurface,f=g.useState(!1),p=_()(f,2),v=p[0],h=p[1],b=kn((function(e){return e.global})).currentDropzoneId,y=Object(yt.a)(zr,{variables:{dropzoneId:Number(b),permissions:["actAsGCA"]}}).data;return wr($.UpdateLoad)?g.createElement(lr.a,{onDismiss:function(){return h(!1)},visible:v,anchor:g.createElement(or.a,{mode:"outlined",icon:"radio-handheld",selectedColor:m,onPress:function(){return h(!0)},style:{marginHorizontal:4,backgroundColor:s,height:o?25:void 0,alignItems:"center",borderColor:m||void 0},textStyle:{color:m,fontSize:o?12:void 0}},null!=u&&u.id?null==u||null==(t=u.user)?void 0:t.name:"No gca")},null==y||null==(r=y.dropzone)||null==(a=r.dropzoneUsers)||null==(i=a.edges)?void 0:i.map((function(e){var n,t,r;return g.createElement(lr.a.Item,{key:"gca-chip-"+(null==e||null==(n=e.node)?void 0:n.id),onPress:function(){h(!1),null!=e&&e.node&&c(null==e?void 0:e.node)},title:null==e||null==(t=e.node)||null==(r=t.user)?void 0:r.name})}))):g.createElement(or.a,{mode:"outlined",icon:"radio-handheld",selectedColor:m,style:{marginHorizontal:4,backgroundColor:s,height:o?25:void 0,alignItems:"center",borderColor:m||void 0},textStyle:{color:m,fontSize:o?12:void 0}},(null==u||null==(n=u.user)?void 0:n.name)||"No gca")}function Ir(e){var n,t,r=e.small,a=e.color,i=e.backgroundColor,o=e.value,l=e.onSelect,s=e.slots,c=Object(ir.b)(),u=a||c.colors.onSurface,d=g.useState(!1),m=_()(d,2),f=m[0],p=m[1],v=wr($.UpdateLoad);return v?g.createElement(lr.a,{onDismiss:function(){return p(!1)},visible:f,anchor:g.createElement(or.a,{mode:"outlined",icon:"shield-account",selectedColor:u,style:{marginHorizontal:4,backgroundColor:i,height:r?25:void 0,alignItems:"center",borderColor:u||void 0},textStyle:{color:u,fontSize:r?12:void 0},onPress:function(){return v&&p(!0)}},null!=o&&o.id?null==o||null==(t=o.user)?void 0:t.name:"No loadmaster")},null==s?void 0:s.map((function(e){var n,t;return g.createElement(lr.a.Item,{key:"lm-chip-"+e.id,onPress:function(){p(!1),null!=e&&e.dropzoneUser&&l(e.dropzoneUser)},title:null==e||null==(n=e.dropzoneUser)||null==(t=n.user)?void 0:t.name})}))):g.createElement(or.a,{mode:"outlined",icon:"shield-account",selectedColor:u,style:{marginHorizontal:4,backgroundColor:i,height:r?25:void 0,alignItems:"center",borderColor:u||void 0},textStyle:{color:u,fontSize:r?12:void 0}},(null==o||null==(n=o.user)?void 0:n.name)||"No loadmaster")}var Tr,jr=Object(Et.a)(Cr||(Cr=bt()(["\n  query QueryPilotUsers($dropzoneId: Int!, $permissions: [Permission!]) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n\n      dropzoneUsers(permissions: $permissions) {\n        edges {\n          node {\n            id\n            role {\n              id\n              name\n            }\n            user {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function Pr(e){var n,t,r,a,i,o=e.small,l=e.color,s=e.backgroundColor,c=e.onSelect,u=e.value,d=Object(ir.b)(),m=l||d.colors.onSurface,f=g.useState(!1),p=_()(f,2),v=p[0],h=p[1],b=kn((function(e){return e.global})).currentDropzoneId,y=Object(yt.a)(jr,{variables:{dropzoneId:b,permissions:["actAsPilot"]}}).data;return wr($.UpdateLoad)?g.createElement(lr.a,{onDismiss:function(){return h(!1)},visible:v,anchor:g.createElement(or.a,{mode:"outlined",icon:"shield-airplane",selectedColor:m,style:{marginHorizontal:4,backgroundColor:s,height:o?25:void 0,alignItems:"center",borderColor:m||void 0},textStyle:{color:m,fontSize:o?12:void 0},onPress:function(){return h(!0)}},null!=u&&u.id?null==u||null==(t=u.user)?void 0:t.name:"No pilot")},null==y||null==(r=y.dropzone)||null==(a=r.dropzoneUsers)||null==(i=a.edges)?void 0:i.map((function(e){var n,t,r;return g.createElement(lr.a.Item,{key:"pilot-select-"+(null==e||null==(n=e.node)?void 0:n.id),onPress:function(){h(!1),null!=e&&e.node&&c(e.node)},title:null==e||null==(t=e.node)||null==(r=t.user)?void 0:r.name})}))):g.createElement(or.a,{mode:"outlined",icon:"radio-handheld",selectedColor:m,style:{marginHorizontal:4,backgroundColor:s,height:o?25:void 0,alignItems:"center",borderColor:m||void 0},textStyle:{color:m,fontSize:o?12:void 0}},(null==u||null==(n=u.user)?void 0:n.name)||"No pilot")}var Fr=Object(Et.a)(Tr||(Tr=bt()(["\n  query QueryChipPlanes($dropzoneId: Int!) {\n    planes(dropzoneId: $dropzoneId) {\n      id\n      name\n      registration\n      hours\n      minSlots\n      maxSlots\n      nextMaintenanceHours\n      createdAt\n    }\n  }\n"])));function Dr(e){var n,t=e.small,r=e.color,a=e.backgroundColor,i=e.value,o=e.onSelect,l=Object(ir.b)(),s=r||l.colors.onSurface,c=g.useState(!1),u=_()(c,2),d=u[0],m=u[1],f=kn((function(e){return e.global})).currentDropzoneId,p=Object(yt.a)(Fr,{variables:{dropzoneId:Number(f)}}).data,v=wr($.UpdateLoad);return v?g.createElement(lr.a,{onDismiss:function(){return m(!1)},visible:d,anchor:g.createElement(or.a,{mode:"outlined",icon:"airplane",selectedColor:s,style:{marginHorizontal:4,backgroundColor:a,height:t?25:void 0,alignItems:"center",borderColor:s||void 0},textStyle:{color:s,fontSize:t?12:void 0},onPress:function(){return v&&m(!0)}},(null==i?void 0:i.name)||"No plane")},null==p||null==(n=p.planes)?void 0:n.map((function(e){return g.createElement(lr.a.Item,{key:"lm-plane-chip-"+e.id,onPress:function(){m(!1),o(e)},title:e.name})}))):g.createElement(or.a,{mode:"outlined",icon:"airplane-takeoff",selectedColor:s,style:{marginHorizontal:4,backgroundColor:a,height:t?25:void 0,alignItems:"center"},textStyle:{color:s,fontSize:t?12:void 0}},(null==i?void 0:i.name)||"No plane")}var Ar=t(61),Nr=t(280),$r=t(433),Rr=t(21),Ur=t.n(Rr),Br=t(402),Lr=t(7),Wr=t(269),Mr=t(430),Vr=t(14),_r=t.n(Vr),Gr=["onChangeText"];function qr(e){var n=e.onChangeText,t=_r()(e,Gr),r=t.value,a=Object(ir.b)(),o=g.useCallback((function(e){if(/\d/.test(e)){var t=e.match(/^\-?\d+/)||["0"],r=_()(t,1)[0];n(Number(r))}}),[n]);return g.createElement(Mr.a,ft()({},t,{onChangeText:o,value:""+(r||0),mode:"outlined",keyboardType:"number-pad",right:g.createElement(Mr.a.Affix,{textStyle:{height:"100%"},text:g.createElement(C.a,{style:Hr.chevrons},g.createElement(i.f,{style:[Hr.affixTopChevron,{borderColor:a.colors.text,backgroundColor:a.colors.surface}],onPress:function(){return null==n?void 0:n((r||0)+1)}},g.createElement(gt.a,{name:"chevron-up",size:24})),g.createElement(i.f,{style:[Hr.affixBottomChevron,{backgroundColor:a.colors.surface}],onPress:function(){return null==n?void 0:n((r||0)-1)}},g.createElement(gt.a,{name:"chevron-down",size:24})))}),caretHidden:!1}))}var Hr=j.a.create({affixBottomChevron:{width:48,height:27,alignItems:"center",borderLeftWidth:j.a.hairlineWidth},affixTopChevron:{width:48,height:27,borderBottomWidth:j.a.hairlineWidth,borderLeftWidth:j.a.hairlineWidth,alignItems:"center"},chevrons:{width:48,height:59,paddingTop:4,marginRight:-10,flexDirection:"column",justifyContent:"flex-end"}}),Yr=t(52);function Jr(e,n){var t=n.getPayload;return function(n){var r=n.variables,a=n.pollInterval,i=n.onError,o=En(),l=Object(yt.a)(e,{variables:r,pollInterval:a}),s=l.data,c=l.loading,u=l.refetch,d=l.error,m=g.useMemo((function(){return t(s)}),[s]);return g.useEffect((function(){null!=d&&d.message&&(!1!==n.showSnackbarErrors&&o(vn.notifications.showSnackbar({message:d.message,variant:"error"})),null==i||i(d.message))}),[n.onError,null==d?void 0:d.message,n.showSnackbarErrors,i,o]),{loading:c,data:m,refetch:u}}}var Qr,Xr=g.memo((function(e){var n=e.items,t=e.selected,r=e.isSelected,a=e.isDisabled,i=e.icon,o=e.renderItemLabel,l=e.onChangeSelected,s=e.autoSelectFirst;return g.useEffect((function(){(!t||!t.length&&n.length&&s)&&l([n[0]])}),[t,s,l,n]),g.createElement(C.a,{style:{flexDirection:"row",flexWrap:"wrap"}},n.map((function(e){return g.createElement(or.a,{key:JSON.stringify(e),mode:"outlined",icon:!t.some((function(n){return Object(Yr.isEqual)(e,n)}))&&i?i:void 0,style:{margin:1},disabled:(null==a?void 0:a(e))||!1,selected:r?r(e):t.some((function(n){return Object(Yr.isEqual)(e,n)})),onPress:function(){return l(1===t.length?[e]:Object(Yr.xorBy)(t,[e],JSON.stringify))}},o(e))})))}),(function(e,n){return Object(Yr.isEqual)(Object(Yr.pick)(e,["isDisabled","isSelected","items","selected"]),Object(Yr.pick)(n,["isDisabled","isSelected","items","selected"]))}));function Zr(e){var n=e.rows;return g.createElement(ar.a,{isLoading:!0,containerStyle:{height:41+32*(n||1),width:"100%",justifyContent:"center",marginBottom:16},layout:[{key:"header",width:70,height:15,borderRadius:8,marginVertical:13,marginHorizontal:8},{key:"chips",flexDirection:"row",children:[{key:"chip1",width:96,height:32,borderRadius:16,marginRight:4},{key:"chip2",width:96,height:32,borderRadius:16,marginRight:4},{key:"chip3",width:96,height:32,borderRadius:16}]}]})}var Kr,ea=Jr(Object(Et.a)(Qr||(Qr=bt()(["\n  query DropzoneUsersAllowedJumpTypes($dropzoneId: Int!, $userIds: [Int!]!) {\n    dropzone(id: $dropzoneId) {\n      id\n\n      allowedJumpTypes(userId: $userIds) {\n        id\n        name\n      }\n    }\n    jumpTypes {\n      id\n      name\n    }\n  }\n"]))),{getPayload:function(e){var n,t;return{allowedJumpTypes:(null==e||null==(n=e.dropzone)?void 0:n.allowedJumpTypes)||[],ticketTypes:(null==e||null==(t=e.dropzone)?void 0:t.ticketTypes)||[],jumpTypes:(null==e?void 0:e.jumpTypes)||[]}}});function na(e){var n=e.onLoadingStateChanged,t=e.userId,r=e.value,a=e.onSelect,i=kn((function(e){return e.global})).currentDropzoneId,o=ea({variables:{userIds:[Number(t)||null].filter(Boolean),dropzoneId:Number(i)},onError:console.error}),l=o.data,s=o.loading;return g.useEffect((function(){null==n||n(s)}),[s,n]),s?g.createElement(Zr,null):g.createElement(g.Fragment,null,g.createElement(Lr.c.Subheader,null,"Jump type"),g.createElement(Xr,{autoSelectFirst:!0,items:Object(Yr.uniqBy)([].concat(Ur()((null==l?void 0:l.allowedJumpTypes)||[]),Ur()((null==l?void 0:l.jumpTypes)||[])),(function(e){return e.id}))||[],selected:[r].filter(Boolean),renderItemLabel:function(e){return(null==e?void 0:e.name)||"Unknown"},isDisabled:function(e){var n;return!(null!=l&&null!=(n=l.allowedJumpTypes)&&n.map((function(e){return e.id})).includes(null==e?void 0:e.id))},onChangeSelected:function(e){var n=_()(e,1)[0];return n?a(n):null}}))}var ta,ra=Jr(Object(Et.a)(Kr||(Kr=bt()(["\n  query DropzoneUsersAllowedTicketTypes($dropzoneId: Int!, $onlyPublicTickets: Boolean) {\n    dropzone(id: $dropzoneId) {\n      id\n\n      ticketTypes(isPublic: $onlyPublicTickets) {\n        id\n        name\n        cost\n        isTandem\n\n        extras {\n          id\n          cost\n          name\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){var n;return{ticketTypes:(null==e||null==(n=e.dropzone)?void 0:n.ticketTypes)||[]}}});function aa(e){var n=e.value,t=e.onLoadingStateChanged,r=e.onSelect,a=e.onlyPublicTickets,i=kn((function(e){return e.global})).currentDropzoneId,o=ra({variables:{dropzoneId:Number(i),onlyPublicTickets:a||null},onError:console.error}),l=o.data,s=o.loading;return g.useEffect((function(){null==t||t(s)}),[s,t]),s?g.createElement(Zr,null):g.createElement(g.Fragment,null,g.createElement(Lr.c.Subheader,null,"Ticket"),g.createElement(Xr,{autoSelectFirst:!0,items:(null==l?void 0:l.ticketTypes)||[],selected:[n].filter(Boolean),renderItemLabel:function(e){return null==e?void 0:e.name},isDisabled:function(){return!1},onChangeSelected:function(e){var n=_()(e,1)[0];return n?r(n):null}}))}function ia(e){var n=Object(ir.b)(),t=e.rig,r=(null==t?void 0:t.name)||(null==t?void 0:t.make)+" "+(null==t?void 0:t.model);return g.createElement(g.Fragment,null,g.createElement(q.a,null,r+" ("+(null==t?void 0:t.canopySize)+" sqft)"),t.user?null:g.createElement(C.a,{style:{padding:2,paddingHorizontal:4,backgroundColor:n.colors.accent,borderRadius:16}},g.createElement(q.a,{style:{fontSize:10,color:"white"}},"Dropzone rig")))}var oa=Object(Et.a)(ta||(ta=bt()(["\n  query QueryAvailableRigs($dropzoneId: Int!, $userId: Int!, $isTandem: Boolean) {\n    dropzone(id: $dropzoneId) {\n      id\n      dropzoneUser(userId: $userId) {\n        id\n        availableRigs(isTandem: $isTandem) {\n          id\n          make\n          model\n          canopySize\n          serial\n\n          user {\n            id\n          }\n        }\n      }\n    }\n  }\n"])));function la(e){var n,t,r,a,i=e.userId,o=e.value,l=e.autoSelectFirst,s=e.onSelect,c=e.dropzoneId,u=e.tandem,d=g.useState(!1),m=_()(d,2),f=m[0],p=m[1],v=kn((function(e){return e.global})).currentDropzoneId,h=Object(sr.a)(oa,{fetchPolicy:"cache-and-network"}),b=_()(h,2),y=b[0],x=b[1].data;return g.useEffect((function(){i&&c&&y({variables:{dropzoneId:v,userId:Number(i),isTandem:u||void 0}})}),[i,c,y,v,u]),g.useEffect((function(){var e,n,t;!o&&l&&null!=x&&null!=(e=x.dropzone)&&null!=(n=e.dropzoneUser)&&null!=(t=n.availableRigs)&&t.length&&s(x.dropzone.dropzoneUser.availableRigs[0])}),[l,null==x||null==(n=x.dropzone.dropzoneUser)?void 0:n.availableRigs,s,o]),g.createElement(lr.a,{onDismiss:function(){return p(!1)},visible:f,anchor:g.createElement(Mr.a,{onTouchEnd:function(){return p(!0)},label:"Select rig",value:o?((null==o?void 0:o.name)||(null==o?void 0:o.make)+" "+(null==o?void 0:o.model))+" ("+(null==o?void 0:o.canopySize)+" sqft)":void 0,left:function(){return g.createElement(Lr.c.Icon,{icon:"parachute"})},editable:!1,mode:"outlined"})},null==x||null==(t=x.dropzone)||null==(r=t.dropzoneUser)||null==(a=r.availableRigs)?void 0:a.map((function(e){return g.createElement(lr.a.Item,{key:"rig-select-"+e.id,onPress:function(){p(!1),s(e)},style:{width:"100%"},title:g.createElement(ia,{rig:e})})})))}function sa(){var e,n,t,r,a,i,o,l,s,c,u,d,m,f,p,v,h,b,y,x,E,k,S,w=En(),C=Rt(),z=kn((function(e){return e.forms.manifest}));g.useEffect((function(){var e;if(null!=(e=z.fields.dropzoneUser)&&e.value){var n,t,r,a,i,o,l;if(!z.fields.exitWeight.value)w(vn.forms.manifest.setField(["exitWeight",Number((null==(r=z.fields.dropzoneUser)||null==(a=r.value)||null==(i=a.user)?void 0:i.exitWeight)||60)]));if(!z.fields.rig.value&&null!=(n=z.fields.dropzoneUser.value.user)&&null!=(t=n.rigs)&&t.length)w(vn.forms.manifest.setField(["rig",null==(o=z.fields.dropzoneUser)||null==(l=o.value)?void 0:l.user.rigs[0]]))}}),[w,z.fields.dropzoneUser.value,null==(e=z.fields.dropzoneUser.value)?void 0:e.id,z.fields.exitWeight.value,z.fields.rig.value]);var O=wr((null==z||null==(n=z.original)?void 0:n.id)?$.UpdateUserSlot:$.CreateUserSlot);return g.createElement(g.Fragment,null,g.createElement(na,{value:z.fields.jumpType.value,userId:Number(null==z||null==(t=z.fields)||null==(r=t.dropzoneUser)||null==(a=r.value)||null==(i=a.user)?void 0:i.id)||null,onSelect:function(e){return w(vn.forms.manifest.setField(["jumpType",e]))}}),g.createElement(Br.a,{type:z.fields.jumpType.error?"error":"info"},z.fields.jumpType.error||""),g.createElement(aa,{value:z.fields.ticketType.value,onlyPublicTickets:!O,onSelect:function(e){return w(vn.forms.manifest.setField(["ticketType",e]))}}),g.createElement(Br.a,{type:z.fields.ticketType.error?"error":"info"},z.fields.ticketType.error||""),null!=z&&null!=(o=z.fields)&&null!=(l=o.ticketType)&&null!=(s=l.value)&&null!=(c=s.extras)&&c.length?g.createElement(Lr.c.Subheader,null,"Ticket addons"):null,g.createElement(Ar.a,{horizontal:!0,style:ua.ticketAddons},null==z||null==(u=z.fields)||null==(d=u.ticketType)||null==(m=d.value)||null==(f=m.extras)?void 0:f.map((function(e){var n,t,r,a;return g.createElement(or.a,{selected:null==z||null==(n=z.fields)||null==(t=n.extras.value)?void 0:t.some((function(n){return n.id===e.id})),onPress:null!=z&&null!=(r=z.fields)&&null!=(a=r.extras.value)&&a.some((function(n){return n.id===e.id}))?function(){var n,t;return w(vn.forms.manifest.setField(["extras",null==z||null==(n=z.fields)||null==(t=n.extras.value)?void 0:t.filter((function(n){return n.id!==e.id}))]))}:function(){var n,t;return w(vn.forms.manifest.setField(["extras",[].concat(Ur()((null==z||null==(n=z.fields)||null==(t=n.extras)?void 0:t.value)||[]),[e])]))}},e.name+" ($"+e.cost+")")}))),g.createElement(Br.a,{type:z.fields.extras.error?"error":"info"},z.fields.extras.error||""),g.createElement(Wr.a,null),z.fields.dropzoneUser?g.createElement(la,{required:!0,value:z.fields.rig.value,userId:Number(null==(p=z.fields.dropzoneUser)||null==(v=p.value)||null==(h=v.user)?void 0:h.id),dropzoneId:Number(null==C||null==(b=C.dropzone)?void 0:b.id),onSelect:function(e){return w(vn.forms.manifest.setField(["rig",e]))}}):null,g.createElement(Br.a,{type:z.fields.rig.error?"error":"info"},z.fields.rig.error||""),g.createElement(qr,{label:"Exit weight (kg)",error:!!z.fields.exitWeight.error,value:null==(y=z.fields.exitWeight)?void 0:y.value,onChangeText:function(e){return w(vn.forms.manifest.setField(["exitWeight",Number(e)]))}}),g.createElement(Br.a,{type:z.fields.exitWeight.error?"error":"info"},z.fields.exitWeight.error||""),null!=(x=z.fields.ticketType.value)&&x.isTandem?g.createElement(g.Fragment,null,g.createElement(Lr.c.Subheader,null,"Passenger"),g.createElement(Mr.a,{style:ua.field,mode:"outlined",label:"Passenger name",error:!!z.fields.passengerName.error,value:(null==(E=z.fields.passengerName)||null==(k=E.value)?void 0:k.toString())||"",onChangeText:function(e){return w(vn.forms.manifest.setField(["passengerName",e]))}}),g.createElement(Mr.a,{style:ua.field,mode:"outlined",label:"Passenger exit weight",error:!!z.fields.passengerExitWeight.error,value:(null==(S=z.fields.passengerExitWeight.value)?void 0:S.toString())||"",onChangeText:function(e){return w(vn.forms.manifest.setField(["passengerExitWeight",Number(e)]))}})):null)}var ca,ua=j.a.create({fields:{flex:1},field:{marginBottom:8},ticketAddons:{marginBottom:8}});function da(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ma(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?da(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):da(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var fa=Object(Et.b)(ca||(ca=bt()(["\n  mutation CreateSlot(\n    $jumpTypeId: Int\n    $extraIds: [Int!]\n    $loadId: Int\n    $rigId: Int\n    $ticketTypeId: Int\n    $dropzoneUserId: Int\n    $exitWeight: Float\n    $passengerName: String\n    $passengerExitWeight: Float\n  ) {\n    createSlot(\n      input: {\n        attributes: {\n          jumpTypeId: $jumpTypeId\n          extraIds: $extraIds\n          loadId: $loadId\n          rigId: $rigId\n          ticketTypeId: $ticketTypeId\n          dropzoneUserId: $dropzoneUserId\n          exitWeight: $exitWeight\n          passengerExitWeight: $passengerExitWeight\n          passengerName: $passengerName\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      slot {\n        id\n        jumpType {\n          id\n          name\n        }\n        extras {\n          id\n          name\n        }\n        exitWeight\n        load {\n          id\n          name\n          createdAt\n          dispatchAt\n          hasLanded\n          maxSlots\n          isFull\n          isOpen\n          plane {\n            id\n            name\n          }\n          gca {\n            id\n            user {\n              id\n              name\n            }\n          }\n          pilot {\n            id\n            user {\n              id\n              name\n            }\n          }\n          loadMaster {\n            id\n            user {\n              id\n              name\n            }\n          }\n          slots {\n            id\n            createdAt\n            user {\n              id\n              name\n            }\n            passengerName\n            passengerExitWeight\n            ticketType {\n              id\n              name\n              isTandem\n              altitude\n            }\n            jumpType {\n              id\n              name\n            }\n            extras {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function pa(e){var n,t,r,i,o,l,s,c,u,d,m,f,p,v,h,b,x,E,k=e.onSuccess,S=e.open,w=En(),C=kn((function(e){return e.forms.manifest})),z=kn((function(e){return e.global})),O=Object(kt.a)(fa),I=_()(O,2),T=I[0],j=I[1],P=g.useCallback((function(){var e,n,t=!1;return null!=(e=C.fields.jumpType.value)&&e.id||(t=!0,w(vn.forms.manifest.setFieldError(["jumpType","You must specify the type of jump"]))),null!=(n=C.fields.ticketType.value)&&n.id||(t=!0,w(vn.forms.manifest.setFieldError(["ticketType","You must select a ticket type to manifest"]))),!t}),[w,null==(n=C.fields.jumpType.value)?void 0:n.id,null==(t=C.fields.ticketType.value)?void 0:t.id]),F=g.useCallback((function(){var e,n,t,r,i,o,l,s,c,u,d,m,f,p,g,v,h,b,y,x,E,S,z,O,I;return a.a.async((function(j){for(;;)switch(j.prev=j.next){case 0:if(P()){j.next=2;break}return j.abrupt("return");case 2:return j.prev=2,j.next=5,a.a.awrap(T({variables:ma({jumpTypeId:Number(null==(e=C.fields.jumpType.value)?void 0:e.id),extraIds:null==(n=C.fields.extras)||null==(t=n.value)?void 0:t.map((function(e){var n=e.id;return Number(n)})),loadId:Number(null==(r=C.fields.load.value)?void 0:r.id),rigId:null!=(i=C.fields.rig.value)&&i.id?Number(null==(o=C.fields.rig.value)?void 0:o.id):null,ticketTypeId:Number(null==(l=C.fields.ticketType)||null==(s=l.value)?void 0:s.id),dropzoneUserId:Number(null==(c=C.fields.dropzoneUser)||null==(u=c.value)?void 0:u.id),exitWeight:C.fields.exitWeight.value},null!=(d=C.fields.ticketType.value)&&d.isTandem?{passengerName:null==(m=C.fields.passengerName)?void 0:m.value,passengerExitWeight:null==(f=C.fields.passengerExitWeight)?void 0:f.value}:{})}));case 5:if(z=j.sent,null==(p=z.data)||null==(g=p.createSlot)||null==(v=g.fieldErrors)||v.map((function(e){var n=e.field,t=e.message;switch(n){case"jump_type":return w(vn.forms.manifest.setFieldError(["jumpType",t]));case"load":return w(vn.forms.manifest.setFieldError(["load",t]));case"credits":case"extras":case"extra_ids":return w(vn.forms.manifest.setFieldError(["extras",t]));case"ticket_type":return w(vn.forms.manifest.setFieldError(["ticketType",t]));case"rig":return w(vn.forms.manifest.setFieldError(["rig",t]));case"dropzone_user":return w(vn.forms.manifest.setFieldError(["dropzoneUser",t]));case"exit_weight":return w(vn.forms.manifest.setFieldError(["exitWeight",t]));default:return null}})),null==z||null==(h=z.data)||null==(b=h.createSlot)||null==(y=b.errors)||!y.length){j.next=10;break}return w(vn.notifications.showSnackbar({message:null==z||null==(O=z.data)||null==(I=O.createSlot)?void 0:I.errors[0],variant:"error"})),j.abrupt("return");case 10:null!=(x=z.data)&&null!=(E=x.createSlot)&&null!=(S=E.fieldErrors)&&S.length||k(),j.next=16;break;case 13:j.prev=13,j.t0=j.catch(2),w(vn.notifications.showSnackbar({message:j.t0.message,variant:"error"}));case 16:case"end":return j.stop()}}),null,null,[[2,13]],Promise)}),[w,T,k,null==(r=C.fields.dropzoneUser)||null==(i=r.value)?void 0:i.id,C.fields.exitWeight.value,null==(o=C.fields.extras)?void 0:o.value,null==(l=C.fields.jumpType.value)?void 0:l.id,null==(s=C.fields.load.value)?void 0:s.id,null==(c=C.fields.passengerExitWeight)?void 0:c.value,null==(u=C.fields.passengerName)?void 0:u.value,null==(d=C.fields.rig.value)?void 0:d.id,null==(m=C.fields.ticketType.value)?void 0:m.id,null==(f=C.fields.ticketType.value)?void 0:f.isTandem,P]);return g.createElement(Nr.a,null,g.createElement($r.a,{visible:!!S,style:{maxHeight:500}},g.createElement(y.a,{indeterminate:!0,visible:j.loading,color:z.theme.colors.accent}),g.createElement($r.a.Title,null,"Manifest "+(null==C||null==(p=C.fields)||null==(v=p.dropzoneUser)||null==(h=v.value)||null==(b=h.user)?void 0:b.name)+" on "+(null==(x=C.fields.load)||null==(E=x.value)?void 0:E.name)),g.createElement($r.a.ScrollArea,null,g.createElement(Ar.a,null,g.createElement(sa,null))),g.createElement($r.a.Actions,{style:{justifyContent:"flex-end"}},g.createElement(Y.a,{onPress:function(){w(vn.forms.manifest.reset()),e.onClose()}},"Cancel"),g.createElement(Y.a,{onPress:F},"Manifest"))))}var ga,va=t(178);var ha=Jr(Object(Et.a)(ga||(ga=bt()(["\n  query QueryDropzoneUsersManifestDetails($dropzoneId: Int!, $dropzoneUserId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n\n      dropzoneUser(id: $dropzoneUserId) {\n        id\n\n        license {\n          id\n          name\n        }\n\n        user {\n          id\n          name\n          exitWeight\n          license {\n            id\n            name\n          }\n          rigs {\n            id\n            name\n            make\n            model\n            canopySize\n          }\n        }\n        role {\n          id\n          name\n        }\n        user {\n          id\n          name\n          image\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){var n;return null==e||null==(n=e.dropzone)?void 0:n.dropzoneUser}});function ba(e){var n,t,r,a,i=e.dropzoneId,o=e.dropzoneUserId,l=e.onChangeRig,s=e.exitWeight,c=e.selectedRig,u=e.isTandem,d=e.passengerName,m=e.passengerWeight,f=e.onRemove,p=e.onChangeExitWeight,v=e.onChangePassengerName,h=e.onChangePassengerWeight,b=kn((function(e){return e})).global,x=ha({variables:{dropzoneUserId:o,dropzoneId:i},onError:console.error}),E=x.data,k=x.loading;return g.useEffect((function(){var e;!s&&null!=E&&null!=(e=E.user)&&e.exitWeight&&p(Number(E.user.exitWeight))}),[null==E?void 0:E.user.exitWeight,s,p]),g.createElement(nr.a,{style:{marginHorizontal:16,marginBottom:16},elevation:3},g.createElement(y.a,{indeterminate:!0,color:b.theme.colors.accent,visible:k}),g.createElement(nr.a.Title,{title:null==E?void 0:E.user.name,left:function(){var e;return null!=E&&null!=(e=E.user)&&e.image?g.createElement(Lr.a.Image,{source:{uri:E.user.image},size:24}):g.createElement(Lr.a.Icon,{icon:"account",size:24})}}),g.createElement(nr.a.Content,null,g.createElement(Wr.a,{style:{marginBottom:8}}),g.createElement(Ar.a,{horizontal:!0},g.createElement(or.a,{style:{marginHorizontal:1},icon:"lock",mode:"outlined",disabled:!0},null==E||null==(n=E.role)?void 0:n.name),g.createElement(or.a,{style:{marginHorizontal:1},icon:"ticket-account",mode:"outlined",disabled:!0},null==E||null==(t=E.license)?void 0:t.name),c&&s&&c.canopySize?g.createElement(or.a,{style:{marginHorizontal:1},icon:"escalator-down",mode:"outlined",disabled:!0},(r=s,a=c.canopySize,Object(Yr.round)(2.20462*r/a,2).toFixed(2))):null),g.createElement(C.a,{style:xa.row},g.createElement(C.a,{style:xa.rowFirst},g.createElement(la,{userId:o,dropzoneId:i,onSelect:l,value:c,tandem:u,autoSelectFirst:!0})),g.createElement(C.a,{style:xa.rowLast},g.createElement(qr,{value:s||0,onChangeText:function(e){return p(e)},label:"Exit weight (kg)"}))),u?g.createElement(g.Fragment,null,g.createElement(Wr.a,null),g.createElement(Lr.c.Subheader,null,"Passenger"),g.createElement(C.a,{style:xa.row},g.createElement(C.a,{style:xa.rowFirst},g.createElement(Mr.a,{value:d||"",onChangeText:function(e){return null==v?void 0:v(e)},label:"Passenger name",mode:"outlined"})),g.createElement(C.a,{style:xa.rowLast},g.createElement(qr,{value:m||0,onChangeText:function(e){return null==h?void 0:h(e)},label:"Exit weight (kg)"})))):null),g.createElement(nr.a.Actions,{style:xa.actions},g.createElement(Y.a,{mode:"text",onPress:function(){return null==f?void 0:f()}},"Remove")))}var ya,xa=j.a.create({row:{width:"100%",flexDirection:"row",alignItems:"center",marginTop:16},rowFirst:{flex:.5,marginRight:4},rowLast:{flex:.5},actions:{justifyContent:"flex-end"}});function Ea(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ka(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ea(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ea(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Sa=Jr(Object(Et.a)(ya||(ya=bt()(["\n  query DropzoneUsersAllowedJumpTypes($dropzoneId: Int!, $userIds: [Int!]!, $isPublic: Boolean) {\n    dropzone(id: $dropzoneId) {\n      id\n\n      allowedJumpTypes(userId: $userIds) {\n        id\n        name\n      }\n\n      ticketTypes(isPublic: $isPublic) {\n        id\n        name\n        cost\n        isTandem\n\n        extras {\n          id\n          cost\n          name\n        }\n      }\n    }\n    jumpTypes {\n      id\n      name\n    }\n  }\n"]))),{getPayload:function(e){var n,t;return{allowedJumpTypes:(null==e||null==(n=e.dropzone)?void 0:n.allowedJumpTypes)||[],ticketTypes:(null==e||null==(t=e.dropzone)?void 0:t.ticketTypes)||[],jumpTypes:(null==e?void 0:e.jumpTypes)||[]}}});function wa(){var e,n,t,r,a,i,o,l,s,c,u,d,m,f,p=kn((function(e){return e.forms.manifestGroup})),v=kn((function(e){return e.global})),h=En(),b=wr($.CreateUserSlot),y=Sa({variables:{userIds:null==(e=p.fields.users)||null==(n=e.value)?void 0:n.map((function(e){return e.id})),dropzoneId:v.currentDropzoneId,isPublic:!b||null},onError:console.error}).data,x=!(null==(t=p.fields.ticketType.value)||!t.isTandem);return g.createElement(g.Fragment,null,g.createElement(Lr.c.Subheader,null,"Jump type"),g.createElement(nr.a,{elevation:2,style:{marginBottom:16,flexShrink:1,marginHorizontal:16}},g.createElement(nr.a.Content,null,g.createElement(Xr,{autoSelectFirst:!0,items:Object(Yr.uniqBy)([].concat(Ur()((null==y?void 0:y.allowedJumpTypes)||[]),Ur()((null==y?void 0:y.jumpTypes)||[])),(function(e){return e.id}))||[],selected:p.fields.jumpType.value?[p.fields.jumpType.value]:[],renderItemLabel:function(e){return e.name},isDisabled:function(e){var n;return!(null!=y&&null!=(n=y.allowedJumpTypes)&&n.map((function(e){return e.id})).includes(e.id))},onChangeSelected:function(e){var n=_()(e,1)[0];return h(vn.forms.manifestGroup.setField(["jumpType",n]))}}),g.createElement(Br.a,{type:p.fields.jumpType.error?"error":"info"},p.fields.jumpType.error||""))),g.createElement(Lr.c.Subheader,null,"Ticket"),g.createElement(nr.a,{elevation:2,style:{marginHorizontal:16}},g.createElement(nr.a.Content,null,g.createElement(Xr,{autoSelectFirst:!0,items:(null==y?void 0:y.ticketTypes)||[],selected:p.fields.ticketType.value?[p.fields.ticketType.value]:[],renderItemLabel:function(e){return e.name},onChangeSelected:function(e){var n=_()(e,1)[0];return h(vn.forms.manifestGroup.setField(["ticketType",n]))}}),g.createElement(Br.a,{type:p.fields.ticketType.error?"error":"info"},p.fields.ticketType.error||""),null!=p&&null!=(r=p.fields)&&null!=(a=r.ticketType)&&null!=(i=a.value)&&null!=(o=i.extras)&&o.length?g.createElement(Lr.c.Subheader,null,"Ticket addons"):null,g.createElement(Ar.a,{horizontal:!0,style:Ca.ticketAddons},null==p||null==(l=p.fields)||null==(s=l.ticketType)||null==(c=s.value)||null==(u=c.extras)?void 0:u.map((function(e){var n,t,r,a;return g.createElement(or.a,{selected:null==p||null==(n=p.fields)||null==(t=n.extras.value)?void 0:t.some((function(n){return n.id===e.id})),onPress:null!=p&&null!=(r=p.fields)&&null!=(a=r.extras.value)&&a.some((function(n){return n.id===e.id}))?function(){var n,t;return h(vn.forms.manifestGroup.setField(["extras",null==p||null==(n=p.fields)||null==(t=n.extras.value)?void 0:t.filter((function(n){return n.id!==e.id}))]))}:function(){var n,t;return h(vn.forms.manifestGroup.setField(["extras",[].concat(Ur()((null==p||null==(n=p.fields)||null==(t=n.extras)?void 0:t.value)||[]),[e])]))}},e.name+" ($"+e.cost+")")}))),g.createElement(Br.a,{type:p.fields.extras.error?"error":"info"},p.fields.extras.error||""))),g.createElement(Wr.a,null),g.createElement(Lr.c.Subheader,null,"Group"),null==(d=p.fields)||null==(m=d.users)||null==(f=m.value)?void 0:f.map((function(e){return g.createElement(ba,{dropzoneId:v.currentDropzoneId,dropzoneUserId:Number(e.id),selectedRig:e.rig||void 0,exitWeight:e.exitWeight,onChangeExitWeight:function(n){var t;return h(vn.forms.manifestGroup.setField(["users",null==(t=p.fields.users.value)?void 0:t.map((function(t){return t.id===e.id?ka(ka({},e),{},{exitWeight:n}):t}))]))},onRemove:function(){var n;return h(vn.forms.manifestGroup.setField(["users",null==(n=p.fields.users.value)?void 0:n.filter((function(n){return n.id!==e.id}))]))},onChangeRig:function(n){var t;return h(vn.forms.manifestGroup.setField(["users",null==(t=p.fields.users.value)?void 0:t.map((function(t){return t.id===e.id?ka(ka({},e),{},{rigId:Number(n.id),rig:n}):t}))]))},isTandem:x,passengerName:e.passengerName,passengerWeight:e.passengerExitWeight,onChangePassengerName:function(n){var t;return h(vn.forms.manifestGroup.setField(["users",null==(t=p.fields.users.value)?void 0:t.map((function(t){return t.id===e.id?ka(ka({},e),{},{passengerName:n}):t}))]))},onChangePassengerWeight:function(n){var t;return h(vn.forms.manifestGroup.setField(["users",null==(t=p.fields.users.value)?void 0:t.map((function(t){return t.id===e.id?ka(ka({},e),{},{passengerExitWeight:n}):t}))]))}})})))}var Ca=j.a.create({fields:{flex:1},field:{marginBottom:8},ticketAddons:{marginBottom:8}}),za=t(405),Oa=t(434),Ia=t(193),Ta=t(404),ja=["style","lightColor","darkColor"],Pa=["style","lightColor","darkColor"];function Fa(e,n){var t=e.light;return t||Jn.light[n]}function Da(e){var n=e.style,t=e.lightColor,r=e.darkColor,a=_r()(e,ja),i=Fa({light:t,dark:r},"text");return g.createElement(q.a,ft()({style:[{color:i},n]},a))}function Aa(e){var n=e.style,t=e.lightColor,r=e.darkColor,a=_r()(e,Pa),i=Fa({light:t,dark:r},"background");return g.createElement(C.a,ft()({style:[{backgroundColor:i},n]},a))}function Na(e){var n=e.title,t=e.color,r=e.subtitle;return g.createElement(Aa,{style:Ra.empty},g.createElement(Ia.a,{style:{color:t}},n),g.createElement(Ta.a,{style:{color:t,textAlign:"center"}},r))}var $a,Ra=j.a.create({container:{flex:1,padding:8,display:"flex",backgroundColor:"transparent"},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignSelf:"center",alignItems:"center",justifyContent:"center",width:"100%",backgroundColor:"transparent",height:"100%"}}),Ua=Object(Et.a)($a||($a=bt()(["\n  query QueryDropzoneUsersSearch($dropzoneId: Int!, $search: String) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n\n      dropzoneUsers(search: $search, licensed: true) {\n        edges {\n          node {\n            id\n            role {\n              id\n              name\n            }\n            user {\n              id\n              image\n              name\n              exitWeight\n            }\n\n            availableRigs {\n              id\n              name\n              make\n              model\n              canopySize\n              serial\n\n              user {\n                id\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function Ba(e){var n,t,r,a,o,l,s=kn((function(e){return e})).screens,c=En(),u=g.useState(""),d=_()(u,2),m=d[0],f=d[1],p=kn((function(e){return e.global})).currentDropzoneId,v=Object(yt.a)(Ua,{variables:{dropzoneId:Number(p),search:m}}).data,h=Rt().currentUser,b=wr($.CreateUserSlot),y=wr($.CreateUserSlotWithSelf);return g.createElement(g.Fragment,null,g.createElement(za.a,{value:m,onChangeText:f,placeholder:"Search skydivers"}),g.createElement(C.a,{style:{height:380}},g.createElement(i.c,{contentContainerStyle:{paddingTop:16}},!(null!=v&&null!=(n=v.dropzone)&&null!=(t=n.dropzoneUsers)&&null!=(r=t.edges)&&r.length)&&g.createElement(Na,{title:"No users",subtitle:""}),null==v||null==(a=v.dropzone)||null==(o=a.dropzoneUsers)||null==(l=o.edges)?void 0:l.map((function(e){var n,t,r,a,i,o,l;return g.createElement(g.Fragment,{key:"user-"+((null==e||null==(n=e.node)?void 0:n.id)||0)},g.createElement(Lr.c.Item,{style:{width:"100%"},key:"user-"+(null==e||null==(t=e.node)?void 0:t.id),title:null==e||null==(r=e.node)?void 0:r.user.name,description:null==e||null==(a=e.node)||null==(i=a.role)?void 0:i.name,left:function(){var n,t,r;return null!=e&&null!=(n=e.node)&&null!=(t=n.user)&&t.image?g.createElement(Lr.a.Image,{source:{uri:null==e||null==(r=e.node)?void 0:r.user.image},style:{alignSelf:"center",marginHorizontal:12},size:32}):g.createElement(Lr.c.Icon,{icon:"account"})},right:function(){var n,t;return g.createElement(Oa.a,{status:null!=(n=s.manifest.selectedUsers)&&n.map((function(e){return e.id})).includes(null==e||null==(t=e.node)?void 0:t.id)?"checked":"unchecked"})},disabled:(null==e||null==(o=e.node)?void 0:o.user.id)===(null==h?void 0:h.id)&&y&&!b,onPress:function(){var n,t;c(vn.screens.manifest.setSelected(null!=(n=s.manifest.selectedUsers)&&n.find((function(n){var t;return n.id===""+(null==e||null==(t=e.node)?void 0:t.id)}))?null==(t=s.manifest.selectedUsers)?void 0:t.filter((function(n){var t;return n.id!==""+(null==e||null==(t=e.node)?void 0:t.id)})):[].concat(Ur()(s.manifest.selectedUsers),[null==e?void 0:e.node])))}}),g.createElement(Wr.a,{style:{width:"100%"},key:"divider-"+(null==e||null==(l=e.node)?void 0:l.id)}))})))),g.createElement(Y.a,{onPress:function(){c(vn.forms.manifestGroup.setDropzoneUsers(s.manifest.selectedUsers)),e.onNext()},style:Wa.button,mode:"contained"},"Next"))}var La,Wa=j.a.create({button:{width:"100%",borderRadius:16,padding:5},scrollView:{height:100}}),Ma=Object(Et.b)(La||(La=bt()(["\n  mutation CreateSlot(\n    $jumpTypeId: Int\n    $extraIds: [Int!]\n    $loadId: Int\n    $ticketTypeId: Int\n    $userGroup: [SlotUser!]!\n  ) {\n    createSlots(\n      input: {\n        attributes: {\n          jumpTypeId: $jumpTypeId\n          extraIds: $extraIds\n          loadId: $loadId\n          ticketTypeId: $ticketTypeId\n          userGroup: $userGroup\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n\n      load {\n        id\n        name\n        loadNumber\n        createdAt\n        dispatchAt\n        hasLanded\n        maxSlots\n        isFull\n        isOpen\n        plane {\n          id\n          name\n        }\n        gca {\n          id\n          user {\n            id\n            name\n          }\n        }\n        pilot {\n          id\n          user {\n            id\n            name\n          }\n        }\n        loadMaster {\n          id\n          user {\n            id\n            name\n          }\n        }\n        slots {\n          id\n          createdAt\n          user {\n            id\n            name\n          }\n          passengerName\n          passengerExitWeight\n          ticketType {\n            id\n            name\n            isTandem\n            altitude\n          }\n          jumpType {\n            id\n            name\n          }\n          extras {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"])));function Va(e){var n,t,r,o,l,s,c,u,d=e.open,m=e.onClose,f=En(),p=kn((function(e){return e.forms.manifestGroup})),v=Object(kt.a)(Ma),h=_()(v,2),b=h[0],y=h[1],x=g.useState(0),E=_()(x,2),k=E[0],S=E[1],w=g.useCallback((function(){var e,n,t=!1;return null!=(e=p.fields.jumpType.value)&&e.id||(t=!0,f(vn.forms.manifestGroup.setFieldError(["jumpType","You must specify the type of jump"]))),null!=(n=p.fields.ticketType.value)&&n.id||(t=!0,f(vn.forms.manifestGroup.setFieldError(["ticketType","You must select a ticket type to manifest"]))),!t}),[f,null==(n=p.fields.jumpType.value)?void 0:n.id,null==(t=p.fields.ticketType.value)?void 0:t.id]),z=g.useCallback((function(){var n,t,r,i,o,l,s,c,u,d,m,g,v,h,y,x,E,k;return a.a.async((function(S){for(;;)switch(S.prev=S.next){case 0:if(w()){S.next=2;break}return S.abrupt("return");case 2:return S.prev=2,S.next=5,a.a.awrap(b({variables:{jumpTypeId:Number(null==(n=p.fields.jumpType.value)?void 0:n.id),ticketTypeId:Number(null==(t=p.fields.ticketType.value)?void 0:t.id),extraIds:null==(r=p.fields.extras)||null==(i=r.value)?void 0:i.map((function(e){var n=e.id;return Number(n)})),loadId:Number(null==(o=p.fields.load.value)?void 0:o.id),userGroup:null==(l=p.fields.users.value)?void 0:l.map((function(e){return Object(Yr.omit)(e,["rig"])}))}}));case 5:if(x=S.sent,null==(s=x.data)||null==(c=s.createSlots)||null==(u=c.fieldErrors)||u.map((function(e){var n=e.field,t=e.message;switch(n){case"jump_type":return f(vn.forms.manifestGroup.setFieldError(["jumpType",t]));case"load":return f(vn.forms.manifestGroup.setFieldError(["load",t]));case"credits":case"extras":case"extra_ids":return f(vn.forms.manifestGroup.setFieldError(["extras",t]));case"ticket_type":return f(vn.forms.manifestGroup.setFieldError(["ticketType",t]));default:return null}})),null==x||null==(d=x.data)||null==(m=d.createSlots)||null==(g=m.errors)||!g.length){S.next=10;break}return f(vn.notifications.showSnackbar({message:null==x||null==(E=x.data)||null==(k=E.createSlots)?void 0:k.errors[0],variant:"error"})),S.abrupt("return");case 10:null!=(v=x.data)&&null!=(h=v.createSlots)&&null!=(y=h.fieldErrors)&&y.length||e.onClose(),S.next=16;break;case 13:S.prev=13,S.t0=S.catch(2),f(vn.notifications.showSnackbar({message:S.t0.message,variant:"error"}));case 16:case"end":return S.stop()}}),null,null,[[2,13]],Promise)}),[f,b,e,null==(r=p.fields.extras)?void 0:r.value,null==(o=p.fields.jumpType.value)?void 0:o.id,null==(l=p.fields.load.value)?void 0:l.id,null==(s=p.fields.ticketType.value)?void 0:s.id,p.fields.users.value,w]);return g.createElement(Nr.a,null,g.createElement($r.a,{visible:!!d,onDismiss:m},g.createElement(C.a,{style:{backgroundColor:"white"},testID:"manifest-group-sheet"},g.createElement(C.a,{pointerEvents:((null==(c=p.fields.users)||null==(u=c.value)?void 0:u.length)||0)>0?void 0:"none"},g.createElement(va.b,{defaultIndex:k,mode:"fixed",onChangeIndex:S},g.createElement(va.a,{label:"Create group"},g.createElement(C.a,null)),g.createElement(va.a,{label:"Configure jump"},g.createElement(C.a,null)))),0===k?g.createElement(C.a,{style:_a.userListContainer},g.createElement(Ba,{onNext:function(){return S(1)}})):g.createElement(i.c,{contentContainerStyle:{paddingBottom:200,flexGrow:1}},g.createElement(wa,null),g.createElement(C.a,{style:_a.buttonContainer},g.createElement(Y.a,{onPress:z,loading:y.loading,mode:"contained",style:_a.button},"Save"))))))}var _a=j.a.create({button:{width:"100%",borderRadius:16,padding:5},buttonContainer:{paddingHorizontal:16,backgroundColor:"white"},contentContainer:{paddingHorizontal:16,paddingBottom:32},userListContainer:{height:"100%",backgroundColor:"white",width:"100%",padding:16},sheet:{elevation:3,backgroundColor:"white",flexGrow:1,height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",paddingBottom:32},sheetHeader:{elevation:2,borderTopLeftRadius:15,borderTopRightRadius:15,height:30,shadowColor:"#000",shadowOffset:{width:0,height:-4},backgroundColor:"white",shadowOpacity:.22,shadowRadius:2.22}}),Ga=t(406);function qa(e){var n,t,r,a,i,o,l,s=e.slot,c=e.onPress,u=e.onDelete,d=e.style,m=Object(ir.b)(),f=!(null==s||!s.passengerName);return g.createElement(g.Fragment,null,g.createElement(nr.a,{onPress:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){return null==c?void 0:c(s)})),elevation:3,style:j.a.flatten([Ya.card,{marginBottom:f?-4:12},d])},g.createElement(nr.a.Title,{title:(null==s||null==(n=s.dropzoneUser)?void 0:n.user.name)||(null==s?void 0:s.passengerName),left:function(){var e,n,t;return null!=s&&null!=(e=s.dropzoneUser)&&null!=(n=e.user)&&n.image?g.createElement(Lr.a.Image,{style:{backgroundColor:m.colors.surface},source:{uri:null==s||null==(t=s.dropzoneUser)?void 0:t.user.image},size:24}):g.createElement(Lr.a.Icon,{style:{backgroundColor:m.colors.surface},color:m.dark?m.colors.text:m.colors.primary,icon:"account",size:40})},right:function(){return u?g.createElement(Ga.a,{style:{marginTop:-45,marginRight:-5},onPress:function(e){e.preventDefault(),null==u||u(s)}},"-"):null}}),g.createElement(nr.a.Content,{style:{flexDirection:"row",flexWrap:"wrap"}},g.createElement(or.a,{style:Ya.infoChip,textStyle:Ya.chipText,icon:"lock",mode:"outlined",disabled:!0},null==s||null==(t=s.dropzoneUser)||null==(r=t.role)?void 0:r.name),g.createElement(or.a,{style:Ya.infoChip,textStyle:Ya.chipText,icon:"ticket-account",mode:"outlined",disabled:!0},null==s||null==(a=s.dropzoneUser)||null==(i=a.license)?void 0:i.name),g.createElement(or.a,{style:Ya.infoChip,textStyle:Ya.chipText,icon:"human-handsup",mode:"outlined",disabled:!0},null==s||null==(o=s.jumpType)?void 0:o.name),g.createElement(or.a,{style:Ya.infoChip,textStyle:Ya.chipText,icon:"arrow-up-bold",mode:"outlined",disabled:!0},null==s||null==(l=s.ticketType)?void 0:l.name),s.wingLoading?g.createElement(or.a,{style:Ya.chip,textStyle:Ya.chipText,icon:"escalator-down",mode:"outlined",disabled:!0},s.wingLoading.toFixed(2)):null)),null!=s&&s.passengerName?g.createElement(g.Fragment,null,g.createElement(C.a,{style:{width:"100%",height:30,alignItems:"center",justifyContent:"center"}},g.createElement(gt.a,{color:m.colors.onSurface,name:"link-variant",size:30})),g.createElement(nr.a,{style:j.a.flatten([{margin:12,marginTop:-4,height:150,width:"100%"},d]),elevation:3},g.createElement(nr.a.Title,{title:null==s?void 0:s.passengerName,left:function(){return g.createElement(Lr.a.Icon,{icon:"account-supervisor",color:m.dark?m.colors.text:m.colors.primary,style:{backgroundColor:m.colors.surface},size:40})}}),g.createElement(nr.a.Content,null,g.createElement(q.a,{style:Ya.passengerTitle},"P A S S E N G E R")))):null)}var Ha,Ya=j.a.create({card:{margin:12,height:150,width:"100%"},chip:{margin:2,height:25,padding:0,alignItems:"center"},infoChip:{margin:2,height:25,padding:0,alignItems:"center"},chipText:{fontSize:12},passengerChip:{margin:12,height:150,width:"100%"},passengerTitle:{fontSize:30,opacity:.5,alignSelf:"center",width:"100%",textAlign:"center",color:"#CCCCCC"}}),Ja=t(435),Qa=t(307),Xa=Pt(Object(Et.a)(Ha||(Ha=bt()(["\n  mutation UpdateLoad(\n    $id: Int!\n    $pilotId: Int\n    $gcaId: Int\n    $planeId: Int\n    $isOpen: Boolean\n    $loadMasterId: Int\n    $dispatchAt: Int\n    $hasLanded: Boolean\n  ) {\n    updateLoad(\n      input: {\n        id: $id\n        attributes: {\n          pilotId: $pilotId\n          gcaId: $gcaId\n          planeId: $planeId\n          isOpen: $isOpen\n          loadMasterId: $loadMasterId\n          dispatchAt: $dispatchAt\n          hasLanded: $hasLanded\n        }\n      }\n    ) {\n      load {\n        id\n        name\n        createdAt\n        loadNumber\n        dispatchAt\n        hasLanded\n        maxSlots\n        isFull\n        isOpen\n        plane {\n          id\n          name\n        }\n        gca {\n          id\n          user {\n            id\n            name\n          }\n        }\n        pilot {\n          id\n          user {\n            id\n            name\n          }\n        }\n        loadMaster {\n          id\n          user {\n            id\n            name\n          }\n        }\n        slots {\n          id\n          createdAt\n          exitWeight\n\n          passengerName\n          passengerExitWeight\n\n          user {\n            id\n            name\n          }\n          ticketType {\n            id\n            name\n            altitude\n            isTandem\n          }\n          jumpType {\n            id\n            name\n          }\n          extras {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.updateLoad},fieldErrorMap:{pilotId:"pilot",gcaId:"gca",planeId:"plane",loadMasterId:"loadMaster"}});function Za(e){var n,t,r,i=En(),o=g.useState(!1),l=_()(o,2),s=l[0],c=l[1],u=e.load,d=Rt().currentUser,m=function(e){var n=ur(ur({},dr),e);return kt.a(br,n)}(),f=_()(m,1)[0],p=Xa({onSuccess:function(){return null},onError:function(e){return i(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),v=g.useCallback((function(e){var n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e?Object(Qa.a)(new Date,e).getTime()/1e3:null,t.next=3,a.a.awrap(p.mutate({id:Number(u.id),dispatchAt:n?Math.ceil(n):null,state:n?F.BoardingCall:F.Open}));case 3:case"end":return t.stop()}}),null,null,null,Promise)}),[p,u]),h=g.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(p.mutate({id:Number(u.id),state:e,dispatchAt:null}));case 2:case"end":return n.stop()}}),null,null,null,Promise)}),[p,u]),b=g.useCallback((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(f({variables:{id:Number(u.id),state:F.Landed}}));case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[f,u]),y=g.useCallback((function(){return null!=d&&d.hasLicense?null!=d&&d.hasMembership?null!=d&&d.hasExitWeight?null!=d&&d.hasCredits?(i(vn.forms.manifest.setOpen(!0)),i(vn.forms.manifest.setField(["dropzoneUser",d])),i(vn.forms.manifest.setField(["load",u])),null):i(vn.notifications.showSnackbar({message:"You have no credits on your account",variant:"warning"})):i(vn.notifications.showSnackbar({message:"Update your exit weight on your profile before manifesting",variant:"warning"})):i(vn.notifications.showSnackbar({message:"Your membership is out of date",variant:"warning"})):i(vn.notifications.showSnackbar({message:"You need to select a license on your user profile",variant:"warning"}))}),[d,i,u]),x=wr($.UpdateLoad),E=wr($.CreateSlot),k=wr($.CreateUserSlot),S=wr($.CreateUserSlotWithSelf),w=[F.Open,F.BoardingCall].includes(u.state),C=((null==u||null==(n=u.slots)?void 0:n.length)||0)>=((null==u?void 0:u.maxSlots)||(null==u||null==(t=u.plane)?void 0:t.maxSlots)||0),z=w&&!C&&E&&!(null!=u&&null!=(r=u.slots)&&r.some((function(e){var n;return(null==(n=e.dropzoneUser)?void 0:n.id)===(null==d?void 0:d.id)}))),O=(k||S)&&(null==u?void 0:u.state)!==F.Landed&&(!(null!=u&&u.dispatchAt)||u.dispatchAt>(new Date).getTime()/1e3),I=g.useCallback((function(e){return function(){c(!1),v(e)}}),[v]),T=[{label:"20 minute call",onPress:I(20),icon:"airplane-takeoff"},{label:"15 minute call",onPress:I(15),icon:"airplane-takeoff"},{label:"10 minute call",onPress:I(10),icon:"airplane-takeoff"}],j=[z?{label:"Manifest me",icon:"account",onPress:function(){return y()}}:null,O?{label:"Manifest group",icon:"account-group",onPress:function(){i(vn.forms.manifestGroup.reset()),i(vn.forms.manifestGroup.setField(["load",u])),S&&!k&&d&&(i(vn.screens.manifest.setSelected([d])),i(vn.forms.manifestGroup.setDropzoneUsers([d]))),i(vn.forms.manifestGroup.setOpen(!0)),i(vn.forms.manifestGroup.setField(["load",u]))}}:null].filter(Boolean),P=[[F.BoardingCall].includes(u.state)?{label:"Cancel boarding call",icon:"airplane-off",onPress:I(null)}:null,[F.Open].includes(u.state)?{label:"Cancel load",icon:"delete-sweep",onPress:function(){return f({variables:{id:Number(u.id),state:F.Cancelled}})}}:null,[F.Cancelled].includes(u.state)?{label:"Re-open load",icon:"undo",onPress:function(){return h(F.Open)}}:null,[F.BoardingCall,F.InFlight].includes(u.state)?{label:"Mark as Landed",icon:"airplane-landing",onPress:function(){return b()}}:null].filter(Boolean),D=[].concat(Ur()(w?j:[]),Ur()(x&&[F.Open].includes(null==u?void 0:u.state)?T:[]),Ur()(x?P:[]));return g.createElement(Nr.a,null,g.createElement(Ja.a.Group,{visible:!!D.length,open:s,icon:s?"close":"plus",fabStyle:{marginLeft:16,marginBottom:100},actions:D,onStateChange:function(e){var n=e.open;return c(n)}}))}var Ka=t(119),ei=t(490),ni=t(231),ti=t(8),ri=t(309),ai=t(513),ii=w.a.select({ios:g.lazy((function(){return t.e(0).then(t.t.bind(null,806,7)).then((function(e){return{default:e.CountdownCircleTimer}}))})),android:g.lazy((function(){return t.e(0).then(t.t.bind(null,806,7)).then((function(e){return{default:e.CountdownCircleTimer}}))})),web:g.lazy((function(){return t.e(4).then(t.t.bind(null,807,7)).then((function(e){return{default:e.CountdownCircleTimer}}))}))});function oi(e){var n=e.end,t=e.size,r=e.variant,a=Object(ri.a)(n,new Date),i=5/a,o=10/a,l=10/a;return g.createElement(ii,{isPlaying:a>1,duration:a>1?a:0,colors:a>0?[["light"===r?"#FFFFFF":"#004777",l],["light"===r?"#FFFFFF":"#F7B801",o],["light"===r?"#FFFFFF":"#A30000",i]]:[["light"===r?"#FFFFFF":"#A30000",1]],size:t||50,strokeWidth:2},(function(e){var n=e.remainingTime,t=e.animatedColor,r=Math.round(n%60),a=Object(ai.a)(n),i=r<10?"0"+r:r,o=a<10?"0"+a:a;return g.createElement(ti.a.Text,{style:{color:t,fontSize:16}},o,":",i)}))}function li(e){var n=e.load,t=e.onEdit,r=e.canEdit,a=e.children,i=kn((function(e){return e.global})),o=i.theme,l=i.palette;return g.createElement(ni.LinearGradient,{start:{x:0,y:.25},end:{x:.5,y:1},style:si.container,colors:[o.colors.surface,o.colors.surface]},g.createElement(C.a,{style:si.actions},r?g.createElement(Ka.a,{icon:"pencil",size:20,color:o.colors.surface,onPress:function(){return t?t():null}}):null),g.createElement(C.a,{style:si.avatarContainer},g.createElement(C.a,{style:{flex:1/3}},null!=n&&n.dispatchAt&&Object(ei.a)(1e3*n.dispatchAt,new Date)?g.createElement(oi,{end:new Date(1e3*n.dispatchAt),variant:"light",size:80}):g.createElement(Lr.a.Icon,{size:80,icon:"shield-airplane",color:o.dark?o.colors.text:l.primary.dark,style:{backgroundColor:o.dark?l.primary.dark:l.primary.light}})),g.createElement(C.a,{style:si.titleContainer},g.createElement(Ia.a,{style:si.title},"Load #",null==n?void 0:n.loadNumber),g.createElement(Ta.a,{style:si.paragraph},null==n?void 0:n.name))),a)}var si=j.a.create({container:{width:"100%",paddingTop:16},actions:{flexDirection:"row",justifyContent:"flex-end"},avatarContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:48,marginBottom:32,marginTop:32},titleContainer:{paddingLeft:8,fontWeight:"bold",fontSize:26,flex:2/3,alignItems:"flex-start",justifyContent:"center"},title:{},paragraph:{}});function ci(e){var n=e.items,t=1/n.length;return g.createElement(g.Fragment,null,g.createElement(Wr.a,{style:mi.divider}),g.createElement(C.a,{style:mi.container},n.map((function(e,r){return g.createElement(g.Fragment,null,g.createElement(C.a,{style:{flex:t},key:"info-grid-"+r},g.createElement(Lr.c.Item,{titleStyle:[mi.title,{fontWeight:!1!==e.bold?"bold":void 0}],style:{paddingVertical:20},title:e.value,descriptionStyle:mi.description,description:e.title,onPress:e.onPress})),r===n.length-1?null:g.createElement(Wr.a,{key:"info-grid-divider-"+r,style:mi.verticalDivider}))}))))}var ui,di,mi=j.a.create({container:{width:"100%",flexDirection:"row"},divider:{height:j.a.hairlineWidth,width:"100%"},verticalDivider:{width:j.a.hairlineWidth,height:"100%"},title:{textAlign:"center"},description:{textAlign:"center"}}),fi=Jr(Object(Et.a)(ui||(ui=bt()(["\n  query QueryLoad($id: Int!) {\n    load(id: $id) {\n      id\n      name\n      createdAt\n      dispatchAt\n      hasLanded\n      loadNumber\n      isFull\n      state\n      isOpen\n      weight\n      maxSlots\n      availableSlots\n      occupiedSlots\n      plane {\n        id\n        maxSlots\n        name\n      }\n      gca {\n        id\n        user {\n          id\n          name\n        }\n      }\n      pilot {\n        id\n        user {\n          id\n          name\n        }\n      }\n      loadMaster {\n        id\n        user {\n          id\n          name\n        }\n      }\n      slots {\n        id\n        createdAt\n        exitWeight\n        passengerName\n        passengerExitWeight\n        wingLoading\n        dropzoneUser {\n          id\n          role {\n            id\n            name\n          }\n          license {\n            id\n            name\n          }\n          user {\n            id\n            name\n            exitWeight\n            license {\n              id\n              name\n            }\n          }\n        }\n        ticketType {\n          id\n          name\n          altitude\n          isTandem\n\n          extras {\n            id\n            name\n            cost\n          }\n        }\n        jumpType {\n          id\n          name\n        }\n        extras {\n          id\n          name\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return null==e?void 0:e.load}}),pi=Pt(Object(Et.a)(di||(di=bt()(["\n  mutation DeleteSlot($id: Int!) {\n    deleteSlot(input: { id: $id }) {\n      slot {\n        id\n\n        dropzoneUser {\n          id\n          user {\n            id\n            name\n          }\n        }\n        load {\n          id\n          availableSlots\n          isOpen\n          weight\n          slots {\n            id\n            createdAt\n            exitWeight\n\n            passengerName\n            passengerExitWeight\n\n            user {\n              id\n              name\n            }\n            ticketType {\n              id\n              name\n              altitude\n              isTandem\n            }\n            jumpType {\n              id\n              name\n            }\n            extras {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.deleteSlot}});function gi(e){var n=e.width;return g.createElement(nr.a,{style:{height:150,opacity:.5,margin:12,width:n,alignItems:"center",justifyContent:"center"},elevation:3},g.createElement(nr.a.Title,{title:"Available",style:{alignSelf:"center",justifyContent:"center",flex:1},titleStyle:{textAlign:"center"}}))}function vi(e){var n=e.width;return g.createElement(ar.a,{isLoading:!0,containerStyle:{height:150,width:n,margin:12},layout:[{key:"user-card-container",height:150,width:n}]})}function hi(){var e,n,t,r,o=En(),l=g.useState(!1),s=_()(l,2),c=s[0],u=s[1],d=kn((function(e){return e.forms})),m=kn((function(e){return e.global})),f=m.palette,p=m.theme,v=Object(tr.useRoute)(),h=fi({variables:{id:Number(v.params.load.id)},pollInterval:3e4}),b=h.data,y=h.loading,x=h.refetch,E=b||v.params.load,k=Rt().currentUser,S=Xa({onSuccess:function(){return o(vn.notifications.showSnackbar({message:"Load #"+E.loadNumber+" updated",variant:"success"}))},onError:function(e){return o(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),w=pi({onSuccess:function(e){var n,t,r;return o(vn.notifications.showSnackbar({message:((null==(n=e.slot)||null==(t=n.dropzoneUser)||null==(r=t.user)?void 0:r.name)||"User")+" has been taken off load #"+E.loadNumber,variant:"success"}))},onError:function(e){return o(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),C=g.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(w.mutate({id:Number(e.id)}));case 2:case"end":return n.stop()}}),null,null,null,Promise)}),[w]),z=g.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(S.mutate({id:Number(E.id),pilotId:Number(e.id)}));case 2:case"end":return n.stop()}}),null,null,null,Promise)}),[S,E.id]),O=g.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(S.mutate({id:Number(E.id),gcaId:Number(e.id)}));case 2:case"end":return n.stop()}}),null,null,null,Promise)}),[S,E.id]),I=g.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(S.mutate({id:Number(E.id),planeId:Number(e.id)}));case 2:case"end":return n.stop()}}),null,null,null,Promise)}),[S,E.id]),T=g.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(S.mutate({id:Number(E.id),loadMasterId:Number(e.id)}));case 2:case"end":return n.stop()}}),null,null,null,Promise)}),[S,E.id]),j=wr($.UpdateSlot),P=wr($.UpdateUserSlot),D=wr($.DeleteSlot),A=wr($.DeleteUserSlot);g.useEffect((function(){null!=E&&E.maxSlots&&(null==E?void 0:E.maxSlots)<5&&!c&&u(!0)}),[c,null==E?void 0:E.maxSlots]);var N=Object(tr.useNavigation)(),R=Array.from({length:((null==E||null==(e=E.slots)?void 0:e.length)||0)+((null==E?void 0:E.availableSlots)||0)}).map((function(e,n){var t;return((null==E||null==(t=E.slots)?void 0:t.length)||0)>n?E.slots[n]:2})),U=(null==E?void 0:E.maxSlots)||(null==E||null==(n=E.plane)?void 0:n.maxSlots)||0,B=U-((null==E?void 0:E.availableSlots)||0),L=Object(er.a)().width,W=Math.floor(L/388)||1,V=388*W+24;V=L<V?L:V;var G=!(null!=b&&null!=(t=b.slots)&&t.length)&&y;return g.createElement(Aa,{style:{flexGrow:1,backgroundColor:p.colors.background}},g.createElement(li,{load:E},g.createElement(i.c,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{marginVertical:8}},g.createElement(Dr,{value:null==E?void 0:E.plane,onSelect:function(e){var n,t,r;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(((null==E||null==(n=E.slots)?void 0:n.length)||0)>(e.maxSlots||0))){i.next=5;break}r=((null==E||null==(t=E.slots)?void 0:t.length)||0)-(e.maxSlots||0),o(vn.notifications.showSnackbar({message:"You need to take "+r+" people off the load to fit on this plane",variant:"warning"})),i.next=8;break;case 5:return i.next=7,a.a.awrap(I(e));case 7:x();case 8:case"end":return i.stop()}}),null,null,null,Promise)},small:!0,backgroundColor:"transparent",color:f.primary.dark}),g.createElement(Or,{value:null==E?void 0:E.gca,onSelect:O,small:!0,backgroundColor:"transparent",color:f.primary.dark}),g.createElement(Pr,{value:null==E?void 0:E.pilot,onSelect:z,small:!0,backgroundColor:"transparent",color:f.primary.dark}),g.createElement(Ir,{value:null==E?void 0:E.loadMaster,slots:E.slots||[],onSelect:T,small:!0,backgroundColor:"transparent",color:f.primary.dark})),g.createElement(ci,{items:[{title:"Status",value:(r={},M()(r,F.Open,"Open"),M()(r,F.BoardingCall,"On call"),M()(r,F.Cancelled,"Cancelled"),M()(r,F.InFlight,"In air"),M()(r,F.Landed,"Landed"),r)[null==E?void 0:E.state]},{title:"Slots",value:B+"/"+U},{title:"Weight",value:((null==E?void 0:E.weight)||0)+"kg"}]})),g.createElement(i.a,{testID:"slots",keyExtractor:function(e,n){return"slot-"+((null==e?void 0:e.id)||n)},style:{flex:1,height:Zt.a.get("window").height},contentContainerStyle:{width:V,alignSelf:"center",justifyContent:"space-evenly",paddingBottom:100},numColumns:W,horizontal:!1,data:G?[1,1,1,1,1,1,1,1]:R,refreshing:y,onRefresh:x,refreshControl:g.createElement(Kt.a,{refreshing:y,onRefresh:function(){return x()}}),renderItem:function(e){var n,t=e.item,r=e.index;return 1===t?g.createElement(vi,{width:364}):2===t?g.createElement(gi,{key:"empty-slot-"+r,width:364}):g.createElement(qa,{style:{width:364},key:"slot-"+t.id,slot:t,onDelete:(null==k?void 0:k.id)===(null==t||null==(n=t.dropzoneUser)?void 0:n.id)&&D||A?C:void 0,onPress:function(e){var n,t,r=null==E||null==(n=E.slots)?void 0:n.filter((function(n){var t=n.groupNumber;return t&&t===e.groupNumber})),a=function(){r&&(o(vn.forms.manifestGroup.reset()),o(vn.forms.manifestGroup.setFromSlots(r)),o(vn.forms.manifestGroup.setField(["load",E])),N.navigate("ManifestGroupScreen"))},i=function(){o(vn.forms.manifest.setOpen(e)),o(vn.forms.manifest.setField(["load",E]))};(null==(t=e.user)?void 0:t.id)===(null==k?void 0:k.id)?j&&(null!=r&&r.length?a():i()):P&&(null!=r&&r.length?a():i())}})}}),g.createElement(Za,{load:E}),g.createElement(pa,{open:d.manifest.open,onClose:function(){return o(vn.forms.manifest.setOpen(!1))},onSuccess:function(){o(vn.forms.manifest.setOpen(!1))}}),g.createElement(Va,{open:d.manifestGroup.open,onClose:function(){o(vn.forms.manifestGroup.setOpen(!1)),o(vn.forms.manifestGroup.reset())},onSuccess:function(){return o(vn.forms.manifestGroup.setOpen(!1))}}))}var bi=t(30),yi=t(510);function xi(e){var n=e.size,t=e.paginationIndex,r=e.icons,a=Zt.a.get("window").width,i=((a>500?500:a)-96-30*n)/n;return g.createElement(C.a,{style:Ei.pagination},Array.from({length:n}).map((function(e,a){var o=r&&r.length>a,l=a<(t||0)?"check":"";return l=a===t?"pencil":l,g.createElement(g.Fragment,{key:a},g.createElement(Lr.a.Icon,{icon:o&&r?r[a]:l,size:30,style:[Ei.icon,(t||0)>a?Ei.iconDone:void 0]}),n-1>a?g.createElement(C.a,{style:[Ei.bridge,{width:i},(t||0)>a?Ei.bridgeDone:void 0]}):null)})))}var Ei=j.a.create({pagination:{flexDirection:"row",position:"absolute",top:100,alignSelf:"center"},bridge:{height:10,marginTop:10,marginLeft:-2,width:50,backgroundColor:"white"},bridgeDone:{backgroundColor:"#00C851"},icon:{backgroundColor:"white",marginLeft:-1},iconDone:{backgroundColor:"#00C851",marginLeft:-1}}),ki=g.createContext({index:0,count:0,setIndex:function(){return null}});var Si=Zt.a.get("window").width,wi=j.a.create({container:{width:Si,flex:1,paddingBottom:0}}),Ci=function(e){var n=e.children,t=e.icons,r=g.useState(0),a=_()(r,2),i=a[0],o=a[1],l=g.useRef(null),s=g.Children.count(n);return g.createElement(ki.Provider,{value:{index:i,count:s,setIndex:function(e){var n;null==(n=l.current)||n.scrollToIndex({index:e,animated:!0})}}},g.createElement(C.a,{style:[wi.container]},g.createElement(yi.a,{showPagination:!0,index:i,PaginationComponent:function(e){return g.createElement(xi,ft()({},e,{icons:t}))},numColumns:1,scrollEnabled:!1,autoplay:!1,ref:l,onChangeIndex:function(e){var n=e.index;e.prevIndex;o(n||0)}},n)))},zi=["style","children","contentContainerStyle"],Oi=g.forwardRef((function(e,n){var t=Object(er.a)().height,r=kn((function(e){return e.global})).theme,a=e.style,i=e.children,o=e.contentContainerStyle,l=_r()(e,zi);return g.createElement(Ar.a,ft()({},l,{ref:n,keyboardDismissMode:"on-drag",keyboardShouldPersistTaps:"handled",contentInsetAdjustmentBehavior:"always",style:[Ii.container,{backgroundColor:r.colors.surface,height:t-112},a],contentContainerStyle:[Ii.content,{backgroundColor:r.colors.background},o]}),i)})),Ii=j.a.create({container:{flex:1},content:{paddingHorizontal:16,alignItems:"flex-start",flexGrow:1,paddingBottom:50}});var Ti=j.a.create({wizardScreen:{justifyContent:"center"},container:{backgroundColor:"#FF1414",paddingHorizontal:32,alignSelf:"center"},content:{paddingTop:200,flexGrow:1,paddingBottom:0},title:{position:"absolute",top:140,marginBottom:50,color:"white",fontSize:24,fontWeight:"bold",textAlign:"center",alignSelf:"center"},button:{alignSelf:"center",width:"100%"},buttonBack:{alignSelf:"center",width:"100%",marginHorizontal:48},buttons:{alignSelf:"center",alignItems:"flex-end",flexGrow:1,justifyContent:"flex-end",width:"100%",maxWidth:404,marginBottom:100}}),ji=function(e){var n=e.children,t=e.title,r=e.loading,i=e.onBack,o=e.backButtonLabel,l=e.nextButtonLabel,s=e.onNext,c=e.contentStyle,u=e.containerStyle,d=e.style,m=e.disableScroll,f=Zt.a.get("window"),p=f.width,v=f.height,h=g.useContext(ki),b=h.index,y=h.setIndex,x=g.useRef();return g.useEffect((function(){x.current?(x.current.scrollTo({y:0,animated:!1}),console.log("Scrolling ",t," to 0")):console.log("No ref")}),[b,t]),g.createElement(C.a,{style:j.a.flatten([Ti.wizardScreen,{width:p},d])},g.createElement(Oi,{style:[Ti.container,u||{},{width:p}],contentContainerStyle:j.a.flatten([Ti.content,{minHeight:v,backgroundColor:"transparent"},c]),scrollEnabled:!m,pointerEvents:"box-none",ref:x},g.createElement(Ia.a,{style:Ti.title},t),n,g.createElement(C.a,{style:Ti.buttons,pointerEvents:"box-none"},g.createElement(Y.a,{key:"button-next-"+b,loading:r,mode:"contained",color:"#FFFFFF",disabled:r,style:Ti.button,onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onNext with index",b),s(b,y);case 2:case"end":return e.stop()}}),null,null,null,Promise)}},l),i?g.createElement(Y.a,{key:"button-"+b,mode:"text",disabled:r,color:"#FFFFFF",style:Ti.buttonBack,onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:i(b,y);case 1:case"end":return e.stop()}}),null,null,null,Promise)}},o):null)))},Pi=["title","subtitle"];var Fi,Di=j.a.create({subtitle:{color:"white",textAlign:"center"},title:{fontSize:26,color:"white",textAlign:"center",fontWeight:"bold"},content:{alignItems:"center",justifyContent:"center",flexGrow:1,alignSelf:"center"},icon:{marginVertical:32,backgroundColor:"#00C851"},container:{paddingHorizontal:48,alignItems:"center",backgroundColor:"transparent"}}),Ai=function(e){var n=e.title,t=e.subtitle,r=_r()(e,Pi);return g.createElement(ji,ft()({style:Di.container},r),g.createElement(C.a,{style:Di.content},g.createElement(Lr.a.Icon,{icon:"check",size:150,style:Di.icon}),g.createElement(q.a,{style:Di.title},n),g.createElement(Ta.a,{style:Di.subtitle},t)))},Ni=Pt(Object(Et.a)(Fi||(Fi=bt()(["\n  mutation CreateWeatherConditions(\n    $id: Int!\n    $dropzoneId: Int!\n    $winds: String\n    $temperature: Int\n    $jumpRun: Int\n    $exitSpotMiles: Int\n    $offsetMiles: Int\n    $offsetDirection: String\n  ) {\n    createWeatherCondition(\n      input: {\n        id: $id\n        attributes: {\n          dropzoneId: $dropzoneId\n          winds: $winds\n          temperature: $temperature\n          jumpRun: $jumpRun\n          exitSpotMiles: $exitSpotMiles\n          offsetMiles: $offsetMiles\n          offsetDirection: $offsetDirection\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      weatherCondition {\n        id\n        temperature\n        winds {\n          speed\n          altitude\n          direction\n        }\n        jumpRun\n        exitSpotMiles\n        offsetMiles\n        offsetDirection\n        createdAt\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.createWeatherCondition},validates:{},fieldErrorMap:{}}),$i=t(133),Ri=t(72);function Ui(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Bi(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ui(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ui(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Li(e){var n=e.speed,t=e.direction,r=e.altitude,a=e.onChange,o=g.useState(!1),l=_()(o,2),s=l[0],c=l[1],u=g.useState(n),d=_()(u,2),m=d[0],f=d[1],p=g.useState(t),v=_()(p,2),h=v[0],b=v[1],y=Object(ir.b)();return g.createElement(nr.a,{style:Mi.card,elevation:3},g.createElement(nr.a.Content,{style:Mi.row},g.createElement(C.a,{style:Mi.altitudeCard},g.createElement(lr.a,{onDismiss:function(){return c(!1)},visible:s,style:{minWidth:130},anchor:g.createElement(i.f,{style:{flexGrow:1,height:60,flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:function(){return c(!0)}},g.createElement(Lr.c.Icon,{icon:"arrow-up",style:Mi.icon}),g.createElement(q.a,{style:[Mi.altitudeOption,{color:y.colors.onSurface}]},null==r?void 0:r.toString()))},[14e3,12e3,1e4,7e3,5e3,2e3,1e3].map((function(e){return g.createElement(Lr.c.Item,{key:e,onPress:function(){e&&a("altitude",e),c(!1)},title:e.toString(),left:function(){return g.createElement(Lr.c.Icon,{style:Mi.icon,icon:"arrow-up"})}})})))),g.createElement(C.a,{style:Mi.strengthCard},g.createElement(Lr.c.Icon,{icon:"weather-windy",style:Mi.icon}),g.createElement(Mr.a,{value:null==m?void 0:m.toString(),onBlur:function(){return a("speed",Number(m))},onChangeText:function(e){if(/\d/.test(e)){var n=e.match(/\d+/)||[m],t=_()(n,1)[0];f(t)}else e||f("")},style:Mi.textField,keyboardType:"numeric"})),g.createElement(C.a,{style:Mi.directionCard},g.createElement(Lr.c.Icon,{icon:"compass",style:Mi.icon}),g.createElement(Mr.a,{value:null==h?void 0:h.toString(),onBlur:function(){return a("direction",Number(h))},onChangeText:function(e){if(/\d/.test(e)){var n=e.match(/\d+/)||[h],t=_()(n,1)[0];b(t)}else e||b("")},style:Mi.textField,keyboardType:"numeric"}))))}var Wi={height:60,flexDirection:"row",width:350/3},Mi=j.a.create({altitudeOption:{minWidth:50,flexGrow:1,alignItems:"center",justifyContent:"center",textAlignVertical:"center",lineHeight:20,fontSize:20,alignSelf:"center"},card:{marginVertical:8,marginHorizontal:18,width:350,alignSelf:"center",borderRadius:10},icon:{width:20},altitudeCard:Bi(Bi({},Wi),{},{borderTopLeftRadius:10,borderBottomLeftRadius:10,overflow:"hidden"}),strengthCard:Bi({},Wi),directionCard:Bi(Bi({},Wi),{},{borderTopRightRadius:10,borderBottomRightRadius:10,overflow:"hidden"}),textField:{flex:1,flexGrow:1,borderTopLeftRadius:0,borderTopRightRadius:0,width:"100%",minWidth:80},row:{flexGrow:1,display:"flex",flexWrap:"nowrap",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",paddingHorizontal:0,paddingVertical:0,marginVertical:16,marginTop:0,marginBottom:0}});function Vi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Vi(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vi(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Gi(e){var n,t,r,a,o=e.variant,l=e.onPressJumpRun,s=kn((function(e){return e.forms.weather})),c=En(),u=s.fields.winds.value,d=Object(ir.b)(),m=g.useState((null==(n=s.fields)||null==(t=n.temperature)?void 0:t.value)||0),f=_()(m,2),p=f[0],v=f[1],h=g.useState((null==(r=s.fields)||null==(a=r.jumpRun)?void 0:a.value)||0),b=_()(h,2),y=b[0],x=b[1];return g.useEffect((function(){s.fields.jumpRun.value!==y&&x(s.fields.jumpRun.value)}),[x,s.fields.jumpRun.value]),g.useEffect((function(){s.fields.temperature.value!==p&&v(s.fields.temperature.value)}),[s.fields.jumpRun.value,s.fields.temperature.value,v]),g.createElement($i.a,{behavior:"position",style:qi.content},g.createElement(C.a,{style:qi.row},g.createElement(q.a,{style:[qi.headerTemperature,{color:"light"===o?"white":"black"}]},"Temperature"),g.createElement(q.a,{style:[qi.headerJumprun,{color:"light"===o?"white":"black"}]},"Jump run")),g.createElement(C.a,{style:qi.altitudeTempRow},g.createElement(nr.a,{style:[qi.temperatureCard,{backgroundColor:d.colors.surface}],elevation:3},g.createElement(nr.a.Content,{style:qi.cardContent},g.createElement(Lr.c.Icon,{icon:"thermometer",style:{width:20}}),g.createElement(Ri.a,{value:null==p?void 0:p.toString(),onBlur:function(){return c(vn.forms.weather.setField(["temperature",Number(p)]))},onChangeText:function(e){if(/\d/.test(e)){var n=e.match(/^\-?\d+/)||[p],t=_()(n,1)[0];v(Number(t))}},style:[qi.textField,{color:d.colors.onSurface}],keyboardType:"numeric"}))),g.createElement(nr.a,{style:qi.jumpRunCard,elevation:3},g.createElement(nr.a.Content,{style:[qi.cardContent,{backgroundColor:d.colors.surface}]},g.createElement(Lr.c.Icon,{icon:"compass",style:{width:20}}),g.createElement(Ri.a,{value:null==y?void 0:y.toString(),onBlur:function(){return c(vn.forms.weather.setField(["jumpRun",Number(y)]))},onChangeText:function(e){if(/\d/.test(e)){var n=e.match(/\d+/)||[y],t=_()(n,1)[0];x(Number(t))}},keyboardType:"numeric",style:[qi.textField,{color:d.colors.onSurface}]}),g.createElement(i.f,{onPress:function(){return null==l?void 0:l()}},g.createElement(Lr.c.Icon,{icon:"earth",color:"#40AA40",style:{width:40}}))))),g.createElement(C.a,{style:qi.row},g.createElement(q.a,{style:[qi.headerAltitude,{color:"light"===o?"white":"black"}]},"Altitude"),g.createElement(q.a,{style:[qi.headerSpeed,{color:"light"===o?"white":"black"}]},"Speed"),g.createElement(q.a,{style:[qi.headerDirection,{color:"light"===o?"white":"black"}]},"Direction")),g.createElement(Wr.a,null),g.createElement(i.a,{data:u,keyExtractor:function(e,n){e.item;return"wind."+n},renderItem:function(e){var n=e.item,t=e.index;return g.createElement(Li,ft()({},n,{key:"wind-input-"+t,onChange:function(e,r){var a=Object(Yr.set)(Ur()(u),t,_i(_i({},n),{},M()({},e,r)));c(vn.forms.weather.setField(["winds",a]))}}))}}),(null==u?void 0:u.length)<5?g.createElement(i.f,{onPress:function(){return c(vn.forms.weather.setField(["winds",[].concat(Ur()(u||[]),[{altitude:"0",direction:"0",speed:"0"}])]))}},g.createElement(C.a,{style:{width:"100%",opacity:.5},pointerEvents:"box-only"},g.createElement(Li,{altitude:"Add",direction:"0",speed:"0",onChange:function(){return null}}))):null)}var qi=j.a.create({container:{paddingHorizontal:0,alignItems:"center",paddingLeft:0,paddingRight:0},content:{width:"100%",flexDirection:"column",backgroundColor:"transparent"},altitudeTempRow:{paddingHorizontal:32,width:400,alignSelf:"center",backgroundColor:"transparent",flexGrow:1,display:"flex",flexWrap:"nowrap",flexDirection:"row",alignItems:"flex-start",paddingVertical:0,marginVertical:16,marginTop:0,marginBottom:0,justifyContent:"space-between"},textField:_i(_i({},w.a.select({web:{width:"100%"},ios:{flexGrow:1}})),{},{paddingBottom:4,height:60,fontWeight:"bold",fontSize:20}),cardContent:{borderRadius:5,flexGrow:1,display:"flex",flexWrap:"nowrap",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",paddingHorizontal:0,paddingVertical:0,marginVertical:16,marginTop:0,marginBottom:0},row:{width:400,alignSelf:"center",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:0,marginVertical:16},headerTemperature:{width:120,color:"white",textAlign:"center",fontWeight:"bold"},headerJumprun:{width:120,color:"white",textAlign:"center",fontWeight:"bold"},jumpRunCard:{width:120,height:60,flexDirection:"row",backgroundColor:"white",borderRadius:8},temperatureCard:{height:60,width:120,flexDirection:"row",backgroundColor:"white",borderRadius:8},headerAltitude:{width:120,color:"white",textAlign:"center",fontWeight:"bold"},headerSpeed:{width:120,color:"white",textAlign:"center",fontWeight:"bold"},headerDirection:{width:120,color:"white",textAlign:"center",fontWeight:"bold"},card:{marginVertical:8,width:360,alignSelf:"center",backgroundColor:"transparent",shadowColor:"transparent"},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:50,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}});var Hi=j.a.create({container:{paddingHorizontal:0,alignItems:"center",paddingLeft:0,paddingRight:0}}),Yi=function(e){return g.createElement(ji,ft()({style:Hi.container},e,{title:"Winds Aloft"}),g.createElement(Gi,null))},Ji=t(110);function Qi(e,n){var t=function(e,n){var t=e.x,r=e.y,a=n.x,i=n.y-r,o=a-t,l=Math.atan2(i,o);return l*=180/Math.PI}({x:e.x,y:e.y},{x:n.x,y:n.y});return t<0&&(t=360+t),t}var Xi=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"];var Zi=t(311),Ki=t(160);function eo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function no(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?eo(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var to=Zt.a.get("window").width;function ro(e){var n=g.useState({x:0,y:0,height:0,width:0}),t=_()(n,2),r=t[0],a=t[1],o=1*r.width;o=o>475?475:o;var l=e.latitude,s=e.longitude,c=e.value,u=e.title,d=e.onChange,m=g.useState(!1),f=_()(m,2),p=f[0],v=f[1],h=g.useState(c||0),b=_()(h,2),y=b[0],x=b[1],E=g.useState({x:0,y:0,height:0,width:0,originX:0,originY:0}),k=_()(E,2),S=k[0],w=k[1],z=g.useRef(new ti.a.Value(y)),O=g.useRef(new ti.a.Value(0));g.useEffect((function(){p||x(c)}),[p,c]);var I,T=g.useRef(new ti.a.Value(0)),j=g.useRef(ti.a.loop(ti.a.timing(T.current,{duration:3e3,toValue:-400,useNativeDriver:!0}),{resetBeforeIteration:!0})),P=g.useCallback((function(e){T.current.setValue(0),j.current.stop(),j.current.reset();var n=e.nativeEvent,t={x:n.x,y:n.y},r=Qi({x:S.originX,y:S.originY},t);requestAnimationFrame((function(){return x(r)})),z.current.setValue(r)}),[x,S]),F=g.useCallback((function(e){var n=e.nativeEvent.layout;w(no(no({},n),{},{originX:n.x+r.width/2,originY:n.y+r.height/2}))}),[r.height,r.width]),D=Object(Zi.a)({x:S.originX,y:S.originY,degrees:y,offsetX:-20,offsetY:-20,radius:o/2});return g.createElement(i.b,{onBegan:function(){v(!0),ti.a.timing(O.current,{duration:350,toValue:1,useNativeDriver:!0}).start()},onEnded:function(){v(!1),ti.a.timing(O.current,{duration:350,toValue:0,useNativeDriver:!0}).start(),j.current.start(),requestAnimationFrame((function(){return null==d?void 0:d(y)}))},onGestureEvent:P},g.createElement(C.a,{style:{width:"100%",height:"100%",alignItems:"center",marginTop:50},onLayout:function(e){return a(e.nativeEvent.layout)}},u&&g.createElement(ti.a.Text,{style:[ao.title,{marginBottom:4,opacity:O.current.interpolate({inputRange:[0,1],outputRange:[1,0]})}]},u),g.createElement(Ki.a,{position:{y:0,x:0},coords:{lat:l,lng:s},containerStyle:{position:"relative",top:void 0,left:void 0,maxWidth:500,maxHeight:500},interactive:!1,height:o,width:o,onChange:function(){return null},shape:"round"},g.createElement(ti.a.View,{onLayout:F,style:[ao.iconContainer,{width:o,height:o}]},g.createElement(ti.a.View,{style:{height:o,width:O.current.interpolate({inputRange:[0,1],outputRange:[10,2]}),backgroundColor:"#FF1414",opacity:O.current.interpolate({inputRange:[0,1],outputRange:[.6,1]}),transform:[{rotate:z.current.interpolate({inputRange:[0,360],outputRange:["0deg","360deg"]})}]}})),null!=r&&r.width?g.createElement(ti.a.View,{style:[{position:"absolute",width:40,height:40,top:D.y,left:D.x,zIndex:100,opacity:T.current.interpolate({inputRange:[-400,-200,400],outputRange:[0,1,0]}),transform:[{rotate:z.current.interpolate({inputRange:[0,360],outputRange:["0deg","360deg"]})},{translateY:T.current}]}]},g.createElement(gt.a,{name:"airplane",size:40,color:"#ffffff"})):null,g.createElement(ti.a.Text,{style:[ao.degreeLabel,{opacity:O.current,top:o/2-60,left:o/2-100}]},Math.round(y))),g.createElement(ti.a.Text,{style:[ao.bottomDegreeLabel,{opacity:O.current.interpolate({inputRange:[0,1],outputRange:[1,0]})}]},Math.round(y),"\xb0 (",(I=y,Xi[Math.round(I/22.5)]),")")))}var ao=j.a.create({container:{paddingHorizontal:0,alignItems:"center",paddingLeft:0,paddingRight:0},title:{fontSize:50,fontWeight:"bold",color:"white",left:0,width:"100%",paddingBottom:40,textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2}},degreeLabel:{width:200,height:120,textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2},fontSize:100,color:"white",position:"absolute"},bottomDegreeLabel:{fontSize:50,paddingBottom:16,fontWeight:"bold",color:"white",position:"absolute",bottom:50,left:0,top:48,width:"100%",textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2}},content:{width:"100%",flexDirection:"column"},iconContainer:{borderWidth:10,borderRadius:to/2,borderStyle:"solid",borderColor:"#222222",alignSelf:"center",alignItems:"center",justifyContent:"center"}});var io=j.a.create({container:{paddingHorizontal:0,alignItems:"center",paddingLeft:0,backgroundColor:"blue",paddingRight:0},slider:{width:"100%",marginTop:32},textInput:{height:80,width:200,alignSelf:"center",backgroundColor:"transparent",color:"white",fontSize:60,textAlign:"center",marginBottom:60},content:{width:"100%",flexDirection:"column"},iconContainer:{width:250,height:250,borderRadius:125,borderWidth:15,borderColor:"white",alignSelf:"center",alignItems:"center",justifyContent:"center"},icon:{position:"absolute",top:-75},row:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:0,marginVertical:16},headerAltitude:{flex:.35,color:"white",textAlign:"center",fontWeight:"bold"},headerSpeed:{flex:.3,color:"white",textAlign:"center",fontWeight:"bold"},headerDirection:{flex:.3,color:"white",textAlign:"center",fontWeight:"bold"},card:{padding:8,marginVertical:16},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:50,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),oo=function(e){var n=kn((function(e){return e.forms.weather})),t=En(),r=Rt().dropzone,i=g.useState(),o=_()(i,2),l=o[0],s=o[1],c=g.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(Ji.b());case 3:if(e=t.sent,"granted"===e.status){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,a.a.awrap(Ji.a({}));case 9:n=t.sent,s(n.coords),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),null,null,[[0,13]],Promise)}),[]);return g.useEffect((function(){null!=r&&r.lat&&null!=r&&r.lng||c()}),[null==r?void 0:r.lat,null==r?void 0:r.lng,c]),g.createElement(ji,ft()({style:io.container},e,{contentStyle:{paddingTop:130}}),g.createElement(C.a,{style:{width:"100%",height:"80%"}},g.createElement(ro,{value:n.fields.jumpRun.value||0,latitude:(null==r?void 0:r.lat)||(null==l?void 0:l.latitude)||0,longitude:(null==r?void 0:r.lng)||(null==l?void 0:l.longitude)||0,onChange:function(e){return t(vn.forms.weather.setField(["jumpRun",Math.round(e)]))}})))};var lo=function(){var e=kn((function(e){return e.forms.weather})),n=kn((function(e){return e.global.currentDropzoneId})),t=En(),r=Object(bi.useNavigation)(),i=Ni({onSuccess:function(){return null},onFieldError:function(e,n){return t(vn.forms.weather.setFieldError([e,n]))},onError:function(e){t(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),o=g.useCallback((function(t,r){var o;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,a.a.awrap(i.mutate({id:Number(null==(o=e.original)?void 0:o.id),dropzoneId:n,winds:JSON.stringify(e.fields.winds.value),jumpRun:e.fields.jumpRun.value,temperature:e.fields.temperature.value}));case 2:r(t+1);case 3:case"end":return l.stop()}}),null,null,null,Promise)}),[i,e,n]);return g.createElement(Ci,null,g.createElement(Yi,{backButtonLabel:"Cancel",nextButtonLabel:"Next",onBack:function(){t(vn.forms.weather.reset()),t(vn.forms.weather.setOpen(!1)),r.goBack()},loading:i.loading,onNext:function(e,n){return n(e+1)}}),g.createElement(oo,{backButtonLabel:"Back",nextButtonLabel:"Next",loading:i.loading,onNext:function(e,n){o(e,n)},onBack:function(e,n){return n(e-1)}}),g.createElement(Ai,{title:"Weather conditions saved",subtitle:"You can update these at any time",backButtonLabel:"Back",nextButtonLabel:"Done",onBack:function(e,n){n(e-1)},onNext:function(){t(vn.forms.weather.reset()),t(vn.forms.weather.setOpen(!1)),r.goBack()}}))};function so(){var e,n=kn((function(e){return e.forms.weather})),t=kn((function(e){return e.global.currentDropzoneId})),r=En(),i=Object(bi.useNavigation)(),o=Ni({onSuccess:function(){return null},onFieldError:function(e,n){return r(vn.forms.weather.setFieldError([e,n]))},onError:function(e){r(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),l=g.useCallback((function(){var e;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,a.a.awrap(o.mutate({id:Number(null==(e=n.original)?void 0:e.id),dropzoneId:t,winds:JSON.stringify(n.fields.winds.value),jumpRun:n.fields.jumpRun.value,temperature:n.fields.temperature.value}));case 2:i.goBack(),r(vn.notifications.showSnackbar({message:"Weather board updated",variant:"success"}));case 4:case"end":return l.stop()}}),null,null,null,Promise)}),[o,null==(e=n.original)?void 0:e.id,n.fields.winds.value,n.fields.jumpRun.value,n.fields.temperature.value,t,i,r]),s=Rt().dropzone,c=g.useState(),u=_()(c,2),d=u[0],m=u[1],f=g.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(Ji.b());case 3:if(e=t.sent,"granted"===e.status){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,a.a.awrap(Ji.a({}));case 9:n=t.sent,m(n.coords),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),null,null,[[0,13]],Promise)}),[]);return g.useEffect((function(){null!=s&&s.lat&&null!=s&&s.lng||f()}),[null==s?void 0:s.lat,null==s?void 0:s.lng,f]),g.createElement(C.a,{style:j.a.absoluteFill},g.createElement(ro,{value:n.fields.jumpRun.value||0,latitude:(null==s?void 0:s.lat)||(null==d?void 0:d.latitude)||0,longitude:(null==s?void 0:s.lng)||(null==d?void 0:d.longitude)||0,onChange:function(e){return r(vn.forms.weather.setField(["jumpRun",Math.round(e)]))}}),g.createElement(Ja.a,{style:co.fab,small:!0,icon:"check",loading:o.loading,disabled:o.loading,onPress:function(){return l()},label:"Save"}))}var co=j.a.create({fab:{position:"absolute",margin:16,right:0,bottom:0}});function uo(){var e=kn((function(e){return e.forms.weather})),n=kn((function(e){return e.global})),t=n.theme,r=n.palette,i=kn((function(e){return e.global.currentDropzoneId})),o=En(),l=Object(bi.useNavigation)(),s=Ni({onSuccess:function(){return null},onFieldError:function(e,n){return o(vn.forms.weather.setFieldError([e,n]))},onError:function(e){o(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),c=g.useCallback((function(){var n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(s.mutate({id:Number(null==(n=e.original)?void 0:n.id),dropzoneId:i,winds:JSON.stringify(e.fields.winds.value),jumpRun:e.fields.jumpRun.value,temperature:e.fields.temperature.value}));case 2:l.goBack(),o(vn.notifications.showSnackbar({message:"Weather board updated",variant:"success"})),o(vn.forms.weather.reset()),o(vn.forms.weather.setOpen(!1));case 6:case"end":return t.stop()}}),null,null,null,Promise)}),[s,e,i,l,o]);return g.createElement(Oi,{contentContainerStyle:{backgroundColor:t.colors.background}},g.createElement(Gi,{onPressJumpRun:function(){return l.navigate("JumpRunScreen")},variant:t.dark?"light":void 0}),g.createElement(C.a,{style:mo.buttons,pointerEvents:"box-none"},g.createElement(Y.a,{loading:s.loading,mode:"contained",color:r.primary.main,disabled:s.loading,style:[mo.button,{borderRadius:20,height:42,alignItems:"center",justifyContent:"center",marginTop:20}],labelStyle:{color:"white"},onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c();case 1:case"end":return e.stop()}}),null,null,null,Promise)}},"Save"),g.createElement(Y.a,{loading:s.loading,mode:"contained",color:r.primary.main,disabled:s.loading,style:[mo.button,{borderRadius:20,height:42,alignItems:"center",justifyContent:"center",marginTop:20}],labelStyle:{color:"white"},onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c();case 1:case"end":return e.stop()}}),null,null,null,Promise)}},"Reload conditions from MarkSchulz.net")))}var mo=j.a.create({button:{alignSelf:"center",width:"100%"},buttonBack:{alignSelf:"center",width:"100%",marginHorizontal:48},buttons:{alignSelf:"center",alignItems:"flex-end",flexGrow:1,justifyContent:"flex-end",width:"100%",maxWidth:404,marginBottom:100}}),fo=t(431);function po(e){var n=e.action,t=e.title;return g.createElement(C.a,{style:ho.warning},g.createElement(Ta.a,{style:{color:"white",flex:.7,flexGrow:2}},t),n?g.createElement(Y.a,{onPress:n,style:{flex:.1,flexShrink:1}},"Fix"):null)}function go(e){var n=e.credits,t=e.loading,r=e.isCreditSystemEnabled,a=e.isRigSetUp,i=e.isExitWeightDefined,o=e.isMembershipInDate,l=e.isReserveInDate,s=e.isRigInspectionComplete,c=e.onSetupWizard;if(t)return null;if(!i||!a){var u=[i?null:"exit weight",a?null:"equipment"].filter(Boolean);return g.createElement(po,{title:"You need to define "+u.join(" and ")+" in your profile",action:function(){return null==c?void 0:c()}})}return o?s?l?!r||n||t?null:g.createElement(po,{title:"You'll need to top up on credits before you can manifest"}):g.createElement(po,{title:"Your reserve repack is due. You cannot manifest if your repack is out of date."}):g.createElement(po,{title:"Your rig must be inspected before you can manifest at this dropzone"}):g.createElement(po,{title:"Your membership seems to be out of date"})}var vo,ho=j.a.create({warning:{flexDirection:"row",alignItems:"center",height:56,width:"100%",backgroundColor:"black",justifyContent:"space-between",paddingHorizontal:32}}),bo=Object(Et.b)(vo||(vo=bt()(["\n  query QueryDropzone($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      isCreditSystemEnabled\n\n      currentUser {\n        id\n        credits\n        expiresAt\n\n        rigInspections {\n          id\n          rig {\n            id\n            repackExpiresAt\n          }\n        }\n        license {\n          id\n          name\n        }\n\n        user {\n          id\n          name\n          exitWeight\n          email\n          phone\n          rigs {\n            id\n            name\n            model\n            make\n            serial\n            canopySize\n            repackExpiresAt\n          }\n          jumpTypes {\n            id\n            name\n          }\n          license {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"])));var yo=function(e){var n,t,r,a,i,o,l,s,c,u,d,m,f,p,v,h,b,y,x,E,k,S,w,C=e.navigation,z=e.previous,O=e.scene,I=e.hideWarnings,T=kn((function(e){return e.global})),j=T.currentDropzoneId,P=T.palette,F=T.theme,D=En(),A=Object(sr.a)(bo,{variables:{dropzoneId:Number(j)}}),N=_()(A,2),$=N[0],R=N[1],U=R.data,B=R.loading;return g.useEffect((function(){j&&$()}),[$,j]),g.createElement(g.Fragment,null,g.createElement(fo.a.Header,{style:{backgroundColor:F.dark?F.colors.background:F.colors.surface}},z?g.createElement(fo.a.BackAction,{onPress:C.goBack,color:F.dark?P.primary.dark:P.primary.main}):g.createElement(Ka.a,{color:F.dark?P.primary.dark:P.primary.main,icon:"menu",size:32,onPress:function(){return C.dispatch(bi.DrawerActions.toggleDrawer())}}),g.createElement(fo.a.Content,{title:O.descriptor.options.title,titleStyle:{fontWeight:"bold",color:P.primary.main}}),O.descriptor.options.headerRight?O.descriptor.options.headerRight({tintColor:"white"}):g.createElement(or.a,{style:{backgroundColor:P.accent.main},mode:"flat",textStyle:{color:P.surface}},"$"+((null==U||null==(n=U.dropzone)||null==(t=n.currentUser)?void 0:t.credits)||0))),I?null:g.createElement(go,{credits:(null==U||null==(r=U.dropzone)||null==(a=r.currentUser)?void 0:a.credits)||0,loading:B,isCreditSystemEnabled:!(null==U||null==(i=U.dropzone)||!i.isCreditSystemEnabled),isExitWeightDefined:!(null==U||null==(o=U.dropzone)||null==(l=o.currentUser)||null==(s=l.user)||!s.exitWeight),isMembershipInDate:!(null==U||null==(c=U.dropzone)||null==(u=c.currentUser)||!u.expiresAt)&&(null==U||null==(d=U.dropzone)||null==(m=d.currentUser)?void 0:m.expiresAt)>(new Date).getTime()/1e3,isReserveInDate:!(null==U||null==(f=U.dropzone)||null==(p=f.currentUser)||null==(v=p.user)||null==(h=v.rigs)||!h.some((function(e){var n,t,r,a=null==(n=U.dropzone)||null==(t=n.currentUser)||null==(r=t.rigInspections)?void 0:r.map((function(n){var t;return(null==n||null==(t=n.rig)?void 0:t.id)===e.id})),i=(e.repackExpiresAt||0)>(new Date).getTime()/1e3;return a&&i}))),isRigInspectionComplete:!(null==U||null==(b=U.dropzone)||null==(y=b.currentUser)||null==(x=y.rigInspections)||!x.length),isRigSetUp:!(null==U||null==(E=U.dropzone)||null==(k=E.currentUser)||null==(S=k.user)||null==(w=S.rigs)||!w.length),onSetupWizard:function(){var e,n,t,r=null==U||null==(e=U.dropzone)?void 0:e.currentUser;r&&(D(vn.forms.user.setOpen(r)),null!=r&&null!=(n=r.user)&&null!=(t=n.rigs)&&t.length&&D(vn.forms.rig.setOpen(r.user.rigs[0])),D(vn.forms.userWizard.setOpen(r.user)))}}))};function xo(e){var n=e.hasPlanes,t=e.hasTicketTypes,r=(e.isPublic,Qn());return g.createElement(Aa,{style:{width:"70%"}},g.createElement(Da,{style:Eo.title},"Set up dropzone"),g.createElement(Aa,{style:Eo.separator,lightColor:"#eee",darkColor:"rgba(255,255,255,0.1)"}),g.createElement(Lr.c.Item,{title:"Create dropzone",left:function(){return g.createElement(Lr.c.Icon,{color:r.success,icon:"check"})}}),g.createElement(Lr.c.Item,{title:"Add a plane",left:function(){return n?g.createElement(Lr.c.Icon,{color:r.success,icon:"check"}):g.createElement(Lr.c.Icon,{color:r.error,icon:"close"})}}),g.createElement(Lr.c.Item,{title:"Configure jump tickets",left:function(){return t?g.createElement(Lr.c.Icon,{color:r.success,icon:"check"}):g.createElement(Lr.c.Icon,{color:r.error,icon:"close"})}}))}var Eo=j.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}}),ko=t(784);function So(){return g.createElement(ar.a,{key:"loading-card",containerStyle:{height:160,width:335,margin:16},isLoading:!0,layout:[{key:"header",width:"100%",height:"100%",borderRadius:8}]})}function wo(e){var n,t,r=e.load,i=e.onPress,o=En(),l=kn((function(e){return e.global})),s=l.theme,c=l.palette,u=g.useMemo((function(){return{open:c.accent.main,cancelled:"#ff4444",boarding_call:"#FF8800"}}),[c.accent.main]),d=fi({variables:{id:Number(r.id)},showSnackbarErrors:!0,pollInterval:3e4}),m=d.data,f=d.loading,p=d.refetch,v=Xa({onSuccess:function(){return o(vn.notifications.showSnackbar({message:"Load #"+(null==m?void 0:m.loadNumber)+" updated",variant:"success"}))},onError:function(e){return o(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),h=g.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=m&&m.id){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.a.awrap(v.mutate({id:Number(m.id),pilotId:Number(e.id)}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}),[v,null==m?void 0:m.id]),b=g.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=m&&m.id){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.a.awrap(v.mutate({id:Number(m.id),planeId:Number(e.id)}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}),[null==m?void 0:m.id,v]);if(f)return g.createElement(So,null);var y=(n={},M()(n,F.Open,"Open"),M()(n,F.BoardingCall,"On call"),M()(n,F.Cancelled,"Cancelled"),M()(n,F.InFlight,"In air"),M()(n,F.Landed,"Landed"),n);return g.createElement(nr.a,{testID:"load-card",style:{margin:16,borderRadius:2,opacity:["cancelled","landed"].includes((null==m?void 0:m.state)||"")?.5:1},elevation:1,onPress:i},g.createElement(Ga.a,{style:{backgroundColor:null!=m&&m.state?u[m.state]:void 0,marginTop:-5,marginRight:-5,color:"white",fontSize:12}},null!=m&&m.state?y[null==m?void 0:m.state]:""),g.createElement(nr.a.Title,{style:{justifyContent:"space-between"},title:"Load #"+(null==m?void 0:m.loadNumber),subtitle:null==m?void 0:m.name,right:function(){return null==m||!m.dispatchAt||Object(ko.a)(new Date,null==m?void 0:m.dispatchAt)?null:g.createElement(Aa,{style:{marginRight:16}},g.createElement(oi,{end:new Date(1e3*(null==m?void 0:m.dispatchAt))}))}}),g.createElement(nr.a.Content,{style:[Co.cardContent]},g.createElement(Aa,{style:{flexDirection:"row",flexWrap:"wrap",backgroundColor:"transparent"}},g.createElement(Dr,{value:null==m?void 0:m.plane,small:!0,color:s.colors.onSurface,onSelect:function(e){var n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(((null==m?void 0:m.occupiedSlots)||0)>(e.maxSlots||0))){t.next=5;break}n=((null==m?void 0:m.occupiedSlots)||0)-(e.maxSlots||0),o(vn.notifications.showSnackbar({message:"You need to take "+n+" people off the load to fit on this plane",variant:"warning"})),t.next=8;break;case 5:return t.next=7,a.a.awrap(b(e));case 7:p();case 8:case"end":return t.stop()}}),null,null,null,Promise)}}),g.createElement(Pr,{color:s.colors.onSurface,value:null==m?void 0:m.pilot,onSelect:h,small:!0}),g.createElement(or.a,{mode:"outlined",icon:"parachute",style:{marginHorizontal:4,backgroundColor:"transparent",height:25,alignItems:"center",borderColor:s.colors.onSurface},textStyle:{color:s.colors.onSurface,fontSize:12}},(null==m?void 0:m.occupiedSlots)||0," / ",null==m||null==(t=m.plane)?void 0:t.maxSlots))))}var Co=j.a.create({cardContent:{marginVertical:8,overflow:"hidden",flexDirection:"row"},smallChip:{height:25,margin:4,alignItems:"center"},smallChipText:{fontSize:12}}),zo=t(46),Oo=t(432),Io=t(491),To=t(262);function jo(e){var n=e.children,t=e.rightAction,r=e.disabled,a=g.useRef();return g.createElement(To.a,{ref:a,enabled:!r,renderRightActions:function(e,n){var r=n.interpolate({inputRange:[-100,0],outputRange:[1,0]}),o=n.interpolate({inputRange:[-150,0],outputRange:[0,10]});return g.createElement(i.f,{onPress:function(){var e;null==t||t.onPress(),null==a||null==(e=a.current)||e.close()}},g.createElement(ti.a.View,{style:{flexGrow:1,backgroundColor:null==t?void 0:t.backgroundColor,justifyContent:"center",height:"100%",width:75,transform:[{translateX:o}]}},g.createElement(ti.a.Text,{style:{color:"white",paddingHorizontal:10,fontWeight:"600",transform:[{scale:r}]}},null==t?void 0:t.label)))},useNativeAnimations:!0},n)}function Po(e){var n,t=e.load,r=e.onManifest,i=e.onManifestGroup,o=e.controlsVisible,l=e.onSlotGroupPress,s=e.onSlotPress,c=kn((function(e){return e.global})),u=En(),d=g.useState(!1),m=_()(d,2),f=m[0],p=m[1],v=g.useState(!1),h=_()(v,2),b=h[0],x=h[1],E=fi({variables:{id:Number(t.id)},showSnackbarErrors:!0}),k=E.data,S=E.loading,w=E.refetch,C=Rt().currentUser,z=Xa({onSuccess:function(){return u(vn.notifications.showSnackbar({message:"Load #"+(null==k?void 0:k.loadNumber)+" updated",variant:"success"}))},onError:function(e){return u(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),O=pi({onSuccess:function(e){var n,t,r;return u(vn.notifications.showSnackbar({message:((null==(n=e.slot)||null==(t=n.dropzoneUser)||null==(r=t.user)?void 0:r.name)||"User")+" has been taken off load #"+(null==k?void 0:k.loadNumber),variant:"success"}))},onError:function(e){return u(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),I=g.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(O.mutate({id:Number(e.id)}));case 2:case"end":return n.stop()}}),null,null,null,Promise)}),[O]),T=g.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=k&&k.id){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.a.awrap(z.mutate({id:Number(k.id),pilotId:Number(e.id)}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}),[z,null==k?void 0:k.id]),j=g.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=k&&k.id){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.a.awrap(z.mutate({id:Number(k.id),gcaId:Number(e.id)}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}),[z,null==k?void 0:k.id]),P=g.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=k&&k.id){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.a.awrap(z.mutate({id:Number(k.id),planeId:Number(e.id)}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}),[null==k?void 0:k.id,z]),F=g.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=k&&k.id){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.a.awrap(z.mutate({id:Number(k.id),loadMasterId:Number(e.id)}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}),[null==k?void 0:k.id,z]),D=g.useCallback((function(e){var n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=k&&k.id){t.next=2;break}return t.abrupt("return");case 2:return n=e?Object(Qa.a)(new Date,e).getTime()/1e3:null,t.next=5,a.a.awrap(z.mutate({id:Number(k.id),dispatchAt:n?Math.ceil(n):null}));case 5:case"end":return t.stop()}}),null,null,null,Promise)}),[null==k?void 0:k.id,z]),A=g.useCallback((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=k&&k.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.a.awrap(z.mutate({id:Number(k.id),hasLanded:!0}));case 4:case"end":return e.stop()}}),null,null,null,Promise)}),[null==k?void 0:k.id,z]),N=Object(bi.useNavigation)(),R=wr($.UpdateLoad),U=wr($.UpdateSlot),B=wr($.UpdateUserSlot),L=wr($.DeleteSlot),W=wr($.DeleteUserSlot),M=wr($.CreateSlot),V=wr($.CreateUserSlot),G=wr($.CreateUserSlotWithSelf),q=M&&(null==k?void 0:k.isOpen)&&!(null!=k&&k.isFull);g.useEffect((function(){null!=k&&k.maxSlots&&(null==k?void 0:k.maxSlots)<5&&p(!0)}),[null==k?void 0:k.maxSlots]);var H=o&&(V||G)&&!(null!=k&&k.hasLanded)&&(!(null!=k&&k.dispatchAt)||k.dispatchAt>(new Date).getTime()/1e3);return S?g.createElement(So,null):g.createElement(nr.a,{testID:"load-card",style:{margin:16,opacity:null!=k&&k.hasLanded?.5:1},elevation:3},g.createElement(nr.a.Title,{style:{justifyContent:"space-between"},title:g.createElement(Aa,{style:{width:"100%",flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"transparent"}},g.createElement(zo.a,null,"Load "+((null==k?void 0:k.loadNumber)||0)),g.createElement(Aa,{style:{flexGrow:1}}),H&&g.createElement(Ka.a,{icon:"account-group",testID:"manifest-group-button",onPress:function(){u(vn.forms.manifestGroup.reset()),u(vn.forms.manifestGroup.setField(["load",k])),G&&!V&&C&&(u(vn.screens.manifest.setSelected([C])),u(vn.forms.manifestGroup.setDropzoneUsers([C]))),i&&i()}})),subtitle:null==k?void 0:k.name}),g.createElement(y.a,{visible:S||z.loading||O.loading,color:c.theme.colors.accent}),g.createElement(nr.a.Content,{style:{marginVertical:8,height:f||!o?void 0:300,overflow:"hidden"}},g.createElement(Aa,{style:{flexDirection:"row",backgroundColor:"transparent"}},g.createElement(Ar.a,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:{backgroundColor:"transparent"}},g.createElement(Dr,{value:null==k?void 0:k.plane,onSelect:function(e){var n,t,r;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(((null==k||null==(n=k.slots)?void 0:n.length)||0)>(e.maxSlots||0))){i.next=5;break}r=((null==k||null==(t=k.slots)?void 0:t.length)||0)-(e.maxSlots||0),u(vn.notifications.showSnackbar({message:"You need to take "+r+" people off the load to fit on this plane",variant:"warning"})),i.next=8;break;case 5:return i.next=7,a.a.awrap(P(e));case 7:w();case 8:case"end":return i.stop()}}),null,null,null,Promise)}}),g.createElement(Or,{value:null==k?void 0:k.gca,onSelect:j}),g.createElement(Pr,{value:null==k?void 0:k.pilot,onSelect:T}),g.createElement(Ir,{value:null==k?void 0:k.loadMaster,slots:(null==k?void 0:k.slots)||[],onSelect:F}))),g.createElement(Oo.a,null,g.createElement(Oo.a.Header,{style:{width:"100%"}},g.createElement(Oo.a.Title,null,"Name"),g.createElement(Oo.a.Title,{numeric:!0},"Jump type"),g.createElement(Oo.a.Title,{numeric:!0},"Altitude")),null==k||null==(n=k.slots)?void 0:n.map((function(e){var n,t,r,a,i,o,c,u,d=null==k||null==(n=k.slots)?void 0:n.filter((function(n){var t=n.groupNumber;return t&&t===e.groupNumber})),m=(null==e||null==(t=e.user)?void 0:t.id)===(null==C?void 0:C.id);return g.createElement(jo,{disabled:m&&!L||!m&&!W,key:"slot-"+e.id,rightAction:{label:"Delete",backgroundColor:"red",onPress:function(){return I(e)}}},g.createElement(Oo.a.Row,{testID:"slot-row",disabled:!(null==k||!k.hasLanded),onPress:function(){var n;(null==(n=e.user)?void 0:n.id)===(null==C?void 0:C.id)?U&&(null!=d&&d.length?l(d):s(e)):B&&(null!=d&&d.length?l(d):s(e))},pointerEvents:"none"},g.createElement(Oo.a.Cell,null,g.createElement(Ta.a,{style:No.slotText},null==e||null==(r=e.dropzoneUser)||null==(a=r.user)?void 0:a.name)),g.createElement(Oo.a.Cell,{numeric:!0},g.createElement(Ta.a,{style:No.slotText},null==e||null==(i=e.jumpType)?void 0:i.name)),g.createElement(Oo.a.Cell,{numeric:!0},g.createElement(Ta.a,{style:No.slotText},((null==e||null==(o=e.ticketType)?void 0:o.altitude)||14e3)/1e3,"k"))),(null==e||null==(c=e.ticketType)?void 0:c.isTandem)&&g.createElement(Oo.a.Row,{testID:"slot-row",disabled:!(null==k||!k.hasLanded),pointerEvents:"none"},g.createElement(Oo.a.Cell,null,g.createElement(Ta.a,{style:No.slotText},null==e?void 0:e.passengerName)),g.createElement(Oo.a.Cell,{numeric:!0},g.createElement(Ta.a,{style:No.slotText},"Passenger")),g.createElement(Oo.a.Cell,{numeric:!0},g.createElement(Ta.a,{style:No.slotText},((null==e||null==(u=e.ticketType)?void 0:u.altitude)||14e3)/1e3,"k"))))})),Array.from({length:(null==k?void 0:k.availableSlots)||0},(function(e,n){return n})).map((function(e){return g.createElement(Oo.a.Row,{key:(null==k?void 0:k.id)+"-empty-slot-"+e,testID:"slot-row",onPress:function(){return N.navigate("LoadScreen",{load:k})}},g.createElement(Oo.a.Cell,null,g.createElement(Ta.a,{style:No.slotText},"- Available -")),g.createElement(Oo.a.Cell,{numeric:!0},"-"),g.createElement(Oo.a.Cell,{numeric:!0},"-"))})))),!(null==k||!k.dispatchAt)&&(null==k?void 0:k.dispatchAt)>(new Date).getTime()/1e3&&g.createElement(Aa,{style:{flex:1,backgroundColor:"black",padding:8}},g.createElement(Ta.a,{style:{color:"#FFFFFF"}},"Take-off in "+Object(Io.a)(new Date,1e3*(null==k?void 0:k.dispatchAt))+" min")),o?g.createElement(nr.a.Actions,null,null!=k&&k.maxSlots&&(null==k?void 0:k.maxSlots)<5?null:g.createElement(Y.a,{onPress:function(){return p(!f)},testID:f?"show-less":"show-more"},f?"Show less":"Show more"),g.createElement(Aa,{style:{flexGrow:1}}),!R||null!=k&&k.hasLanded?null:null!=k&&k.dispatchAt?g.createElement(Y.a,{mode:"outlined",onPress:function(){return D(null)},testID:"dispatch-cancel"},"Cancel"):g.createElement(lr.a,{onDismiss:function(){return x(!1)},visible:b,anchor:g.createElement(Y.a,{mode:"outlined",onPress:function(){return x(!0)},testID:"dispatch-button"},"Dispatch")},g.createElement(lr.a.Item,{testID:"dispatch-call",onPress:function(){x(!1),D(20)},title:"20 minute call"}),g.createElement(lr.a.Item,{testID:"dispatch-call",onPress:function(){x(!1),D(15)},title:"15 minute call"}),g.createElement(lr.a.Item,{testID:"dispatch-call",onPress:function(){x(!1),D(10)},title:"10 minute call"}),g.createElement(lr.a.Item,{onPress:function(){x(!1),D(5)},title:"5 minute call"})),null!=k&&k.hasLanded?null:null!=k&&k.dispatchAt&&k.dispatchAt<(new Date).getTime()/1e3&&R?g.createElement(Y.a,{style:{marginLeft:8},mode:"contained",onPress:function(){var e,n;return null!=k&&null!=(e=k.loadMaster)&&e.id?null!=k&&null!=(n=k.pilot)&&n.id?A():u(vn.notifications.showSnackbar({message:"You must select a pilot before this load can be finalized",variant:"warning"})):u(vn.notifications.showSnackbar({message:"You must select a load master before this load can be finalized",variant:"warning"}))}},"Mark as landed"):g.createElement(Y.a,{style:{marginLeft:8},mode:"contained",testID:"manifest-button",onPress:function(){return r()},disabled:!q||Boolean((null==k?void 0:k.dispatchAt)&&k.dispatchAt<(new Date).getTime()/1e3)},"Manifest")):null)}var Fo,Do,Ao,No=j.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",marginVertical:8},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},slotText:{fontSize:12},fab:{position:"absolute",margin:16,right:0,bottom:0}}),$o=Pt(Object(Et.a)(Fo||(Fo=bt()(["\n  mutation CreateLoad(\n    $name: String\n    $pilotId: Int\n    $gcaId: Int\n    $maxSlots: Int!\n    $planeId: Int\n    $isOpen: Boolean\n  ) {\n    createLoad(\n      input: {\n        attributes: {\n          name: $name\n          pilotId: $pilotId\n          gcaId: $gcaId\n          maxSlots: $maxSlots\n          planeId: $planeId\n          isOpen: $isOpen\n        }\n      }\n    ) {\n      load {\n        id\n        name\n        loadNumber\n        occupiedSlots\n        availableSlots\n        maxSlots\n        pilot {\n          id\n          user {\n            id\n            name\n          }\n        }\n        gca {\n          id\n          user {\n            id\n            name\n          }\n        }\n        maxSlots\n        isOpen\n      }\n      fieldErrors {\n        field\n        message\n      }\n      errors\n    }\n  }\n"]))),{getPayload:function(e){return e.createLoad},validates:{maxSlots:[Ot("lease specify amount of allowed jumpers"),Tt("Please enter a valid number")],planeId:[Ot("What plane is flying this load?")],gcaId:[Ot("You must have a GCA for this load")]},fieldErrorMap:{planeId:"plane",gcaId:"gca"}}),Ro=cn.actions,Uo=Object(Et.a)(Do||(Do=bt()(["\n  query QueryDropzoneUsers($dropzoneId: Int!, $permissions: [Permission!]) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n\n      dropzoneUsers(permissions: $permissions) {\n        edges {\n          node {\n            id\n            role {\n              id\n              name\n            }\n            user {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),Bo=Jr(Uo,{getPayload:function(e){var n;return null==e||null==(n=e.dropzone)?void 0:n.dropzoneUsers}});function Lo(e){var n,t=e.label,r=e.requiredPermissions,a=e.icon,i=e.value,o=e.onLoadingStateChanged,l=e.onSelect,s=kn((function(e){return e.global})).currentDropzoneId,c=En(),u=Bo({variables:{dropzoneId:Number(s),permissions:r},onError:function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),d=u.data,m=u.loading;g.useEffect((function(){null==o||o(m)}),[m,o]);var f=g.useCallback((function(e){var n=_()(e,1)[0];return n?l(n):null}),[l]),p=g.useCallback((function(e){return null==e?void 0:e.user.name}),[]),v=g.useCallback((function(e){return e.id===(null==i?void 0:i.id)}),[null==i?void 0:i.id]),h=g.useMemo((function(){return[i].filter(Boolean)}),[i]);return m?g.createElement(Zr,null):g.createElement(g.Fragment,null,g.createElement(Lr.c.Subheader,null,t),g.createElement(Xr,{autoSelectFirst:!0,icon:a||"account",items:Object(Yr.uniqBy)((null==d||null==(n=d.edges)?void 0:n.map((function(e){return null==e?void 0:e.node})))||[],"id"),selected:h,isSelected:v,renderItemLabel:p,onChangeSelected:f}))}var Wo=Object(Et.a)(Ao||(Ao=bt()(["\n  query QuerySelectPlanes($dropzoneId: Int!) {\n    planes(dropzoneId: $dropzoneId) {\n      id\n      name\n      registration\n      hours\n      minSlots\n      maxSlots\n      nextMaintenanceHours\n      createdAt\n    }\n  }\n"])));function Mo(e){var n=e.value,t=e.onSelect,r=e.onLoadingStateChanged,a=kn((function(e){return e.global})).currentDropzoneId,i=Object(yt.a)(Wo,{variables:{dropzoneId:a}}),o=i.data,l=i.loading;return g.useEffect((function(){null==r||r(l)}),[l,r]),l?g.createElement(Zr,null):g.createElement(g.Fragment,null,g.createElement(Lr.c.Subheader,null,"Aircraft"),g.createElement(Xr,{autoSelectFirst:!0,items:Object(Yr.uniqBy)(Ur()((null==o?void 0:o.planes)||[]),(function(e){return e.id}))||[],selected:[n].filter(Boolean),renderItemLabel:function(e){return(null==e?void 0:e.name)||""},isDisabled:function(e){return!1},onChangeSelected:function(e){var n=_()(e,1)[0];return n?t(n):null}}))}function Vo(){var e,n,t=kn((function(e){return e.forms.load})),r=En();return g.createElement(g.Fragment,null,g.createElement(Mr.a,{style:_o.field,mode:"outlined",label:"Name",error:!!t.fields.name.error,placeholder:"Optional",value:t.fields.name.value||"",onChangeText:function(e){return r(vn.forms.load.setField(["name",e]))}}),g.createElement(Br.a,{type:t.fields.name.error?"error":"info"},t.fields.name.error||"e.g Starcrest load, Tandem load"),g.createElement(Mr.a,{style:_o.field,mode:"outlined",label:"Slots",error:!!t.fields.maxSlots.error,value:null==(e=t.fields.maxSlots)||null==(n=e.value)?void 0:n.toString(),onChangeText:function(e){return r(vn.forms.load.setField(["maxSlots",Number(e)]))}}),g.createElement(Br.a,{type:t.fields.maxSlots.error?"error":"info"},t.fields.maxSlots.error||""),g.createElement(C.a,{style:{width:"100%"}},g.createElement(Mo,{value:t.fields.plane.value,onSelect:function(e){r(vn.forms.load.setField(["plane",e])),r(vn.forms.load.setField(["maxSlots",e.maxSlots]))}}),g.createElement(Br.a,{type:t.fields.plane.error?"error":"info"},t.fields.plane.error||""),g.createElement(Lo,{label:"GCA",onSelect:function(e){return r(vn.forms.load.setField(["gca",e]))},value:t.fields.gca.value||null,requiredPermissions:["actAsGCA"]}),g.createElement(Br.a,{type:t.fields.gca.error?"error":"info"},t.fields.gca.error||""),g.createElement(Lo,{label:"Pilot",onSelect:function(e){return r(vn.forms.load.setField(["pilot",e]))},value:t.fields.pilot.value||null,requiredPermissions:["actAsPilot"]}),g.createElement(Br.a,{type:t.fields.pilot.error?"error":"info"},t.fields.pilot.error||""),g.createElement(Wr.a,{style:{marginVertical:8}}),g.createElement(Oa.a.Item,{label:"Allow public manifesting",status:t.fields.isOpen.value?"checked":"unchecked",onPress:function(){return r(vn.forms.load.setField(["isOpen",!t.fields.isOpen.value]))}})))}var _o=j.a.create({fields:{flex:1,width:"100%"},field:{marginBottom:8,width:"100%"}});function Go(e){var n=e.buttonLabel,t=e.buttonAction,r=e.title,a=e.loading,o=e.open,l=e.children,s=kn((function(e){return e.global}));return g.createElement(Nr.a,null,g.createElement($r.a,{visible:!!o,dismissable:!1,style:{maxWidth:500,alignSelf:"center"}},g.createElement(y.a,{indeterminate:!0,visible:a,color:s.theme.colors.accent}),g.createElement($r.a.Title,null,r),g.createElement($r.a.Content,{pointerEvents:"box-none"},g.createElement($r.a.ScrollArea,null,g.createElement(i.c,null,l))),g.createElement($r.a.Actions,{style:{justifyContent:"flex-end"}},g.createElement(Y.a,{onPress:function(){e.onClose()}},"Cancel"),g.createElement(Y.a,{onPress:t},n))))}function qo(e){var n,t,r,a=e.open,i=e.onClose,o=e.onSuccess,l=kn((function(e){return e.forms.load})),s=kn((function(e){return e.global})).currentDropzoneId,c=En(),u=$o({onSuccess:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){var n;c(Ro.showSnackbar({message:"Load "+(null==e||null==(n=e.load)?void 0:n.name)+" created",variant:"success"})),null!=e&&e.load&&o(null==e?void 0:e.load),c(vn.forms.load.reset()),requestAnimationFrame((function(){return c(vn.forms.load.setOpen(!1))}))})),onError:function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))},onFieldError:function(e,n){return c(vn.forms.load.setFieldError([e,n]))}}),d=g.useMemo((function(){return["30%",650]}),[]),m=g.useCallback((function(){var e,n,t,r={isOpen:!!l.fields.isOpen.value,name:l.fields.name.value,dropzoneId:s,maxSlots:l.fields.maxSlots.value||null,planeId:Number(null==(e=l.fields.plane.value)?void 0:e.id)||null,gcaId:Number(null==(n=l.fields.gca.value)?void 0:n.id)||null,pilotId:Number(null==(t=l.fields.pilot.value)?void 0:t.id)||null};u.mutate(r)}),[u,s,null==(n=l.fields.gca.value)?void 0:n.id,l.fields.isOpen.value,l.fields.maxSlots.value,l.fields.name.value,null==(t=l.fields.pilot.value)?void 0:t.id,null==(r=l.fields.plane.value)?void 0:r.id]);return g.createElement(Go,{open:a,onClose:i,buttonAction:m,buttonLabel:"Create",snapPoints:d,loading:u.loading,title:"New Load"},g.createElement(Vo,null))}var Ho=t(785),Yo=t(265),Jo=t(63),Qo=t(208),Xo=t(492),Zo=t.n(Xo),Ko=t(493),el=t.n(Ko),nl=t(494);function tl(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function rl(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?tl(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tl(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function al(){var e,n,t,r,a,i,o=Rt(),l=o.dropzone,s=o.loading,c=o.called,u=En(),d=Object(bi.useNavigation)(),m=g.useState(!1),f=_()(m,2),p=f[0],v=f[1],h=g.useRef(new ti.a.Value(0)),b=Object(ir.b)(),y=null==l?void 0:l.currentConditions,x=null!=l&&null!=(e=l.currentConditions)&&e.createdAt?new Date(1e3*(null==l||null==(n=l.currentConditions)?void 0:n.createdAt)):new Date,E=(null==l||null==(t=l.currentConditions)?void 0:t.jumpRun)||0,k=(null==l||null==(r=l.currentConditions)?void 0:r.temperature)||0,S=wr($.UpdateWeatherConditions),w=(null==y?void 0:y.id)&&(null==y||null==(a=y.winds)?void 0:a.length)&&(null==y?void 0:y.jumpRun);return g.useEffect((function(){p?ti.a.timing(h.current,{toValue:1,duration:300,easing:Jo.a.inOut(Jo.a.ease),useNativeDriver:!1}).start():ti.a.timing(h.current,{toValue:0,duration:300,easing:Jo.a.inOut(Jo.a.ease),useNativeDriver:!1}).start()}),[p]),(!s||null!=l&&l.currentConditions)&&c?g.createElement(ti.a.View,{style:{height:h.current.interpolate({inputRange:[0,1],outputRange:[200,300]})}},g.createElement(nr.a,{style:il.card,elevation:3,onPress:function(){return v(!p)},onLongPress:function(){S&&null!=l&&l.currentConditions&&(u(vn.forms.weather.setOpen(null==l?void 0:l.currentConditions)),d.navigate("WindScreen"))}},g.createElement(Yo.a,{source:b.dark?el.a:Zo.a,style:rl({},j.a.absoluteFillObject),resizeMode:"cover"},g.createElement(nr.a.Content,{style:{alignItems:"center",justifyContent:"center",flexGrow:1}},w?g.createElement(g.Fragment,null,g.createElement(C.a,{style:il.top},g.createElement(C.a,{style:il.cell},g.createElement(Ho.a,{name:"calendar",color:"#ffffff",size:20,style:{marginRight:8}}),g.createElement(q.a,{style:il.date},Object(Qo.a)(x,"LLL do, yy"))),g.createElement(C.a,{style:[il.cell,{justifyContent:"flex-end",alignSelf:"flex-end"}]},g.createElement(Ho.a,{name:"thermometer",color:"#ffffff",size:20,style:{marginRight:8}}),g.createElement(q.a,{style:il.temperature},k||"?"),g.createElement(gt.a,{name:"temperature-celsius",color:"#ffffff",size:20}))),g.createElement(C.a,{style:il.bottom},g.createElement(ti.a.View,{style:[il.windboard,{transform:[{translateY:h.current.interpolate({inputRange:[0,1],outputRange:[0,-80],easing:Jo.a.inOut(Jo.a.ease)})}]}]},g.createElement(C.a,{style:il.row},g.createElement(C.a,{style:il.cell},g.createElement(q.a,{style:il.header},"Altitude")),g.createElement(C.a,{style:il.cell},g.createElement(q.a,{style:il.header},"Wind")),g.createElement(C.a,{style:il.cell},g.createElement(q.a,{style:il.header},"Direction"))),Object(Yr.orderBy)((null==l||null==(i=l.currentConditions)?void 0:i.winds)||[],(function(e){return Number(e.altitude)}),"desc").map((function(e){var n=e.speed,t=e.direction,r=e.altitude;return g.createElement(g.Fragment,{key:"wind-at-"+r},g.createElement(Wr.a,{style:{width:"100%",backgroundColor:"white"}}),g.createElement(C.a,{style:il.row},g.createElement(C.a,{style:il.cell},g.createElement(q.a,{style:il.value},r)),g.createElement(C.a,{style:il.cell},g.createElement(q.a,{style:il.value},n)),g.createElement(C.a,{style:[il.cell,{justifyContent:"center"}]},g.createElement(q.a,{style:il.value},t),g.createElement(Ho.a,{name:"long-arrow-down",size:14,style:t&&/\d+/.test(t)&&Number(t)<361?{transform:[{rotate:t+"deg"}],marginLeft:4}:{marginLeft:4}}))))}))),g.createElement(C.a,{style:il.jumpRun,pointerEvents:"box-none"},g.createElement(q.a,{style:[il.header,{textAlign:"center"}]},"Jump run ",E,"\xb0"),g.createElement(st.a,{style:{width:"100%",height:"100%"},disabled:!S,onPress:function(){null!=l&&l.currentConditions&&S&&(u(vn.forms.weather.setOpen(l.currentConditions)),d.navigate("JumpRunScreen"))}},g.createElement(nl.a,{jumpRun:E,lat:null==l?void 0:l.lat,lng:null==l?void 0:l.lng}))))):g.createElement(C.a,{style:il.noData},g.createElement(q.a,{style:il.noDataLabel},"No weather data")))))):g.createElement(ar.a,{containerStyle:il.card,isLoading:!0,layout:[{key:"root",height:200,width:"100%"}]})}var il=j.a.create({card:{flexGrow:1,borderRadius:10,marginBottom:30,marginHorizontal:16,overflow:"hidden"},date:{flex:1,fontSize:20,color:"white",textShadowOffset:{width:1,height:1},textShadowRadius:5,textShadowColor:"rgba(15, 15, 15, 0.5)"},temperature:{fontSize:24,lineHeight:24,color:"white",justifyContent:"flex-end",textShadowOffset:{width:1,height:1},textShadowRadius:5,textShadowColor:"rgba(15, 15, 15, 0.5)"},label:{color:"white",fontWeight:"bold"},value:{color:"#ffffff",textShadowOffset:{width:2,height:2},textShadowRadius:10,textShadowColor:"rgba(0, 0, 0, 0.75)"},row:{alignItems:"center",justifyContent:"space-evenly",height:20,width:"100%",flexDirection:"row"},cell:{flex:1,color:"white",flexDirection:"row"},header:{fontWeight:"bold",color:"#ffffff",textShadowOffset:{width:1,height:1},textShadowRadius:10,textShadowColor:"rgba(0, 0, 0, 0.5)"},noData:{alignItems:"center",justifyContent:"center",flexGrow:1,textAlign:"center",alignSelf:"center",height:"100%"},noDataLabel:{color:"#ffffff",textShadowOffset:{width:2,height:2},textShadowRadius:10,textShadowColor:"rgba(0, 0, 0, 0.75)",fontSize:22},top:{marginTop:16,justifyContent:"space-between",alignItems:"center",flexDirection:"row",width:"100%"},bottom:{flexDirection:"row",width:"100%",justifyContent:"space-between",alignItems:"flex-end",flexGrow:1,height:105,marginTop:32,paddingBottom:20},windboard:{width:200,height:105,flexDirection:"column"},jumpRun:{width:105,height:105,flexDirection:"column",alignItems:"flex-end"}});function ol(){return g.createElement(ar.a,{containerStyle:{height:300,maxWidth:535,paddingHorizontal:16},isLoading:!0,layout:[{key:"header",width:"100%",height:"100%",borderRadius:8}]})}function ll(){var e,n,t,r,a,o,l,s=kn((function(e){return e.global})),c=kn((function(e){return e.forms})),u=kn((function(e){return e.screens.manifest})),d=En(),m=g.useState(!1),f=_()(m,2),p=f[0],v=f[1],h=Rt(),b=h.dropzone,x=h.currentUser,E=h.loading,k=h.refetch,S=h.fetchMore,w=Object(tr.useNavigation)(),C=Object(tr.useIsFocused)();g.useEffect((function(){C&&null!=b&&b.name&&w.setOptions({title:b.name})}),[C,null==b?void 0:b.name,w]),g.useEffect((function(){C&&k()}),[C,k]);var z=!(null==b||null==(e=b.planes)||!e.length),O=!(null==b||null==(n=b.ticketTypes)||!n.length),I=!(null==b||!b.isPublic),T=z&&O;g.useEffect((function(){var e,n,t,r;null!=b&&b.primaryColor&&(null==b?void 0:b.primaryColor)!==(null==(e=s.theme)||null==(n=e.colors)?void 0:n.primary)&&d(vn.global.setPrimaryColor(b.primaryColor)),null!=b&&b.secondaryColor&&(null==b?void 0:b.secondaryColor)!==(null==(t=s.theme)||null==(r=t.colors)?void 0:r.accent)&&d(vn.global.setPrimaryColor(b.secondaryColor))}),[d,null==b?void 0:b.primaryColor,null==b?void 0:b.secondaryColor,null==(t=s.theme)||null==(r=t.colors)?void 0:r.accent,null==(a=s.theme)||null==(o=a.colors)?void 0:o.primary]);var j=wr($.CreateLoad),P=g.useCallback((function(e){return null!=x&&x.hasLicense?null!=x&&x.hasMembership?null!=x&&x.hasRigInspection?null!=x&&x.hasReserveInDate?null!=x&&x.hasExitWeight?null!=x&&x.hasCredits?(d(vn.forms.manifest.setOpen(!0)),d(vn.forms.manifest.setField(["dropzoneUser",x])),d(vn.forms.manifest.setField(["load",e])),null):d(vn.notifications.showSnackbar({message:"You have no credits on your account",variant:"warning"})):d(vn.notifications.showSnackbar({message:"Update your exit weight on your profile before manifesting",variant:"warning"})):d(vn.notifications.showSnackbar({message:"Your rig needs a reserve repack",variant:"warning"})):d(vn.notifications.showSnackbar({message:"Your rig needs to be inspected before manifesting",variant:"warning"})):d(vn.notifications.showSnackbar({message:"Your membership is out of date",variant:"warning"})):d(vn.notifications.showSnackbar({message:"You need to select a license on your user profile",variant:"warning"}))}),[x,d]),F=Object(er.a)().width,D=32+("cards"===u.display?335:550);D=D>F?F-32:D;var A=Math.floor(F/D)||1,N=D*A,R=(null==b||null==(l=b.loads)?void 0:l.edges)||[],U=!(null!=R&&R.length)&&E,B=Object(ir.b)();return g.createElement(Aa,{style:{flex:1,backgroundColor:B.colors.background}},g.createElement(y.a,{visible:E,indeterminate:!0,color:s.theme.colors.accent}),g.createElement(Aa,{style:ul.container},U||T?g.createElement(Aa,{style:{width:"100%",flex:1,height:Zt.a.get("window").height}},g.createElement(i.a,{ListHeaderComponent:function(){return g.createElement(al,null)},ListEmptyComponent:function(){return g.createElement(Na,{title:"No loads so far today",subtitle:"How's the weather?"})},style:{paddingTop:35,flex:1,height:Zt.a.get("window").height,backgroundColor:B.colors.background},testID:"loads",keyExtractor:function(e,n){var t,r=e.item;return"load-small-"+((null==r||null==(t=r.node)?void 0:t.id)||n)},key:"loads-columns-"+A,contentContainerStyle:{width:N,alignSelf:"center",paddingBottom:100,backgroundColor:B.colors.background},numColumns:A,data:U?[1,1,1,1,1]:R,refreshControl:g.createElement(Kt.a,{refreshing:E,onRefresh:function(){return S({})}}),renderItem:function(e){var n=e.item,t=e.index;return 1===n?"list"===u.display?g.createElement(ol,{key:"loading-card-"+t}):g.createElement(So,{key:"loading-card-"+t}):"list"===u.display?g.createElement(Po,{controlsVisible:!1,key:"load-"+n.node.id,load:n.node,onSlotPress:function(e){null!=n&&n.node&&(d(vn.forms.manifest.setOpen(e)),d(vn.forms.manifest.setField(["load",n.node])))},onSlotGroupPress:function(e){d(vn.forms.manifestGroup.reset()),d(vn.forms.manifestGroup.setFromSlots(e)),d(vn.forms.manifestGroup.setField(["load",n.node])),w.navigate("ManifestGroupScreen")},onManifest:function(){P(n.node)},onManifestGroup:function(){d(vn.forms.manifestGroup.reset()),d(vn.forms.manifestGroup.setOpen(!0)),d(vn.forms.manifestGroup.setField(["load",n.node]))}}):g.createElement(wo,{key:"load-"+n.node.id,load:n.node,onPress:function(){return w.navigate("LoadScreen",{load:n.node})}})}})):g.createElement(xo,{hasPlanes:z,hasTicketTypes:O,isPublic:I}),j&&T&&g.createElement(Ja.a,{style:ul.fab,small:!0,icon:"plus",onPress:function(){return d(vn.forms.load.setOpen(!0))},label:"New load"})),g.createElement(Aa,{style:ul.header},g.createElement(lr.a,{anchor:g.createElement(Ka.a,{icon:"cog-outline",onPress:function(){return v(!0)}}),visible:p,onDismiss:function(){return v(!1)}},g.createElement(lr.a.Item,{title:"Show expanded cards",titleStyle:{fontWeight:"cards"===u.display?"normal":"bold"},onPress:function(){d(vn.screens.manifest.setDisplayStyle("list")),v(!1)}}),g.createElement(lr.a.Item,{title:"Show compact cards",titleStyle:{fontWeight:"list"===u.display?"normal":"bold"},onPress:function(){d(vn.screens.manifest.setDisplayStyle("cards")),v(!1)}}))),g.createElement(qo,{onSuccess:function(){d(vn.forms.load.setOpen(!1)),k()},open:c.load.open,onClose:function(){return d(vn.forms.load.setOpen(!1))}}))}var sl,cl,ul=j.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fab:{position:"absolute",margin:16,right:0,bottom:0},header:{alignItems:"flex-start",justifyContent:"flex-end",flexDirection:"row",padding:0,width:"100%",position:"absolute",top:0,backgroundColor:"transparent"}}),dl=Object(Et.b)(sl||(sl=bt()(["\n  mutation CreateMultipleSlot(\n    $jumpTypeId: Int\n    $extraIds: [Int!]\n    $loadId: Int\n    $ticketTypeId: Int\n    $userGroup: [SlotUser!]!\n  ) {\n    createSlots(\n      input: {\n        attributes: {\n          jumpTypeId: $jumpTypeId\n          extraIds: $extraIds\n          loadId: $loadId\n          ticketTypeId: $ticketTypeId\n          userGroup: $userGroup\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n\n      load {\n        id\n        name\n        loadNumber\n        createdAt\n        dispatchAt\n        hasLanded\n        maxSlots\n        isFull\n        isOpen\n        plane {\n          id\n          name\n        }\n        gca {\n          id\n          user {\n            id\n            name\n          }\n        }\n        pilot {\n          id\n          user {\n            id\n            name\n          }\n        }\n        loadMaster {\n          id\n          user {\n            id\n            name\n          }\n        }\n        slots {\n          id\n          createdAt\n          user {\n            id\n            name\n          }\n          passengerName\n          passengerExitWeight\n          ticketType {\n            id\n            name\n            isTandem\n            altitude\n          }\n          jumpType {\n            id\n            name\n          }\n          extras {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"])));function ml(e){var n,t,r,i,o,l,s,c,u,d,m,f=e.onSuccess,p=En(),v=kn((function(e){return e.forms.manifestGroup})),h=kn((function(e){return e.global})),b=Object(kt.a)(dl),x=_()(b,2),E=x[0],k=x[1],S=Object(tr.useNavigation)(),w=g.useCallback((function(){var e,n,t=!1;return null!=(e=v.fields.jumpType.value)&&e.id||(t=!0,p(vn.forms.manifestGroup.setFieldError(["jumpType","You must specify the type of jump"]))),null!=(n=v.fields.ticketType.value)&&n.id||(t=!0,p(vn.forms.manifestGroup.setFieldError(["ticketType","You must select a ticket type to manifest"]))),!t}),[p,null==(n=v.fields.jumpType.value)?void 0:n.id,null==(t=v.fields.ticketType.value)?void 0:t.id]),C=g.useCallback((function(){var e,n,t,r,i,o,l,s,c,u,d,m,g,h,b,y,x,k;return a.a.async((function(C){for(;;)switch(C.prev=C.next){case 0:if(w()){C.next=2;break}return C.abrupt("return");case 2:return C.prev=2,C.next=5,a.a.awrap(E({variables:{jumpTypeId:Number(null==(e=v.fields.jumpType.value)?void 0:e.id),ticketTypeId:Number(null==(n=v.fields.ticketType.value)?void 0:n.id),extraIds:null==(t=v.fields.extras)||null==(r=t.value)?void 0:r.map((function(e){var n=e.id;return Number(n)})),loadId:Number(null==(i=v.fields.load.value)?void 0:i.id),userGroup:null==(o=v.fields.users.value)?void 0:o.map((function(e){return Object(Yr.omit)(e,["rig"])}))}}));case 5:if(y=C.sent,null==(l=y.data)||null==(s=l.createSlot)||null==(c=s.fieldErrors)||c.map((function(e){var n=e.field,t=e.message;switch(n){case"jump_type":return p(vn.forms.manifestGroup.setFieldError(["jumpType",t]));case"load":return p(vn.forms.manifestGroup.setFieldError(["load",t]));case"credits":case"extras":case"extra_ids":return p(vn.forms.manifestGroup.setFieldError(["extras",t]));case"ticket_type":return p(vn.forms.manifestGroup.setFieldError(["ticketType",t]));default:return null}})),null==y||null==(u=y.data)||null==(d=u.createSlots)||null==(m=d.errors)||!m.length){C.next=10;break}return p(vn.notifications.showSnackbar({message:null==y||null==(x=y.data)||null==(k=x.createSlots)?void 0:k.errors[0],variant:"error"})),C.abrupt("return");case 10:null!=(g=y.data)&&null!=(h=g.createSlots)&&null!=(b=h.fieldErrors)&&b.length||(null==f||f(),S.navigate("Manifest",{screen:"DropzoneScreen"})),C.next=16;break;case 13:C.prev=13,C.t0=C.catch(2),p(vn.notifications.showSnackbar({message:C.t0.message,variant:"error"}));case 16:case"end":return C.stop()}}),null,null,[[2,13]],Promise)}),[p,E,S,f,null==(r=v.fields.extras)?void 0:r.value,null==(i=v.fields.jumpType.value)?void 0:i.id,null==(o=v.fields.load.value)?void 0:o.id,null==(l=v.fields.ticketType.value)?void 0:l.id,v.fields.users.value,w]);return g.createElement(Oi,null,g.createElement(y.a,{indeterminate:!0,visible:k.loading,color:h.theme.colors.accent}),g.createElement(nr.a.Title,{title:"Manifest "+(null==v||null==(s=v.fields)||null==(c=s.users)||null==(u=c.value)?void 0:u.length)+" jumpers on Load #"+(null==(d=v.fields.load)||null==(m=d.value)?void 0:m.loadNumber)}),g.createElement(wa,null),g.createElement(Y.a,{mode:"contained",style:{width:"100%",marginVertical:16},onPress:function(){return C()},loading:k.loading},"Save"))}var fl=Object(Et.a)(cl||(cl=bt()(["\n  query QueryDropzoneUsersSearch($dropzoneId: Int!, $search: String) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n\n      dropzoneUsers(search: $search, licensed: true) {\n        edges {\n          node {\n            id\n            role {\n              id\n              name\n            }\n            user {\n              id\n              image\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function pl(){var e,n,t,r,a,i,o=kn((function(e){return e.global})),l=kn((function(e){return e.screens.manifest})),s=En(),c=Object(yt.a)(fl,{variables:{dropzoneId:Number(o.currentDropzoneId),search:l.searchText}}),u=c.data,d=c.loading,m=Object(tr.useNavigation)(),f=Object(tr.useIsFocused)();return g.useEffect((function(){l.isSearchVisible&&s(vn.screens.manifest.setSearchVisible(!1))}),[s,f,l.isSearchVisible]),g.createElement(g.Fragment,null,g.createElement(y.a,{indeterminate:!0,color:o.theme.colors.accent,visible:d}),g.createElement(Oi,{contentContainerStyle:{paddingHorizontal:0}},!(null!=u&&null!=(e=u.dropzone)&&null!=(n=e.dropzoneUsers)&&null!=(t=n.edges)&&t.length)&&g.createElement(Na,{title:"No users",subtitle:""}),null==u||null==(r=u.dropzone)||null==(a=r.dropzoneUsers)||null==(i=a.edges)?void 0:i.map((function(e){var n,t,r,a,i;return g.createElement(g.Fragment,null,g.createElement(Lr.c.Item,{style:{width:"100%"},key:"user-"+(null==e||null==(n=e.node)?void 0:n.id),title:null==e||null==(t=e.node)?void 0:t.user.name,description:null==e||null==(r=e.node)||null==(a=r.role)?void 0:a.name,left:function(){var n,t,r;return null!=e&&null!=(n=e.node)&&null!=(t=n.user)&&t.image?g.createElement(Lr.a.Image,{source:{uri:null==e||null==(r=e.node)?void 0:r.user.image},style:{alignSelf:"center",marginHorizontal:12},size:32}):g.createElement(Lr.c.Icon,{icon:"account"})},right:function(){var n,t;return g.createElement(Oa.a.Android,{status:null!=(n=l.selectedUsers)&&n.map((function(e){return e.id})).includes((null==e||null==(t=e.node)?void 0:t.id)||"")?"checked":"unchecked"})},onPress:function(){var n,t;return s(vn.screens.manifest.setSelected(null!=(n=l.selectedUsers)&&n.find((function(n){var t;return n.id===""+(null==e||null==(t=e.node)?void 0:t.id)}))?null==(t=l.selectedUsers)?void 0:t.filter((function(n){var t;return n.id!==""+(null==e||null==(t=e.node)?void 0:t.id)})):[].concat(Ur()(l.selectedUsers),[null==e?void 0:e.node])))}}),g.createElement(Wr.a,{style:{width:"100%"},key:"divider-"+(null==e||null==(i=e.node)?void 0:i.id)}))}))),g.createElement(Ja.a,{style:vl.fab,small:!0,visible:l.selectedUsers.length>0,icon:"check",onPress:function(){s(vn.forms.manifestGroup.setDropzoneUsers(l.selectedUsers)),m.setParams({select:!1}),s(vn.screens.manifest.setSearchVisible(!1)),s(vn.screens.manifest.setSelected([])),m.navigate("ManifestGroupScreen")},label:"Next"}))}var gl,vl=j.a.create({container:{flex:1},fab:{position:"absolute",margin:16,right:0,bottom:0},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}}),hl=t(218),bl=t(147),yl=t(498),xl=t.n(yl);t(747);function El(e){var n=e.disabled,t=e.label,r=e.timestamp,a=e.onChange,i=g.useState(!1),o=_()(i,2),l=o[0],s=o[1];return g.createElement(g.Fragment,null,g.createElement(lr.a,{onDismiss:function(){return s(!1)},visible:l,anchor:g.createElement(Lr.c.Item,{onPress:function(){return s(!0)},disabled:!!n,title:t,description:r?Object(Qo.a)(1e3*r,"yyyy/MM/dd"):"No date selected",left:function(){return g.createElement(Lr.c.Icon,{icon:"calendar"})}})},g.createElement(xl.a,{selectedDays:r?[new Date(1e3*r)]:[],onDayClick:function(e){a(e.getTime()/1e3),s(!1)}})))}var kl,Sl=Object(Et.a)(gl||(gl=bt()(["\n  query RolesQuery($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      roles(selectable: true) {\n        id\n        name\n      }\n    }\n  }\n"])));function wl(e){var n,t,r,a,i=e.onSelect,o=e.disabled,l=e.required,s=e.value,c=g.useState(!1),u=_()(c,2),d=u[0],m=u[1],f=kn((function(e){return e.global})).currentDropzoneId,p=Object(yt.a)(Sl,{variables:{dropzoneId:Number(f)}}).data;return g.createElement(g.Fragment,null,g.createElement(Lr.c.Subheader,{style:{paddingLeft:0}},"Access level"),g.createElement(lr.a,{onDismiss:function(){return m(!1)},visible:!o&&d,anchor:g.createElement(Lr.c.Item,{left:function(){return g.createElement(Lr.c.Icon,{icon:"lock"})},onPress:o?void 0:function(){m(!0)},title:(null==s||null==(n=s.name)||null==(t=n.replace("_"," "))?void 0:t.toUpperCase())||"Access level",description:l?null:"Optional"})},null==p||null==(r=p.dropzone)||null==(a=r.roles)?void 0:a.map((function(e){var n;return g.createElement(lr.a.Item,{onPress:function(){m(!1),i(e)},title:(null==(n=e.name)?void 0:n.replace("_"," ").toUpperCase())||"-"})}))))}function Cl(){var e=kn((function(e){return e.forms.dropzoneUser})),n=En(),t=wr($.GrantPermission);return g.createElement(g.Fragment,null,g.createElement(wl,{value:e.fields.role.value,onSelect:function(e){return n(vn.forms.dropzoneUser.setField(["role",e]))},disabled:!t,required:!0}),g.createElement(Br.a,{type:e.fields.role.error?"error":"info"},e.fields.role.error),g.createElement(Lr.c.Subheader,{style:{paddingLeft:0}},"Financial"),g.createElement(El,{timestamp:e.fields.expiresAt.value||(new Date).getTime()/1e3,onChange:function(e){return n(vn.forms.dropzoneUser.setField(["expiresAt",e]))},label:"Membership expires"}),g.createElement(Br.a,{type:e.fields.expiresAt.error?"error":"info"},e.fields.expiresAt.error))}function zl(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ol(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?zl(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zl(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Il=Object(Et.b)(kl||(kl=bt()(["\n  mutation UpdateDropzoneUser($userRoleId: Int, $expiresAt: Int, $dropzoneUserId: Int) {\n    updateDropzoneUser(\n      input: { id: $dropzoneUserId, attributes: { userRoleId: $userRoleId, expiresAt: $expiresAt } }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      dropzoneUser {\n        id\n        credits\n        expiresAt\n        role {\n          id\n          name\n        }\n\n        user {\n          id\n          name\n        }\n      }\n    }\n  }\n"])));function Tl(e){var n,t,r,i=e.open,o=En(),l=kn((function(e){return e.forms.dropzoneUser})),s=kn((function(e){return e.global})),c=Object(kt.a)(Il),u=_()(c,2),d=u[0],m=u[1],f=g.useCallback((function(){var e=!1;return l.fields.role.value||(e=!0,o(vn.forms.dropzoneUser.setFieldError(["role","User must have an access level"]))),l.fields.expiresAt.value||(e=!0,o(vn.forms.dropzoneUser.setFieldError(["expiresAt","Membership expiry must be set"]))),!e}),[o,l.fields.expiresAt.value,l.fields.role.value]),p=g.useCallback((function(){var n,t,r,i,s,c,u,m,p,g;return a.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(f()){v.next=2;break}return v.abrupt("return");case 2:return v.prev=2,v.next=5,a.a.awrap(d({variables:Ol(Ol({},null!=(n=l.original)&&n.id?{id:null==(t=l.original)?void 0:t.id}:{}),{},{userRoleId:Number(null==(r=l.fields.role.value)?void 0:r.id),expiresAt:l.fields.expiresAt.value,dropzoneUserId:Number(null==(i=l.original)?void 0:i.id)})}));case 5:if(p=v.sent,null==(g=null==(s=p.data)?void 0:s.updateDropzoneUser)||null==(c=g.fieldErrors)||c.map((function(e){var n=e.field,t=e.message;switch(n){case"user_role":return o(vn.forms.dropzoneUser.setFieldError(["role",t]));case"expires_at":return o(vn.forms.dropzoneUser.setFieldError(["expiresAt",t]));default:return null}})),null==g||null==(u=g.errors)||!u.length){v.next=11;break}return o(vn.notifications.showSnackbar({message:null==g?void 0:g.errors[0],variant:"error"})),v.abrupt("return");case 11:null!=g&&null!=(m=g.fieldErrors)&&m.length||null==g||!g.dropzoneUser?console.error(null==g?void 0:g.fieldErrors):e.onSuccess(g.dropzoneUser),v.next=17;break;case 14:v.prev=14,v.t0=v.catch(2),o(vn.notifications.showSnackbar({message:v.t0.message,variant:"error"}));case 17:case"end":return v.stop()}}),null,null,[[2,14]],Promise)}),[o,d,e,l.fields.expiresAt.value,null==(n=l.fields.role.value)?void 0:n.id,null==(t=l.original)?void 0:t.id,f]);return g.createElement(Nr.a,null,g.createElement($r.a,{visible:!!i},g.createElement(y.a,{indeterminate:!0,visible:m.loading,color:s.theme.colors.accent}),g.createElement($r.a.Title,null,(null!=l&&null!=(r=l.original)&&r.id?"Edit":"New")+" dropzone user"),g.createElement($r.a.Content,null,g.createElement(Cl,null)),g.createElement($r.a.Actions,{style:{justifyContent:"flex-end"}},g.createElement(Y.a,{onPress:function(){o(vn.forms.dropzoneUser.reset()),e.onClose()}},"Cancel"),g.createElement(Y.a,{onPress:p},"Save"))))}function jl(){var e,n,t,r,a=kn((function(e){return e.forms.credits})),i=En(),o=(null==(e=a.original)?void 0:e.credits)||0,l=a.fields.amount.value||0,s=a.fields.transactionType.value===B.Deposit?l+o:l-o;return g.createElement(g.Fragment,null,g.createElement(Mr.a,{style:Dl.field,mode:"outlined",label:"Message",error:!!a.fields.message.error,value:(null==(n=a.fields.message.value)?void 0:n.toString())||"",onChangeText:function(e){return i(vn.forms.credits.setField(["message",e]))}}),g.createElement(Br.a,{type:a.fields.message.error?"error":"info"},a.fields.message.error||""),"deposit"===a.fields.transactionType.value?g.createElement(C.a,null,g.createElement(qr,{label:"Add amount",error:!!a.fields.amount.error,value:a.fields.amount.value,onChangeText:function(e){return i(vn.forms.credits.setField(["amount",e]))}}),g.createElement(Br.a,{type:a.fields.amount.error?"error":"info"},a.fields.amount.error||""),g.createElement(Wr.a,null),g.createElement(Oo.a,null,g.createElement(Oo.a.Row,null,g.createElement(Oo.a.Title,null,"Current balance"),g.createElement(Oo.a.Cell,{numeric:!0},"$"+((null==(t=a.original)?void 0:t.credits)||0))),g.createElement(Oo.a.Row,null,g.createElement(Oo.a.Title,null,"Deposit"),g.createElement(Oo.a.Cell,{numeric:!0},"+$"+(a.fields.amount.value||0))),g.createElement(Oo.a.Row,null,g.createElement(Oo.a.Title,null,g.createElement(q.a,{style:{fontWeight:"bold"}},"New total")),g.createElement(Oo.a.Cell,{numeric:!0},(s<0?"-":"")+"$"+(s<0?-1*s:s))))):g.createElement(C.a,null,g.createElement(qr,{label:"Withdraw amount",error:!!a.fields.amount.error,value:a.fields.amount.value,onChangeText:function(e){return i(vn.forms.credits.setField(["amount",e]))}}),g.createElement(Br.a,{type:a.fields.amount.error?"error":"info"},a.fields.amount.error||""),g.createElement(Wr.a,null),g.createElement(Oo.a,null,g.createElement(Oo.a.Row,null,g.createElement(Oo.a.Title,null,"Current balance"),g.createElement(Oo.a.Cell,{numeric:!0},"$"+((null==(r=a.original)?void 0:r.credits)||0))),g.createElement(Oo.a.Row,null,g.createElement(Oo.a.Title,null,"Withdraw"),g.createElement(Oo.a.Cell,{numeric:!0},"-$"+(a.fields.amount.value||0))),g.createElement(Oo.a.Row,null,g.createElement(Oo.a.Title,null,g.createElement(q.a,{style:{fontWeight:"bold"}},"New total")),g.createElement(Oo.a.Cell,{numeric:!0},(s<0?"-":"")+"$"+(s<0?-1*s:s))))))}var Pl,Fl,Dl=j.a.create({fields:{flex:1},field:{marginBottom:8}}),Al=Object(Et.b)(Pl||(Pl=bt()(["\n  mutation CreatrTransaction(\n    $message: String\n    $status: String\n    $amount: Float\n    $dropzoneUserId: Int\n  ) {\n    createTransaction(\n      input: {\n        attributes: {\n          amount: $amount\n          dropzoneUserId: $dropzoneUserId\n          message: $message\n          status: $status\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      transaction {\n        id\n        amount\n        message\n\n        dropzoneUser {\n          id\n          credits\n\n          transactions {\n            edges {\n              node {\n                id\n                status\n                amount\n                createdAt\n                message\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function Nl(e){var n,t=e.open,r=e.onClose,i=En(),o=kn((function(e){return e.forms.credits})),l=kn((function(e){return e.global})),s=Object(kt.a)(Al),c=_()(s,2),u=c[0],d=c[1],m=g.useCallback((function(){var e=!1;return o.fields.amount.value||(e=!0,i(vn.forms.credits.setFieldError(["amount","You must specify an amount"]))),!e}),[i,o.fields.amount.value]),f=g.useCallback((function(){var n,t,r,l,s,c,d,f,p;return a.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(m()){g.next=2;break}return g.abrupt("return");case 2:return g.prev=2,g.next=5,a.a.awrap(u({variables:{amount:o.fields.amount.value,message:o.fields.message.value,status:o.fields.status.value,dropzoneUserId:Number(null==(n=o.original)?void 0:n.id)}}));case 5:if(f=g.sent,null==(p=null!=(t=o.original)&&t.id?null==(r=f.data)?void 0:r.updateRig:null==(l=f.data)?void 0:l.createRig)||null==(s=p.fieldErrors)||s.map((function(e){var n=e.field,t=e.message;switch(n){case"amount":return i(vn.forms.credits.setFieldError(["amount",t]));case"message":return i(vn.forms.credits.setFieldError(["message",t]));case"status":return i(vn.forms.credits.setFieldError(["status",t]));default:return null}})),null==p||null==(c=p.errors)||!c.length){g.next=11;break}return i(vn.notifications.showSnackbar({message:null==p?void 0:p.errors[0],variant:"error"})),g.abrupt("return");case 11:null!=p&&null!=(d=p.fieldErrors)&&d.length||(i(vn.forms.credits.reset()),e.onSuccess()),g.next=17;break;case 14:g.prev=14,g.t0=g.catch(2),i(vn.notifications.showSnackbar({message:g.t0.message,variant:"error"}));case 17:case"end":return g.stop()}}),null,null,[[2,14]],Promise)}),[i,u,e,o.fields.amount.value,o.fields.message.value,o.fields.status.value,null==(n=o.original)?void 0:n.id,m]);return g.createElement(Nr.a,null,g.createElement($r.a,{visible:!!t},g.createElement(y.a,{indeterminate:!0,visible:d.loading,color:l.theme.colors.accent}),g.createElement(jl,null),g.createElement($r.a.Actions,{style:{justifyContent:"flex-end"}},g.createElement(Y.a,{onPress:function(){i(vn.forms.credits.reset()),r()}},"Cancel"),g.createElement(Y.a,{onPress:f},"Save"))))}var $l,Rl=Pt(Object(Et.a)(Fl||(Fl=bt()(["\n  mutation CreateRig(\n    $make: String\n    $name: String\n    $model: String\n    $serial: String\n    $rigType: String\n    $canopySize: Int\n    $repackExpiresAt: Int\n    $userId: Int\n    $dropzoneId: Int\n  ) {\n    createRig(\n      input: {\n        attributes: {\n          name: $name\n          make: $make\n          model: $model\n          serial: $serial\n          repackExpiresAt: $repackExpiresAt\n          dropzoneId: $dropzoneId\n          userId: $userId\n          canopySize: $canopySize\n          rigType: $rigType\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      rig {\n        id\n        name\n        make\n        model\n        serial\n        canopySize\n        repackExpiresAt\n        packValue\n        maintainedAt\n        rigType\n\n        user {\n          id\n          rigs {\n            id\n            name\n            make\n            model\n            serial\n            canopySize\n            repackExpiresAt\n            packValue\n            maintainedAt\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.createRig},fieldErrorMap:{},validates:{make:[Ot("Manufacturer is required")],model:[Ot("Model is required")],serial:[Ot("Serial number is required")],canopySize:[Ot("Canopy size is required"),Tt("Canopy size must be a valid number")],repackExpiresAt:[Ot("You must set a reserve repack expiry date")]}}),Ul=Pt(Object(Et.a)($l||($l=bt()(["\n  mutation UpdateRig(\n    $id: Int!\n    $name: String\n    $make: String\n    $model: String\n    $serial: String\n    $rigType: String\n    $canopySize: Int\n    $packingCard: String\n    $repackExpiresAt: Int\n    $userId: Int\n    $dropzoneId: Int\n  ) {\n    updateRig(\n      input: {\n        id: $id\n        attributes: {\n          name: $name\n          make: $make\n          packingCard: $packingCard\n          model: $model\n          serial: $serial\n          repackExpiresAt: $repackExpiresAt\n          dropzoneId: $dropzoneId\n          userId: $userId\n          canopySize: $canopySize\n          rigType: $rigType\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      rig {\n        id\n        name\n        make\n        model\n        serial\n        canopySize\n        repackExpiresAt\n        packValue\n        maintainedAt\n        rigType\n        packingCard\n\n        user {\n          id\n          rigs {\n            id\n            name\n            make\n            model\n            serial\n            canopySize\n            repackExpiresAt\n            packValue\n            maintainedAt\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.updateRig},fieldErrorMap:{}});function Bl(e){var n,t,r=e.showTypeSelect,a=kn((function(e){return e.forms.rig})),i=En(),o=wr($.CreateRig);return g.createElement(C.a,null,g.createElement(Mr.a,{style:Wl.field,mode:"outlined",label:"Name",error:!!a.fields.name.error,value:a.fields.name.value||"",onChangeText:function(e){return i(vn.forms.rig.setField(["name",e]))}}),g.createElement(Br.a,{type:a.fields.name.error?"error":"info"},a.fields.name.error||"You can give your equipment a nickname"),g.createElement(Mr.a,{style:Wl.field,mode:"outlined",label:"Make",error:!!a.fields.make.error,value:a.fields.make.value||"",onChangeText:function(e){return i(vn.forms.rig.setField(["make",e]))}}),g.createElement(Br.a,{type:a.fields.make.error?"error":"info"},a.fields.make.error||"e.g Javelin, Mirage"),g.createElement(Mr.a,{style:Wl.field,mode:"outlined",label:"Model",error:!!a.fields.model.error,value:a.fields.model.value||"",onChangeText:function(e){return i(vn.forms.rig.setField(["model",e]))}}),g.createElement(Br.a,{type:a.fields.model.error?"error":"info"},a.fields.model.error||"e.g G4.1"),g.createElement(Mr.a,{style:Wl.field,mode:"outlined",label:"Serial",error:!!a.fields.serial.error,value:a.fields.serial.value||"",onChangeText:function(e){return i(vn.forms.rig.setField(["serial",e]))}}),g.createElement(Br.a,{type:a.fields.serial.error?"error":"info"},a.fields.serial.error||""),g.createElement(Mr.a,{style:Wl.field,mode:"outlined",label:"Current canopy size",error:!!a.fields.canopySize.error,value:(null==(n=a.fields.canopySize.value)?void 0:n.toString())||"",keyboardType:"number-pad",onChangeText:function(e){return i(vn.forms.rig.setField(["canopySize",Number(e)]))}}),g.createElement(Br.a,{type:a.fields.canopySize.error?"error":"info"},a.fields.canopySize.error||"Size of canopy in container"),r?g.createElement(Xr,{items:["student","sport","tandem"],renderItemLabel:function(e){return e},isDisabled:function(e){return!o&&"sport"!==e},selected:[(null==(t=a.fields.rigType)?void 0:t.value)||"sport"],onChangeSelected:function(e){var n=_()(e,1)[0];return i(vn.forms.rig.setField(["rigType",n]))}}):null,g.createElement(El,{timestamp:a.fields.repackExpiresAt.value||(new Date).getTime()/1e3,onChange:function(e){return i(vn.forms.rig.setField(["repackExpiresAt",e]))},label:"Reserve repack expiry date"}),g.createElement(Br.a,{type:a.fields.repackExpiresAt.error?"error":"info"},a.fields.repackExpiresAt.error||""))}var Ll,Wl=j.a.create({fields:{flex:1},field:{marginBottom:8}});function Ml(e){var n,t,r=e.open,i=e.dropzoneId,o=e.onClose,l=e.onSuccess,s=e.userId,c=En(),u=kn((function(e){return e.forms.rig})),d=Ul({onSuccess:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return requestAnimationFrame((function(){return l()}))})),onFieldError:function(e,n){return c(vn.forms.rig.setFieldError([e,n]))},onError:function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),m=Rl({onSuccess:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return requestAnimationFrame((function(){return l()}))})),onFieldError:function(e,n){return c(vn.forms.rig.setFieldError([e,n]))},onError:function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),f=d.loading||m.loading,p=g.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(e=u.original)||!e.id){t.next=5;break}return t.next=3,a.a.awrap(d.mutate({id:Number(null==(n=u.original)?void 0:n.id),name:u.fields.name.value,make:u.fields.make.value,model:u.fields.model.value,serial:u.fields.serial.value,canopySize:u.fields.canopySize.value,rigType:u.fields.rigType.value,repackExpiresAt:u.fields.repackExpiresAt.value,userId:s?Number(s):null,dropzoneId:i?Number(i):null}));case 3:t.next=7;break;case 5:return t.next=7,a.a.awrap(m.mutate({name:u.fields.name.value,make:u.fields.make.value,model:u.fields.model.value,serial:u.fields.serial.value,canopySize:u.fields.canopySize.value,rigType:u.fields.rigType.value,repackExpiresAt:u.fields.repackExpiresAt.value,userId:s?Number(s):null,dropzoneId:i?Number(i):null}));case 7:case"end":return t.stop()}}),null,null,null,Promise)}),[m,i,u.fields.canopySize.value,u.fields.make.value,u.fields.model.value,u.fields.repackExpiresAt.value,u.fields.rigType.value,u.fields.name.value,u.fields.serial.value,null==(n=u.original)?void 0:n.id,d,s]),v=g.useMemo((function(){return[580]}),[]),h=g.useCallback((function(){requestAnimationFrame((function(){o(),c(vn.forms.rig.reset())}))}),[c,o]);return g.createElement(Go,{title:null!=(t=u.original)&&t.id?"Edit rig":"New rig",open:r,snapPoints:v,onClose:h,buttonAction:p,buttonLabel:"Save",loading:f},g.createElement(Bl,{showTypeSelect:!!i}))}var Vl,_l=Object(Et.a)(Ll||(Ll=bt()(["\n  query Licenses($federationId: Int) {\n    licenses(federationId: $federationId) {\n      id\n      name\n\n      federation {\n        id\n        name\n      }\n    }\n  }\n"])));function Gl(e){var n=e.federationId,t=e.onSelect,r=e.value,a=Object(yt.a)(_l,{variables:{federationId:n}}).data;return g.createElement(g.Fragment,null,g.createElement(Lr.c.Subheader,null,"License"),g.createElement(Xr,{autoSelectFirst:!0,icon:"ticket-account",items:(null==a?void 0:a.licenses)||[],selected:[r].filter(Boolean),isSelected:function(e){return e.id===(null==r?void 0:r.id)},renderItemLabel:function(e){return null==e?void 0:e.name},isDisabled:function(){return!1},onChangeSelected:function(e){var n=_()(e,1)[0];return n?t(n):null}}))}var ql=Object(Et.a)(Vl||(Vl=bt()(["\n  query Federations {\n    federations {\n      id\n      name\n    }\n  }\n"])));function Hl(e){var n,t=e.value,r=e.onSelect,a=g.useState(!1),o=_()(a,2),l=o[0],s=o[1],c=Object(yt.a)(ql).data;return g.useEffect((function(){var e;1!==(null==c||null==(e=c.federations)?void 0:e.length)||t||r(c.federations[0])}),[null==c?void 0:c.federations,r,t]),g.createElement(g.Fragment,null,g.createElement(Lr.c.Subheader,null,"Federation"),g.createElement(lr.a,{onDismiss:function(){return s(!1)},visible:l,anchor:g.createElement(i.f,{onPress:function(){s(!0)}},g.createElement(Mr.a,{mode:"outlined",disabled:!0,style:{minWidth:200},value:(null==t?void 0:t.name)||"Please select federation"}))},null==c||null==(n=c.federations)?void 0:n.map((function(e){return g.createElement(lr.a.Item,{onPress:function(){s(!1),r(e)},title:e.name||"-",key:"federation-select-"+e.id})}))))}function Yl(){var e,n,t,r,a,i,o,l,s,c,u,d,m,f,p,v,h,b,y,x,E,k,S,w,z=kn((function(e){return e.forms.user})),O=En();return g.useEffect((function(){var e;z.original&&(z.fields.exitWeight.value||O(vn.forms.user.setField(["exitWeight",z.original.exitWeight||"60"])),!z.fields.rigs.value&&null!=(e=z.original)&&e.id&&O(vn.forms.user.setField(["rigs",z.original.rigs])))}),[O,z.fields.exitWeight.value,z.fields.rigs.value,z.original,null==(e=z.original)?void 0:e.id]),g.createElement(g.Fragment,null,g.createElement(Mr.a,{style:Ql.field,mode:"outlined",label:"Name",error:!!z.fields.name.error,value:(null==(n=z.fields.name)||null==(t=n.value)?void 0:t.toString())||"",onChangeText:function(e){return O(vn.forms.user.setField(["name",e]))}}),g.createElement(Br.a,{type:z.fields.name.error?"error":"info"},z.fields.name.error||" "),g.createElement(Mr.a,{style:Ql.field,mode:"outlined",label:"Nickname",error:!!z.fields.nickname.error,value:(null==(r=z.fields.nickname)||null==(a=r.value)?void 0:a.toString())||"",onChangeText:function(e){return O(vn.forms.user.setField(["nickname",e]))}}),g.createElement(Br.a,{type:z.fields.nickname.error?"error":"info"},z.fields.nickname.error||" "),g.createElement(Mr.a,{style:Ql.field,mode:"outlined",label:"Email",error:!!z.fields.email.error,value:(null==(i=z.fields.email)||null==(o=i.value)?void 0:o.toString())||"",onChangeText:function(e){return O(vn.forms.user.setField(["email",e]))}}),g.createElement(Br.a,{type:z.fields.email.error?"error":"info"},z.fields.email.error||" "),g.createElement(Mr.a,{style:Ql.field,mode:"outlined",label:"Phone",error:!!z.fields.phone.error,value:(null==(l=z.fields.phone)||null==(s=l.value)?void 0:s.toString())||"",onChangeText:function(e){return O(vn.forms.user.setField(["phone",e]))}}),g.createElement(Br.a,{type:z.fields.phone.error?"error":"info"},z.fields.phone.error||""),g.createElement(qr,{value:z.fields.exitWeight.value?Number(z.fields.exitWeight.value):0,onChangeText:function(e){return O(vn.forms.user.setField(["exitWeight",e.toString()]))},label:"Exit weight (kg)"}),g.createElement(Br.a,{type:z.fields.exitWeight.error?"error":"info"},z.fields.exitWeight.error||""),g.createElement(Wr.a,null),g.createElement(C.a,{style:{width:"100%"}},g.createElement(Hl,{value:(null==z||null==(c=z.fields)||null==(u=c.license)||null==(d=u.value)?void 0:d.federation)||z.federation.value,onSelect:function(e){return O(vn.forms.user.setFederation(e))}}),g.createElement(Br.a,{type:z.federation.error?"error":"info"},z.federation.error||""),((null==z||null==(m=z.fields)||null==(f=m.license)||null==(p=f.value)||null==(v=p.federation)?void 0:v.id)||(null==z||null==(h=z.federation)||null==(b=h.value)?void 0:b.id))&&g.createElement(g.Fragment,null,g.createElement(Gl,{value:z.fields.license.value,federationId:Number((null==z||null==(y=z.fields)||null==(x=y.license)||null==(E=x.value)||null==(k=E.federation)?void 0:k.id)||(null==(S=z.federation)||null==(w=S.value)?void 0:w.id)),onSelect:function(e){return O(vn.forms.user.setField(["license",e]))}}),g.createElement(Br.a,{type:z.fields.license.error?"error":"info"},z.fields.license.error||""))))}var Jl,Ql=j.a.create({fields:{flex:1,width:"100%",paddingTop:32},field:{marginBottom:8,width:"100%"},ticketAddons:{marginBottom:8}});function Xl(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Zl(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Xl(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xl(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Kl=Object(Et.a)(Jl||(Jl=bt()(["\n  query QueryDropzoneUser($dropzoneId: Int!, $dropzoneUserId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n\n      dropzoneUser(id: $dropzoneUserId) {\n        id\n        credits\n        expiresAt\n        permissions\n\n        role {\n          id\n          name\n        }\n        rigInspections {\n          id\n          isOk\n          inspectedBy {\n            id\n            user {\n              id\n              name\n            }\n          }\n          rig {\n            id\n          }\n        }\n\n        notifications {\n          edges {\n            node {\n              id\n              message\n              notificationType\n              createdAt\n            }\n          }\n        }\n\n        orders {\n          edges {\n            node {\n              id\n              state\n              createdAt\n              amount\n              title\n              buyer {\n                __typename\n                ... on DropzoneUser {\n                  id\n                  user {\n                    id\n                    name\n                  }\n                }\n                ... on Dropzone {\n                  id\n                  name\n                }\n              }\n              seller {\n                __typename\n                ... on DropzoneUser {\n                  id\n                  user {\n                    id\n                    name\n                  }\n                }\n                ... on Dropzone {\n                  id\n                  name\n                }\n              }\n              item {\n                title\n                cost\n\n                ... on Slot {\n                  id\n\n                  ticketType {\n                    id\n                    name\n                    cost\n                  }\n\n                  extras {\n                    id\n                    name\n                    cost\n                  }\n                }\n                ... on TicketType {\n                  id\n                }\n                ... on Extra {\n                  id\n                  name\n                }\n              }\n              receipts {\n                id\n                transactions {\n                  id\n                  transactionType\n                  status\n                  createdAt\n                  amount\n                  message\n                  sender {\n                    ... on DropzoneUser {\n                      id\n                      user {\n                        id\n                        name\n                      }\n                    }\n                    ... on Dropzone {\n                      id\n                      name\n                    }\n                  }\n                  receiver {\n                    ... on DropzoneUser {\n                      id\n                      user {\n                        id\n                        name\n                      }\n                    }\n                    ... on Dropzone {\n                      id\n                      name\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n        license {\n          id\n          name\n        }\n        user {\n          id\n          name\n          nickname\n          exitWeight\n          email\n          phone\n          image\n          moderationRole\n          rigs {\n            id\n            packingCard\n            name\n            model\n            make\n            serial\n            canopySize\n            repackExpiresAt\n          }\n          jumpTypes {\n            id\n            name\n          }\n          license {\n            id\n            name\n            federation {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function es(e){var n,t,r,a,i,o,l,s,c,u,d=kn((function(e){return e.global.currentDropzoneId})),m=Rt(),f=Object(yt.a)(Kl,{variables:{dropzoneId:d,dropzoneUserId:e||Number(null==m||null==(n=m.data)||null==(t=n.dropzone)||null==(r=t.currentUser)?void 0:r.id)},fetchPolicy:"cache-and-network"});return Zl(Zl({},f),{},{dropzoneUser:e&&e!==Number(null==m||null==(a=m.data)||null==(i=a.dropzone)||null==(o=i.currentUser)?void 0:o.id)?null==f||null==(c=f.data)||null==(u=c.dropzone)?void 0:u.dropzoneUser:null==m||null==(l=m.data)||null==(s=l.dropzone)?void 0:s.currentUser})}function ns(e){var n,t,r,i,o,l,s,c,u,d,m,f=e.open,p=e.onSuccess,v=e.onClose,h=e.dropzoneUserId,b=kn((function(e){return e.global.currentDropzoneId})),y=kn((function(e){return e.forms.user})),x=En(),E=xr(),k=_()(E,1)[0],S=Rt(),w=Dt({onSuccess:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){x(vn.notifications.showSnackbar({message:"Profile has been updated",variant:"success"})),x(vn.forms.user.setOpen(!1)),p()})),onFieldError:function(e,n){return x(vn.forms.user.setFieldError([e,n]))},onError:function(e){return x(vn.notifications.showSnackbar({message:e,variant:"error"}))},mutation:{refetchQueries:[{query:$t,variables:{dropzoneId:b,earliestTimestamp:Object(xt.a)(new Date).getTime()/1e3}},{query:Kl,variables:{dropzoneId:b,dropzoneUserId:h}}]}}),C=g.useCallback((function(){var e,n,t,r,i,o,l,s,c,u,d,m,f,p,g,v,h,b,x;return a.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,a.a.awrap(w.mutate({id:Number(null==(e=y.original)?void 0:e.id),name:y.fields.name.value,licenseId:null!=(n=y.fields.license.value)&&n.id?Number(null==(t=y.fields.license.value)?void 0:t.id):null,phone:y.fields.phone.value,exitWeight:parseFloat((null==(r=y.fields.exitWeight)?void 0:r.value)||"50"),email:y.fields.email.value}));case 2:if(!(null!=(i=y.fields.license.value)&&i.id&&(null==(o=y.original)||null==(l=o.license)?void 0:l.id)!==(null==(s=y.fields.license.value)?void 0:s.id)||null!=(c=y.fields.apfNumber)&&c.value&&(null==(u=y.fields.apfNumber)?void 0:u.value)!==(null==(d=y.original)||null==(m=d.userFederations)||null==(f=m.find((function(e){var n,t;return e.federation.id===(null==(n=S.dropzone)||null==(t=n.federation)?void 0:t.id)})))?void 0:f.uid))){E.next=5;break}return E.next=5,a.a.awrap(k({variables:{federationId:Number(null==(p=y.fields.license.value)||null==(g=p.federation)?void 0:g.id),uid:null==(v=y.fields)||null==(h=v.apfNumber)?void 0:h.value,licenseId:null!=(b=y.fields.license.value)&&b.id?Number(null==(x=y.fields.license.value)?void 0:x.id):null}}));case 5:case"end":return E.stop()}}),null,null,null,Promise)}),[null==(n=S.dropzone)||null==(t=n.federation)?void 0:t.id,k,w,null==(r=y.fields.apfNumber)?void 0:r.value,y.fields.email.value,null==(i=y.fields.exitWeight)?void 0:i.value,null==(o=y.fields.license.value)||null==(l=o.federation)?void 0:l.id,null==(s=y.fields.license.value)?void 0:s.id,y.fields.name.value,y.fields.phone.value,null==(c=y.original)?void 0:c.id,null==(u=y.original)||null==(d=u.license)?void 0:d.id,null==(m=y.original)?void 0:m.userFederations]),z=g.useMemo((function(){return[740]}),[]);return g.createElement(Go,{title:"Update information",open:f,snapPoints:z,loading:w.loading,onClose:v,buttonAction:C,buttonLabel:"Save"},g.createElement(Yl,null))}var ts=t(62);function rs(e){var n,t,r,a,i,o,l=e.dropzoneUser,s=e.variant,c=e.onEdit,u=e.canEdit,d=e.children,m=e.onPressAvatar,f=kn((function(e){return e.global})),p=f.theme,v=f.palette,h=g.useState(!1),b=_()(h,2),y=b[0],x=b[1],E=wr($.UpdateUser),k=En(),S="light"===s?p.colors.surface:p.colors.onSurface,w=Ze()(p.colors.primary).darken(.3).hex();return g.createElement(C.a,{style:[as.container,{backgroundColor:p.colors.surface}]},g.createElement(C.a,{style:as.actions},u?g.createElement(Ka.a,{icon:"pencil",size:20,color:p.colors.onSurface,onPress:function(){return c?c():null}}):null),g.createElement(C.a,{style:as.avatarContainer},g.createElement(C.a,{style:{flex:1/3}},g.createElement(ts.a,{onPress:m},null!=l&&null!=(n=l.user)&&n.image?g.createElement(Lr.a.Image,{size:80,source:{uri:null==l?void 0:l.user.image},style:{backgroundColor:v.primary.light}}):g.createElement(Lr.a.Icon,{size:80,icon:"account"}))),g.createElement(C.a,{style:as.titleContainer},g.createElement(lr.a,{onDismiss:function(){return x(!1)},visible:y,anchor:g.createElement(ts.a,{onPress:function(){return x(!0)}},g.createElement(Ia.a,{style:[as.title,{color:w,fontSize:26}]},null==l||null==(t=l.user)?void 0:t.name))},g.createElement(lr.a.Item,{onPress:function(){x(!1),null!=l&&l.user.email&&Object(at.b)("mail:"+(null==l?void 0:l.user.email))},icon:"email",title:null==l||null==(r=l.user)?void 0:r.email}),g.createElement(lr.a.Item,{onPress:function(){x(!1),null!=l&&l.user.email&&Object(at.b)("tel:"+(null==l?void 0:l.user.phone))},icon:"phone",title:null==l||null==(a=l.user)?void 0:a.phone}),g.createElement(lr.a.Item,{onPress:function(){x(!1),E&&l&&k(vn.forms.dropzoneUser.setOpen(l))},icon:"card-account-details-star-outline",title:null!=l&&l.expiresAt?Object(Qo.a)(1e3*((null==l?void 0:l.expiresAt)||0),"yyyy/MM/dd"):"Not a member"})),g.createElement(Wr.a,{style:{width:"100%"}}),g.createElement(Ta.a,{style:[as.paragraph,{fontWeight:"bold",fontSize:14,paddingLeft:4,color:S}]},null==l||null==(i=l.role)||null==(o=i.name)?void 0:o.replace("_"," ").toUpperCase()))),d)}var as=j.a.create({container:{width:"100%",paddingTop:16},actions:{position:"absolute",top:0,right:8,flexDirection:"row",justifyContent:"flex-end"},avatarContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:32,paddingTop:16,marginBottom:16},titleContainer:{paddingLeft:32,paddingTop:16,flex:2/3,alignItems:"flex-start",justifyContent:"center"},title:{color:"white"},paragraph:{color:"white"}});function is(e){var n=e.items,t=e.style,r=1/n.length,a=Object(ir.b)();return g.createElement(g.Fragment,null,g.createElement(Wr.a,{style:[ls.divider]}),g.createElement(C.a,{style:j.a.flatten([ls.container,t])},n.map((function(e,t){return g.createElement(g.Fragment,null,g.createElement(C.a,{style:{flex:r},key:"info-grid-"+t},g.createElement(Lr.c.Item,{titleStyle:[ls.title,{alignSelf:"center",justifyContent:"center",color:a.colors.text,fontWeight:!1!==e.bold?"bold":void 0}],style:{paddingTop:15},title:e.value,descriptionStyle:[ls.description,{color:a.colors.text}],description:e.title,onPress:e.onPress})),t===n.length-1?null:g.createElement(Wr.a,{key:"info-grid-divider-"+t,style:[ls.verticalDivider]}))}))))}var os,ls=j.a.create({container:{width:"100%",flexDirection:"row"},divider:{height:j.a.hairlineWidth,width:"100%"},verticalDivider:{width:j.a.hairlineWidth,height:"100%"},title:{textAlign:"center",color:"white"},description:{textAlign:"center",color:"white"}});function ss(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function cs(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ss(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ss(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var us=Object(Et.a)(os||(os=bt()(["\n  query QueryDropzoneUserProfile($dropzoneId: Int!, $dropzoneUserId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n\n      dropzoneUser(id: $dropzoneUserId) {\n        id\n        credits\n        expiresAt\n        permissions\n\n        role {\n          id\n          name\n        }\n\n        license {\n          id\n          name\n        }\n\n        user {\n          id\n          name\n          exitWeight\n          email\n          phone\n          image\n          rigs {\n            id\n            name\n            model\n            make\n            serial\n            canopySize\n            repackExpiresAt\n          }\n          jumpTypes {\n            id\n            name\n          }\n          license {\n            id\n            name\n            federation {\n              id\n              name\n            }\n          }\n        }\n\n        slots {\n          edges {\n            node {\n              id\n              createdAt\n              load {\n                id\n                name\n                loadNumber\n                dispatchAt\n                createdAt\n              }\n              jumpType {\n                id\n                name\n              }\n              ticketType {\n                id\n                name\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"])));var ds,ms,fs=j.a.create({chip:{height:24,marginLeft:8,alignItems:"center",justifyContent:"center",backgroundColor:"transparent",borderColor:"white",width:"auto"},innerChip:{flexDirection:"row",alignItems:"center",height:30}}),ps=function(e){var n=e.type,t=e.selected,r=e.disabled,a=e.onPress,i=kn((function(e){return e.global})).palette,o={actAsDZSO:"shield-cross",actAsGCA:"radio-handheld",actAsLoadMaster:"shield-account",actAsPilot:"shield-airplane",actAsRigInspector:"shield-search"}[n],l={actAsDZSO:"DZSO",actAsGCA:"GCA",actAsLoadMaster:"Load Master",actAsPilot:"Pilot",actAsRigInspector:"Rig Inspector"}[n];return g.createElement(or.a,{mode:t?"outlined":"flat",style:[fs.chip,{borderColor:i.primary.dark},t?void 0:{opacity:.5}].filter(Boolean),disabled:r,onPress:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){return null==a?void 0:a()}))},g.createElement(C.a,{style:fs.innerChip},g.createElement(C.a,{style:{marginRight:8}},g.createElement(gt.a,{icon:t?"check":o,color:i.primary.dark,size:18})),g.createElement(q.a,{style:{color:i.primary.dark}},l)))},gs=Pt(Object(Et.a)(ds||(ds=bt()(["\n  mutation RevokePermission($dropzoneUserId: Int!, $permissionName: Permission!) {\n    revokePermission(input: { id: $dropzoneUserId, permission: $permissionName }) {\n      dropzoneUser {\n        id\n        permissions\n        user {\n          id\n          name\n        }\n        role {\n          id\n          name\n        }\n      }\n      fieldErrors {\n        field\n        message\n      }\n      errors\n    }\n  }\n"]))),{getPayload:function(e){return e.revokePermission},validates:{permissionName:[Ot("Permission name is required")]}}),vs=Pt(Object(Et.a)(ms||(ms=bt()(["\n  mutation GrantPermission($dropzoneUserId: Int!, $permissionName: Permission!) {\n    grantPermission(input: { id: $dropzoneUserId, permission: $permissionName }) {\n      dropzoneUser {\n        id\n        permissions\n        user {\n          id\n          name\n        }\n        role {\n          id\n          name\n        }\n      }\n      fieldErrors {\n        field\n        message\n      }\n      errors\n    }\n  }\n"]))),{getPayload:function(e){return e.grantPermission},validates:{permissionName:[Ot("Permission name is required")]}});function hs(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function bs(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?hs(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hs(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ys(e){var n=e.permissions,t=e.dropzoneUser,r=kn((function(e){return e.global})),o=En(),l=Object(tr.useRoute)(),s=wr($.GrantPermission),c=gs({onSuccess:function(e){o(vn.notifications.showSnackbar({message:"Permission revoked"}))},onError:function(e){o(vn.notifications.showSnackbar({message:e,variant:"error"}))},mutation:{refetchQueries:[{query:$t,variables:{dropzoneId:r.currentDropzoneId,earliestTimestamp:Object(xt.a)(new Date).getTime()/1e3}},{query:us,variables:{dropzoneId:r.currentDropzoneId,dropzoneUserId:Number(l.params.userId)}}]}}),u=vs({onSuccess:function(e){o(vn.notifications.showSnackbar({message:"Permission granted"}))},onError:function(e){o(vn.notifications.showSnackbar({message:e,variant:"error"}))},mutation:{refetchQueries:[{query:$t,variables:{dropzoneId:r.currentDropzoneId,earliestTimestamp:Object(xt.a)(new Date).getTime()/1e3}},{query:us,variables:{dropzoneId:r.currentDropzoneId,dropzoneUserId:Number(l.params.userId)}}]}}),d=(null==n?void 0:n.filter((function(e){return/^actAs/.test(e)})))||[];return g.createElement(i.c,{horizontal:!0,style:{width:"100%"},showsHorizontalScrollIndicator:!1,contentContainerStyle:xs.content},[$.ActAsPilot,$.ActAsDzso,$.ActAsGca,$.ActAsRigInspector,$.ActAsLoadMaster].map((function(e){return function(e){return s||d.includes(e)}(e)?g.createElement(ps,{type:e,selected:d.includes(e),onPress:function(){return s?d.includes(e)?c.mutate({permissionName:e,dropzoneUserId:Number(null==t?void 0:t.id)},{refetchQueries:[{query:Uo,variables:{dropzoneId:r.currentDropzoneId,permissions:[e]}}],update:function(n,i){var o,l,s,c;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return i.data,s=n.readQuery({query:zr,variables:{permissions:[e],dropzoneId:Number(r.currentDropzoneId)}}),c=((null==s||null==(o=s.dropzone)||null==(l=o.dropzoneUsers)?void 0:l.edges)||[]).filter((function(e){var n;return(null==e||null==(n=e.node)?void 0:n.id)!==(null==t?void 0:t.id)})),n.writeQuery({query:zr,variables:{permissions:[e],dropzoneId:Number(r.currentDropzoneId)},data:bs(bs({},s),{},{dropzone:bs(bs({},null==s?void 0:s.dropzone),{},{dropzoneUsers:{edges:c}})})}),a.abrupt("return",{data:bs(bs({},s),{},{dropzone:bs(bs({},null==s?void 0:s.dropzone),{},{dropzoneUsers:{edges:c}})})});case 5:case"end":return a.stop()}}),null,null,null,Promise)}}):u.mutate({permissionName:e,dropzoneUserId:Number(null==t?void 0:t.id)},{refetchQueries:[{query:Uo,variables:{dropzoneId:r.currentDropzoneId,permissions:[e]}}],update:function(n,i){var o,l,s,c,u,d,m,f,p,g,v,h,b;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return f=i.data,p=n.readQuery({query:zr,variables:{permissions:[e],dropzoneId:Number(r.currentDropzoneId)}}),g=(null==p||null==(o=p.dropzone)||null==(l=o.dropzoneUsers)?void 0:l.edges)||[],v=!!g.find((function(e){var n;return(null==e||null==(n=e.node)?void 0:n.id)===(null==t?void 0:t.id)})),h=v?Ur()(((null==p||null==(s=p.dropzone)||null==(c=s.dropzoneUsers)?void 0:c.edges)||[]).map((function(e){var n,r;return(null==e||null==(n=e.node)?void 0:n.id)!==(null==t?void 0:t.id)?e:bs(bs({},e),{},{node:bs(bs({},null==e?void 0:e.node),null==f||null==(r=f.grantPermission)?void 0:r.dropzoneUser)})}))):[].concat(Ur()((null==p||null==(u=p.dropzone)||null==(d=u.dropzoneUsers)?void 0:d.edges)||[]),[{node:null==f||null==(m=f.grantPermission)?void 0:m.dropzoneUser}]),b=bs(bs({},p),{},{dropzone:bs(bs({},null==p?void 0:p.dropzone),{},{dropzoneUsers:{edges:h}})}),n.writeQuery({query:zr,variables:{dropzoneId:Number(r.currentDropzoneId),permissions:[e]},data:b}),a.abrupt("return",{data:b});case 8:case"end":return a.stop()}}),null,null,null,Promise)}}):null}}):null})))}var xs=j.a.create({content:{flexGrow:1,paddingVertical:12,justifyContent:"space-evenly"}}),Es=t(271);function ks(e){var n,t,r=e.slot,a=e.onPress,i=Object(ir.b)();return g.createElement(st.a,{onPress:a,style:{width:"100%"}},g.createElement(nr.a,{style:ws.transaction},g.createElement(nr.a.Content,{style:ws.transactionContent},g.createElement(Es.a,{style:{position:"absolute",top:0,right:8}},Object(Qo.a)(1e3*((null==r||null==(n=r.load)?void 0:n.dispatchAt)||r.createdAt),"Mo MMM, h:mm aaa")),g.createElement(Lr.c.Item,{title:"Load #"+r.load.loadNumber,description:null==(t=r.ticketType)?void 0:t.name,style:{width:"100%"},titleStyle:ws.transactionTitle,descriptionStyle:ws.transactionDescription,right:function(){var e;return g.createElement(C.a,{style:{width:180,alignItems:"center",justifyContent:"flex-end",flexDirection:"row"}},g.createElement(q.a,{style:[ws.jumpType,{color:i.colors.onSurface}]},null==(e=r.jumpType)?void 0:e.name))},left:function(){return g.createElement(C.a,{style:{flex:1,alignItems:"center",flexDirection:"row",justifyContent:"center"}},g.createElement(gt.a,{color:i.colors.text,name:"parachute-outline",size:36}))}}))))}var Ss,ws=j.a.create({avatarIcon:{},transactionTitle:{paddingLeft:0,fontSize:14,fontWeight:"500",marginBottom:4},jumpType:{fontSize:24,marginLeft:4,fontWeight:"100",textAlign:"center"},transactionDescription:{paddingLeft:0},transactionContent:{paddingLeft:0,paddingRight:4,paddingTop:4,paddingBottom:4},transaction:{margin:0,marginBottom:0,marginVertical:0,borderRadius:2,width:"100%"}}),Cs=Object(Et.a)(Ss||(Ss=bt()(["\n  mutation UpdateUserImage($id: Int, $image: String) {\n    updateUser(input: { id: $id, attributes: { image: $image } }) {\n      user {\n        id\n        name\n        exitWeight\n        email\n        image\n        phone\n        rigs {\n          id\n          name\n          model\n          make\n          serial\n          canopySize\n        }\n        jumpTypes {\n          id\n          name\n        }\n        userFederations {\n          id\n          federation {\n            id\n            name\n            slug\n          }\n          license {\n            id\n            name\n          }\n        }\n        license {\n          id\n          name\n\n          federation {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"])));function zs(){var e,n,t,r,i,o,l,s=kn((function(e){return e.global})),c=kn((function(e){return e.forms})),u=En(),d=Object(tr.useNavigation)(),m=Rt().currentUser,f=Object(tr.useRoute)(),p=(null==m?void 0:m.id)===f.params.userId,v=function(e){var n,t,r=kn((function(e){return e.global.currentDropzoneId})),a=Object(yt.a)(us,{variables:{dropzoneId:r,dropzoneUserId:e},fetchPolicy:"cache-and-network"});return cs(cs({},a),{},{dropzoneUser:null==a||null==(n=a.data)||null==(t=n.dropzone)?void 0:t.dropzoneUser})}(Number(f.params.userId)||Number(null==m?void 0:m.id)),h=v.dropzoneUser,b=v.loading,x=v.refetch,E=Object(tr.useIsFocused)();g.useEffect((function(){return d.setOptions({title:"Profile"})}),[d]),g.useEffect((function(){E&&x()}),[E,x]);var k=Object(kt.a)(Cs),S=_()(k,1)[0];g.useEffect((function(){!function(){var e;a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("web"===w.a.OS){n.next=6;break}return n.next=3,a.a.awrap(hl.b());case 3:e=n.sent,"granted"!==e.status&&console.error("Sorry, we need camera roll permissions to make this work!");case 6:case"end":return n.stop()}}),null,null,null,Promise)}()}),[]);var z=g.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(hl.a({mediaTypes:bl.a.Images,allowsEditing:!0,aspect:[4,3],quality:.1,base64:!0}));case 3:return n=t.sent,t.next=6,a.a.awrap(S({variables:{id:Number(null==h||null==(e=h.user)?void 0:e.id),image:"data:image/jpeg;base64,"+n.base64}}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),null,null,[[0,8]],Promise)}),[null==h||null==(e=h.user)?void 0:e.id,S]),O=(null==h||null==(n=h.permissions)?void 0:n.filter((function(e){return/^actAs/.test(e)})))||[],I=wr($.CreateUserTransaction),T=wr($.ReadUserTransactions),P=wr($.UpdateUser),F=Object(ir.b)();return g.createElement(ni.LinearGradient,{start:{x:0,y:.25},end:{x:.5,y:.75},style:j.a.absoluteFill,colors:[F.colors.surface,F.colors.surface]},b&&g.createElement(y.a,{color:s.theme.colors.accent,indeterminate:!0,visible:b}),g.createElement(Oi,{style:{backgroundColor:s.theme.colors.background},contentContainerStyle:[Is.content,{backgroundColor:"transparent"}],refreshControl:g.createElement(Kt.a,{refreshing:b,onRefresh:function(){return x()}})},h?g.createElement(rs,{dropzoneUser:h,canEdit:p,onEdit:function(){null!=h&&h.user&&u(vn.forms.user.setOpen(h))},onPressAvatar:z},g.createElement(ys,{dropzoneUser:h,permissions:O}),g.createElement(is,{style:{height:80},items:[{title:"Funds",value:"$"+((null==h?void 0:h.credits)||0),onPress:function(){h&&I&&u(vn.forms.credits.setOpen(h))}},{title:"License",value:""+((null==h||null==(t=h.license)?void 0:t.name)||"-")},{title:"Exit weight",value:Math.round(Number(null==h||null==(r=h.user)?void 0:r.exitWeight)).toString()||"-"}]}),g.createElement(Wr.a,{style:Is.divider})):null,g.createElement(C.a,{style:{width:"100%"}},g.createElement(Lr.c.Subheader,null,"Manage"),g.createElement(nr.a,{style:{margin:8,marginRight:8},elevation:1},p?g.createElement(g.Fragment,null,g.createElement(Lr.c.Item,{style:{width:"100%",padding:0},title:"Setup Wizard",left:function(){return g.createElement(Lr.c.Icon,{icon:"account-convert"})},right:function(){return g.createElement(Lr.c.Icon,{icon:"chevron-right"})},onPress:function(){var e,n;h&&(u(vn.forms.user.setOpen(h)),null!=h&&null!=(e=h.user)&&null!=(n=e.rigs)&&n.length&&u(vn.forms.rig.setOpen(h.user.rigs[0])),u(vn.forms.userWizard.setOpen(h.user)))}}),g.createElement(Wr.a,{style:{width:"100%"}})):null,P?g.createElement(g.Fragment,null,g.createElement(Lr.c.Item,{style:{width:"100%",padding:0},title:"Access and Membership",left:function(){return g.createElement(Lr.c.Icon,{icon:"lock"})},onPress:function(){return h?u(vn.forms.dropzoneUser.setOpen(h)):null}}),g.createElement(Wr.a,{style:{width:"100%"}})):null,p||T?g.createElement(g.Fragment,null,g.createElement(Lr.c.Item,{style:{width:"100%",padding:0},title:"Transactions",left:function(){return g.createElement(Lr.c.Icon,{icon:"cash"})},right:function(){return g.createElement(Lr.c.Icon,{icon:"chevron-right"})},onPress:function(){return d.navigate("TransactionsScreen",{userId:null==h?void 0:h.id})}}),g.createElement(Wr.a,{style:{width:"100%"}})):null,g.createElement(Lr.c.Item,{style:{width:"100%",padding:0},title:"Equipment",left:function(){return g.createElement(Lr.c.Icon,{icon:"parachute"})},right:function(){return g.createElement(Lr.c.Icon,{icon:"chevron-right"})},onPress:function(){return d.navigate("EquipmentScreen",{userId:null==h?void 0:h.id})}}))),g.createElement(C.a,{style:{width:"100%"}},g.createElement(Lr.c.Subheader,null,"History"),g.createElement(nr.a,{style:{margin:8,marginHorizontal:0},elevation:1},null==h||null==(i=h.slots)||null==(o=i.edges)?void 0:o.map((function(e){return null!=e&&e.node?g.createElement(ks,{slot:e.node,onPress:function(){d.navigate("LoadScreen",{load:e.node})}}):null}))))),g.createElement(Ml,{onClose:function(){return u(vn.forms.rig.setOpen(!1))},onSuccess:function(){return requestAnimationFrame((function(){return u(vn.forms.rig.setOpen(!1))}))},open:c.rig.open,userId:Number(null==h||null==(l=h.user)?void 0:l.id)}),g.createElement(Tl,{onClose:function(){return u(vn.forms.dropzoneUser.setOpen(!1))},onSuccess:function(e){u(vn.forms.dropzoneUser.setOpen(!1)),(null==m?void 0:m.id)===(null==h?void 0:h.id)&&(u(vn.global.setUser(e.user)),x())},open:c.dropzoneUser.open}),g.createElement(Nl,{onClose:function(){return u(vn.forms.credits.setOpen(!1))},onSuccess:function(){return u(vn.forms.credits.setOpen(!1))},open:c.credits.open,dropzoneUser:h||void 0}),g.createElement(ns,{dropzoneUserId:Number(null==h?void 0:h.id),onClose:function(){return u(vn.forms.user.setOpen(!1))},onSuccess:function(){u(vn.forms.user.setOpen(!1))},open:c.user.open}))}var Os,Is=j.a.create({container:{flex:1},content:{flexGrow:1,paddingBottom:56,paddingHorizontal:0},divider:{height:1,width:"100%"},chip:{margin:1,backgroundColor:"transparent",minHeight:23,borderWidth:0,justifyContent:"center",alignItems:"center",display:"flex"},chipTitle:{color:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,lineHeight:24,textAlignVertical:"center"}});function Ts(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function js(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ts(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ts(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ps=Object(Et.a)(Os||(Os=bt()(["\n  query QueryNotifications($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n\n      currentUser {\n        id\n\n        notifications {\n          edges {\n            node {\n              id\n              message\n              notificationType\n              createdAt\n              sentBy {\n                id\n                user {\n                  id\n                  name\n                }\n              }\n\n              resource {\n                ... on Load {\n                  id\n                  loadNumber\n                  dispatchAt\n                  state\n                }\n                ... on Transaction {\n                  id\n                  amount\n                  message\n                  status\n                }\n\n                ... on Slot {\n                  id\n                  load {\n                    id\n                    loadNumber\n                    dispatchAt\n                    state\n                  }\n                }\n\n                ... on Rig {\n                  id\n                  user {\n                    id\n                    name\n                  }\n                  rigInspections(dropzoneId: $dropzoneId) {\n                    id\n                    createdAt\n                    inspectedBy {\n                      id\n                      user {\n                        id\n                        name\n                      }\n                    }\n                  }\n                }\n\n                ... on RigInspection {\n                  id\n                  createdAt\n                  inspectedBy {\n                    id\n                    user {\n                      id\n                      name\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"])));var Fs=t(793);function Ds(e){var n=e.title,t=e.description,r=e.icon,a=e.timestamp,i=e.onPress,o=kn((function(e){return e.global})),l=o.theme,s=o.palette;return g.createElement(st.a,{onPress:i},g.createElement(nr.a,{style:As.notification,elevation:3},g.createElement(nr.a.Content,{style:As.notificationContent},g.createElement(Lr.c.Item,{title:n,description:t,style:{width:"100%"},titleStyle:As.notificationTitle,descriptionStyle:As.notificationDescription,left:function(){return g.createElement(Lr.a.Icon,{size:55,icon:r,color:l.dark?l.colors.text:s.accent.light,style:As.avatarIcon})}}),g.createElement(Es.a,{style:As.timestamp},Object(Fs.a)(1e3*a,{addSuffix:!0})))))}var As=j.a.create({avatarIcon:{backgroundColor:"transparent",alignSelf:"center",marginHorizontal:12},notificationTitle:{paddingLeft:4,fontSize:12,fontWeight:"600",marginBottom:4},notificationDescription:{paddingLeft:4},notificationContent:{paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0},notification:{margin:0,paddingVertical:8,marginVertical:0,borderRadius:2,width:"100%"},timestamp:{position:"absolute",top:4,right:8}});function Ns(e){var n=e.notification,t=Object(bi.useNavigation)();return g.createElement(Ds,{title:"Manifest",description:n.message,timestamp:n.createdAt,icon:"airplane",onPress:function(){return t.navigate("Manifest",{screen:"LoadScreen",initial:!1,params:{load:n.resource.load}})}})}function $s(e){var n=e.notification,t=Object(bi.useNavigation)();return g.createElement(Ds,{title:"Load #"+n.resource.loadNumber+" boarding call",description:n.message,timestamp:n.createdAt,icon:"airplane-takeoff",onPress:function(){return t.navigate("Manifest",{screen:"LoadScreen",initial:!1,params:{load:n.resource}})}})}function Rs(e){switch(e){case"paid":return"cash";case"refunded":return"cash-refund";case"deposit":return"bank-transfer-in";case"withdrawal":return"bank-transfer-out";default:return"cash"}}function Us(e){var n,t=e.notification;return g.createElement(Ds,{title:Object(Yr.capitalize)(t.resource.status||""),description:t.message,timestamp:t.createdAt,icon:Rs(null==(n=t.resource)?void 0:n.status),onPress:function(){return null}})}function Bs(e){var n=e.notification,t=Object(bi.useNavigation)();return g.createElement(Ds,{title:"rig_inspection_requested"===n.notificationType?"Rig inspection required":"Rig inspection completed",description:n.message,timestamp:n.createdAt,icon:"rig_inspection_requested"===n.notificationType?"eye":"parachute",onPress:function(){var e;return"rig_inspection_requested"===n.notificationType?t.navigate("RigInspectionScreen",{rig:n.resource.id,dropzoneUserId:null==(e=n.resource.user)?void 0:e.id}):t.navigate("Manifest",{screen:"Profile",params:{screen:"ProfileScreen"}})}})}function Ls(e){var n=e.notification;return g.createElement(Ds,{title:"permission_granted"===n.notificationType?"Permission granted":"Permission revoked",description:n.message,timestamp:n.createdAt,icon:"permission_granted"===n.notificationType?"lock-open":"lock-alert",onPress:function(){return null}})}function Ws(e){var n=e.notification;return g.createElement(Ds,{title:"Publication requested",description:n.message,timestamp:n.createdAt,icon:"progress-upload"})}function Ms(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Vs(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ms(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ms(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _s(){var e,n=kn((function(e){return e.global})),t=function(){var e,n,t=kn((function(e){return e.global.currentDropzoneId})),r=Object(yt.a)(Ps,{variables:{dropzoneId:t},pollInterval:3e4});return js(js({},r),{},{notifications:null==r||null==(e=r.data)||null==(n=e.dropzone)?void 0:n.currentUser.notifications})}(),r=t.notifications,a=t.loading,o=t.refetch,l=Object(tr.useIsFocused)();return g.useEffect((function(){l&&o()}),[l,o]),g.createElement(g.Fragment,null,a&&g.createElement(y.a,{color:n.theme.colors.accent,indeterminate:!0,visible:a}),null!=r&&null!=(e=r.edges)&&e.length?null:g.createElement(C.a,{style:Gs.empty},g.createElement(Na,{title:"No notifications",subtitle:"Notifications will show up here"})),g.createElement(i.a,{data:null==r?void 0:r.edges,numColumns:1,style:{flex:1},renderItem:function(e){var n,t=e.item;switch(null==t||null==(n=t.node)?void 0:n.notificationType){case A.BoardingCall:return g.createElement($s,{key:t.node.id,notification:t.node});case A.UserManifested:return g.createElement(Ns,{key:t.node.id,notification:t.node});case A.CreditsUpdated:return g.createElement(Us,{key:t.node.id,notification:t.node});case A.RigInspectionRequested:case A.RigInspectionCompleted:return g.createElement(Bs,{key:t.node.id,notification:t.node});case A.PermissionGranted:case A.PermissionRevoked:return g.createElement(Ls,{key:t.node.id,notification:t.node});case A.PublicationRequested:return g.createElement(Ws,{key:t.node.id,notification:t.node});default:return null}}}))}var Gs=j.a.create({content:{flexGrow:1,paddingBottom:56,alignItems:"center",paddingHorizontal:4},divider:{height:1,width:"100%"},empty:Vs(Vs({},j.a.absoluteFillObject),{},{flexGrow:1,flex:1,alignSelf:"center",alignItems:"center",justifyContent:"center"})}),qs=t(499),Hs=t.n(qs),Ys=["name","image","source"];function Js(e){var n=e.name,t=e.image,r=(e.source,_r()(e,Ys)),a=null==n?void 0:n.split(/\s/g).map((function(e){return Hs()(e)})).join("");return t?g.createElement(Lr.a.Image,ft()({source:{uri:t},style:{alignSelf:"center",marginHorizontal:12},size:32},r)):g.createElement(Lr.a.Text,ft()({label:a},r))}function Qs(e){var n,t,r=e.order,a=e.dropzoneUser,i=e.showAvatar,o=e.onPress,l=Object(ir.b)(),s=(null==(n="DropzoneUser"===(null==(t=r.buyer)?void 0:t.__typename)&&r.buyer)?void 0:n.id)===(null==a?void 0:a.id)?"cash-minus":"cash-plus";return g.createElement(st.a,{onPress:o},g.createElement(nr.a,{style:Xs.order},g.createElement(nr.a.Content,{style:Xs.orderContent},g.createElement(Es.a,{style:{position:"absolute",top:4,right:8}},Object(Qo.a)(1e3*(null==r?void 0:r.createdAt),"Mo MMM, h:mm aaa")),g.createElement(Lr.c.Item,{title:"#"+r.id+" "+r.title,style:{width:"100%"},titleStyle:Xs.orderTitle,descriptionStyle:Xs.orderDescription,left:function(){var e,n,t,o;return g.createElement(C.a,{style:{width:165,alignItems:"center",flexDirection:"row"}},i?g.createElement(Js,{style:{alignSelf:"center",marginHorizontal:12},size:30,name:(null==r||null==(e=r.buyer)||null==(n=e.user)?void 0:n.name)||(null==r?void 0:r.buyer).name||"",image:(null==(t=(null==r?void 0:r.buyer).user)?void 0:t.image)||(null==r?void 0:r.buyer).banner||void 0}):g.createElement(gt.a,{color:"__typename"in r.buyer&&"DropzoneUser"===r.buyer.__typename&&(null==(o=r.buyer)?void 0:o.id)===(null==a?void 0:a.id)?"#FF1414":"#00C851",name:s,size:36,style:{marginHorizontal:16}}),g.createElement(q.a,{style:{fontSize:30,fontWeight:"100",textAlign:"center",color:l.colors.onSurface}},"$",r.amount))}}))))}var Xs=j.a.create({avatarIcon:{},orderTitle:{paddingLeft:0,fontSize:14,fontWeight:"500",marginBottom:0},orderDescription:{paddingLeft:0},orderContent:{paddingLeft:0,paddingRight:4,paddingTop:8,paddingBottom:8},order:{marginHorizontal:0,marginVertical:j.a.hairlineWidth,borderRadius:2,width:"100%"}});function Zs(){var e,n,t,r=kn((function(e){return e.global})),a=kn((function(e){return e.forms})),o=En(),l=Rt().currentUser,s=Object(tr.useRoute)(),c=es(Number(null==s||null==(e=s.params)?void 0:e.userId)||Number(null==l?void 0:l.id)),u=c.dropzoneUser,d=c.loading,m=c.refetch,f=Object(tr.useIsFocused)(),p=Object(tr.useNavigation)();return g.useEffect((function(){var e;if(null!=u&&null!=(e=u.user)&&e.name&&(null==u?void 0:u.id)!==(null==l?void 0:l.id)){var n,t=null==(n=u.user)?void 0:n.name.split(/\s/),r=_()(t,1)[0];p.setOptions({title:r+"'s Transactions"})}else p.setOptions({title:"Your Transactions"})}),[null==l?void 0:l.id,null==u?void 0:u.id,null==u||null==(n=u.user)?void 0:n.name,p]),g.useEffect((function(){f&&m()}),[f,m]),g.createElement(g.Fragment,null,d&&g.createElement(y.a,{color:r.theme.colors.accent,indeterminate:!0,visible:d}),g.createElement(i.a,{style:Ks.flatList,data:(null==u||null==(t=u.orders)?void 0:t.edges)||[],refreshing:!1,onRefresh:m,renderItem:function(e){var n=e.item;return g.createElement(Qs,{onPress:function(){return p.navigate("OrderScreen",{order:n.node})},order:null==n?void 0:n.node,dropzoneUser:u})}}),g.createElement(Nl,{onClose:function(){return o(vn.forms.credits.setOpen(!1))},onSuccess:function(){return o(vn.forms.credits.setOpen(!1))},open:a.credits.open,dropzoneUser:u||void 0}))}var Ks=j.a.create({flatList:{flex:1,paddingTop:0}});function ec(e){var n,t,r,i,o,l,s,c=e.rig,u=e.rigInspection,d=e.dropzoneUser,m=e.onSuccessfulImageUpload,f=e.onPress,p=g.useState(!1),v=_()(p,2),h=v[0],b=v[1],x=kn((function(e){return e.global.theme.colors})).accent,E=En(),k=Rt().currentUser,S=Ul({onSuccess:function(){b(!1),null==m||m(),E(vn.notifications.showSnackbar({message:"Image uploaded",variant:"success"}))},onError:function(e){console.log(e),b(!1),E(vn.notifications.showSnackbar({message:"Upload failed",variant:"error"}))}}),z=g.useState(!1),O=_()(z,2),I=O[0],T=O[1];g.useEffect((function(){!function(){var e;a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("web"===w.a.OS){n.next=6;break}return n.next=3,a.a.awrap(hl.b());case 3:e=n.sent,"granted"!==e.status&&console.error("Sorry, we need camera roll permissions to make this work!");case 6:case"end":return n.stop()}}),null,null,null,Promise)}()}),[]);var j=g.useCallback((function(){var e;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap(hl.a({mediaTypes:bl.a.Images,allowsEditing:!0,aspect:[4,3],quality:.1,base64:!0}));case 3:return e=n.sent,b(!0),n.next=7,a.a.awrap(S.mutate({id:Number(null==c?void 0:c.id),packingCard:"data:image/jpeg;base64,"+e.base64}));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),null,null,[[0,9]],Promise)}),[null==c?void 0:c.id,S]),P=wr($.UpdateDropzoneRig),F=Object(tr.useNavigation)(),D=(null==k||null==(n=k.user)?void 0:n.id)===(null==(t=c.user)?void 0:t.id)||(null==c||null==(r=c.dropzone)?void 0:r.id)&&P,A=Object(ir.b)();return g.createElement(nr.a,{onPress:f,style:{marginVertical:16}},g.createElement(y.a,{visible:h,indeterminate:!0,color:x}),g.createElement(nr.a.Title,{title:c.name||c.make+" "+c.model}),g.createElement(nr.a.Content,null,g.createElement(C.a,{style:nc.content},g.createElement(C.a,{style:nc.left},g.createElement(Lr.a.Icon,{icon:"parachute",size:70,style:{backgroundColor:A.dark?A.colors.surface:A.colors.primary}})),g.createElement(C.a,{style:nc.right},g.createElement(C.a,{style:nc.textRow},g.createElement(q.a,{style:[nc.label,{color:A.colors.onSurface}]},"Container"),g.createElement(q.a,{style:[nc.description,{color:A.colors.onSurface}]},c.make," ",c.model)),g.createElement(C.a,{style:nc.textRow},g.createElement(q.a,{style:[nc.label,{color:A.colors.onSurface}]},"Main canopy size"),g.createElement(q.a,{style:[nc.description,{color:A.colors.onSurface}]},c.canopySize)),g.createElement(C.a,{style:nc.textRow},g.createElement(q.a,{style:[nc.label,{color:A.colors.onSurface}]},"Repack expiry date"),g.createElement(q.a,{style:[nc.description,{color:A.colors.onSurface}]},c.repackExpiresAt?Object(Qo.a)(1e3*c.repackExpiresAt,"yyyy/MM/dd"):"N/A")))),g.createElement(C.a,{style:{flexDirection:"row",marginTop:8}})),g.createElement(nr.a.Actions,{style:{justifyContent:"flex-end"},pointerEvents:"box-none"},g.createElement(lr.a,{onDismiss:function(){return T(!1)},visible:I,style:{marginTop:12},anchor:g.createElement(or.a,{mode:"outlined",icon:"camera",style:{height:24,alignItems:"center"},onPress:function(){D?T(!0):null!=c&&c.packingCard&&E(vn.imageViewer.setOpen(c.packingCard))}},c.packingCard?"Packing card":"No packing card")},g.createElement(lr.a.Item,{title:"Upload new",icon:"camera",style:{paddingVertical:0},onPress:function(){j(),T(!1)}}),c.packingCard?g.createElement(g.Fragment,null,g.createElement(Wr.a,null),g.createElement(lr.a.Item,{title:"View",icon:"eye",style:{paddingVertical:0},onPress:function(){T(!1),c.packingCard&&E(vn.imageViewer.setOpen(c.packingCard))}})):null),g.createElement(or.a,{mode:"outlined",style:[nc.chip,{backgroundColor:null!=u&&null!=(i=u.inspectedBy)&&null!=(o=i.user)&&o.name?"#00C851":"#ff4444"}],onPress:function(){F.navigate("RigInspectionScreen",{rig:c,dropzoneUserId:Number(null==d?void 0:d.id)})}},g.createElement(C.a,{style:nc.innerChip},g.createElement(C.a,{style:{marginRight:8}},g.createElement(gt.a,{name:"eye-check-outline",color:"#FFFFFF",size:18})),g.createElement(q.a,{style:{color:"white"}},(null==u||null==(l=u.inspectedBy)||null==(s=l.user)?void 0:s.name)||"Not inspected")))))}var nc=j.a.create({content:{flexDirection:"row",alignItems:"center"},chip:{height:24,marginLeft:8,alignItems:"center",justifyContent:"center"},innerChip:{flexDirection:"row",alignItems:"center",height:30,justifyContent:"space-between",flex:1},left:{flex:.25},right:{flex:.75},textRow:{flexDirection:"row",alignItems:"center"},label:{fontWeight:"500",width:130,textAlign:"left",marginRight:16,marginVertical:4},description:{fontWeight:"normal",flexGrow:1}});function tc(){var e,n,t,r,a=kn((function(e){return e.forms})),o=En(),l=Rt().currentUser,s=Object(tr.useNavigation)(),c=Object(tr.useRoute)(),u=es(Number(null==c||null==(e=c.params)?void 0:e.userId)||Number(null==l?void 0:l.id)),d=u.dropzoneUser,m=u.loading,f=u.refetch,p=Object(tr.useIsFocused)();g.useEffect((function(){p&&f()}),[p,f]),g.useEffect((function(){var e;if(null!=d&&null!=(e=d.user)&&e.name&&(null==d?void 0:d.id)!==(null==l?void 0:l.id)){var n,t=null==(n=d.user)?void 0:n.name.split(/\s/),r=_()(t,1)[0];s.setOptions({title:r+"'s Equipment"})}else s.setOptions({title:"Your Equipment"})}),[null==l?void 0:l.id,null==d?void 0:d.id,null==d||null==(n=d.user)?void 0:n.name,s]);var v=wr($.UpdateUser);return g.createElement(g.Fragment,null,g.createElement(i.a,{data:(null==d||null==(t=d.user)?void 0:t.rigs)||[],numColumns:1,style:{flex:1},refreshing:m,contentContainerStyle:{padding:16},renderItem:function(e){var n,t=e.item;return g.createElement(ec,{dropzoneUser:d,onSuccessfulImageUpload:f,rig:t,rigInspection:null==d||null==(n=d.rigInspections)?void 0:n.find((function(e){var n;return(null==(n=e.rig)?void 0:n.id)===t.id&&e.isOk})),onPress:function(){o(vn.forms.rig.setOpen(t))}})}}),g.createElement(Ja.a,{style:rc.fab,visible:v,small:!0,icon:"plus",onPress:function(){return o(vn.forms.rig.setOpen(!0))},label:"Add rig"}),g.createElement(Ml,{onClose:function(){return o(vn.forms.rig.setOpen(!1))},onSuccess:function(){return requestAnimationFrame((function(){return o(vn.forms.rig.setOpen(!1))}))},open:a.rig.open,userId:Number(null==d||null==(r=d.user)?void 0:r.id)}))}var rc=j.a.create({container:{flex:1},content:{flexGrow:1,paddingBottom:56,paddingHorizontal:0},fab:{position:"absolute",margin:16,right:0,bottom:0},divider:{height:1,width:"100%"},chip:{margin:1,backgroundColor:"transparent",minHeight:23,borderWidth:0,justifyContent:"center",alignItems:"center",display:"flex"},chipTitle:{color:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,lineHeight:24,textAlignVertical:"center"}});function ac(){var e=Object(tr.useNavigation)(),n=Rt().data,t=Object(ir.b)(),r=wr($.UpdateDropzone),a=wr($.UpdateFormTemplate);return g.createElement(Oi,null,g.createElement(Lr.c.Section,{title:"Dropzone",style:{width:"100%"}},r?g.createElement(Lr.c.Item,{title:"Configuration",onPress:function(){return e.navigate("UpdateDropzoneScreen",{dropzone:null==n?void 0:n.dropzone})},left:function(){return g.createElement(Lr.c.Icon,{color:t.colors.text,icon:"information-outline"})},description:"Set up name, branding and other settings"}):null,g.createElement(Lr.c.Item,{title:"Permissions",left:function(){return g.createElement(Lr.c.Icon,{color:t.colors.text,icon:"lock"})},onPress:function(){return e.navigate("DropzonePermissionScreen")}}),g.createElement(Lr.c.Item,{title:"Aircrafts",onPress:function(){return e.navigate("PlanesScreen")},left:function(){return g.createElement(Lr.c.Icon,{color:t.colors.text,icon:"airplane"})}}),g.createElement(Lr.c.Item,{title:"Rigs",left:function(){return g.createElement(Lr.c.Icon,{color:t.colors.text,icon:"parachute"})},description:"Dropzone rigs, e.g tandems and student rigs",onPress:function(){return e.navigate("DropzoneRigsScreen")}}),g.createElement(Lr.c.Item,{disabled:!a,title:"Rig Inspection Template",left:function(){return g.createElement(Lr.c.Icon,{color:t.colors.text,icon:"check"})},onPress:function(){return e.navigate("RigInspectionTemplateScreen")}}),g.createElement(Lr.c.Item,{title:"Master Log",left:function(){return g.createElement(Lr.c.Icon,{color:t.colors.text,icon:"parachute"})},description:"View historic data for daily operations",onPress:function(){return e.navigate("DropzoneMasterLogScreen")}})),g.createElement(Lr.c.Section,{title:"Tickets",style:{width:"100%"}},g.createElement(Lr.c.Item,{title:"Ticket types",onPress:function(){return e.navigate("TicketTypesScreen")},left:function(){return g.createElement(Lr.c.Icon,{color:t.colors.text,icon:"ticket"})},description:"Manage ticket prices and accessibility"}),g.createElement(Lr.c.Item,{title:"Ticket add-ons",onPress:function(){return e.navigate("ExtrasScreen")},left:function(){return g.createElement(Lr.c.Icon,{color:t.colors.text,icon:"plus"})},description:"Supplementary tickets like coach, camera, night jumpi"})))}var ic,oc,lc,sc=t(419),cc=Pt(Object(Et.a)(ic||(ic=bt()(["\n  mutation CreateTicketType(\n    $name: String\n    $cost: Float\n    $dropzoneId: Int!\n    $altitude: Int\n    $allowManifestingSelf: Boolean\n    $isTandem: Boolean\n    $extraIds: [Int!]\n  ) {\n    createTicketType(\n      input: {\n        attributes: {\n          name: $name\n          cost: $cost\n          dropzoneId: $dropzoneId\n          altitude: $altitude\n          allowManifestingSelf: $allowManifestingSelf\n          isTandem: $isTandem\n          extraIds: $extraIds\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      ticketType {\n        id\n        name\n        altitude\n        cost\n        allowManifestingSelf\n        extras {\n          id\n          name\n          cost\n        }\n\n        dropzone {\n          id\n\n          ticketTypes {\n            id\n            name\n            altitude\n            cost\n            allowManifestingSelf\n            extras {\n              id\n              name\n              cost\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.createTicketType},fieldErrorMap:{extraIds:"extras"},validates:{name:[Ot("Tickets must have names")],cost:[Ot("Tickets must have a price")],altitude:[Ot("Altitude must be specified"),Tt("Altitude must be a number")]}}),uc=Pt(Object(Et.a)(oc||(oc=bt()(["\n  mutation UpdateTicketType(\n    $id: Int!\n    $name: String\n    $cost: Float\n    $altitude: Int\n    $allowManifestingSelf: Boolean\n    $isTandem: Boolean\n    $extraIds: [Int!]\n  ) {\n    updateTicketType(\n      input: {\n        id: $id\n        attributes: {\n          name: $name\n          cost: $cost\n          altitude: $altitude\n          allowManifestingSelf: $allowManifestingSelf\n          isTandem: $isTandem\n          extrasIds: $extraIds\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      ticketType {\n        id\n        name\n        altitude\n        cost\n        allowManifestingSelf\n        extras {\n          id\n          name\n          cost\n        }\n\n        dropzone {\n          id\n\n          ticketTypes {\n            id\n            name\n            altitude\n            cost\n            allowManifestingSelf\n            extras {\n              id\n              name\n              cost\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.updateTicketType},fieldErrorMap:{id:"original",extraIds:"extras"}}),dc=Object(Et.a)(lc||(lc=bt()(["\n  query QueryExtras($dropzoneId: Int!) {\n    extras(dropzoneId: $dropzoneId) {\n      id\n      cost\n      name\n\n      ticketTypes {\n        id\n        name\n      }\n    }\n  }\n"]))),mc={14e3:"Height",4e3:"Hop n Pop"};function fc(){var e,n,t,r,a,i=kn((function(e){return e.forms.ticketType})),o=En(),l=Rt(),s=g.useState(!1),c=_()(s,2),u=c[0],d=c[1],m=Object(yt.a)(dc,{variables:{dropzoneId:Number(null==l||null==(e=l.dropzone)?void 0:e.id)}}).data;return g.createElement(g.Fragment,null,g.createElement(Mr.a,{style:hc.field,mode:"outlined",label:"Name",error:!!i.fields.name.error,value:i.fields.name.value||"",onChangeText:function(e){return o(vn.forms.ticketType.setField(["name",e]))}}),g.createElement(Br.a,{type:i.fields.name.error?"error":"info"},i.fields.name.error||"Name of the ticket users will see"),g.createElement(Mr.a,{style:hc.field,mode:"outlined",label:"Price",error:!!i.fields.cost.error,value:null==(n=i.fields.cost)||null==(t=n.value)?void 0:t.toString(),onChangeText:function(e){return o(vn.forms.ticketType.setField(["cost",Number(e)]))}}),g.createElement(Br.a,{type:i.fields.cost.error?"error":"info"},i.fields.cost.error||"Base cost without extra ticket addons"),g.createElement(C.a,{style:{width:"100%"}},g.createElement(lr.a,{onDismiss:function(){return d(!1)},visible:u,style:{position:"absolute",right:"10%",left:"10%",flex:1},anchor:g.createElement(Lr.c.Item,{onPress:function(){d(!0)},title:i.fields.altitude.value&&i.fields.altitude.value.toString()in mc?mc[i.fields.altitude.value.toString()]:"Custom",style:{width:"100%",flex:1},right:function(){return g.createElement(Lr.c.Icon,{icon:i.fields.altitude.value&&i.fields.altitude.value.toString()in mc?mc[i.fields.altitude.value.toString()]:"pencil-plus"})}})},g.createElement(Lr.c.Item,{onPress:function(){o(vn.forms.ticketType.setField(["altitude",4e3])),d(!1)},title:"Hop n Pop",right:function(){return g.createElement(Lr.c.Icon,{icon:"parachute"})}}),g.createElement(Lr.c.Item,{onPress:function(){o(vn.forms.ticketType.setField(["altitude",14e3])),d(!1)},title:"Height",right:function(){return g.createElement(Lr.c.Icon,{icon:"airplane-takeoff"})}}),g.createElement(Lr.c.Item,{onPress:function(){o(vn.forms.ticketType.setField(["altitude",7e3])),d(!1)},title:"Other",right:function(){return g.createElement(Lr.c.Icon,{icon:"parachute"})}})),(!i.fields.altitude.value||![4e3,14e3].includes(i.fields.altitude.value))&&g.createElement(Mr.a,{style:hc.field,mode:"outlined",label:"Custom altitude",error:!!i.fields.altitude.error,value:null==(r=i.fields.altitude)||null==(a=r.value)?void 0:a.toString(),onChangeText:function(e){return o(vn.forms.ticketType.setField(["altitude",Number(e)]))}}),g.createElement(Oa.a.Item,{label:"Tandem",style:{width:"100%"},status:i.fields.isTandem.value?"checked":"unchecked",onPress:function(){return o(vn.forms.ticketType.setField(["isTandem",!i.fields.isTandem.value]))}}),g.createElement(Br.a,{type:i.fields.isTandem.error?"error":"info"},i.fields.isTandem.error||"Allow also manifesting a passenger when using this ticket type"),g.createElement(Oa.a.Item,{label:"Public manifesting",style:{width:"100%"},status:i.fields.allowManifestingSelf.value?"checked":"unchecked",onPress:function(){return o(vn.forms.ticketType.setField(["allowManifestingSelf",!i.fields.allowManifestingSelf.value]))}}),g.createElement(Br.a,{type:i.fields.allowManifestingSelf.error?"error":"info"},i.fields.allowManifestingSelf.error||"Allow users to manifest themselves with this ticket"),g.createElement(Wr.a,null),g.createElement(Lr.c.Subheader,null,"Enabled ticket add-ons"),null==m?void 0:m.extras.map((function(e){var n;return g.createElement(Oa.a.Item,{key:"extra-"+e.id,label:e.name||"",status:null!=(n=i.fields.extras.value)&&n.map((function(e){return e.id})).includes(e.id)?"checked":"unchecked",onPress:function(){var n,t,r;return o(vn.forms.ticketType.setField(["extras",null!=(n=i.fields.extras.value)&&n.map((function(e){return e.id})).includes(e.id)?null==(t=i.fields.extras.value)?void 0:t.filter((function(n){return n.id!==e.id})):[].concat(Ur()(null==(r=i.fields.extras)?void 0:r.value),[e])]))}})}))))}var pc,gc,vc,hc=j.a.create({field:{marginBottom:8,width:"100%"}});function bc(e){var n,t,r,i,o=e.open,l=e.onClose,s=kn((function(e){return e.forms.ticketType})),c=En(),u=Rt(),d=cc({onSuccess:function(e){c(vn.notifications.showSnackbar({message:"Saved",variant:"success"})),c(vn.forms.ticketType.reset()),l()},onFieldError:function(e,n){return c(vn.forms.ticketType.setFieldError([e,n]))},onError:function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),m=uc({onSuccess:function(e){return requestAnimationFrame((function(){c(vn.notifications.showSnackbar({message:"Saved",variant:"success"})),c(vn.forms.ticketType.reset()),l()}))},onFieldError:function(e,n){return c(vn.forms.ticketType.setFieldError([e,n]))},onError:function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),f=Object(tr.useIsFocused)();g.useEffect((function(){f&&c(vn.forms.ticketType.reset())}),[c,f]);var p=g.useCallback((function(){var e,n,t,r,i,o,l;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(null==(e=s.original)||!e.id){c.next=5;break}return c.next=3,a.a.awrap(m.mutate({id:Number(null==(n=s.original)?void 0:n.id),name:s.fields.name.value,cost:s.fields.cost.value,altitude:s.fields.altitude.value,allowManifestingSelf:s.fields.allowManifestingSelf.value,extraIds:null==(t=s.fields.extras)||null==(r=t.value)?void 0:r.map((function(e){var n=e.id;return Number(n)})),isTandem:!!s.fields.isTandem.value}));case 3:c.next=7;break;case 5:return c.next=7,a.a.awrap(d.mutate({dropzoneId:Number(null==u||null==(i=u.dropzone)?void 0:i.id),name:s.fields.name.value,cost:s.fields.cost.value,altitude:s.fields.altitude.value,allowManifestingSelf:s.fields.allowManifestingSelf.value,extraIds:null==(o=s.fields.extras)||null==(l=o.value)?void 0:l.map((function(e){var n=e.id;return Number(n)})),isTandem:!!s.fields.isTandem.value}));case 7:case"end":return c.stop()}}),null,null,null,Promise)}),[d,null==u||null==(n=u.dropzone)?void 0:n.id,s.fields.allowManifestingSelf.value,s.fields.altitude.value,s.fields.cost.value,null==(t=s.fields.extras)?void 0:t.value,s.fields.isTandem.value,s.fields.name.value,null==(r=s.original)?void 0:r.id,m]),v=g.useMemo((function(){return[550,650]}),[]);return g.createElement(Go,{title:null!=(i=s.original)&&i.id?"Edit ticket":"New ticket",open:o,snapPoints:v,onClose:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){l()})),loading:d.loading||m.loading,buttonAction:p,buttonLabel:"Save"},g.createElement(fc,null))}var yc=Object(Et.a)(pc||(pc=bt()(["\n  query QueryTicketType($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      ticketTypes {\n        id\n        cost\n        currency\n        name\n        altitude\n        allowManifestingSelf\n\n        extras {\n          id\n          name\n        }\n      }\n    }\n  }\n"]))),xc=Object(Et.a)(gc||(gc=bt()(["\n  mutation UpdateTicketTypePublic($id: Int!, $allowManifestingSelf: Boolean) {\n    updateTicketType(\n      input: { id: $id, attributes: { allowManifestingSelf: $allowManifestingSelf } }\n    ) {\n      ticketType {\n        id\n        name\n        altitude\n        cost\n        allowManifestingSelf\n        isTandem\n        extras {\n          id\n          name\n          cost\n        }\n      }\n      fieldErrors {\n        field\n        message\n      }\n      errors\n    }\n  }\n"]))),Ec=Object(Et.a)(vc||(vc=bt()(["\n  mutation DeleteTicketType($id: Int!) {\n    deleteTicketType(input: { id: $id }) {\n      ticketType {\n        id\n        dropzone {\n          id\n          ticketTypes {\n            id\n            cost\n            currency\n            name\n            altitude\n            allowManifestingSelf\n\n            extras {\n              id\n              name\n            }\n          }\n        }\n      }\n      errors\n    }\n  }\n"])));function kc(){var e,n,t=kn((function(e){return e.global})),r=kn((function(e){return e.forms.ticketType})),i=En(),o=Object(yt.a)(yc,{variables:{dropzoneId:Number(t.currentDropzoneId)}}),l=o.data,s=o.loading,c=o.refetch,u=Object(tr.useRoute)(),d=Object(tr.useIsFocused)();g.useEffect((function(){d&&c()}),[d,c]);var m=Object(kt.a)(xc),f=_()(m,1)[0],p=Object(kt.a)(Ec),v=_()(p,1)[0];g.useEffect((function(){"TicketTypesScreen"===u.name&&c()}),[c,u.name]);var h=wr($.CreateTicketType);return g.createElement(Oi,{style:wc.container,contentContainerStyle:[wc.content,{backgroundColor:"white"}],refreshControl:g.createElement(Kt.a,{refreshing:s,onRefresh:c})},g.createElement(y.a,{visible:s,color:t.theme.colors.accent}),g.createElement(Oo.a,null,g.createElement(Oo.a.Header,null,g.createElement(Oo.a.Title,null,"Name"),g.createElement(Oo.a.Title,{numeric:!0},"Cost"),g.createElement(Oo.a.Title,{numeric:!0},"Altitude"),g.createElement(Oo.a.Title,{numeric:!0},"Public")),null==l||null==(e=l.dropzone)||null==(n=e.ticketTypes)?void 0:n.map((function(e){return g.createElement(jo,{rightAction:{label:"Delete",backgroundColor:"red",onPress:function(){var n,t,r,o,l;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(v({variables:{id:Number(e.id)}}));case 2:r=s.sent,null!=(o=r.data)&&null!=(n=o.deleteTicketType)&&null!=(t=n.errors)&&t.length&&i(vn.notifications.showSnackbar({message:null==o||null==(l=o.deleteTicketType)?void 0:l.errors[0],variant:"error"}));case 5:case"end":return s.stop()}}),null,null,null,Promise)}}},g.createElement(Oo.a.Row,{onPress:function(){i(vn.forms.ticketType.setOpen(e))},pointerEvents:"none"},g.createElement(Oo.a.Cell,null,e.name),g.createElement(Oo.a.Cell,{numeric:!0},"$",e.cost),g.createElement(Oo.a.Cell,{numeric:!0},e.altitude),g.createElement(Oo.a.Cell,{numeric:!0},g.createElement(sc.a,{onValueChange:function(){f({variables:{id:Number(e.id),allowManifestingSelf:!e.allowManifestingSelf}})},value:!!e.allowManifestingSelf}))))}))),g.createElement(Ja.a,{style:wc.fab,small:!0,visible:h,icon:"plus",onPress:function(){return i(vn.forms.ticketType.setOpen(!0))},label:"New ticket type"}),g.createElement(bc,{open:r.open,onClose:function(){return i(vn.forms.ticketType.setOpen(!1))}}))}var Sc,wc=j.a.create({container:{flex:1,display:"flex"},content:{flexGrow:1},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}}),Cc=Pt(Object(Et.a)(Sc||(Sc=bt()(["\n  mutation UpdateDropzone(\n    $id: Int!\n    $name: String!\n    $requestPublication: Boolean\n    $banner: String\n    $federationId: Int!\n    $lat: Float\n    $lng: Float\n    $primaryColor: String\n    $secondaryColor: String\n    $isCreditSystemEnabled: Boolean\n    $isPublic: Boolean\n  ) {\n    updateDropzone(\n      input: {\n        id: $id\n        attributes: {\n          name: $name\n          banner: $banner\n          lat: $lat\n          lng: $lng\n          requestPublication: $requestPublication\n          federationId: $federationId\n          primaryColor: $primaryColor\n          secondaryColor: $secondaryColor\n          isCreditSystemEnabled: $isCreditSystemEnabled\n          isPublic: $isPublic\n        }\n      }\n    ) {\n      dropzone {\n        id\n        name\n        banner\n        primaryColor\n        secondaryColor\n        isCreditSystemEnabled\n\n        planes {\n          id\n          name\n        }\n\n        federation {\n          id\n          name\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.updateDropzone},fieldErrorMap:{}}),zc=t(514),Oc=t(91),Ic=t(786),Tc=t(507),jc=t(138),Pc=t.n(jc);function Fc(e){var n=e.value,t=e.onChange,r=e.open,a=e.onClose,i=g.useRef();return g.createElement(Nr.a,null,g.createElement($r.a,{visible:!!r,onDismiss:function(){return a()}},g.createElement($r.a.Title,null,"Custom color"),g.createElement($r.a.Content,{style:{padding:20,height:400}},g.createElement(Tc.a,{style:{flex:1},sliderComponent:Pc.a,defaultColor:n,hideSliders:!0,ref:i})),g.createElement($r.a.Actions,null,g.createElement(Y.a,{onPress:function(){return a()}},"Cancel"),g.createElement(Y.a,{onPress:function(){var e;i.current&&t(null==(e=i.current)?void 0:e.getColor())}},"Save"))))}var Dc=["#000000","#FF1414","#D6116B","#B70E97","#6718AC","#1E47AB","#11839E","#0DA583","#10C626","#92EA12","#FF8B14","#FFB214"];var Ac=j.a.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16,height:200},title:{color:"white",fontSize:24,fontWeight:"bold",marginBottom:10,textAlign:"center"},colorBox:{height:25,width:25,margin:5,alignItems:"center",justifyContent:"center"}}),Nc=function(e){var n=e.value,t=e.title,r=e.helperText,a=e.onChange,i=e.error,o=!Dc.includes(n),l=g.useState(!1),s=_()(l,2),c=s[0],u=s[1];return g.createElement(g.Fragment,null,g.createElement(Fc,{open:c,value:n,onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){a(e),u(!1)})),onClose:function(){return u(!1)}}),g.createElement(nr.a,{style:Ac.card},g.createElement(Lr.c.Subheader,null,t),g.createElement(nr.a.Content,{style:{flexDirection:"row",flexWrap:"wrap"}},Dc.map((function(e){return g.createElement(ts.a,{onPress:function(){return a(e)}},g.createElement(Oc.a,{style:[Ac.colorBox,{flexDirection:"row"},e===n?{borderWidth:2,borderColor:"black"}:{}]},g.createElement(C.a,{style:{height:"100%",width:"33%",backgroundColor:Ze()(e).lighten(.6).hex()}}),g.createElement(C.a,{style:{height:"100%",width:"33%",backgroundColor:e}}),g.createElement(C.a,{style:{height:"100%",width:"33%",backgroundColor:Ze()(e).darken(.3).hex()}})))})),g.createElement(ts.a,{onPress:function(){return u(!0)}},g.createElement(Oc.a,{style:[Ac.colorBox,{backgroundColor:o?n:"#FFFFFF"},o?{borderWidth:2,borderColor:"black"}:{}]},g.createElement(Ic.a,{name:"add",size:1})))),g.createElement(Br.a,{type:i?"error":"info"},i||r)))};var $c=j.a.create({label:{fontWeight:"bold",textAlign:"center",color:"white",fontSize:16,marginTop:8},previewContainer:{height:200,width:100,borderRadius:5,borderWidth:j.a.hairlineWidth,borderColor:"#CCCCCC",backgroundColor:"#EFEFEF",alignSelf:"center"},previewTabButton:{width:25,height:9,borderRadius:4.5,backgroundColor:"blue",position:"absolute",bottom:4,left:30},previewTabButton2:{width:9,height:9,borderRadius:4.5,backgroundColor:"blue",position:"absolute",bottom:4,left:59},previewTabButton3:{width:9,height:9,borderRadius:4.5,backgroundColor:"blue",position:"absolute",bottom:4,left:70},previewAppBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",top:0,borderTopRightRadius:5,borderTopLeftRadius:5},previewTabBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",bottom:0,borderBottomRightRadius:5,borderBottomLeftRadius:5},previewLoadCard:{width:"96%",borderRadius:2,height:"20%",marginVertical:"2%",marginHorizontal:"2%",backgroundColor:"#FFFFFF",position:"absolute",top:"15%"},previewLoadCard2:{width:"96%",height:"20%",borderRadius:2,backgroundColor:"#FFFFFF",marginVertical:"2%",marginHorizontal:"2%",position:"absolute",top:"37%"},previewLoadCard3:{width:"96%",height:"20%",borderRadius:2,marginVertical:"2%",backgroundColor:"#FFFFFF",marginHorizontal:"2%",position:"absolute",top:"59%"},previewButton:{width:"35%",height:"6%",position:"absolute",bottom:22,right:5,borderRadius:5,backgroundColor:"#DDDDDD"},colorBox:{height:25,width:25,margin:5}}),Rc=function(e){var n=e.primaryColor,t=e.secondaryColor,r=kn((function(e){return e.global})).theme,a=Ze()(n).lighten(.6).hex();return g.createElement(C.a,null,g.createElement(Oc.a,{style:$c.previewContainer},g.createElement(C.a,{style:[$c.previewAppBar,{backgroundColor:r.colors.surface}]}),g.createElement(C.a,{style:[$c.previewLoadCard]}),g.createElement(C.a,{style:[$c.previewLoadCard2]}),g.createElement(C.a,{style:[$c.previewLoadCard3]}),g.createElement(C.a,{style:[$c.previewButton,{backgroundColor:t}]}),g.createElement(C.a,{style:[$c.previewTabBar,{backgroundColor:r.colors.surface}]}),g.createElement(C.a,{style:[$c.previewTabButton,{backgroundColor:a}]}),g.createElement(C.a,{style:[$c.previewTabButton2,{backgroundColor:a}]}),g.createElement(C.a,{style:[$c.previewTabButton3,{backgroundColor:a}]})),g.createElement(q.a,{style:$c.label},"Phone"))};var Uc=j.a.create({label:{fontWeight:"bold",textAlign:"center",color:"white",fontSize:16,marginTop:8},previewContainer:{height:100,width:170,borderRadius:5,borderWidth:j.a.hairlineWidth,borderColor:"#CCCCCC",alignSelf:"center"},previewAppBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",top:0,borderTopRightRadius:5,borderTopLeftRadius:5},previewTabButton:{width:15,height:5,borderRadius:3,backgroundColor:"blue",position:"absolute",bottom:2,left:20},previewTabButton2:{width:5,height:5,borderRadius:3,backgroundColor:"blue",position:"absolute",bottom:2,left:38},previewTabButton3:{width:5,height:5,borderRadius:3,backgroundColor:"blue",position:"absolute",bottom:2,left:45},previewTabBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",bottom:0,borderBottomRightRadius:5,borderBottomLeftRadius:5},previewLoadCard:{width:"30%",height:"60%",marginVertical:"2%",backgroundColor:"#FFFFFF",position:"absolute",top:"15%",left:"2%"},previewLoadCard2:{width:"30%",height:"60%",backgroundColor:"#FFFFFF",marginVertical:"2%",position:"absolute",top:"15%",left:"35%"},previewLoadCard3:{width:"30%",height:"60%",marginVertical:"2%",backgroundColor:"#FFFFFF",position:"absolute",top:"15%",left:"68%"},previewButton:{width:"12%",height:"6%",position:"absolute",bottom:15,right:8,borderRadius:5,backgroundColor:"#DDDDDD"},colorBox:{height:25,width:25,margin:5}}),Bc=function(e){var n=e.primaryColor,t=e.secondaryColor,r=Ze()(n).lighten(.6).hex();return g.createElement(C.a,null,g.createElement(Oc.a,{style:[Uc.previewContainer,{backgroundColor:"#EFEFEF"}]},g.createElement(C.a,{style:[Uc.previewAppBar,{backgroundColor:"#FFFFFF"}]}),g.createElement(C.a,{style:[Uc.previewLoadCard]}),g.createElement(C.a,{style:[Uc.previewLoadCard2]}),g.createElement(C.a,{style:[Uc.previewLoadCard3]}),g.createElement(C.a,{style:[Uc.previewButton,{backgroundColor:t}]}),g.createElement(C.a,{style:[Uc.previewTabBar,{backgroundColor:"#FFFFFF"}]}),g.createElement(C.a,{style:[Uc.previewTabButton,{backgroundColor:r}]}),g.createElement(C.a,{style:[Uc.previewTabButton2,{backgroundColor:r}]}),g.createElement(C.a,{style:[Uc.previewTabButton3,{backgroundColor:r}]})),g.createElement(q.a,{style:Uc.label},"Web"))};function Lc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Wc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Lc(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Lc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Mc,Vc=j.a.create({container:{paddingHorizontal:48,alignItems:"center",backgroundColor:"transparent"},title:{position:"absolute",fontSize:30,top:140,fontWeight:"bold",color:"white",left:0,paddingLeft:10,width:"100%",paddingBottom:40,textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2}},markerFixed:Wc(Wc({},j.a.absoluteFillObject),{},{justifyContent:"center",alignItems:"center",flexDirection:"column"}),content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:0,paddingVertical:16,marginVertical:16,width:"100%"},myLocation:{position:"absolute",bottom:30,right:30,backgroundColor:"white",borderRadius:50,padding:8}}),_c=function(e){var n=e.markerSize,t=e.labelSize,r=e.value,i=g.useState(),o=_()(i,2),l=o[0],s=o[1],c=g.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(Ji.b());case 3:if(e=t.sent,"granted"===e.status){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,a.a.awrap(Ji.a({}));case 9:n=t.sent,console.log("user location",n.coords),s({lat:n.coords.latitude,lng:n.coords.longitude}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),null,null,[[0,14]],Promise)}),[]);g.useEffect((function(){null!==r.lng&&null!=r.lng||c()}),[c,r.lng]);var u=g.useRef(new ti.a.Value(0)),d=r.lng&&r.lng?{lat:r.lat,lng:r.lng}:void 0,m=g.useState(!1),f=_()(m,2),p=f[0],v=f[1],h=g.useRef(ti.a.timing(u.current,{duration:100,toValue:0,useNativeDriver:!0})),b=g.useRef(ti.a.timing(u.current,{duration:100,toValue:1,useNativeDriver:!0})),y=g.useCallback((function(e){v(!0),(e?b:h).current.start((function(){return v(!1)}))}),[]),x=g.useState(!1),E=_()(x,2),k=E[0],S=E[1];return g.createElement(Ki.a,{defaultZoom:3,position:{x:0,y:0},width:"100%",height:"100%",mapStyle:Wc(Wc({},j.a.absoluteFillObject),{},{marginTop:-50}),coords:d,center:l||d,onDragStart:function(){p||(y(!1),S(!0))},onDragEnd:function(n){var t,r;null==(t=h.current)||t.stop(),null==(r=b.current)||r.stop(),v(!1),y(!0),y(!0),S(!1),e.onChange({longitude:n.lng,latitude:n.lat})},interactive:!0},d?g.createElement(C.a,{style:Vc.markerFixed,pointerEvents:"none"},g.createElement(gt.a,{pointerEvents:"none",size:n||60,style:{color:"#ffffff",textShadowColor:"rgba(14,14,14,0.8)",textShadowOffset:{width:5,height:5},textShadowRadius:10,zIndex:10},name:k?"map-marker":"map-marker-check-outline"}),g.createElement(ti.a.Text,{style:{fontSize:t||30,position:"absolute",bottom:"30%",width:"100%",opacity:u.current,textAlign:"center",color:"#ffffff",textShadowColor:"rgba(14,14,14,0.8)",textShadowOffset:{width:3,height:3},textShadowRadius:10}},d.lat.toFixed(5),",",d.lng.toFixed(5))):null,g.createElement(st.a,{style:Vc.myLocation,onPress:function(){c()}},g.createElement(Ic.a,{name:"my-location",size:20})))},Gc=Object(Et.b)(Mc||(Mc=bt()(["\n  query QueryFederations {\n    federations {\n      id\n      name\n    }\n  }\n"])));function qc(e){var n,t,r,i,o,l,s,c=e.loading,u=kn((function(e){return e.forms.dropzone})),d=En(),m=Object(yt.a)(Gc),f=m.data,p=m.loading,v=Rt().currentUser;g.useEffect((function(){var e,n;null==f||null==(e=f.federations)||!e.length||null!=(n=u.fields.federation)&&n.value||d(vn.forms.dropzone.setField(["federation",f.federations[0]]))}),[null==f?void 0:f.federations,d,null==(n=u.fields.federation)?void 0:n.value]);var h=g.useCallback((function(){var e;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap(Object(zc.a)({multiple:!1,type:"image"}));case 3:e=n.sent,d(vn.forms.dropzone.setField(["banner",e.uri])),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]],Promise)}),[d]);return console.log(u.fields),g.createElement(g.Fragment,null,g.createElement(ar.a,{isLoading:p||c,containerStyle:Hc.skeletonCard,layout:[{key:"box",height:300,width:"100%"}]},g.createElement(nr.a,{style:Hc.card},g.createElement(nr.a.Title,{title:"Banner"}),g.createElement(nr.a.Cover,{source:{uri:u.fields.banner.value||"https://picsum.photos/700"},resizeMode:"cover",style:{width:"100%"}}),g.createElement(nr.a.Actions,{style:{justifyContent:"flex-end"}},g.createElement(Y.a,{onPress:h},"Upload")))),g.createElement(ar.a,{isLoading:p||c,containerStyle:Hc.skeletonCard,layout:[{key:"box",height:300,width:"100%"}]},g.createElement(nr.a,{style:Hc.card},g.createElement(Lr.c.Subheader,null,"Name"),g.createElement(Mr.a,{mode:"outlined",error:!!u.fields.name.error,value:u.fields.name.value||"",onChangeText:function(e){return d(vn.forms.dropzone.setField(["name",e]))}}),g.createElement(Br.a,{type:"error"},u.fields.name.error||""),g.createElement(Hl,{value:u.fields.federation.value,onSelect:function(e){return d(vn.forms.dropzone.setField(["federation",e]))}}),g.createElement(Br.a,{type:u.fields.federation.error?"error":"info"},u.fields.federation.error||""))),g.createElement(ar.a,{isLoading:p||c,containerStyle:Hc.skeletonCard,layout:[{key:"box",height:300,width:"100%"}]},g.createElement(nr.a,{style:[Hc.card,{height:500,paddingHorizontal:0}]},g.createElement(Lr.c.Subheader,null,"Location"),g.createElement(nr.a.Content,{style:{marginTop:50,paddingBottom:50,paddingLeft:0,paddingRight:0,flexGrow:1}},g.createElement(_c,{value:u.fields.lat.value&&u.fields.lng.value?{lat:u.fields.lat.value,lng:u.fields.lng.value}:void 0,onChange:function(e){d(vn.forms.dropzone.setField(["lat",e.latitude])),d(vn.forms.dropzone.setField(["lng",e.longitude]))}})))),g.createElement(ar.a,{isLoading:p||c,containerStyle:Hc.skeletonCard,layout:[{key:"box",height:300,width:"100%"}]},g.createElement(nr.a,{style:Hc.card},g.createElement(nr.a.Title,{title:"Branding"}),g.createElement(nr.a.Content,{style:{flexDirection:"row",justifyContent:"space-evenly",alignItems:"flex-end",width:"100%"}},g.createElement(Rc,{primaryColor:u.fields.primaryColor.value||"#000000",secondaryColor:u.fields.secondaryColor.value||"#FFFFFF"}),g.createElement(Bc,{primaryColor:u.fields.primaryColor.value||"#000000",secondaryColor:u.fields.secondaryColor.value||"#FFFFFF"})))),g.createElement(ar.a,{isLoading:p||c,containerStyle:Hc.skeletonCardColorPicker,layout:[{key:"box",height:200,width:"100%"}]},g.createElement(Nc,{title:"Primary color",helperText:"Primary color is used for elements like the title bar and the tab bar",error:u.fields.primaryColor.error||null,onChange:function(e){d(vn.forms.dropzone.setField(["primaryColor",e])),d(vn.global.setPrimaryColor(e))},value:u.fields.primaryColor.value||"#000000"})),g.createElement(ar.a,{isLoading:p||c,containerStyle:Hc.skeletonCardColorPicker,layout:[{key:"box",height:200,width:"100%"}]},g.createElement(Nc,{title:"Accent color",helperText:"Accent color is used for highlights, like buttons and loading bars",error:u.fields.secondaryColor.error,onChange:function(e){d(vn.forms.dropzone.setField(["secondaryColor",e])),d(vn.global.setAccentColor(e))},value:u.fields.secondaryColor.value||"#FFFFFF"})),g.createElement(ar.a,{isLoading:p||c,containerStyle:Hc.skeletonCardCheckbox,layout:[{key:"box",height:150,width:"100%"}]},g.createElement(nr.a,{style:Hc.card},g.createElement(Lr.c.Item,{descriptionNumberOfLines:10,title:"Use credit system",description:"Users will be charged credits when a load is marked as landed and can't manifest with insufficient funds.",onPress:function(){return d(vn.forms.dropzone.setField(["isCreditSystemEnabled",!u.fields.isCreditSystemEnabled.value]))},left:function(){return g.createElement(Oa.a,{onPress:function(){return d(vn.forms.dropzone.setField(["isCreditSystemEnabled",!u.fields.isCreditSystemEnabled.value]))},status:u.fields.isCreditSystemEnabled.value?"checked":"unchecked"})}}))),g.createElement(ar.a,{isLoading:p||c,containerStyle:Hc.skeletonCardCheckbox,layout:[{key:"box",height:150,width:"100%"}]},g.createElement(nr.a,{style:Hc.card},g.createElement(Lr.c.Item,{title:null==u||null==(t=u.original)||!t.requestPublication||null!=(r=u.original)&&r.isPublic?"Request Publication":"Awaiting review",description:null==u||null==(i=u.original)||!i.requestPublication||null!=(o=u.original)&&o.isPublic?"Your dropzone will not be visible to other users until it is published. You can request a review to publish your dropzone, and may be contacted for verification on the email or phone number on your profile.":"You will be contacted to verify the legitimacy of your dropzone before your dropzone is publicly available. This is to prevent illegitimate actors on the platform. Thank you for your patience and understanding.",descriptionNumberOfLines:10,onPress:function(){var e,n;(d(vn.forms.dropzone.setField(["requestPublication",!(null!=(e=u.fields.requestPublication)&&e.value)])),u.fields.isPublic)&&d(vn.forms.dropzone.setField(["isPublic",!(null!=(n=u.fields.isPublic)&&n.value)]))},left:function(e){var n,t,r,a,i,o={icon:void 0,color:void 0};return null!=(n=u.fields.requestPublication)&&n.value&&(o.icon="upload"),null!=(t=u.original)&&t.requestPublication&&null!=(r=u.fields.requestPublication)&&r.value&&(o.color="#FF8800",o.icon="progress-upload"),null!=(a=u.original)&&a.isPublic&&null!=(i=u.fields)&&i.isPublic.value&&(o.icon="check"),o.icon?(console.log({extraProps:o,public:u.fields.isPublic.value,requestPublic:u.fields.requestPublication.value}),g.createElement(Lr.c.Icon,ft()({},e,o))):g.createElement(C.a,{style:{width:56,height:56}})}}),"administrator"===(null==v||null==(l=v.user)?void 0:l.moderationRole)&&null!=u&&null!=(s=u.original)&&s.requestPublication?g.createElement(nr.a.Actions,null,g.createElement(Y.a,{onPress:function(){return d(vn.forms.dropzone.setField(["isPublic",!1]))}},"Decline"),g.createElement(Y.a,{onPress:function(){return d(vn.forms.dropzone.setField(["isPublic",!0]))}},"Accept")):null)))}var Hc=j.a.create({skeletonCard:{marginVertical:16,width:"100%"},skeletonCardColorPicker:{marginVertical:16,minHeight:200,width:"100%"},skeletonCardCheckbox:{minHeight:116,marginVertical:16,width:"100%"},card:{padding:16,width:"100%"},fields:{flexGrow:1,display:"flex",width:"100%"},field:{marginBottom:8,width:"100%"},subheader:{paddingLeft:0}});function Yc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Jc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Yc(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Qc(){var e,n=kn((function(e){return e.forms.dropzone})),t=kn((function(e){return e.global})),r=En(),i=Object(tr.useRoute)().params.dropzone,o=Object(tr.useNavigation)(),l=Rt(),s=l.data,c=l.currentUser,u=l.loading;g.useEffect((function(){var e;null!=s&&null!=(e=s.dropzone)&&e.id&&r(vn.forms.dropzone.setOpen(s.dropzone))}),[null==s?void 0:s.dropzone,null==s||null==(e=s.dropzone)?void 0:e.id,r]);var d=Cc({onError:function(e){return r(vn.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){r(vn.global.setDropzone(Jc(Jc({},t.currentDropzone||{}),e.dropzone))),r(vn.notifications.showSnackbar({message:"Your settings have been saved",variant:"success"})),o.goBack()}}),m=g.useCallback((function(){var e,t,o,l,s,u,m,f,p,g,v,h,b,y,x,E,k;return a.a.async((function(S){for(;;)switch(S.prev=S.next){case 0:if(o=!1,l=n.fields,s=l.name,u=l.banner,m=l.federation,f=l.lat,p=l.lng,g=l.primaryColor,v=l.secondaryColor,h=l.isCreditSystemEnabled,b=l.requestPublication,y=l.isPublic,(null==(e=s.value)||!e.length||(null==(t=s.value)?void 0:t.length)<3)&&(o=!0,r(vn.forms.dropzone.setFieldError(["name","Name is too short"]))),o){S.next=15;break}return S.prev=4,S.next=7,a.a.awrap(d.mutate({id:Number(null==i?void 0:i.id),name:s.value,lat:f.value,lng:p.value,banner:u.value||null,primaryColor:g.value,secondaryColor:v.value,federationId:Number(null==m||null==(x=m.value)?void 0:x.id),isCreditSystemEnabled:!!h,isPublic:void 0!==(null==y?void 0:y.value)&&null!=c&&c.user.moderationRole&&"user"!==(null==c?void 0:c.user.moderationRole)?!(null==y||!y.value):null,requestPublication:!(null==b||!b.value)}));case 7:return null==(k=S.sent)||null==(E=k.fieldErrors)||E.map((function(e){var n=e.field,t=e.message;switch(n){case"federation":case"federation_id":return r(vn.forms.dropzone.setFieldError(["federation",t]));case"banner":return r(vn.forms.dropzone.setFieldError(["banner",t]));case"primary_color":return r(vn.forms.dropzone.setFieldError(["primaryColor",t]));case"secondary_color":return r(vn.forms.dropzone.setFieldError(["secondaryColor",t]));case"is_credit_system_enabled":return r(vn.forms.dropzone.setFieldError(["isCreditSystemEnabled",t]));case"name":return r(vn.forms.dropzone.setFieldError(["name",t]));case"is_public":return r(vn.forms.dropzone.setFieldError(["isPublic",t]));default:return null}})),S.abrupt("return",null);case 12:S.prev=12,S.t0=S.catch(4),r(vn.notifications.showSnackbar({message:S.t0.message,variant:"error"}));case 15:return S.abrupt("return",null);case 16:case"end":return S.stop()}}),null,null,[[4,12]],Promise)}),[n.fields,r,d,null==i?void 0:i.id,null==c?void 0:c.user.moderationRole]);return g.createElement(g.Fragment,null,g.createElement(y.a,{indeterminate:!0,color:t.theme.colors.accent,visible:u}),g.createElement(Oi,{style:{backgroundColor:"#f4f5f5"},contentContainerStyle:Xc.content},g.createElement(qc,{loading:u}),g.createElement(Aa,{style:Xc.fields},g.createElement(Y.a,{mode:"contained",disabled:d.loading,onPress:m,loading:d.loading},"Save"))))}var Xc=j.a.create({container:{flex:1,backgroundColor:"white",display:"flex"},content:{display:"flex",flexGrow:1,alignSelf:"center",alignItems:"center",width:"100%",maxWidth:500,padding:48},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fields:{width:"100%",marginBottom:16},field:{marginBottom:8}});function Zc(){var e,n,t,r,a=kn((function(e){return e.forms.plane})),i=En();return g.createElement(g.Fragment,null,g.createElement(Mr.a,{style:nu.field,mode:"outlined",label:"Name",error:!!a.fields.name.error,value:a.fields.name.value,onChangeText:function(e){return i(vn.forms.plane.setField(["name",e]))}}),g.createElement(Br.a,{type:a.fields.name.error?"error":"info"},a.fields.name.error||""),g.createElement(Mr.a,{style:nu.field,mode:"outlined",label:"Registration",error:!!a.fields.registration.error,value:a.fields.registration.value,onChangeText:function(e){return i(vn.forms.plane.setField(["registration",e]))}}),g.createElement(Br.a,{type:a.fields.registration.error?"error":"info"},a.fields.registration.error||""),g.createElement(Mr.a,{style:nu.field,mode:"outlined",label:"hours",error:!!a.fields.hours.error,value:null==(e=a.fields.hours)||null==(n=e.value)?void 0:n.toString(),placeholder:"Optional",onChangeText:function(e){return i(vn.forms.plane.setField(["hours",Number(e)]))}}),g.createElement(Br.a,{type:a.fields.hours.error?"error":"info"},a.fields.hours.error||""),g.createElement(Mr.a,{style:nu.field,mode:"outlined",label:"Min slots",error:!!a.fields.minSlots.error,value:null==(t=a.fields.minSlots.value)?void 0:t.toString(),keyboardType:"number-pad",onChangeText:function(e){return i(vn.forms.plane.setField(["minSlots",Number(e)]))}}),g.createElement(Br.a,{type:a.fields.minSlots.error?"error":"info"},a.fields.minSlots.error||"Minimum tickets required to send it"),g.createElement(Mr.a,{style:nu.field,mode:"outlined",label:"Max slots",error:!!a.fields.maxSlots.error,value:null==(r=a.fields.maxSlots)?void 0:r.value.toString(),keyboardType:"number-pad",onChangeText:function(e){return i(vn.forms.plane.setField(["maxSlots",Number(e)]))}}),g.createElement(Br.a,{type:a.fields.maxSlots.error?"error":"info"},a.fields.maxSlots.error||"Maximum amount of jumpers who can be manifested on one load"))}var Kc,eu,nu=j.a.create({fields:{width:"100%",flex:1},field:{width:"100%",marginBottom:8}});function tu(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ru(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?tu(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tu(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var au,iu,ou=Object(Et.b)(Kc||(Kc=bt()(["\n  mutation UpdatePlane(\n    $id: Int!\n    $name: String!\n    $registration: String!\n    $minSlots: Int!\n    $maxSlots: Int!\n    $hours: Int\n    $nextMaintenanceHours: Int\n  ) {\n    updatePlane(\n      input: {\n        id: $id\n        attributes: {\n          name: $name\n          registration: $registration\n          minSlots: $minSlots\n          maxSlots: $maxSlots\n          hours: $hours\n          nextMaintenanceHours: $nextMaintenanceHours\n        }\n      }\n    ) {\n      plane {\n        id\n        name\n        registration\n        minSlots\n        maxSlots\n        hours\n        nextMaintenanceHours\n\n        dropzone {\n          id\n          name\n          planes {\n            id\n            name\n            registration\n            minSlots\n            maxSlots\n            hours\n            nextMaintenanceHours\n          }\n        }\n      }\n      fieldErrors {\n        field\n        message\n      }\n      errors\n    }\n  }\n"]))),lu=Object(Et.b)(eu||(eu=bt()(["\n  mutation CreatePlane(\n    $name: String!\n    $registration: String!\n    $dropzoneId: Int!\n    $minSlots: Int!\n    $maxSlots: Int!\n    $hours: Int\n    $nextMaintenanceHours: Int\n  ) {\n    createPlane(\n      input: {\n        attributes: {\n          name: $name\n          registration: $registration\n          dropzoneId: $dropzoneId\n          minSlots: $minSlots\n          maxSlots: $maxSlots\n          hours: $hours\n          nextMaintenanceHours: $nextMaintenanceHours\n        }\n      }\n    ) {\n      plane {\n        ...plane\n\n        dropzone {\n          id\n          planes {\n            ...plane\n          }\n        }\n      }\n      fieldErrors {\n        field\n        message\n      }\n      errors\n    }\n  }\n  fragment plane on Plane {\n    id\n    name\n    registration\n    minSlots\n    maxSlots\n    hours\n    nextMaintenanceHours\n\n    dropzone {\n      id\n      name\n      planes {\n        id\n        name\n        registration\n        minSlots\n        maxSlots\n        hours\n        nextMaintenanceHours\n      }\n    }\n  }\n"])));function su(e){var n,t,r,i=e.open,o=e.onClose,l=Rt(),s=kn((function(e){return e.forms.plane})),c=En(),u=Object(kt.a)(lu),d=_()(u,2),m=d[0],f=d[1],p=Object(kt.a)(ou),v=_()(p,2),h=v[0],b=v[1],y=g.useCallback((function(){var e=!1;return(s.fields.name.value||"").length<3&&(e=!0,c(vn.forms.plane.setFieldError(["name","Name is too short"]))),(s.fields.registration.value||"").length<3&&(e=!0,c(vn.forms.plane.setFieldError(["registration","Registration is too short"]))),s.fields.maxSlots.value||(e=!0,c(vn.forms.plane.setFieldError(["maxSlots","Max slots must be specified"]))),!e}),[c,s.fields.maxSlots.value,s.fields.name.value,s.fields.registration.value]),x=g.useCallback((function(){var e,n,t,r,i,u,d,f,p,g,v,b,x,E,k,S,w,C,z;return a.a.async((function(O){for(;;)switch(O.prev=O.next){case 0:if(n=s.fields,t=n.name,r=n.registration,i=n.maxSlots,u=n.minSlots,d=n.hours,f=n.nextMaintenanceHours,p=null!=(e=s.original)&&e.id?h:m,!y()){O.next=18;break}return O.prev=3,O.next=6,a.a.awrap(p({variables:ru(ru({},null!=(g=s.original)&&g.id?{id:Number(s.original.id)}:{dropzoneId:Number(null==l||null==(v=l.dropzone)?void 0:v.id)}),{},{name:t.value,registration:r.value,minSlots:u.value,maxSlots:i.value,hours:d.value,nextMaintenanceHours:f.value})}));case 6:if(w=O.sent,null==(C=null!=(b=s.original)&&b.id?null==w||null==(x=w.data)?void 0:x.updatePlane:null==w||null==(E=w.data)?void 0:E.createPlane)||null==(k=C.fieldErrors)||!k.length){O.next=11;break}return C.fieldErrors.forEach((function(e){var n=e.field,t=e.message;switch(n){case"max_slots":return c(vn.forms.plane.setFieldError(["maxSlots",t]));case"name":return c(vn.forms.plane.setFieldError(["name",t]));case"min_slots":return c(vn.forms.plane.setFieldError(["minSlots",t]));case"hours":return c(vn.forms.plane.setFieldError(["hours",t]));case"next_maintenance_hours":return c(vn.forms.plane.setFieldError(["nextMaintenanceHours",t]));case"registration":return c(vn.forms.plane.setFieldError(["registration",t]));default:return null}})),O.abrupt("return");case 11:null!=C&&null!=(S=C.errors)&&S.length&&C.errors.forEach((function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))})),null!=C&&C.plane&&(z=null==C?void 0:C.plane,c(vn.notifications.showSnackbar({message:"Added plane "+z.name,variant:"success"})),o(),c(vn.forms.plane.reset())),O.next=18;break;case 15:O.prev=15,O.t0=O.catch(3),c(vn.notifications.showSnackbar({message:O.t0.message,variant:"error"}));case 18:case"end":return O.stop()}}),null,null,[[3,15]],Promise)}),[null==l||null==(n=l.dropzone)?void 0:n.id,c,m,h,o,s.fields,null==(t=s.original)?void 0:t.id,y]),E=g.useMemo((function(){return[580,"80%"]}),[]),k=g.useCallback((function(){o(),c(vn.forms.plane.reset())}),[c,o]);return g.createElement(Go,{title:null!=(r=s.original)&&r.id?"Edit aircraft":"New aircraft",open:i,snapPoints:E,buttonLabel:"Save",buttonAction:x,loading:f.loading||b.loading,onClose:k},g.createElement(Zc,null))}var cu=Object(Et.a)(au||(au=bt()(["\n  query QueryPlanes($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      planes {\n        id\n        name\n        registration\n        hours\n        minSlots\n        maxSlots\n        nextMaintenanceHours\n        createdAt\n      }\n    }\n  }\n"]))),uu=Object(Et.a)(iu||(iu=bt()(["\n  mutation DeletePlane($id: Int!) {\n    deletePlane(input: { id: $id }) {\n      errors\n      plane {\n        id\n        dropzone {\n          id\n          planes {\n            name\n            registration\n            hours\n            minSlots\n            maxSlots\n            nextMaintenanceHours\n            createdAt\n          }\n        }\n      }\n    }\n  }\n"])));function du(){var e,n,t,r,i,o,l=kn((function(e){return e.global})),s=kn((function(e){return e.forms.plane})),c=Object(yt.a)(cu,{variables:{dropzoneId:Number(l.currentDropzoneId)}}),u=c.data,d=c.loading,m=c.refetch,f=Object(kt.a)(uu),p=_()(f,1)[0],v=En(),h=Object(tr.useIsFocused)();g.useEffect((function(){h&&m()}),[h,m]);var b=wr($.DeletePlane),x=wr($.CreatePlane);return g.createElement(g.Fragment,null,g.createElement(Oi,{refreshControl:g.createElement(Kt.a,{refreshing:d,onRefresh:m})},g.createElement(y.a,{visible:d,color:l.theme.colors.accent}),null!=u&&null!=(e=u.dropzone)&&null!=(n=e.planes)&&n.length?null:g.createElement(Na,{title:"No planes?",subtitle:"You need to have at least one plane to manifest loads"}),null!=u&&null!=(t=u.dropzone)&&null!=(r=t.planes)&&r.length?g.createElement(Oo.a,null,g.createElement(Oo.a.Header,null,g.createElement(Oo.a.Title,null,"Name"),g.createElement(Oo.a.Title,{numeric:!0},"Registration"),g.createElement(Oo.a.Title,{numeric:!0},"Slots")),null==u||null==(i=u.dropzone)||null==(o=i.planes)?void 0:o.map((function(e){return g.createElement(jo,{key:"plane-"+e.id,disabled:!b,rightAction:{label:"Delete",backgroundColor:"red",onPress:function(){var n,t,r,i;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,a.a.awrap(p({variables:{id:Number(e.id)}}));case 2:r=o.sent,null!=(i=r.data)&&null!=(n=i.deletePlane)&&null!=(t=n.errors)&&t.length&&v(vn.notifications.showSnackbar({message:i.deletePlane.errors[0],variant:"error"}));case 5:case"end":return o.stop()}}),null,null,null,Promise)}}},g.createElement(Oo.a.Row,{pointerEvents:"none",onPress:function(){v(vn.forms.plane.setOpen(e))}},g.createElement(Oo.a.Cell,null,e.name),g.createElement(Oo.a.Cell,{numeric:!0},e.registration),g.createElement(Oo.a.Cell,{numeric:!0},e.maxSlots)))}))):null,g.createElement(Ja.a,{style:pu.fab,visible:x,small:!0,icon:"plus",onPress:function(){return v(vn.forms.plane.setOpen(!0))},label:"New plane"})),g.createElement(su,{open:s.open,onClose:function(){return v(vn.forms.plane.setOpen(!1))}}))}var mu,fu,pu=j.a.create({content:{flexGrow:1},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}});function gu(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function vu(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?gu(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gu(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function hu(e){var n=wr($.ActAsRigInspector),t=e.value,r=e.onChange,a=e.config;return null!=a&&a.valueType&&"string"===(null==a?void 0:a.valueType)?g.createElement(C.a,{style:{flex:1}},g.createElement(Mr.a,{mode:"outlined",disabled:!n,style:{marginVertical:8},value:t,onChangeText:function(e){return r(vu(vu({},a),{},{value:e}))},label:a.label||""}),g.createElement(Br.a,{type:"info"},a.description||"No description")):null!=a&&a.valueType&&"boolean"===(null==a?void 0:a.valueType)?g.createElement(Lr.c.Item,{title:a.label||"",disabled:!n,description:a.description,style:{marginVertical:8},right:function(){return g.createElement(Oa.a.Android,{status:t?"checked":"unchecked"})},onPress:function(){return r(vu(vu({},a),{},{value:!t}))}}):null!=a&&a.valueType&&"integer"===(null==a?void 0:a.valueType)?g.createElement(C.a,{style:{flex:1}},g.createElement(Mr.a,{disabled:!n,value:t,mode:"outlined",onChangeText:function(e){return r(vu(vu({},a),{},{value:e}))},label:a.label||"",keyboardType:"number-pad",style:{marginVertical:8}}),g.createElement(Br.a,{type:"info"},a.description||"No description")):null!=a&&a.valueType&&"date"===(null==a?void 0:a.valueType)?g.createElement(C.a,{style:{flex:1}},g.createElement(El,{disabled:!n,timestamp:Number(t),onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return r(vu(vu({},a),{},{value:e.toString()}))})),label:a.label||""}),g.createElement(Br.a,{type:"info"},a.description||"No description")):null}function bu(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function yu(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?bu(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bu(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function xu(){var e,n=kn((function(e){return e.forms.rigInspectionTemplate})),t=g.useState(null),r=_()(t,2),a=r[0],i=r[1],o=g.useState(!1),l=_()(o,2),s=l[0],c=l[1],u=En();return g.createElement(g.Fragment,null,null==(e=n.fields)?void 0:e.map((function(e,t){return g.createElement(g.Fragment,{key:""+e.valueType+t},g.createElement(C.a,{style:{display:"flex",flexDirection:"row",alignItems:"center"}},g.createElement(C.a,{style:{flexGrow:1},onTouchEnd:function(){return i(yu(yu({},e),{},{index:t}))}},g.createElement(hu,{config:e,value:(null==e?void 0:e.value)||"",onChange:function(){return null}})),g.createElement(Ka.a,{icon:"delete",onPress:function(){return u(vn.forms.rigInspectionTemplate.setFields(n.fields.filter((function(e,n){return n!==t}))))}})),g.createElement(Wr.a,null))})),g.createElement(Nr.a,null,g.createElement($r.a,{visible:!!a},g.createElement($r.a.Title,null,"New field"),g.createElement($r.a.Content,null,g.createElement(Mr.a,{label:"Name",mode:"outlined",value:null==a?void 0:a.label,onChangeText:function(e){return i(yu(yu({},a),{},{label:e}))}}),g.createElement(Mr.a,{label:"Description",placeholder:"optional",mode:"outlined",value:null==a?void 0:a.description,onChangeText:function(e){return i(yu(yu({},a),{},{description:e}))}}),g.createElement(Oa.a.Item,{label:"This is a required field",mode:"android",onPress:function(){return i(yu(yu({},a),{},{isRequired:!(null!=a&&a.isRequired)}))},status:null!=a&&a.isRequired?"checked":"unchecked"})),g.createElement($r.a.Actions,null,g.createElement(Y.a,{onPress:function(){return i(null)}},"Cancel"),g.createElement(Y.a,{onPress:function(){void 0!==(null==a?void 0:a.index)?u(vn.forms.rigInspectionTemplate.setFields(n.fields.map((function(e,n){return n===a.index?a:e})))):u(vn.forms.rigInspectionTemplate.setFields([].concat(Ur()(n.fields),[a]))),i(null)}},"Save"))),g.createElement(Ja.a.Group,{open:s,visible:!0,icon:s?"close":"plus",fabStyle:{marginLeft:16,marginBottom:48},actions:[{icon:"pencil",label:"Text",onPress:function(){return i({valueType:"string"})}},{icon:"calendar",label:"Date",onPress:function(){return i({valueType:"date"})}},{icon:"counter",label:"Number",onPress:function(){return i({valueType:"integer"})}},{icon:"checkbox-marked-circle-outline",label:"Checkbox",onPress:function(){return i({valueType:"boolean"})}}],onStateChange:function(e){var n=e.open;return c(n)}})))}var Eu,ku,Su=Object(Et.a)(mu||(mu=bt()(["\n  query RigInspection($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      rigInspectionTemplate {\n        id\n        name\n        definition\n      }\n    }\n  }\n"]))),wu=Object(Et.a)(fu||(fu=bt()(["\n  mutation UpdateRigInspectionTemplate($dropzoneId: Int, $formId: Int, $definition: String) {\n    updateFormTemplate(\n      input: { id: $formId, attributes: { dropzoneId: $dropzoneId, definition: $definition } }\n    ) {\n      formTemplate {\n        id\n        name\n        definition\n      }\n      fieldErrors {\n        field\n        message\n      }\n      errors\n    }\n  }\n"])));function Cu(){var e,n,t,r=kn((function(e){return e.forms.rigInspectionTemplate})),i=Rt(),o=En(),l=Object(yt.a)(Su,{variables:{dropzoneId:Number(null==i||null==(e=i.dropzone)?void 0:e.id)}}).data,s=wr($.UpdateFormTemplate),c=Object(kt.a)(wu),u=_()(c,2),d=u[0],m=u[1];g.useEffect((function(){var e;null!=l&&null!=(e=l.dropzone)&&e.rigInspectionTemplate&&o(vn.forms.rigInspectionTemplate.setOpen(l.dropzone.rigInspectionTemplate))}),[null==l?void 0:l.dropzone.rigInspectionTemplate,o]);var f=g.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(d({variables:{formId:Number(null==l||null==(e=l.dropzone.rigInspectionTemplate)?void 0:e.id),dropzoneId:Number(null==l||null==(n=l.dropzone)?void 0:n.id),definition:JSON.stringify(r.fields)}}));case 3:o(vn.notifications.showSnackbar({message:"Template saved",variant:"success"})),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),o(vn.notifications.showSnackbar({message:t.t0.message,variant:"error"}));case 9:case"end":return t.stop()}}),null,null,[[0,6]],Promise)}),[d,null==l||null==(n=l.dropzone.rigInspectionTemplate)?void 0:n.id,null==l||null==(t=l.dropzone)?void 0:t.id,r.fields,o]);return g.createElement(Oi,null,g.createElement(nr.a,{style:{width:"100%"}},g.createElement(nr.a.Title,{title:"Rig Inspection Form Template"}),g.createElement(nr.a.Content,null,g.createElement(xu,null)),g.createElement(nr.a.Actions,null,g.createElement(Y.a,{disabled:!s,mode:"contained",loading:m.loading,onPress:function(){return f()},style:{width:"100%"}},"Save template"))))}var zu=Object(Et.a)(Eu||(Eu=bt()(["\n  query QueryDropzoneRigs($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      rigs {\n        id\n        name\n        make\n        isPublic\n        model\n        serial\n        rigType\n        repackExpiresAt\n        canopySize\n        packValue\n      }\n    }\n  }\n"]))),Ou=Object(Et.a)(ku||(ku=bt()(["\n  mutation UpdateDropzoneRig($id: Int!, $isPublic: Boolean) {\n    updateRig(input: { id: $id, attributes: { isPublic: $isPublic } }) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      rig {\n        id\n        name\n        make\n        model\n        serial\n        isPublic\n        canopySize\n        repackExpiresAt\n        packValue\n        maintainedAt\n        rigType\n\n        dropzone {\n          id\n          rigs {\n            id\n            name\n            make\n            model\n            isPublic\n            serial\n            canopySize\n            repackExpiresAt\n            packValue\n            maintainedAt\n          }\n        }\n      }\n    }\n  }\n"])));function Iu(){var e,n,t=kn((function(e){return e.global})),r=kn((function(e){return e.forms.rig})),o=Object(yt.a)(zu,{variables:{dropzoneId:Number(t.currentDropzoneId)}}),l=o.data,s=o.loading,c=o.refetch,u=En(),d=Object(tr.useIsFocused)(),m=Object(kt.a)(Ou),f=_()(m,2),p=f[0],v=f[1],h=wr($.CreateDropzoneRig);return g.useEffect((function(){d&&c()}),[d,c]),g.createElement(Oi,{style:ju.container,contentContainerStyle:[ju.content,{backgroundColor:"white"}],refreshControl:g.createElement(Kt.a,{refreshing:s,onRefresh:function(){return c()}})},g.createElement(y.a,{visible:s||v.loading,color:t.theme.colors.accent}),g.createElement(Oo.a,null,g.createElement(Oo.a.Header,null,g.createElement(Oo.a.Title,null,"Container"),g.createElement(Oo.a.Title,{numeric:!0},"Repack due"),g.createElement(Oo.a.Title,{numeric:!0},"Canopy size"),g.createElement(Oo.a.Title,{numeric:!0},"Type"),g.createElement(Oo.a.Title,{numeric:!0},"Public")),null==l||null==(e=l.dropzone)||null==(n=e.rigs)?void 0:n.map((function(e){return g.createElement(Oo.a.Row,{key:"rig-"+e.id},g.createElement(Oo.a.Cell,{onPress:function(){u(vn.forms.rig.setOpen(e))}},[null==e?void 0:e.make,null==e?void 0:e.model,"#"+(null==e?void 0:e.serial)].join(" ")),g.createElement(Oo.a.Cell,{numeric:!0},null!=e&&e.repackExpiresAt?Object(Qo.a)(1e3*e.repackExpiresAt,"yyyy/MM/dd"):"-"),g.createElement(Oo.a.Cell,{numeric:!0},""+(null==e?void 0:e.canopySize)),g.createElement(Oo.a.Cell,{numeric:!0},e.rigType),g.createElement(Oo.a.Cell,{numeric:!0},g.createElement(i.e,{onValueChange:function(){var n,t,r,i;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,a.a.awrap(p({variables:{id:Number(e.id),isPublic:!e.isPublic}}));case 2:r=o.sent,null!=(i=r.data)&&null!=(n=i.updateRig)&&null!=(t=n.errors)&&t.length&&u(vn.notifications.showSnackbar({message:null==i?void 0:i.updateRig.errors[0],variant:"error"}));case 5:case"end":return o.stop()}}),null,null,null,Promise)},value:!!e.isPublic})))}))),g.createElement(Ml,{onClose:function(){return u(vn.forms.rig.setOpen(!1))},onSuccess:function(){u(vn.forms.rig.setOpen(!1)),c()},dropzoneId:Number(t.currentDropzoneId),open:r.open}),g.createElement(Ja.a,{visible:h,style:ju.fab,small:!0,icon:"plus",onPress:function(){return u(vn.forms.rig.setOpen(!0))},label:"New rig"}))}var Tu,ju=j.a.create({container:{flex:1,display:"flex"},content:{flexGrow:1},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}});function Pu(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Fu(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Pu(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pu(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Du,Au=Object(Et.a)(Tu||(Tu=bt()(["\n  mutation UpdateRole($roleId: Int!, $permissionName: String!, $enabled: Boolean!) {\n    updateRole(input: { id: $roleId, permission: $permissionName, enabled: $enabled }) {\n      role {\n        id\n        name\n        permissions\n      }\n      fieldErrors {\n        field\n        message\n      }\n      errors\n    }\n  }\n"])));function Nu(e){var n=e.title,t=e.description,r=e.role,i=e.permissionName,o=wr($.GrantPermission),l=Object(kt.a)(Au),s=_()(l,1)[0],c=En();return g.createElement(Lr.c.Item,{disabled:!o,style:{width:"100%"},right:function(){return g.createElement(sc.a,{value:r.permissions.includes(i),onValueChange:function(){var e,n,t,o,l,u,d;return a.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,a.a.awrap(s({variables:{roleId:Number(r.id),permissionName:i,enabled:!r.permissions.includes(i)},optimisticResponse:{updateRole:{role:Fu(Fu({},r),{},{permissions:r.permissions.includes(i)?[].concat(Ur()(r.permissions),[i]):r.permissions.filter((function(e){return e!==i}))})}}}));case 2:null!=(o=m.sent)&&null!=(e=o.data)&&null!=(n=e.updateRole)&&null!=(t=n.errors)&&t.length&&(null==o||null==(l=o.data)||null==(u=l.updateRole)||null==(d=u.errors)||d.map((function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))})));case 4:case"end":return m.stop()}}),null,null,null,Promise)}})},title:n,description:t})}function $u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ru(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$u(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Uu=Object(Et.a)(Du||(Du=bt()(["\n  query QueryDropzoneRigs($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      roles {\n        id\n        name\n        permissions\n      }\n    }\n  }\n"])));function Bu(){var e,n,t,r,a=kn((function(e){return e.global})),i=Object(yt.a)(Uu,{variables:{dropzoneId:Number(a.currentDropzoneId)}}),o=i.data,l=i.loading,s=i.refetch,c=Object(tr.useIsFocused)();return g.useEffect((function(){c&&s()}),[c,s]),l||null==o||null==(e=o.dropzone)||null==(n=e.roles)||!n.length?g.createElement(ar.a,{isLoading:!0,containerStyle:{flexGrow:1,paddingHorizontal:16},layout:[{key:"first",height:175,marginTop:70,marginBottom:35,width:"100%"},{key:"second",height:175,marginBottom:35,width:"100%"},{key:"third",height:175,marginBottom:35,width:"100%"},{key:"fourth",height:175,marginBottom:35,width:"100%"},{key:"fifth",height:175,marginBottom:35,width:"100%"}]}):g.createElement(va.b,{defaultIndex:0,mode:"scrollable",theme:Ru(Ru({},a.theme),{},{colors:Ru(Ru({},a.theme.colors),{},{primary:a.palette.primary.light})})},null==o||null==(t=o.dropzone)||null==(r=t.roles)?void 0:r.map((function(e){var n;return g.createElement(va.a,{label:Object(Yr.capitalize)(null==(n=e.name)?void 0:n.replace("_"," ")),key:"permission-tab-role-"+e.id},g.createElement(Oi,{contentContainerStyle:{maxWidth:500,width:"100%",alignSelf:"center"}},g.createElement(nr.a,{style:Mu.card},g.createElement(Lr.c.Subheader,null,"User Management"),g.createElement(Nu,{role:e,permissionName:"readUser",description:"View other users' profiles",title:"View Users"}),g.createElement(Nu,{role:e,permissionName:"updateUser",description:"Update other users",title:"Update Users"})),g.createElement(nr.a,{style:Mu.card},g.createElement(Lr.c.Section,{title:"Manifest",style:{width:"100%"}},g.createElement(Lr.c.Accordion,{title:"Loads"},g.createElement(Nu,{role:e,permissionName:"readLoad",description:"See available loads on the manifest screen",title:"View Load"}),g.createElement(Nu,{role:e,permissionName:"createLoad",title:"Create Loads"}),g.createElement(Nu,{role:e,permissionName:"updateLoad",description:"Dispatch loads, update load master, change pilot / plane, etc",title:"Update Loads"}),g.createElement(Nu,{role:e,permissionName:"deleteLoad",description:"Permanently delete existing loads",title:"Delete Load"})),g.createElement(Lr.c.Accordion,{title:"Manifesting"},g.createElement(Nu,{role:e,permissionName:"createSlot",description:"Create a slot for himself/herself only",title:"Manifest self"}),g.createElement(Nu,{role:e,permissionName:"updateSlot",description:"Update own slot after manifesting themselves",title:"Update own slot"}),g.createElement(Nu,{role:e,permissionName:"deleteSlot",description:"Take themselves off the load",title:"Remove own slot"}),g.createElement(Nu,{role:e,permissionName:"createUserSlot",description:"Manifest other users, e.g yourself + others",title:"Manifest other people"}),g.createElement(Nu,{role:e,permissionName:"createUserSlotWithSelf",description:"Allow manifesting others only if the user is part of the group",title:"Manifest own groups"}),g.createElement(Nu,{role:e,permissionName:"updateUserSlot",description:"Update other people's slots on a load",title:"Update other users slot"}),g.createElement(Nu,{role:e,permissionName:"deleteUserSlot",description:"Delete other users' slots off a load",title:"Take others off the load"}),g.createElement(Nu,{role:e,permissionName:"createStudentSlot",description:"Manifest a student on a load",title:"Manifest students"}),g.createElement(Nu,{role:e,permissionName:"updateStudentSlot",description:"Make changes to an already manifested student",title:"Update student slots"}),g.createElement(Nu,{role:e,permissionName:"deleteStudentSlot",description:"Take a student off the load",title:"Remove student slots"})))),g.createElement(nr.a,{style:Mu.card},g.createElement(Lr.c.Section,{title:"Administration",style:{width:"100%"}},g.createElement(Lr.c.Accordion,{title:"Dropzone"},g.createElement(Nu,{role:e,permissionName:"updateDropzone",description:"Change dropzone name, visibility, and branding",title:"Update Dropzone"}),g.createElement(Nu,{role:e,permissionName:"deleteDropzone",description:"Permanently delete dropzone",title:"Delete Dropzone"})),g.createElement(Lr.c.Accordion,{title:"Ticket types"},g.createElement(Nu,{role:e,permissionName:"createTicketType",description:"Create new jump tickets",title:"Create Ticket"}),g.createElement(Nu,{role:e,permissionName:"updateTicketType",description:"Make changes to existing ticket types, including prices",title:"Update Tickets"}),g.createElement(Nu,{role:e,permissionName:"deleteTicketType",description:"Delete existing ticket types",title:"Remove Tickets"})),g.createElement(Lr.c.Accordion,{title:"Ticket addons"},g.createElement(Nu,{role:e,permissionName:"createExtra",description:"Set up new ticket addons",title:"Create Ticket addon"}),g.createElement(Nu,{role:e,permissionName:"updateExtra",description:"Make changes to existing ticket addons, including prices",title:"Update Ticket addons"}),g.createElement(Nu,{role:e,permissionName:"deleteExtra",description:"Delete existing ticket addons",title:"Remove Ticket addons"})),g.createElement(Lr.c.Accordion,{title:"Planes"},g.createElement(Nu,{role:e,permissionName:"createPlane",description:"Add new aircrafts",title:"Create Aircraft"}),g.createElement(Nu,{role:e,permissionName:"updatePlane",description:"Make changes to existing aircrafts",title:"Update Aircraft"}),g.createElement(Nu,{role:e,permissionName:"deletePlane",description:"Remove existing aircrafts",title:"Remove Aircraft"})),g.createElement(Lr.c.Accordion,{title:"Rigs"},g.createElement(Nu,{role:e,permissionName:"createDropzoneRig",description:"Create dropzone managed rigs, e.g tandem and student rigs",title:"Create Rig"}),g.createElement(Nu,{role:e,permissionName:"updateDropzoneRig",description:"Make changes to existing student and tandem rigs",title:"Update Rigs"}),g.createElement(Nu,{role:e,permissionName:"deleteDropzoneRig",description:"Delete existing student and tandem rigs",title:"Remove Rigs"}),g.createElement(Nu,{role:e,permissionName:"updateFormTemplate",description:"Make changes to the rig inspection template",title:"Modify Rig Inspection Form"}))))))})))}var Lu,Wu,Mu=j.a.create({container:{flex:1,display:"flex"},card:{width:"100%",marginVertical:16},content:{flexGrow:1},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}}),Vu=Object(Et.a)(Lu||(Lu=bt()(["\n  query MasterLog($dropzoneId: Int!, $timestamp: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      masterLog(date: $timestamp) {\n        id\n        dzso {\n          id\n          user {\n            id\n            name\n          }\n        }\n\n        loads {\n          id\n          name\n          loadNumber\n\n          loadMaster {\n            id\n            user {\n              name\n            }\n          }\n\n          gca {\n            id\n            user {\n              name\n            }\n          }\n\n          slots {\n            id\n            dropzoneUser {\n              id\n              license {\n                id\n                name\n              }\n            }\n            user {\n              id\n              name\n              license {\n                id\n                name\n              }\n            }\n            ticketType {\n              id\n              name\n              altitude\n            }\n            jumpType {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function _u(){var e,n,t,r,a=Rt(),i=g.useState(Object(xt.a)(new Date).getTime()),o=_()(i,2),l=o[0],s=o[1],c=Object(tr.useNavigation)();g.useLayoutEffect((function(){c.setOptions({headerRight:function(){return g.createElement(El,{onChange:function(e){return s(1e3*e)},timestamp:l/1e3,color:"#FFFFFF"})}})}),[c,l]);var u=Object(yt.a)(Vu,{variables:{dropzoneId:Number(null==a||null==(e=a.dropzone)?void 0:e.id),timestamp:Math.floor(l/1e3)}}).data;return g.createElement(Oi,null,g.createElement(C.a,{style:{width:"100%"}}),null==u||null==(n=u.dropzone)||null==(t=n.masterLog)||null==(r=t.loads)?void 0:r.map((function(e){var n,t,r,a,i,o,l,s;return g.createElement(nr.a,{style:{width:"100%",marginVertical:16}},g.createElement(nr.a.Title,{title:"Load "+e.loadNumber}),g.createElement(nr.a.Content,null,g.createElement(Lr.c.Item,{title:"Pilot",description:null==e||null==(n=e.pilot)||null==(t=n.user)?void 0:t.name}),g.createElement(Lr.c.Item,{title:"GCA",description:null==e||null==(r=e.gca)||null==(a=r.user)?void 0:a.name}),g.createElement(Lr.c.Item,{title:"Plane",description:null!=e&&null!=(i=e.plane)&&i.id?(null==e||null==(o=e.plane)?void 0:o.name)+" ("+(null==e||null==(l=e.plane)?void 0:l.registration)+")":"No plane selected"}),g.createElement(Oo.a,null,g.createElement(Oo.a.Header,null,g.createElement(Oo.a.Title,null,"Name"),g.createElement(Oo.a.Title,null,"Jump type"),g.createElement(Oo.a.Title,{numeric:!0},"Altitude")),null==(s=e.slots)?void 0:s.map((function(e){var n,t,r;return g.createElement(Oo.a.Row,null,g.createElement(Oo.a.Cell,null,null==(n=e.user)?void 0:n.name),g.createElement(Oo.a.Cell,null,null==(t=e.jumpType)?void 0:t.name),g.createElement(Oo.a.Cell,{numeric:!0},null==(r=e.ticketType)?void 0:r.altitude))})))))})))}var Gu=Object(Et.a)(Wu||(Wu=bt()(["\n  query QueryTicketType($dropzoneId: Int!) {\n    ticketTypes(dropzoneId: $dropzoneId) {\n      id\n      cost\n      currency\n      name\n      allowManifestingSelf\n\n      extras {\n        id\n        name\n      }\n    }\n  }\n"])));function qu(){var e,n,t,r=kn((function(e){return e.forms.extra})),a=En(),i=Rt(),o=Object(yt.a)(Gu,{variables:{dropzoneId:Number(null==i||null==(e=i.dropzone)?void 0:e.id)}}).data;return g.createElement(g.Fragment,null,g.createElement(Mr.a,{style:Yu.field,mode:"outlined",label:"Name",error:!!r.fields.name.error,value:r.fields.name.value||"",onChangeText:function(e){return a(vn.forms.extra.setField(["name",e]))}}),g.createElement(Br.a,{type:r.fields.name.error?"error":"info"},r.fields.name.error||""),g.createElement(Mr.a,{style:Yu.field,mode:"outlined",label:"Price",error:!!r.fields.cost.error,value:null==(n=r.fields.cost)||null==(t=n.value)?void 0:t.toString(),onChangeText:function(e){return a(vn.forms.extra.setField(["cost",Number(e)]))}}),g.createElement(Br.a,{type:r.fields.cost.error?"error":"info"},r.fields.cost.error||""),g.createElement(C.a,{style:{width:"100%"}},g.createElement(Lr.c.Subheader,null,"Compatible tickets"),null==o?void 0:o.ticketTypes.map((function(e){var n;return g.createElement(Oa.a.Item,{label:e.name||"",status:null!=(n=r.fields.ticketTypes.value)&&n.map((function(e){return e.id})).includes(e.id)?"checked":"unchecked",onPress:function(){var n,t;return a(vn.forms.extra.setField(["ticketTypes",null!=(n=r.fields.ticketTypes.value)&&n.map((function(e){return e.id})).includes(e.id)?null==(t=r.fields.ticketTypes.value)?void 0:t.filter((function(n){return n.id!==e.id})):[].concat(Ur()(r.fields.ticketTypes.value||[]),[e])]))}})}))))}var Hu,Yu=j.a.create({fields:{width:"100%",flex:1},field:{marginBottom:8,width:"100%"}}),Ju=Object(Et.b)(Hu||(Hu=bt()(["\n  mutation UpdateExtra(\n    $id: Int!\n    $name: String\n    $ticketTypeIds: [Int!]\n    $cost: Float\n    $dropzoneId: Int\n  ) {\n    updateExtra(\n      input: {\n        id: $id\n        attributes: {\n          name: $name\n          ticketTypeIds: $ticketTypeIds\n          cost: $cost\n          dropzoneId: $dropzoneId\n        }\n      }\n    ) {\n      extra {\n        id\n        name\n\n        ticketTypes {\n          id\n          name\n          cost\n          altitude\n          allowManifestingSelf\n        }\n      }\n    }\n  }\n"])));function Qu(){var e,n,t=Rt(),r=kn((function(e){return e.forms.extra})),i=En(),o=Object(tr.useNavigation)(),l=Object(tr.useRoute)().params.extra;g.useEffect((function(){i(vn.forms.extra.setOpen(l))}),[i,l,l.id]);var s=Object(kt.a)(Ju),c=_()(s,2),u=c[0],d=c[1],m=g.useCallback((function(){var e,n=!1;return((null==(e=r.fields.name.value)?void 0:e.length)||0)<3&&(n=!0,i(vn.forms.extra.setFieldError(["name","Name is too short"]))),Number(r.fields.cost.value)<0&&(n=!0,i(vn.forms.extra.setFieldError(["cost","Price must be a number"]))),!n}),[r.fields,i]),f=g.useCallback((function(){var e,n,l,s,c,d,f,p,g,v;return a.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(e=r.fields,n=e.name,l=e.cost,s=e.ticketTypes,!m()){h.next=12;break}return h.prev=2,h.next=5,a.a.awrap(u({variables:{id:Number(null==(c=r.original)?void 0:c.id),dropzoneId:Number(null==t||null==(d=t.dropzone)?void 0:d.id),name:n.value,cost:l.value,ticketTypeIds:null==(f=s.value)?void 0:f.map((function(e){return e.id}))}}));case 5:v=h.sent,null!=(p=v.data)&&null!=(g=p.updateExtra)&&g.extra&&(i(Ro.showSnackbar({message:"Saved",variant:"success"})),o.goBack()),h.next=12;break;case 9:h.prev=9,h.t0=h.catch(2),i(Ro.showSnackbar({message:h.t0.message,variant:"error"}));case 12:case"end":return h.stop()}}),null,null,[[2,9]],Promise)}),[r.fields,null==(e=r.original)?void 0:e.id,m,u,null==t||null==(n=t.dropzone)?void 0:n.id,i,o]);return g.createElement(Oi,{contentContainerStyle:{paddingHorizontal:48}},g.createElement(gt.a,{name:"ticket-percent",size:100,color:"#999999",style:{alignSelf:"center"}}),g.createElement(qu,null),g.createElement(Aa,{style:ed.fields},g.createElement(Y.a,{mode:"contained",disabled:d.loading,onPress:f,loading:d.loading},"Save")))}var Xu,Zu,Ku,ed=j.a.create({container:{flex:1},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fields:{width:"100%",marginBottom:16},field:{marginBottom:8}}),nd=Pt(Object(Et.a)(Xu||(Xu=bt()(["\n  mutation CreateExtra($name: String, $ticketTypeIds: [Int!], $cost: Float, $dropzoneId: Int) {\n    createExtra(\n      input: {\n        attributes: {\n          name: $name\n          ticketTypeIds: $ticketTypeIds\n          cost: $cost\n          dropzoneId: $dropzoneId\n        }\n      }\n    ) {\n      extra {\n        ...extra\n\n        dropzone {\n          id\n          extras {\n            ...extra\n          }\n        }\n      }\n    }\n  }\n\n  fragment extra on Extra {\n    id\n    name\n    cost\n\n    ticketTypes {\n      id\n      name\n      cost\n      altitude\n      allowManifestingSelf\n    }\n  }\n"]))),{getPayload:function(e){return e.createExtra},fieldErrorMap:{ticketTypeIds:"ticketTypes"},validates:{name:[Ot("Tickets must have names")],cost:[Ot("Tickets must have a price"),Tt("Price must be a number")]}}),td=Pt(Object(Et.a)(Zu||(Zu=bt()(["\n  mutation UpdateExtra(\n    $id: Int!\n    $name: String\n    $ticketTypeIds: [Int!]\n    $cost: Float\n    $dropzoneId: Int\n  ) {\n    updateExtra(\n      input: {\n        id: $id\n        attributes: {\n          name: $name\n          ticketTypeIds: $ticketTypeIds\n          cost: $cost\n          dropzoneId: $dropzoneId\n        }\n      }\n    ) {\n      extra {\n        ...extra\n\n        dropzone {\n          id\n          extras {\n            ...extra\n          }\n        }\n      }\n    }\n  }\n\n  fragment extra on Extra {\n    id\n    name\n    cost\n\n    ticketTypes {\n      id\n      name\n      cost\n      altitude\n      allowManifestingSelf\n    }\n  }\n"]))),{getPayload:function(e){return e.updateExtra},fieldErrorMap:{id:"original",ticketTypeIds:"ticketTypes"}});function rd(e){var n,t,r,i=e.open,o=e.onClose,l=Rt(),s=kn((function(e){return e.forms.extra})),c=En(),u=nd({onSuccess:function(e){return requestAnimationFrame((function(){var n;c(vn.notifications.showSnackbar({message:"Saved "+(null==e||null==(n=e.extra)?void 0:n.name),variant:"success"})),o(),c(vn.forms.extra.reset())}))},onFieldError:function(e,n){return c(vn.forms.extra.setFieldError([e,n]))},onError:function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),d=td({onSuccess:function(e){return requestAnimationFrame((function(){var n;c(vn.notifications.showSnackbar({message:"Saved "+(null==e||null==(n=e.extra)?void 0:n.name),variant:"success"})),o(),c(vn.forms.extra.reset())}))},onFieldError:function(e,n){return c(vn.forms.extra.setFieldError([e,n]))},onError:function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),m=g.useCallback((function(){var e,n,t,r,i;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:null!=s&&null!=(e=s.original)&&e.id?d.mutate({id:Number(s.original.id),dropzoneId:Number(null==l||null==(n=l.dropzone)?void 0:n.id),name:s.fields.name.value,cost:s.fields.cost.value,ticketTypeIds:null==(t=s.fields.ticketTypes.value)?void 0:t.map((function(e){var n=e.id;return Number(n)}))}):u.mutate({dropzoneId:Number(null==l||null==(r=l.dropzone)?void 0:r.id),name:s.fields.name.value,cost:s.fields.cost.value,ticketTypeIds:null==(i=s.fields.ticketTypes.value)?void 0:i.map((function(e){var n=e.id;return Number(n)}))});case 1:case"end":return a.stop()}}),null,null,null,Promise)}),[u,null==l||null==(n=l.dropzone)?void 0:n.id,s.fields.cost.value,s.fields.name.value,s.fields.ticketTypes.value,null==(t=s.original)?void 0:t.id,d]),f=g.useMemo((function(){return[300,500]}),[]);return g.createElement(Go,{title:null!=(r=s.original)&&r.id?"Edit ticket addon":"New ticket addon",open:i,onClose:o,loading:u.loading||d.loading,buttonAction:m,buttonLabel:"Save",snapPoints:f},g.createElement(qu,null))}var ad=Object(Et.a)(Ku||(Ku=bt()(["\n  query QueryExtra($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      extras {\n        id\n        cost\n        name\n        ticketTypes {\n          id\n          altitude\n          name\n        }\n      }\n    }\n  }\n"])));function id(){var e,n,t,r,a,i=Rt(),o=kn((function(e){return e.global})),l=kn((function(e){return e.forms.extra})),s=Object(yt.a)(ad,{variables:{dropzoneId:Number(null==i||null==(e=i.dropzone)?void 0:e.id)}}),c=s.data,u=s.loading,d=En(),m=wr($.CreateExtra);return g.createElement(g.Fragment,null,g.createElement(y.a,{visible:u,indeterminate:!0,color:o.theme.colors.accent}),g.createElement(Aa,{style:od.container},g.createElement(Oo.a,null,g.createElement(Oo.a.Header,null,g.createElement(Oo.a.Title,null,"Name"),g.createElement(Oo.a.Title,{numeric:!0},"Cost")),null==c||null==(n=c.dropzone)||null==(t=n.extras)?void 0:t.map((function(e){return g.createElement(Oo.a.Row,{onPress:function(){d(vn.forms.extra.setOpen(e))},pointerEvents:"none"},g.createElement(Oo.a.Cell,null,e.name),g.createElement(Oo.a.Cell,{numeric:!0},"$",e.cost))}))),!u&&!(null!=c&&null!=(r=c.dropzone)&&null!=(a=r.extras)&&a.length)&&g.createElement(Na,{title:"No ticket addons",subtitle:"You can add multiple addons to assign to tickets, e.g outside camera, or coach"}),g.createElement(Ja.a,{style:od.fab,visible:m,small:!0,icon:"plus",onPress:function(){return d(vn.forms.extra.setOpen(!0))},label:"New ticket addon"})),g.createElement(rd,{open:l.open,onClose:function(){return d(vn.forms.extra.setOpen(!1))}}))}var od=j.a.create({container:{flex:1,padding:8,display:"flex"},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}}),ld=t(502);function sd(e){switch(e){case"paid":case"withdrawal":return"cash-minus";case"refunded":case"deposit":return"cash-plus";default:return"cash"}}function cd(e){var n=e.transaction,t=e.onPress,r=Object(ir.b)();return g.createElement(st.a,{onPress:t,style:{width:"100%"}},g.createElement(nr.a,{style:ud.transaction},g.createElement(nr.a.Content,{style:ud.transactionContent},g.createElement(Es.a,{style:{position:"absolute",top:4,right:8}},(null==n?void 0:n.createdAt)&&Object(Qo.a)(1e3*(null==n?void 0:n.createdAt),"Mo MMM, h:mm aaa")),g.createElement(Lr.c.Item,{description:Object(Yr.capitalize)(n.message||""),title:n.transactionType.toUpperCase(),style:{width:"100%"},titleStyle:ud.transactionTitle,descriptionStyle:ud.transactionDescription,left:function(){return g.createElement(C.a,{style:{width:165,alignItems:"center",flexDirection:"row"}},g.createElement(gt.a,{color:n.amount<0?"#FF1414":"#00C851",name:sd(n.status),size:36,style:{marginHorizontal:16}}),g.createElement(q.a,{style:{fontSize:30,fontWeight:"100",textAlign:"center",color:r.colors.onSurface}},n.amount<0?"-$"+-1*n.amount:"$"+n.amount))}}))))}var ud=j.a.create({avatarIcon:{},transactionTitle:{paddingLeft:0,fontSize:14,fontWeight:"500",marginBottom:0},transactionDescription:{paddingLeft:0},transactionContent:{paddingLeft:0,paddingRight:4,paddingTop:8,paddingBottom:8},transaction:{marginHorizontal:0,marginVertical:j.a.hairlineWidth,borderRadius:2,width:"100%"}});function dd(e){var n=e.receipt,t=e.index,r=Rt().currentUser,a=g.useCallback((function(e){return"__typename"in e&&"DropzoneUser"===e.__typename&&e.id===(null==r?void 0:r.id)}),[r]);return g.createElement(g.Fragment,null,g.createElement(Lr.c.Subheader,null,"Receipt #"+(t+1)),null==n?void 0:n.transactions.filter((function(e){return a(e.receiver)})).map((function(e){return g.createElement(cd,{transaction:e})})))}function md(){var e,n,t,r,a=Object(tr.useRoute)(),i=Object(ir.b)(),o=a.params.order;console.log("Order",a.params);var l=g.useMemo((function(){return JSON.parse(JSON.stringify(ld).replace(/260,254,0/g,[Ze()(i.colors.primary).red(),Ze()(i.colors.primary).green(),Ze()(i.colors.primary).blue()].join(",")))}),[i.colors.primary]);return g.createElement(Oi,null,g.createElement(nr.a,{style:{marginTop:32,width:"100%",maxWidth:600}},g.createElement(nr.a.Content,{style:{paddingBottom:16}},g.createElement(C.a,{style:{flexDirection:"row",alignItems:"center",flex:1}},g.createElement(Q.a,{loop:!1,autoPlay:!0,speed:.5,style:{height:150,width:150},source:l}),g.createElement(C.a,{style:{flexGrow:1}},g.createElement(q.a,{style:{fontWeight:"bold",alignSelf:"flex-start",fontSize:26,marginLeft:16,width:"100%"}},"Order #"+o.id),g.createElement(q.a,{style:{fontWeight:"bold",opacity:.6,alignSelf:"flex-start",fontSize:14,marginLeft:16,width:"100%",marginBottom:48}},o.title),g.createElement(Y.a,{mode:"outlined",color:"#00C851",style:{borderRadius:16,margin:8}},o.state)))),g.createElement(Wr.a,null),g.createElement(nr.a.Title,{style:{flexDirection:"row"},titleStyle:{width:"50%"},rightStyle:{width:"50%"},title:g.createElement(Lr.c.Item,{description:"Buyer",title:(null==o||null==(e=o.buyer)||null==(n=e.user)?void 0:n.name)||(null==o||null==(t=o.buyer)?void 0:t.name),left:function(e){var n,t,r,a,i,l;return g.createElement(Js,{name:(null==o||null==(n=o.buyer)||null==(t=n.user)?void 0:t.name)||(null==o||null==(r=o.buyer)?void 0:r.name)||"",image:(null==o||null==(a=o.buyer)||null==(i=a.user)?void 0:i.image)||(null==o||null==(l=o.buyer)?void 0:l.banner)||"",style:{alignSelf:"center"},size:36})},titleStyle:{width:100,fontSize:14},descriptionStyle:{width:100,fontSize:10}}),right:function(){var e,n,t;return g.createElement(Lr.c.Item,{description:"Seller",right:function(e){var n,t,r,a,i,l;return g.createElement(Js,{name:(null==o||null==(n=o.seller)||null==(t=n.user)?void 0:t.name)||(null==o||null==(r=o.seller)?void 0:r.name)||"",image:(null==o||null==(a=o.buyer)||null==(i=a.user)?void 0:i.image)||(null==o||null==(l=o.buyer)?void 0:l.banner)||"",style:{alignSelf:"center",marginLeft:8},size:36})},titleStyle:{textAlign:"right",fontSize:14},descriptionStyle:{textAlign:"right",fontSize:10},title:(null==o||null==(e=o.seller)||null==(n=e.user)?void 0:n.name)||(null==o||null==(t=o.seller)?void 0:t.name)})}})),null==o||null==(r=o.receipts)?void 0:r.map((function(e,n){return g.createElement(dd,{receipt:e,order:o,index:n})})))}function fd(){var e,n,t=kn((function(e){return e.global})),r=kn((function(e){return e.forms})),a=En(),o=Rt().currentUser,l=function(e){var n=ur(ur({},dr),e);return sr.a(Er,n)}(),s=_()(l,2),c=s[0],u=(s[1].data,Object(tr.useRoute)()),d=es(Number(null==u||null==(e=u.params)?void 0:e.userId)||Number(null==o?void 0:o.id)),m=d.dropzoneUser,f=d.loading,p=d.refetch,v=Object(tr.useIsFocused)(),h=Object(tr.useNavigation)();return g.useEffect((function(){v&&p()}),[v,p]),g.useEffect((function(){t.currentDropzoneId&&c({variables:{dropzoneId:t.currentDropzoneId}})}),[null==t?void 0:t.currentDropzoneId,c]),g.createElement(g.Fragment,null,f&&g.createElement(y.a,{color:t.theme.colors.accent,indeterminate:!0,visible:f}),g.createElement(i.a,{style:vd.flatList,data:(null==m||null==(n=m.orders)?void 0:n.edges)||[],refreshing:!1,onRefresh:p,renderItem:function(e){var n=e.item;return g.createElement(Qs,{onPress:function(){return h.navigate("OrderScreen",{order:n.node})},order:null==n?void 0:n.node,showAvatar:!0,dropzoneUser:m})}}),g.createElement(Nl,{onClose:function(){return a(vn.forms.credits.setOpen(!1))},onSuccess:function(){return a(vn.forms.credits.setOpen(!1))},open:r.credits.open,dropzoneUser:m||void 0}))}var pd,gd,vd=j.a.create({flatList:{flex:1,paddingTop:0}});function hd(){var e=kn((function(e){return e.forms.rigInspection})),n=En();return g.createElement(g.Fragment,null,e.fields.map((function(e,t){return g.createElement(hu,{key:t,config:e,value:(null==e?void 0:e.value)||"",onChange:function(e){return n(vn.forms.rigInspection.setField([t,e]))}})})))}function bd(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function yd(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?bd(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bd(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var xd=Object(Et.a)(pd||(pd=bt()(["\n  query RigInspections($dropzoneUserId: Int, $dropzoneId: Int!, $userId: Int) {\n    dropzone(id: $dropzoneId) {\n      id\n\n      rigInspectionTemplate {\n        id\n        name\n        definition\n      }\n\n      dropzoneUser(id: $dropzoneUserId, userId: $userId) {\n        id\n        rigInspections {\n          id\n          isOk\n          definition\n          rig {\n            id\n            name\n          }\n          inspectedBy {\n            id\n            user {\n              id\n              name\n            }\n          }\n          formTemplate {\n            id\n            name\n            definition\n          }\n        }\n      }\n    }\n  }\n"]))),Ed=Object(Et.a)(gd||(gd=bt()(["\n  mutation CreateRigInspection($dropzoneId: Int, $rigId: Int, $isOk: Boolean, $definition: String) {\n    createRigInspection(\n      input: {\n        attributes: { dropzoneId: $dropzoneId, rigId: $rigId, isOk: $isOk, definition: $definition }\n      }\n    ) {\n      rigInspection {\n        id\n        isOk\n        definition\n        dropzoneUser {\n          id\n          rigInspections {\n            id\n            isOk\n            rig {\n              id\n            }\n            inspectedBy {\n              id\n              user {\n                id\n                name\n              }\n            }\n          }\n        }\n        inspectedBy {\n          id\n          user {\n            id\n            name\n          }\n        }\n        rig {\n          id\n          name\n          make\n          model\n        }\n\n        formTemplate {\n          id\n          definition\n        }\n      }\n      fieldErrors {\n        field\n        message\n      }\n      errors\n    }\n  }\n"])));function kd(){var e,n,t,r,i,o,l,s,c,u=kn((function(e){return e.forms.rigInspection})),d=Rt(),m=En(),f=Object(tr.useRoute)().params,p=f.rig,v=f.dropzoneUserId,h=f.userId,b=Object(yt.a)(xd,{variables:{dropzoneId:Number(null==d||null==(e=d.dropzone)?void 0:e.id),dropzoneUserId:v,userId:h}}),y=b.data,x=b.refetch,E=Object(tr.useIsFocused)();g.useEffect((function(){x()}),[E,x]);var k=wr($.ActAsRigInspector),S=Object(kt.a)(Ed),w=_()(S,2),C=w[0],z=w[1],O=Object(tr.useNavigation)();g.useEffect((function(){var e,n,t;if(null==y||null==(e=y.dropzone)||null==(n=e.dropzoneUser)||null==(t=n.rigInspections)?void 0:t.some((function(e){var n,t,r;return(null==(n=e.rig)||null==(t=n.id)?void 0:t.toString())===(null==(r=p.id)?void 0:r.toString())&&e.definition}))){var r,a,i,o=null==y||null==(r=y.dropzone)||null==(a=r.dropzoneUser)||null==(i=a.rigInspections)?void 0:i.find((function(e){var n;return(null==(n=e.rig)?void 0:n.id)===p.id}));o&&(m(vn.forms.rigInspection.setFields(o.definition||"{}")),m(vn.forms.rigInspection.setOk(o.isOk)))}else{var l;m(vn.forms.rigInspection.setFields((null==y||null==(l=y.dropzone.rigInspectionTemplate)?void 0:l.definition)||"[]"))}}),[null==y||null==(n=y.dropzone)||null==(t=n.dropzoneUser)?void 0:t.rigInspections,null==y||null==(r=y.dropzone.rigInspectionTemplate)?void 0:r.definition,m,p.id]);var I=g.useCallback((function(){var e;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap(C({variables:{dropzoneId:Number(null==d||null==(e=d.dropzone)?void 0:e.id),rigId:Number(p.id),definition:JSON.stringify(u.fields),isOk:!!u.ok},update:function(e,n){var t,r,i,o,l,s,c,u,m,f,p,g,v,h,b,y,x,E,k,S,w;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return h=null==(t=n.data)||null==(r=t.createRigInspection)?void 0:r.rigInspection,b=e.readQuery({query:Kl,variables:{dropzoneId:Number(null==d||null==(i=d.dropzone)?void 0:i.id),dropzoneUserId:Number(null==h||null==(o=h.dropzoneUser)?void 0:o.id)}}),(null==(y=e.readQuery({query:$t,variables:{dropzoneId:Number(null==d||null==(l=d.dropzone)?void 0:l.id),earliestTimestamp:Object(xt.a)(new Date).getTime()/1e3}}))||null==(s=y.dropzone)||null==(c=s.currentUser)?void 0:c.id)===(null==h||null==(u=h.dropzoneUser)?void 0:u.id)&&e.writeQuery({query:$t,variables:{dropzoneId:Number(null==d||null==(x=d.dropzone)?void 0:x.id),earliestTimestamp:Object(xt.a)(new Date).getTime()/1e3},data:yd(yd({},y),{},{dropzone:yd(yd({},null==y?void 0:y.dropzone),{},{currentUser:yd(yd({},null==y||null==(E=y.dropzone)?void 0:E.currentUser),{},{rigInspections:[].concat(Ur()(((null==y||null==(k=y.dropzone)||null==(S=k.currentUser)?void 0:S.rigInspections)||[]).filter((function(e){return e.id!==(null==h?void 0:h.id)}))),[h])})})})}),w=yd(yd({},null==b?void 0:b.dropzone),{},{dropzoneUser:yd(yd({},null==b||null==(m=b.dropzone)?void 0:m.dropzoneUser),{},{rigInspections:[].concat(Ur()(((null==b||null==(f=b.dropzone)||null==(p=f.dropzoneUser)?void 0:p.rigInspections)||[]).filter((function(e){return e.id!==(null==h?void 0:h.id)}))),[h])})}),e.writeQuery({query:Kl,variables:{dropzoneId:Number(null==d||null==(g=d.dropzone)?void 0:g.id),dropzoneUserId:Number(null==h||null==(v=h.dropzoneUser)?void 0:v.id)},data:w}),a.abrupt("return",{data:w});case 7:case"end":return a.stop()}}),null,null,null,Promise)}}));case 3:m(vn.notifications.showSnackbar({message:"Rig inspection saved",variant:"success"})),m(vn.forms.rigInspection.reset()),O.goBack(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),m(vn.notifications.showSnackbar({message:n.t0.message,variant:"error"}));case 11:case"end":return n.stop()}}),null,null,[[0,8]],Promise)}),[C,null==d||null==(i=d.dropzone)?void 0:i.id,p.id,u.fields,u.ok,m,O]);return g.createElement(Oi,null,g.createElement($i.a,{behavior:"position",style:{width:"100%",flexGrow:1,maxWidth:400,backgroundColor:"transparent"}},g.createElement(ec,{rig:p}),g.createElement(nr.a,{style:{width:"100%"}},g.createElement(nr.a.Title,{title:null==y||null==(o=y.dropzone)||null==(l=o.rigInspectionTemplate)?void 0:l.name}),g.createElement(nr.a.Content,null,g.createElement(hd,null),g.createElement(Wr.a,null),g.createElement(Oa.a.Item,{mode:"android",label:"This rig is OK to jump",onPress:function(){return m(vn.forms.rigInspection.setOk(!u.ok))},status:u.ok?"checked":"unchecked"})),g.createElement(nr.a.Actions,null,g.createElement(Y.a,{disabled:!k||JSON.stringify(u.fields)===(null==y||null==(s=y.dropzone)||null==(c=s.rigInspectionTemplate)?void 0:c.definition),mode:"contained",onPress:function(){return I()},loading:z.loading,style:{width:"100%"}},"Mark as inspected")))))}var Sd=Object(ot.a)();function wd(){var e=kn((function(e){return e.global})),n=Rt().currentUser;return g.createElement(Sd.Navigator,{screenOptions:{headerShown:!(!e.credentials||!e.currentDropzone),header:function(e){return g.createElement(yo,e)},cardStyle:{flex:1}}},g.createElement(Sd.Screen,{name:"DropzoneScreen",component:ll,options:{title:"Manifest"}}),g.createElement(Sd.Screen,{name:"WeatherConditionsScreen",component:lo,options:{headerShown:!1}}),g.createElement(Sd.Screen,{name:"WindScreen",component:uo,options:{title:"Winds Aloft"}}),g.createElement(Sd.Screen,{name:"JumpRunScreen",component:so,options:{title:"Jump Run"}}),g.createElement(Sd.Screen,{name:"LoadScreen",component:hi,options:{title:"Load"}}),g.createElement(Sd.Screen,{name:"ManifestGroupScreen",component:ml,options:{title:"Manifest group"}}),g.createElement(Sd.Screen,{name:"ManifestGroupUserSelectScreen",component:pl,options:{title:"Select users"}}),g.createElement(Sd.Screen,{name:"ProfileScreen",component:zs,options:{title:"Profile"},initialParams:{userId:null==n?void 0:n.id}}),g.createElement(Sd.Screen,{name:"NotificationsScreen",component:_s,options:{title:"Notifications"}}),g.createElement(Sd.Screen,{name:"EquipmentScreen",component:tc,options:{title:"Equipment"}}),g.createElement(Sd.Screen,{name:"TransactionsScreen",component:Zs,options:{title:"Account History"}}),g.createElement(Sd.Screen,{name:"OrderScreen",component:md,options:{title:"Order"}}),g.createElement(Sd.Screen,{name:"SettingsScreen",component:ac,options:{title:"Settings"}}),g.createElement(Sd.Screen,{name:"UpdateDropzoneScreen",component:Qc,options:{title:"Basic settings"}}),g.createElement(Sd.Screen,{name:"PlanesScreen",component:du,options:{title:"Planes"}}),g.createElement(Sd.Screen,{name:"TicketTypesScreen",component:kc,options:{title:"Ticket types"}}),g.createElement(Sd.Screen,{name:"UpdateExtraScreen",component:Qu,options:{title:"Update ticket add-on"}}),g.createElement(Sd.Screen,{name:"ExtrasScreen",component:id,options:{title:"Ticket add-ons"}}),g.createElement(Sd.Screen,{name:"RigInspectionTemplateScreen",component:Cu,options:{title:"Rig Inspection Form"}}),g.createElement(Sd.Screen,{name:"RigInspectionScreen",component:kd,options:{title:"Rig Inspection"}}),g.createElement(Sd.Screen,{name:"DropzoneRigsScreen",component:Iu,options:{title:"Dropzone rigs"}}),g.createElement(Sd.Screen,{name:"DropzoneTransactionsScreen",component:fd,options:{title:"Order Activity"}}),g.createElement(Sd.Screen,{name:"DropzonePermissionScreen",component:Bu,options:{title:"Permissions"}}),g.createElement(Sd.Screen,{name:"DropzoneMasterLogScreen",component:_u,options:{title:"Master log"}}))}function Cd(){var e,n,t,r,a,i,o,l,s,c,u,d,m,f,p,v,h,b,y,x,E,k,S=kn((function(e){return e.forms.ghost})),w=En();return g.useEffect((function(){if(S.original){var e,n,t;if(!S.fields.exitWeight.value)w(vn.forms.ghost.setField(["exitWeight",(null==(t=S.original.exitWeight)?void 0:t.toString())||"60"]));!S.fields.license.value&&null!=(e=S.original)&&null!=(n=e.license)&&n.id&&(S.original.license.federation&&w(vn.forms.ghost.setFederation(S.original.license.federation)),w(vn.forms.ghost.setField(["license",S.original.license])))}}),[w,S.fields.exitWeight.value,S.fields.license.value,S.original,null==(e=S.original)?void 0:e.id]),g.createElement(g.Fragment,null,g.createElement(Mr.a,{style:Id.field,mode:"outlined",label:"Name",error:!!S.fields.name.error,value:(null==(n=S.fields.name)||null==(t=n.value)?void 0:t.toString())||"",onChangeText:function(e){return w(vn.forms.ghost.setField(["name",e]))}}),g.createElement(Br.a,{type:S.fields.name.error?"error":"info"},S.fields.name.error||" "),g.createElement(Mr.a,{style:Id.field,mode:"outlined",label:"Email",error:!!S.fields.email.error,value:(null==(r=S.fields.email)||null==(a=r.value)?void 0:a.toString())||"",onChangeText:function(e){return w(vn.forms.ghost.setField(["email",e]))}}),g.createElement(Br.a,{type:S.fields.email.error?"error":"info"},S.fields.email.error||" "),g.createElement(qr,{label:"Exit weight (kg)",error:!!S.fields.exitWeight.error,value:Number(null==(i=S.fields.exitWeight)?void 0:i.value),onChangeText:function(e){return w(vn.forms.ghost.setField(["exitWeight",null==e?void 0:e.toString()]))}}),g.createElement(Br.a,{type:S.fields.exitWeight.error?"error":"info"},S.fields.exitWeight.error||""),g.createElement(Wr.a,null),g.createElement(C.a,{style:{width:"100%"}},g.createElement(Hl,{value:(null==S||null==(o=S.fields)||null==(l=o.license)||null==(s=l.value)?void 0:s.federation)||S.federation.value,onSelect:function(e){return w(vn.forms.ghost.setFederation(e))}}),g.createElement(Br.a,{type:S.federation.error?"error":"info"},S.federation.error||""),((null==S||null==(c=S.fields)||null==(u=c.license)||null==(d=u.value)||null==(m=d.federation)?void 0:m.id)||(null==S||null==(f=S.federation)||null==(p=f.value)?void 0:p.id))&&g.createElement(g.Fragment,null,g.createElement(Gl,{value:S.fields.license.value,federationId:Number((null==S||null==(v=S.fields)||null==(h=v.license)||null==(b=h.value)||null==(y=b.federation)?void 0:y.id)||(null==(x=S.federation)||null==(E=x.value)?void 0:E.id)),onSelect:function(e){return w(vn.forms.ghost.setField(["license",e]))}}),g.createElement(Br.a,{type:S.fields.license.error?"error":"info"},S.fields.license.error||""))),g.createElement(wl,{value:(null==(k=S.fields.role)?void 0:k.value)||null,onSelect:function(e){return w(vn.forms.ghost.setField(["role",e]))}}),g.createElement(Br.a,{type:S.fields.phone.error?"error":"info"},S.fields.phone.error||""))}var zd,Od,Id=j.a.create({fields:{flex:1,width:"100%",paddingTop:32},field:{marginBottom:8,width:"100%"},ticketAddons:{marginBottom:8}}),Td=Pt(Object(Et.a)(zd||(zd=bt()(["\n  mutation CreateGhost(\n    $name: String!\n    $phone: String\n    $email: String!\n    $federationNumber: String\n    $roleId: Int!\n    $licenseId: Int\n    $dropzoneId: Int!\n    $exitWeight: Float!\n  ) {\n    createGhost(\n      input: {\n        attributes: {\n          roleId: $roleId\n          federationNumber: $federationNumber\n          name: $name\n          phone: $phone\n          email: $email\n          dropzoneId: $dropzoneId\n          licenseId: $licenseId\n          exitWeight: $exitWeight\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      user {\n        id\n        name\n        exitWeight\n        email\n        phone\n\n        jumpTypes {\n          id\n          name\n        }\n        userFederations {\n          id\n          license {\n            id\n            name\n          }\n          federation {\n            id\n            name\n            slug\n          }\n        }\n        license {\n          id\n          name\n\n          federation {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.createGhost},validates:{exitWeight:[Ot("Exit weight must be provided"),Tt("Please enter a valid number")],email:[Ot("Please provide a valid email address"),It("Please provide a valid email address")],name:[Ot("Name is required")],roleId:[Ot("You must select a role")]},fieldErrorMap:{license:"licenseId",exit_weight:"exitWeight",role:"roleId"}});function jd(e){var n,t,r=e.open,i=e.onSuccess,o=e.onClose,l=kn((function(e){return e.forms.ghost})),s=kn((function(e){return e.global})),c=En(),u=Td({onSuccess:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){requestAnimationFrame((function(){var n;i(),c(vn.notifications.showSnackbar({message:(null==e||null==(n=e.user)?void 0:n.name)+" has been added to your dropzone",variant:"success"}))}))})),onFieldError:function(e,n){c(vn.forms.ghost.setFieldError([e,n]))},onError:function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))}}),d=g.useCallback((function(){var e,n,t;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:u.mutate({dropzoneId:s.currentDropzoneId,name:l.fields.name.value||"",licenseId:null!=(e=l.fields.license.value)&&e.id?Number(null==(n=l.fields.license.value)?void 0:n.id):null,phone:l.fields.phone.value,exitWeight:Number(l.fields.exitWeight.value),email:l.fields.email.value||"",roleId:Number(null==(t=l.fields.role.value)?void 0:t.id)});case 1:case"end":return r.stop()}}),null,null,null,Promise)}),[u,s.currentDropzoneId,l.fields.name.value,null==(n=l.fields.license.value)?void 0:n.id,l.fields.phone.value,l.fields.exitWeight.value,l.fields.email.value,null==(t=l.fields.role.value)?void 0:t.id]),m=g.useMemo((function(){return[400,740]}),[]);return g.createElement(Go,{title:"Pre-register user",open:r,snapPoints:m,loading:u.loading,onClose:o,buttonAction:d,buttonLabel:"Save"},g.createElement(Cd,null))}function Pd(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Fd(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Pd(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pd(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Dd=Object(Et.a)(Od||(Od=bt()(["\n  query QueryDropzoneUsersSearch($dropzoneId: Int!, $search: String) {\n    dropzone(id: $dropzoneId) {\n      id\n      name\n\n      dropzoneUsers(search: $search) {\n        edges {\n          node {\n            id\n            role {\n              id\n              name\n            }\n            user {\n              id\n              image\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function Ad(){var e=Object(ir.b)();return g.createElement(ar.a,{isLoading:!0,containerStyle:{height:75,backgroundColor:e.colors.surface,width:"100%",padding:16,margin:1,flexDirection:"row"},layout:[{key:"user-avatar",height:36,width:36,marginHorizontal:12,borderRadius:18},{key:"list-container",flexDirection:"column",children:[{key:"user-name",height:14,width:180,marginTop:2,marginLeft:8,borderRadius:27.5},{key:"user-role",height:14,width:100,marginTop:8,marginLeft:8,borderRadius:27.5}]}]})}function Nd(){var e,n,t=kn((function(e){return e.global})),r=kn((function(e){return e.screens.users})),a=kn((function(e){return e.forms.ghost})),o=En(),l=Object(yt.a)(Dd,{variables:{dropzoneId:Number(t.currentDropzoneId),search:r.searchText},fetchPolicy:"network-only"}),s=l.data,c=l.loading,u=l.refetch,d=Object(tr.useNavigation)(),m=Object(tr.useIsFocused)();g.useEffect((function(){r.isSearchVisible&&!m&&o(vn.screens.users.setSearchVisible(!1))}),[o,m,r.isSearchVisible]);var f=wr($.CreateUser),p=Object(er.a)().width,v=Math.floor(p/370)||1,h=(null==s||null==(e=s.dropzone)||null==(n=e.dropzoneUsers)?void 0:n.edges)||[],b=!(null!=h&&h.length)&&c;return g.createElement(g.Fragment,null,g.createElement(y.a,{indeterminate:!0,color:t.theme.colors.accent,visible:c}),null!=h&&h.length?null:g.createElement(C.a,{style:$d.empty},g.createElement(Na,{title:"No users",subtitle:""})),g.createElement(i.a,{data:b?[1,1,1,11,1,1,1,1]:h,onRefresh:function(){return u({dropzoneId:Number(t.currentDropzoneId),search:r.searchText})},keyExtractor:function(e,n){var t,r=e.item;return"user-"+((null==r||null==(t=r.node)?void 0:t.id)||n)},style:{flex:1,paddingTop:0},refreshing:c,refreshControl:g.createElement(Kt.a,{refreshing:c,onRefresh:u}),numColumns:v,contentContainerStyle:{width:"100%",alignSelf:"center"},renderItem:function(e){var n,r,a,i,o,l=e.item;return 1===l?g.createElement(Ad,null):g.createElement(nr.a,{key:"user-"+(null==l||null==(n=l.node)?void 0:n.id),style:{margin:0,marginVertical:0,borderRadius:2,width:"100%"}},g.createElement(nr.a.Content,{style:{paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0}},g.createElement(Lr.c.Item,{style:{width:"100%"},title:null==l||null==(r=l.node)?void 0:r.user.name,titleStyle:{fontWeight:"bold"},descriptionStyle:{fontSize:12},description:null==l||null==(a=l.node)||null==(i=a.role)||null==(o=i.name)?void 0:o.replace("_"," ").toUpperCase(),left:function(){var e,n,r;return null!=l&&null!=(e=l.node)&&null!=(n=e.user)&&n.image?g.createElement(Lr.a.Image,{source:{uri:null==l||null==(r=l.node)?void 0:r.user.image},style:{alignSelf:"center",marginHorizontal:22,backgroundColor:t.palette.primary.light},size:36}):g.createElement(Lr.a.Icon,{icon:"account",style:{alignSelf:"center",marginHorizontal:22},size:36})},right:function(){return g.createElement(Lr.c.Icon,{icon:"chevron-right"})},onPress:function(){var e;return d.navigate("UserProfileScreen",{userId:null==l||null==(e=l.node)?void 0:e.id})}})))}}),f&&g.createElement(Ja.a,{style:$d.fab,small:!0,icon:"plus",onPress:function(){return o(vn.forms.ghost.setOpen(!0))},label:"Add user"}),g.createElement(jd,{open:a.open,onClose:function(){return requestAnimationFrame((function(){return o(vn.forms.ghost.setOpen(!1))}))},onSuccess:function(){requestAnimationFrame((function(){o(vn.forms.ghost.setOpen(!1)),u()}))}}))}var $d=j.a.create({container:{flex:1},empty:Fd(Fd({},j.a.absoluteFillObject),{},{flexGrow:1,flex:1,alignSelf:"center",alignItems:"center",justifyContent:"center"}),fab:{position:"absolute",margin:16,right:0,bottom:0},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});var Rd=j.a.create({inputContainer:{flexGrow:1},input:{backgroundColor:"transparent",color:"#FFFFFF",fontSize:20},icon:{marginHorizontal:8}}),Ud=function(e){var n=e.navigation,t=e.previous,r=e.scene,a=e.onSearch,i=e.searchText,o=e.searchVisible,l=e.setSearchVisible,s=kn((function(e){return e.global})).theme;return g.createElement(fo.a.Header,{style:{backgroundColor:s.dark?s.colors.background:s.colors.surface}},t?g.createElement(fo.a.BackAction,{onPress:n.goBack}):null,o?g.createElement(fo.a.BackAction,{onPress:function(){return l(!1)}}):null,o?g.createElement(C.a,{style:Rd.inputContainer},g.createElement(Mr.a,{style:Rd.input,value:i||"",onChangeText:function(e){return a(e)},autoFocus:!0})):g.createElement(fo.a.Content,{title:r.descriptor.options.title,titleStyle:{fontWeight:"bold"}}),g.createElement(Ic.a,{name:"search",onPress:function(){return l(!o)},color:"#FFFFFF",size:24,style:Rd.icon}))},Bd=Object(ot.a)();function Ld(){var e=kn((function(e){return e.screens.users})),n=e.isSearchVisible,t=e.searchText,r=En();return g.createElement(Bd.Navigator,{screenOptions:{headerShown:!0,header:function(e){return g.createElement(Ud,ft()({},e,{searchText:t,searchVisible:n,setSearchVisible:function(e){return r(vn.screens.users.setSearchVisible(e))},onSearch:function(e){return r(vn.screens.users.setSearchText(e))}}))},cardStyle:{flex:1}}},g.createElement(Bd.Screen,{name:"UsersScreen",component:Nd,options:{title:"Dropzone users"}}),g.createElement(Bd.Screen,{name:"UserProfileScreen",component:zs,options:{title:"User"}}),g.createElement(Bd.Screen,{name:"RigInspectionScreen",component:kd,options:{title:"Inspection"}}),g.createElement(Bd.Screen,{name:"TransactionsScreen",component:Zs,options:{title:"Transactions"}}),g.createElement(Bd.Screen,{name:"EquipmentScreen",component:tc,options:{title:"Equipment"}}))}var Wd=Object(ot.a)();function Md(){return g.createElement(Wd.Navigator,{screenOptions:{headerShown:!0,header:function(e){return g.createElement(yo,ft()({},e,{hideWarnings:!0}))},cardStyle:{flex:1}},initialRouteName:"NotificationsScreen"},g.createElement(Wd.Screen,{name:"NotificationsScreen",component:_s,options:{title:"Notifications"}}),g.createElement(Wd.Screen,{name:"RigInspectionScreen",component:kd,options:{title:"Rig inspection"}}))}var Vd=function(){return g.createElement(g.Fragment,null)};function _d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Gd(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_d(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var qd=Object(pt.a)(),Hd=vt.default.createAnimatedComponent(gt.a);function Yd(){var e=kn((function(e){return e.global})),n=e.theme,t=e.palette,r="dark"===k.a.getColorScheme(),a=wr($.ReadUser),i=g.useMemo((function(){return{labelStyle:{color:n.dark?n.colors.onSurface:t.surface},icon:{activeColor:t.surface,inactiveColor:t.primary.dark},background:{activeColor:t.primary.main,inactiveColor:n.colors.surface}}}),[t.primary.dark,t.primary.main,t.surface,n.colors.onSurface,n.colors.surface,n.dark]),o=g.useMemo((function(){return{Manifest:Gd(Gd({},i),{},{icon:Gd(Gd({},i.icon),{},{component:function(e){var n=e.animatedFocus,t=e.size,r=e.color;return g.createElement(Hd,{name:"airplane",style:[Qd.icon,n?Qd.iconActive:void 0],size:t,color:r})}})}),Notifications:Gd(Gd({},i),{},{icon:Gd(Gd({},i.icon),{},{component:function(e){var n=e.animatedFocus,t=e.size,r=e.color;return g.createElement(Hd,{name:"bell-outline",style:[Qd.icon,n?Qd.iconActive:void 0],size:t,color:r})}})}),Users:Gd(Gd({},i),{},{icon:Gd(Gd({},i.icon),{},{component:function(e){var n=e.animatedFocus,t=e.size,r=e.color;return g.createElement(Hd,{name:"account-group-outline",style:[Qd.icon,n?Qd.iconActive:void 0],size:t,color:r})}})})}}),[i]);return g.createElement(qd.Navigator,ft()({initialRouteName:"Manifest"},w.a.select({web:{},ios:{tabBar:function(e){return g.createElement(Vd,ft()({preset:"bubble",tabs:o,animation:"iconWithLabelOnFocus",inactiveOpacity:.25,inactiveScale:.5},e))}},android:{tabBar:function(e){return g.createElement(Vd,ft()({preset:"bubble",tabs:o,animation:"iconWithLabelOnFocus",inactiveOpacity:.25,inactiveScale:.5},e))}}}),{tabBarOptions:{activeTintColor:"#FFFFFF",inactiveBackgroundColor:n.dark?n.colors.backdrop:n.colors.primary,activeBackgroundColor:n.dark?n.colors.surface:n.colors.primary,inactiveTintColor:"#CCCCCC",showLabel:"web"!==w.a.OS,adaptive:!0,style:{backgroundColor:n.dark?n.colors.background:"#FFFFFF",borderTopWidth:j.a.hairlineWidth,borderTopColor:"#CCCCCC"}}}),g.createElement(qd.Screen,{name:"Manifest",component:wd,options:{tabBarLabel:function(e){var t=e.focused,a=e.color;return t?g.createElement(q.a,{style:[Qd.label,{color:r&&t?n.colors.primary:a}]},"Manifest"):null},tabBarIcon:function(e){var t=e.focused,a=e.color,i=e.size;return g.createElement(gt.a,{name:"airplane",style:[Qd.icon,t?Qd.iconActive:void 0],size:i,color:r&&t?n.colors.primary:a})},unmountOnBlur:!1}}),g.createElement(qd.Screen,{name:"Notifications",component:Md,options:{tabBarLabel:function(e){var t=e.focused,a=e.color;return t?g.createElement(q.a,{style:[Qd.label,{color:r&&t?n.colors.primary:a}]},"Notifications"):null},tabBarIcon:function(e){var t=e.focused,a=e.color,i=e.size;return g.createElement(gt.a,{name:"bell",style:[Qd.icon,t?Qd.iconActive:void 0],size:i,color:r&&t?n.colors.primary:a})},unmountOnBlur:!0}}),a&&g.createElement(qd.Screen,{name:"Users",component:Ld,options:{tabBarLabel:function(e){var t=e.focused,a=e.color;return t?g.createElement(q.a,{style:[Qd.label,{color:r&&t?n.colors.primary:a}]},"Users"):null},tabBarIcon:function(e){var t=e.size,a=e.color,i=e.focused;return g.createElement(gt.a,{size:t,color:a,name:"account-group",style:[Qd.icon,i?Qd.iconActive:void 0],size:t,color:r&&i?n.colors.primary:a})},unmountOnBlur:!0}}))}var Jd,Qd=j.a.create({icon:{opacity:.75},iconActive:{opacity:1},label:{color:"#FFFFFF",fontSize:12}}),Xd=t(135),Zd=t(788),Kd=Object(Et.a)(Jd||(Jd=bt()(["\n  query QueryDropzones {\n    dropzones {\n      edges {\n        node {\n          id\n          name\n          primaryColor\n          secondaryColor\n          banner\n          ticketTypes {\n            id\n            name\n            cost\n            allowManifestingSelf\n            currency\n          }\n          planes {\n            id\n            name\n            registration\n            minSlots\n            maxSlots\n          }\n        }\n      }\n    }\n  }\n"])));function em(){var e,n=En(),t=kn((function(e){return e.global})),r=Object(yt.a)(Kd),i=r.data,o=r.loading,l=r.refetch,s=Object(tr.useNavigation)();return g.createElement(Zd.a,{style:tm.container},g.createElement(Xd.a,{data:(null==i||null==(e=i.dropzones)?void 0:e.edges)||[],numColumns:2,refreshing:o,onRefresh:function(){return l()},style:{flex:1,width:"100%"},contentContainerStyle:{flexGrow:1,width:"100%",paddingBottom:100},ListEmptyComponent:function(){return g.createElement(Na,{title:"No dropzones?",subtitle:"You can set one up!",color:"#FFFFFF"})},renderItem:function(e){var r,i,o,l,c,u=e.item;return g.createElement(nr.a,{style:{width:Zt.a.get("window").width/2-32,margin:8},onPress:function(){var e;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:null!=u&&u.node&&(e=!!t.currentDropzoneId,n(vn.global.setDropzone(u.node)),e&&s.replace("Authenticated",{screen:"HomeScreen"}));case 1:case"end":return r.stop()}}),null,null,null,Promise)}},null!=u&&null!=(r=u.node)&&r.banner?g.createElement(nr.a.Cover,{source:{uri:null==u||null==(i=u.node)?void 0:i.banner}}):g.createElement(C.a,{style:[tm.dzIcon,{backgroundColor:(null==u||null==(o=u.node)?void 0:o.primaryColor)||void 0}]},g.createElement(Lr.a.Icon,{style:{backgroundColor:(null==u||null==(l=u.node)?void 0:l.secondaryColor)||void 0},icon:"airplane-takeoff"})),g.createElement(nr.a.Content,null,g.createElement(Ia.a,null,null==u||null==(c=u.node)?void 0:c.name)))}}),g.createElement(Ja.a,{style:tm.fab,small:!0,icon:"plus",onPress:function(){n(vn.forms.plane.reset()),n(vn.forms.ticketType.reset()),n(vn.forms.dropzone.reset()),s.navigate("DropzoneSetupScreen")},label:"Create dropzone"}))}var nm,tm=j.a.create({container:{flex:1,padding:8,display:"flex",flexGrow:1},dzIcon:{height:150,alignItems:"center",justifyContent:"center"},fab:{position:"absolute",margin:32,right:16,bottom:0,backgroundColor:"#FFFFFF"},empty:{flex:1,backgroundColor:"#FF1414",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}}),rm=Pt(Object(Et.a)(nm||(nm=bt()(["\n  mutation CreateDropzone(\n    $name: String!\n    $banner: String\n    $federationId: Int!\n    $lat: Float\n    $lng: Float\n    $primaryColor: String\n    $secondaryColor: String\n  ) {\n    createDropzone(\n      input: {\n        attributes: {\n          name: $name\n          banner: $banner\n          federationId: $federationId\n          primaryColor: $primaryColor\n          secondaryColor: $secondaryColor\n          lat: $lat\n          lng: $lng\n        }\n      }\n    ) {\n      dropzone {\n        id\n        name\n        banner\n\n        federation {\n          id\n          name\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.createDropzone},fieldErrorMap:{federationId:"federation"},validates:{name:[Ot("Name is required")]}});function am(){var e=kn((function(e){return e.forms.dropzone})),n=En(),t=rm({onError:function(e){return n(vn.notifications.showSnackbar({message:e,variant:"error"}))},onFieldError:function(e,t){return n(vn.forms.dropzone.setFieldError([e,t]))},onSuccess:function(e){return(null==e?void 0:e.dropzone)&&n(vn.global.setDropzone(e.dropzone))}});return g.createElement(Oi,{contentContainerStyle:{paddingHorizontal:32}},g.createElement(qc,{loading:t.loading}),g.createElement(Aa,{style:im.fields},g.createElement(Y.a,{mode:"contained",disabled:t.loading,loading:t.loading,onPress:function(){var n;return t.mutate({name:e.fields.name.value||"",banner:e.fields.banner.value,federationId:Number(null==(n=e.fields.federation.value)?void 0:n.id),lat:e.fields.lat.value||null,lng:e.fields.lng.value||null,secondaryColor:e.fields.secondaryColor.value||null,primaryColor:e.fields.primaryColor.value||null})}},"Save")))}var im=j.a.create({container:{flex:1,alignItems:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fields:{width:"100%"},field:{marginBottom:8}}),om=Object(ot.a)();function lm(){return g.createElement(om.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}},initialRouteName:"Dropzones"},g.createElement(om.Screen,{name:"DropzonesScreen",component:em}),g.createElement(om.Screen,{name:"CreateDropzoneScreen",component:am}))}var sm,cm=t(53),um=t(313),dm=t.n(um),mm=Object(Et.b)(sm||(sm=bt()(["\n  mutation UserLogin($email: String!, $password: String!) {\n    userLogin(email: $email, password: $password) {\n      authenticatable {\n        id\n        email\n        name\n        phone\n        createdAt\n        updatedAt\n      }\n      credentials {\n        accessToken\n        tokenType\n        client\n        expiry\n        uid\n      }\n    }\n  }\n"])));function fm(){var e=kn((function(e){return e.screens.login})),n=En(),t=Object(bi.useNavigation)(),r=Object(kt.a)(mm),i=_()(r,2),o=i[0],l=i[1],s=g.useCallback((function(){var t,r,i,l,s,c,u;return a.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(t=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),r=!1,e.fields.email.value||(r=!0,n(vn.screens.login.setEmailError("Email is required"))),e.fields.password.value||(r=!0,n(vn.screens.login.setPasswordError("Password is required"))),t.test(e.fields.email.value)||(r=!0,n(vn.screens.login.setEmailError("Please enter a valid email"))),r){d.next=17;break}return d.prev=7,d.next=10,a.a.awrap(o({variables:{email:e.fields.email.value,password:e.fields.password.value}}));case 10:null!=(u=d.sent)&&null!=(i=u.data)&&null!=(l=i.userLogin)&&l.authenticatable&&null!=u&&null!=(s=u.data)&&null!=(c=s.userLogin)&&c.credentials&&(n(vn.global.setCredentials(u.data.userLogin.credentials)),n(vn.global.setUser(u.data.userLogin.authenticatable))),d.next=17;break;case 14:d.prev=14,d.t0=d.catch(7),n(vn.notifications.showSnackbar({message:d.t0.message,variant:"error"}));case 17:case"end":return d.stop()}}),null,null,[[7,14]],Promise)}),[n,o,e.fields.email.value,e.fields.password.value]);return g.createElement(Aa,{style:gm.container},g.createElement(cm.a,{source:dm.a,style:{height:300,width:"100%"},resizeMode:"contain"}),g.createElement($i.a,{style:gm.fields,behavior:"padding"},g.createElement(Mr.a,{label:"Email",mode:"outlined",value:e.fields.email.value,onChangeText:function(e){n(vn.screens.login.setEmail(e))}}),g.createElement(Br.a,{type:"error"},e.fields.email.error||" "),g.createElement(Mr.a,{label:"Password",mode:"outlined",value:e.fields.password.value,secureTextEntry:!0,onChangeText:function(e){n(vn.screens.login.setPassword(e))},onSubmitEditing:s,error:!!e.fields.password.error}),g.createElement(Br.a,{type:"error"},e.fields.password.error||" "),g.createElement(Y.a,{mode:"contained",labelStyle:gm.buttonLabel,style:gm.button,onPress:s,loading:l.loading},"Log in"),g.createElement(Y.a,{labelStyle:gm.textButtonLabel,style:gm.textButton,onPress:function(){return t.navigate("SignUpScreen")}},"Sign up")))}var pm,gm=j.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",backgroundColor:"#FF1414",paddingTop:10},title:{fontSize:20,fontWeight:"bold"},fields:{marginBottom:10,marginTop:-50,maxWidth:400,width:"100%",paddingHorizontal:56,backgroundColor:"transparent"},button:{marginTop:10,backgroundColor:"white",width:"100%"},buttonLabel:{color:"#FF1414"},textButton:{marginTop:10,backgroundColor:"transparent",color:"white",width:"100%"},textButtonLabel:{color:"#FFFFFF"}}),vm=Pt(Object(Et.a)(pm||(pm=bt()(['\n  mutation UserSignUp(\n    $email: String!\n    $password: String!\n    $passwordConfirmation: String!\n    $name: String!\n    $phone: String!\n    $pushToken: String\n    $exitWeight: Float!\n    $licenseId: Int\n  ) {\n    userSignUp(\n      email: $email\n      password: $password\n      passwordConfirmation: $passwordConfirmation\n      exitWeight: $exitWeight\n      name: $name\n      phone: $phone\n      pushToken: $pushToken\n      licenseId: $licenseId\n      confirmSuccessUrl: "https://openmanifest.org/confirm/"\n    ) {\n      authenticatable {\n        createdAt\n        email\n        id\n        name\n        phone\n      }\n      credentials {\n        accessToken\n        tokenType\n        client\n        expiry\n        uid\n      }\n    }\n  }\n']))),{getPayload:function(e){return e.userSignUp},fieldErrorMap:{license:"licenseId"},validates:{name:[Ot("Name is required")],email:[It("Please enter a valid email")],passwordConfirmation:[jt("Password must have 1 uppercase, 1 lowercase, 1 digit and be at least 8 characters",(function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}.*$/.test(e.passwordConfirmation)})),jt("Passwords don't match",(function(e){return e.password===e.passwordConfirmation}))]}});function hm(){var e=kn((function(e){return e.screens.signup})),n=kn((function(e){return e.global})),t=En(),r=Object(tr.useNavigation)(),a=vm({onSuccess:function(e){return t(vn.notifications.showSnackbar({message:"A confirmation link has been sent to your email",variant:"success"})),r.navigate("LoginScreen"),null},onFieldError:function(e,n){return t(vn.screens.signup.setFieldError([e,n]))}}),i=a.loading,o=a.mutate;return g.createElement(Oi,{style:bm.container,contentContainerStyle:bm.content},g.createElement($i.a,{style:bm.fields,behavior:"position"},g.createElement(cm.a,{source:dm.a,style:{width:"100%",height:200},resizeMode:"contain"}),g.createElement(Mr.a,{style:bm.field,mode:"outlined",label:"Name",error:!!e.fields.name.error,value:e.fields.name.value,onChangeText:function(e){return t(vn.screens.signup.setField(["name",e]))}}),g.createElement(Br.a,{type:"error"},e.fields.name.error||""),g.createElement(Mr.a,{style:bm.field,mode:"outlined",label:"Email",error:!!e.fields.email.error,value:e.fields.email.value,onChangeText:function(e){return t(vn.screens.signup.setField(["email",e]))}}),g.createElement(Br.a,{type:"error"},e.fields.email.error||""),g.createElement(Mr.a,{style:bm.field,mode:"outlined",label:"Password",error:Boolean(e.fields.password.error||e.fields.passwordConfirmation.error),textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:e.fields.password.value,onChangeText:function(e){return t(vn.screens.signup.setField(["password",e]))}}),g.createElement(Br.a,{type:"error"},e.fields.password.error||""),g.createElement(Mr.a,{style:bm.field,mode:"outlined",label:"Repeat password",error:Boolean(e.fields.password.error||e.fields.passwordConfirmation.error),textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:e.fields.passwordConfirmation.value,onChangeText:function(e){return t(vn.screens.signup.setField(["passwordConfirmation",e]))}}),g.createElement(Br.a,{type:"error"},e.fields.passwordConfirmation.error||""),g.createElement(Y.a,{mode:"contained",labelStyle:bm.buttonLabel,style:bm.button,onPress:function(){var t,r;return o({pushToken:n.expoPushToken,email:e.fields.email.value,name:e.fields.name.value,exitWeight:e.fields.exitWeight.value,password:e.fields.password.value,passwordConfirmation:e.fields.passwordConfirmation.value,licenseId:Number(null==(t=e.fields.license)||null==(r=t.value)?void 0:r.id)||null,phone:e.fields.phone.value})},loading:i},"Sign up")))}var bm=j.a.create({container:{flex:1,backgroundColor:"#FF1414"},content:{paddingHorizontal:60,alignItems:"center",backgroundColor:"transparent"},button:{marginTop:10,backgroundColor:"white",width:"100%"},buttonLabel:{color:"#FF1414"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fields:{width:"100%",flexGrow:1,maxWidth:400,backgroundColor:"transparent"},field:{marginBottom:8,backgroundColor:"white",borderColor:"white",color:"white"}}),ym=Object(ot.a)();function xm(){return g.createElement(ym.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}}},g.createElement(ym.Screen,{name:"LoginScreen",component:fm}),g.createElement(ym.Screen,{name:"SignUpScreen",component:hm}))}var Em=j.a.create({container:{alignItems:"center",backgroundColor:"transparent"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},title:{color:"white",marginBottom:100,fontSize:24,fontWeight:"bold"},card:{padding:16,marginVertical:16,width:"100%"}}),km=function(e){var n=kn((function(e){return e.forms.dropzone})),t=En();return g.createElement(ji,ft()({style:Em.container},e,{title:"Basic information"}),g.createElement(C.a,{style:Em.content},g.createElement(nr.a,{style:Em.card},g.createElement(Lr.c.Subheader,null,"Name"),g.createElement(Mr.a,{mode:"outlined",error:!!n.fields.name.error,value:n.fields.name.value||"",onChangeText:function(e){return t(vn.forms.dropzone.setField(["name",e]))}}),g.createElement(Br.a,{type:"error"},n.fields.name.error||"")),g.createElement(nr.a,{style:Em.card},g.createElement(Hl,{value:n.fields.federation.value,onSelect:function(e){return t(vn.forms.dropzone.setField(["federation",e]))}}),g.createElement(Br.a,{type:n.fields.federation.error?"error":"info"},n.fields.federation.error||""))))},Sm=t(244);function wm(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Cm(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wm(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wm(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var zm=j.a.create({container:{paddingHorizontal:48,alignItems:"center",backgroundColor:"transparent"},titleContainer:{position:"absolute",top:140,left:0,width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},title:{fontSize:30,fontWeight:"bold",color:"white",textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2}},markerFixed:Cm(Cm({},j.a.absoluteFillObject),{},{justifyContent:"center",zIndex:100,alignItems:"center",flexDirection:"column"}),content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:0,paddingVertical:16,marginVertical:16,width:"100%"},myLocation:{position:"absolute",bottom:"30%",right:30,backgroundColor:"white",borderRadius:50,padding:12}}),Om=function(e){var n,t,r=kn((function(e){return e.forms.dropzone})),i=En(),o=g.useState(),l=_()(o,2),s=l[0],c=l[1],u=g.useCallback((function(){var e,n,t;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,a.a.awrap(Ji.b());case 3:if(e=r.sent,"granted"===(n=e.status)){r.next=8;break}return console.log(n),r.abrupt("return");case 8:return r.next=10,a.a.awrap(Ji.a({}));case 10:t=r.sent,i(vn.forms.dropzone.setField(["lat",t.coords.latitude])),i(vn.forms.dropzone.setField(["lng",t.coords.longitude])),c({lat:t.coords.latitude,lng:t.coords.longitude}),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log(r.t0);case 19:case"end":return r.stop()}}),null,null,[[0,16]],Promise)}),[i]);g.useEffect((function(){null!==r.fields.lat.value&&null!=r.fields.lng.value||u()}),[u,r.fields.lat.value,r.fields.lng.value]);var d=g.useRef(new ti.a.Value(0)),m=r.fields.lat.value&&r.fields.lng.value?{latitude:r.fields.lat.value,longitude:r.fields.lng.value,latitudeDelta:Object(Sm.a)(r.fields.lat.value),longitudeDelta:Object(Sm.a)(r.fields.lat.value)}:void 0,f=g.useRef(ti.a.timing(d.current,{duration:100,toValue:0,useNativeDriver:!0})),p=g.useRef(ti.a.timing(d.current,{duration:100,toValue:1,useNativeDriver:!0})),v=g.useCallback((function(e){console.log({visible:e}),(e?p:f).current.start()}),[]),h=Object(er.a)(),b=h.height,y=h.width,x=g.useState(!1),E=_()(x,2),k=E[0],S=E[1];return g.createElement(ji,ft()({disableScroll:!0,style:zm.container,containerStyle:{paddingHorizontal:0}},e),g.createElement(Ki.a,{mapStyle:Cm({},j.a.absoluteFillObject),position:{x:0,y:0},height:b,width:y,coords:null!=m&&m.latitude&&null!=m&&m.longitude?{lat:null==m?void 0:m.latitude,lng:null==m?void 0:m.longitude}:void 0,onDragStart:function(){S(!0),v(!1)},center:s||void 0,onDragEnd:function(e){var n,t;null==(n=f.current)||n.stop(),null==(t=p.current)||t.stop(),v(!0),S(!1),i(vn.forms.dropzone.setField(["lat",e.lat])),i(vn.forms.dropzone.setField(["lng",e.lng]))},interactive:!0},m?g.createElement(C.a,{style:zm.markerFixed,pointerEvents:"none"},g.createElement(gt.a,{pointerEvents:"none",size:60,style:{color:"#ffffff",textShadowColor:"rgba(14,14,14,0.8)",textShadowOffset:{width:5,height:5},textShadowRadius:10,zIndex:10},name:k?"map-marker":"map-marker-check-outline"})):null),g.createElement(st.a,{style:zm.myLocation,onPress:function(){u()}},g.createElement(Ic.a,{name:"my-location",size:30})),g.createElement(C.a,{style:zm.titleContainer},g.createElement(q.a,{style:zm.title},"Pick location"),g.createElement(ti.a.Text,{style:{fontSize:24,marginTop:20,opacity:d.current,textAlign:"center",color:"#ffffff",textShadowColor:"rgba(14,14,14,0.8)",textShadowOffset:{width:3,height:3},textShadowRadius:10}},null!=m&&m.latitude&&null!=m&&m.longitude?g.createElement(g.Fragment,null,null==m||null==(n=m.latitude)?void 0:n.toFixed(5),",",null==m||null==(t=m.longitude)?void 0:t.toFixed(5)):null)))};var Im=j.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:4},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:10,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),Tm=function(e){var n,t,r,a,i,o,l,s,c=kn((function(e){return e.forms.plane})),u=g.useState((null==c||null==(n=c.fields)||null==(t=n.minSlots)?void 0:t.value)||0),d=_()(u,2),m=d[0],f=d[1],p=g.useState((null==c||null==(r=c.fields)||null==(a=r.maxSlots)?void 0:a.value)||0),v=_()(p,2),h=v[0],b=v[1],y=En();return g.createElement(ji,ft()({style:Im.container},e,{title:"Aircraft"}),g.createElement(C.a,{style:Im.content},g.createElement(nr.a,{style:Im.card},g.createElement(Lr.c.Subheader,null,"Information"),g.createElement(Mr.a,{style:Im.field,mode:"outlined",label:"Name",error:!!c.fields.name.error,value:c.fields.name.value,onChangeText:function(e){return y(vn.forms.plane.setField(["name",e]))}}),g.createElement(Br.a,{type:c.fields.name.error?"error":"info"},c.fields.name.error||""),g.createElement(Mr.a,{style:Im.field,mode:"outlined",label:"Registration",error:!!c.fields.registration.error,value:c.fields.registration.value||"",onChangeText:function(e){return y(vn.forms.plane.setField(["registration",e]))}}),g.createElement(Br.a,{type:c.fields.registration.error?"error":"info"},c.fields.registration.error||"")),g.createElement(nr.a,{style:Im.card,elevation:3},g.createElement(C.a,{style:Im.cardTitle},g.createElement(Lr.c.Subheader,null,"Minimum slots"),g.createElement(q.a,{style:Im.cardValue},m||0)),g.createElement(C.a,{style:Im.slider},g.createElement(Pc.a,{style:Im.sliderControl,minimumValue:0,maximumValue:h||34,step:1,value:m,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onValueChange:function(e){return f(e)},onSlidingComplete:function(){return y(vn.forms.plane.setField(["minSlots",m]))}})),g.createElement(Br.a,{type:null!=(i=c.fields.minSlots)&&i.error?"error":"info"},(null==(o=c.fields.minSlots)?void 0:o.error)||"How many slots are required to be filled to dispatch a load with this aircraft")),g.createElement(nr.a,{style:Im.card,elevation:3},g.createElement(C.a,{style:Im.cardTitle},g.createElement(Lr.c.Subheader,null,"Max slots"),g.createElement(q.a,{style:Im.cardValue},h||34)),g.createElement(C.a,{style:Im.slider},g.createElement(Pc.a,{style:Im.sliderControl,minimumValue:2,maximumValue:34,step:1,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",value:h,onValueChange:function(e){return b(e)},onSlidingComplete:function(){return y(vn.forms.plane.setField(["maxSlots",Number(h)]))}})),g.createElement(Br.a,{type:null!=(l=c.fields.maxSlots)&&l.error?"error":"info"},(null==(s=c.fields.maxSlots)?void 0:s.error)||"Max available slots on this aircraft"))))};var jm,Pm=j.a.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},colorBox:{height:25,width:25,margin:5}}),Fm=function(e){var n=kn((function(e){return e.forms.dropzone})),t=En();return g.createElement(ji,ft()({style:Pm.container},e,{title:"Branding"}),g.createElement(C.a,{style:Pm.content},g.createElement(C.a,{style:{flexDirection:"row",alignItems:"flex-end",justifyContent:"space-evenly"}},g.createElement(Rc,{primaryColor:n.fields.primaryColor.value||"#000000",secondaryColor:n.fields.secondaryColor.value||"#ffffff"}),g.createElement(Bc,{primaryColor:n.fields.primaryColor.value||"#000000",secondaryColor:n.fields.secondaryColor.value||"#ffffff"})),g.createElement(Nc,{title:"Primary color",helperText:"Primary color is used for elements like the title bar and the tab bar",error:n.fields.primaryColor.error,onChange:function(e){return t(vn.forms.dropzone.setField(["primaryColor",e]))},value:n.fields.primaryColor.value||"#000000"}),g.createElement(Nc,{title:"Accent color",helperText:"Accent color is used for highlights, like buttons and loading bars",error:n.fields.secondaryColor.error,onChange:function(e){return t(vn.forms.dropzone.setField(["secondaryColor",e]))},value:n.fields.secondaryColor.value||"#FFFFFF"})))},Dm=["permission"],Am=Object(Et.a)(jm||(jm=bt()(["\n  query QueryDropzonePermissions($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      roles {\n        id\n        name\n        permissions\n      }\n    }\n  }\n"])));var Nm=j.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column",marginBottom:16},card:{padding:8,marginVertical:16},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:50,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),$m=function(e){var n,t,r,a,i=e.permission,o=_r()(e,Dm),l=kn((function(e){return e.forms.dropzone})),s=Object(sr.a)(Am),c=_()(s,2),u=c[0],d=c[1],m=d.data,f=d.loading,p=d.called;return g.useEffect((function(){var e;null!=(e=l.original)&&e.id&&u({variables:{dropzoneId:Number(l.original.id)}})}),[l.original,u]),g.createElement(ji,ft()({style:Nm.container},o),g.createElement(C.a,{style:Nm.content},p&&!f&&null!=m&&null!=(n=m.dropzone)&&null!=(t=n.roles)&&t.length?g.createElement(nr.a,null,g.createElement(nr.a.Content,{style:{alignItems:"center",justifyContent:"center"}},null==m||null==(r=m.dropzone)||null==(a=r.roles)?void 0:a.map((function(e){var n;return g.createElement(Nu,{permissionName:i,role:e,title:Object(Yr.capitalize)(null==e||null==(n=e.name)?void 0:n.replace(/_/," "))})})))):null))};var Rm,Um,Bm=j.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:8,fontWeight:"bold",fontSize:25,textAlign:"center"},paragraph:{color:"white",marginBottom:8,fontWeight:"bold",textAlign:"center"},field:{marginBottom:8,marginHorizontal:16},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),Lm=function(e){var n,t,r,a,o=kn((function(e){return e.forms.ticketType})),l=En(),s=g.useState(!1),c=_()(s,2),u=c[0],d=c[1],m=g.useState(0),f=_()(m,2),p=f[0],v=f[1];return g.createElement(ji,ft()({style:Bm.container},e,{title:"Tickets"}),g.createElement(Ta.a,{style:Bm.paragraph},"You can add more tickets later under Settings"),g.createElement(C.a,{style:Bm.content},g.createElement(nr.a,{style:Bm.card},g.createElement(Lr.c.Subheader,null,"Name"),g.createElement(Mr.a,{style:Bm.field,mode:"outlined",error:!!o.fields.name.error,value:o.fields.name.value||"",onChangeText:function(e){return l(vn.forms.ticketType.setField(["name",e]))}}),g.createElement(Br.a,{type:o.fields.name.error?"error":"info"},o.fields.name.error||"")),g.createElement(nr.a,{style:Bm.card,elevation:3},g.createElement(C.a,{style:Bm.cardTitle},g.createElement(Lr.c.Subheader,null,"Price"),g.createElement(q.a,{style:Bm.cardValue},"$",p||0)),g.createElement(C.a,{style:Bm.slider},g.createElement(Pc.a,{style:Bm.sliderControl,minimumValue:0,maximumValue:500,step:1,value:p,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onSlidingComplete:function(){return l(vn.forms.ticketType.setField(["cost",p]))},onValueChange:v})),g.createElement(Br.a,{type:null!=(n=o.fields.cost)&&n.error?"error":"info"},(null==(t=o.fields.cost)?void 0:t.error)||"How many slots are required to be filled to dispatch a load with this aircraft")),g.createElement(nr.a,{style:Bm.card,elevation:3},g.createElement(lr.a,{onDismiss:function(){return d(!1)},visible:u,contentStyle:{width:300},anchor:g.createElement(i.f,{onPress:function(){return d(!0)}},g.createElement(C.a,{style:Bm.cardTitle},g.createElement(Lr.c.Subheader,null,"Altitude"),g.createElement(q.a,{style:Bm.cardValue},o.fields.altitude.value&&[4e3,14e3].includes(o.fields.altitude.value)?{14e3:"Height",4e3:"Hop n Pop"}[o.fields.altitude.value.toString()]:"Custom")))},g.createElement(Lr.c.Item,{onPress:function(){l(vn.forms.ticketType.setField(["altitude",4e3])),d(!1)},title:"Hop n Pop",right:function(){return g.createElement(Lr.c.Icon,{icon:"parachute"})}}),g.createElement(Lr.c.Item,{onPress:function(){l(vn.forms.ticketType.setField(["altitude",14e3])),d(!1)},title:"Height",right:function(){return g.createElement(Lr.c.Icon,{icon:"airplane-takeoff"})}}),g.createElement(Lr.c.Item,{onPress:function(){l(vn.forms.ticketType.setField(["altitude",7e3])),d(!1)},title:"Other",right:function(){return g.createElement(Lr.c.Icon,{icon:"parachute"})}})),(!o.fields.altitude.value||![4e3,14e3].includes(o.fields.altitude.value))&&g.createElement(Mr.a,{style:Bm.field,mode:"outlined",label:"Custom altitude",error:!!o.fields.altitude.error,value:null==(r=o.fields.altitude)||null==(a=r.value)?void 0:a.toString(),onChangeText:function(e){return l(vn.forms.ticketType.setField(["altitude",Number(e)]))}}))))},Wm=Pt(Object(Et.a)(Rm||(Rm=bt()(["\n  mutation CreatePlane(\n    $name: String!\n    $registration: String!\n    $dropzoneId: Int!\n    $minSlots: Int!\n    $maxSlots: Int!\n    $hours: Int\n    $nextMaintenanceHours: Int\n  ) {\n    createPlane(\n      input: {\n        attributes: {\n          name: $name\n          registration: $registration\n          dropzoneId: $dropzoneId\n          minSlots: $minSlots\n          maxSlots: $maxSlots\n          hours: $hours\n          nextMaintenanceHours: $nextMaintenanceHours\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      plane {\n        id\n        name\n        registration\n        minSlots\n        maxSlots\n        hours\n        nextMaintenanceHours\n\n        dropzone {\n          id\n          name\n          planes {\n            id\n            name\n            registration\n            minSlots\n            maxSlots\n            hours\n            nextMaintenanceHours\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.createPlane},fieldErrorMap:{dropzone:"dropzoneId"},validates:{name:[Ot("Name is required")],registration:[Ot("Registration is required")]}}),Mm=Pt(Object(Et.a)(Um||(Um=bt()(["\n  mutation UpdatePlane(\n    $id: Int!\n    $name: String!\n    $registration: String!\n    $minSlots: Int!\n    $maxSlots: Int!\n    $hours: Int\n    $nextMaintenanceHours: Int\n  ) {\n    updatePlane(\n      input: {\n        id: $id\n        attributes: {\n          name: $name\n          registration: $registration\n          minSlots: $minSlots\n          maxSlots: $maxSlots\n          hours: $hours\n          nextMaintenanceHours: $nextMaintenanceHours\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      plane {\n        id\n        name\n        registration\n        minSlots\n        maxSlots\n        hours\n        nextMaintenanceHours\n\n        dropzone {\n          id\n          name\n          planes {\n            id\n            name\n            registration\n            minSlots\n            maxSlots\n            hours\n            nextMaintenanceHours\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.updatePlane},fieldErrorMap:{}});var Vm=function(){var e,n,t,r,i,o=kn((function(e){return e.forms.plane})),l=kn((function(e){return e.forms.ticketType})),s=kn((function(e){return e.forms.dropzone})),c=En(),u=Object(bi.useNavigation)(),d=rm({onError:function(e){c(vn.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){c(vn.forms.dropzone.setFieldError([e,n])),console.log(e,n)}}),m=Cc({onError:function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return c(vn.forms.dropzone.setFieldError([e,n]))}}),f=Wm({onError:function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return c(vn.forms.plane.setFieldError([e,n]))}}),p=Mm({onError:function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return c(vn.forms.plane.setFieldError([e,n]))}}),v=cc({onError:function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return c(vn.forms.ticketType.setFieldError([e,n]))}}),h=uc({onError:function(e){return c(vn.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return c(vn.forms.ticketType.setFieldError([e,n]))}}),b=g.useCallback((function(e,n){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.fields.name.value){t.next=3;break}return c(vn.forms.dropzone.setFieldError(["name","Your dropzone must have a name"])),t.abrupt("return");case 3:if(s.fields.federation.value){t.next=6;break}return c(vn.forms.dropzone.setFieldError(["federation","Your dropzone must have an associated organization"])),t.abrupt("return");case 6:n(e+1);case 7:case"end":return t.stop()}}),null,null,null,Promise)}),[c,s.fields.federation.value,s.fields.name.value]),y=g.useCallback((function(e,n){var t,r,i,o,l,u,f,p;return a.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(s.fields.primaryColor.value){g.next=3;break}return c(vn.forms.dropzone.setFieldError(["primaryColor","Please pick a primary color"])),g.abrupt("return");case 3:if(s.fields.secondaryColor.value){g.next=6;break}return c(vn.forms.dropzone.setFieldError(["secondaryColor","Please pick an accent color"])),g.abrupt("return");case 6:if(console.log(s.fields),null!=(t=s.original)&&t.id){g.next=13;break}return g.next=10,a.a.awrap(d.mutate({federationId:Number(null==(r=s.fields.federation.value)?void 0:r.id),name:s.fields.name.value||"",banner:"",primaryColor:s.fields.primaryColor.value,secondaryColor:s.fields.secondaryColor.value,lat:s.fields.lat.value,lng:s.fields.lng.value}));case 10:g.t0=g.sent,g.next=16;break;case 13:return g.next=15,a.a.awrap(m.mutate({id:Number(s.original.id),federationId:Number(null==(i=s.fields.federation.value)?void 0:i.id),name:s.fields.name.value||"",primaryColor:s.fields.primaryColor.value,secondaryColor:s.fields.secondaryColor.value,lat:s.fields.lat.value,lng:s.fields.lng.value,banner:""}));case 15:g.t0=g.sent;case 16:null!=(u=g.t0)&&null!=(o=u.errors)&&o.length||null==u||null==(l=u.dropzone)||!l.id||(c(vn.forms.dropzone.setOpen(null==u?void 0:u.dropzone)),c(vn.global.setDropzone(null==u?void 0:u.dropzone)),u.dropzone.primaryColor&&c(vn.global.setPrimaryColor(null==u||null==(f=u.dropzone)?void 0:f.primaryColor)),u.dropzone.secondaryColor&&c(vn.global.setAccentColor(null==u||null==(p=u.dropzone)?void 0:p.secondaryColor)),n(e+1));case 18:case"end":return g.stop()}}),null,null,null,Promise)}),[c,s.fields,null==(e=s.original)?void 0:e.id,d,m]),x=g.useCallback((function(e,n){var t,r,i,l,u;return a.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(o.fields.name.value){d.next=3;break}return c(vn.forms.plane.setFieldError(["name","You must name your aircraft"])),d.abrupt("return");case 3:if(o.fields.registration.value){d.next=6;break}return c(vn.forms.plane.setFieldError(["registration","Please provide aircraft registration"])),d.abrupt("return");case 6:if(null!=(t=o.original)&&t.id){d.next=12;break}return d.next=9,a.a.awrap(f.mutate({dropzoneId:Number(null==s||null==(r=s.original)?void 0:r.id),name:o.fields.name.value,registration:o.fields.registration.value,minSlots:Number(o.fields.minSlots.value),maxSlots:Number(o.fields.maxSlots.value)}));case 9:d.t0=d.sent,d.next=15;break;case 12:return d.next=14,a.a.awrap(p.mutate({id:Number(o.original.id),name:o.fields.name.value,registration:o.fields.registration.value,minSlots:o.fields.minSlots.value,maxSlots:o.fields.maxSlots.value}));case 14:d.t0=d.sent;case 15:null!=(u=d.t0)&&null!=(i=u.errors)&&i.length||null==u||null==(l=u.plane)||!l.id||(c(vn.forms.plane.setOpen(null==u?void 0:u.plane)),n(e+1));case 17:case"end":return d.stop()}}),null,null,null,Promise)}),[o.fields.maxSlots.value,o.fields.minSlots.value,o.fields.name.value,o.fields.registration.value,null==(n=o.original)?void 0:n.id,c,null==s||null==(t=s.original)?void 0:t.id,f,p]),E=g.useCallback((function(e,n){var t,r,i,o,u;return a.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(l.fields.name.value){d.next=3;break}return c(vn.forms.ticketType.setFieldError(["name","You must name your ticket"])),d.abrupt("return");case 3:if(l.fields.cost.value){d.next=6;break}return c(vn.forms.ticketType.setFieldError(["cost","Tickets must have a price"])),d.abrupt("return");case 6:if(null!=(t=l.original)&&t.id){d.next=12;break}return d.next=9,a.a.awrap(v.mutate({dropzoneId:Number(null==(r=s.original)?void 0:r.id),name:l.fields.name.value,cost:l.fields.cost.value,altitude:l.fields.altitude.value,isTandem:!1,allowManifestingSelf:!0}));case 9:d.t0=d.sent,d.next=15;break;case 12:return d.next=14,a.a.awrap(h.mutate({id:Number(l.original.id),name:l.fields.name.value,cost:l.fields.cost.value,altitude:l.fields.altitude.value,isTandem:!1,allowManifestingSelf:!0}));case 14:d.t0=d.sent;case 15:null!=(u=d.t0)&&null!=(i=u.errors)&&i.length||null==u||null==(o=u.ticketType)||!o.id||(c(vn.forms.ticketType.setOpen(u.ticketType)),n(e+1));case 17:case"end":return d.stop()}}),null,null,null,Promise)}),[l.fields.name.value,l.fields.cost.value,l.fields.altitude.value,null==(r=l.original)?void 0:r.id,v,null==(i=s.original)?void 0:i.id,h,c]);return g.createElement(Ci,null,g.createElement(km,{onBack:function(){c(vn.forms.dropzoneWizard.setOpen(!1)),c(vn.forms.dropzoneWizard.reset()),c(vn.forms.ticketType.setOpen(!1)),c(vn.forms.plane.setOpen(!1)),c(vn.forms.dropzone.setOpen(!1)),c(vn.forms.ticketType.reset()),c(vn.forms.plane.reset()),c(vn.forms.dropzone.reset()),u.goBack()},backButtonLabel:"Cancel",nextButtonLabel:"Next",onNext:b}),g.createElement(Om,{onBack:function(e,n){return n(e-1)},onNext:function(e,n){return n(e+1)},backButtonLabel:"Back",nextButtonLabel:"Next"}),g.createElement(Fm,{onBack:function(e,n){return n(e-1)},onNext:y,loading:d.loading||m.loading,nextButtonLabel:"Next",backButtonLabel:"Back"}),g.createElement(Tm,{onBack:function(e,n){return n(e-1)},onNext:x,loading:f.loading||p.loading,nextButtonLabel:"Next",backButtonLabel:"Back"}),g.createElement(Lm,{onBack:function(e,n){return n(e-1)},onNext:E,loading:v.loading||h.loading,nextButtonLabel:"Next",backButtonLabel:"Back"}),g.createElement($m,{title:"Who can manifest?",permission:$.CreateSlot,onBack:function(e,n){return n(e-1)},onNext:function(e,n){return n(e+1)},nextButtonLabel:"Next",backButtonLabel:"Back"}),g.createElement($m,{title:"Manifest other people?",permission:$.CreateUserSlot,onBack:function(e,n){return n(e-1)},onNext:function(e,n){n(e+1)},nextButtonLabel:"Next",backButtonLabel:"Back"}),g.createElement(Ai,{title:"Setup complete",subtitle:"You can configure settings under the Settings screen",backButtonLabel:"Back",nextButtonLabel:"Done",onBack:function(e,n){return n(e-1)},onNext:function(){c(vn.global.setDropzone(s.original)),s.fields.primaryColor.value&&c(vn.global.setPrimaryColor(s.fields.primaryColor.value)),s.fields.secondaryColor.value&&c(vn.global.setAccentColor(s.fields.secondaryColor.value)),c(vn.global.setDropzone(s.original)),c(vn.forms.dropzoneWizard.setOpen(!1)),c(vn.forms.dropzoneWizard.reset()),c(vn.forms.ticketType.setOpen(!1)),c(vn.forms.plane.setOpen(!1)),c(vn.forms.dropzone.setOpen(!1)),c(vn.forms.ticketType.reset()),c(vn.forms.plane.reset()),c(vn.forms.dropzone.reset()),c(vn.forms.dropzoneWizard.complete()),u.replace("Authenticated",{screen:"HomeScreen"})}}))};var _m,Gm=j.a.create({container:{flexGrow:1,backgroundColor:"#FF0000",alignItems:"center",justifyContent:"center"},icon:{backgroundColor:"#00C851",marginBottom:16},errorIcon:{backgroundColor:"#FF8800",marginBottom:16},title:{fontSize:38,color:"#FFFFFF",marginBottom:16},subtitle:{fontSize:26,color:"#FFFFFF",textAlign:"center"}}),qm=function(){var e,n=Object(tr.useRoute)();return"true"===(null==n||null==(e=n.params)?void 0:e.account_confirmation_success)?g.createElement(C.a,{style:Gm.container},g.createElement(Lr.a.Icon,{icon:"check",style:Gm.icon}),g.createElement(q.a,{style:Gm.title},"All done!"),g.createElement(q.a,{style:Gm.subtitle},"You can now log in")):g.createElement(C.a,{style:Gm.container},g.createElement(Lr.a.Icon,{icon:"close",style:Gm.errorIcon}),g.createElement(q.a,{style:Gm.title},"Oops!"),g.createElement(q.a,{style:Gm.subtitle},"Something went wrong. Please contact support"))},Hm=Jr(Object(Et.a)(_m||(_m=bt()(["\n  query QueryDropzones {\n    dropzones {\n      edges {\n        node {\n          id\n          name\n          primaryColor\n          secondaryColor\n          banner\n          ticketTypes {\n            id\n            name\n            cost\n            allowManifestingSelf\n            currency\n          }\n          planes {\n            id\n            name\n            registration\n            minSlots\n            maxSlots\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return null==e?void 0:e.dropzones}});function Ym(){var e,n,t,r=kn((function(e){return e.global})).theme,a=En(),o=Rt(),l=o.currentUser,s=o.dropzone,c=o.loading,u=Hm({variables:{isPublic:!0},onError:function(e){return console.error(e)}}).data,d=Object(bi.useNavigation)(),m=Object(bi.useRoute)(),f=Object(bi.getFocusedRouteNameFromRoute)(m),p=d.dangerouslyGetState(),v=p.routes[p.index].state,h=null==v?void 0:v.routes[null==v?void 0:v.index],b=null==h?void 0:h.state,y=v&&Object(bi.getFocusedRouteNameFromRoute)(h);y=y||(null==b?void 0:b.routes[0].name);var x=wr($.UpdateDropzone),E=wr($.UpdatePlane),k=wr($.UpdateTicketType),S=wr($.UpdateExtra),w=wr($.GrantPermission),z=wr($.UpdateDropzoneRig),O=wr($.UpdateFormTemplate),I=x||E||k||S||w||z||O;return g.createElement(C.a,{style:{flex:1,paddingTop:100}},c?g.createElement(ar.a,{containerStyle:Jm.skeleton,isLoading:!0,layout:[{key:"avatar",borderRadius:25,height:50,width:50},{key:"role",height:12,width:120,marginLeft:8,marginTop:12}]}):g.createElement(Lr.c.Item,{left:function(){var e;return null!=l&&null!=(e=l.user)&&e.image?g.createElement(Lr.a.Image,{size:50,source:{uri:null==l?void 0:l.user.image},style:{backgroundColor:r.colors.surface}}):g.createElement(Lr.a.Icon,{size:50,icon:"account",color:r.colors.primary,style:{backgroundColor:r.colors.surface}})},title:null==l||null==(e=l.user)?void 0:e.name,description:"@ "+(null==s?void 0:s.name),titleStyle:Jm.profileAvatarTitle,descriptionStyle:Jm.profileAvatarSubtitle,style:Jm.profileAvatar,onPress:function(){d.navigate("Authenticated",{screen:"Authenticated",params:{screen:"Manifest",params:{screen:"ProfileScreen"}}})}}),g.createElement(ci,{items:[{title:"Role",value:Hn()(((null==l||null==(n=l.role)?void 0:n.name)||"").replace("_"," "))},{title:"Funds",value:"$"+((null==l?void 0:l.credits)||0)}]}),g.createElement(i.c,{showsVerticalScrollIndicator:!1},g.createElement(Lr.b.Section,{title:"Account"},g.createElement(Lr.b.Item,{label:"Manifest",active:/Manifest/.test(y||""),icon:"home",onPress:function(){d.navigate("Authenticated",{screen:"Authenticated",params:{screen:"ManifestScreen"}})}}),g.createElement(Lr.b.Item,{label:"Profile",active:"ProfileScreen"===y,icon:"account",onPress:function(){d.navigate("Authenticated",{screen:"Authenticated",params:{screen:"Manifest",params:{screen:"ProfileScreen"}}})}}),g.createElement(Lr.b.Item,{label:"Equipment",active:"EquipmentScreen"===y,icon:"parachute",onPress:function(){d.navigate("Authenticated",{screen:"Authenticated",params:{screen:"Manifest",params:{screen:"EquipmentScreen"}}})}}),g.createElement(Lr.b.Item,{label:"Notifications",active:"Notifications"===y,icon:"bell",onPress:function(){return d.navigate("Authenticated",{screen:"Authenticated",params:{screen:"Notifications"}})}}),g.createElement(Lr.b.Item,{label:"Transactions",active:"TransactionsScreen"===y,icon:"cash",onPress:function(){d.navigate("Authenticated",{screen:"Authenticated",params:{screen:"Manifest",params:{screen:"TransactionsScreen"}}})}}),g.createElement(Lr.b.Item,{label:"Log out",icon:"logout",onPress:function(){a(vn.global.logout()),d.dispatch(bi.DrawerActions.closeDrawer())}})),g.createElement(Lr.b.Section,{title:"Dropzone"},g.createElement(Lr.b.Item,{label:"Order Activity",active:"DropzoneTransactionsScreen"===y,icon:"cash",onPress:function(){d.navigate("Authenticated",{screen:"Authenticated",params:{screen:"Manifest",params:{screen:"DropzoneTransactionsScreen"}}})}}),I?g.createElement(Lr.b.Item,{active:"Settings"===f,label:"Settings",icon:"cog",onPress:function(){return d.navigate("Authenticated",{screen:"Authenticated",params:{screen:"Manifest",params:{screen:"SettingsScreen"}}})}}):null),g.createElement(Lr.b.Section,{title:"Switch dropzone"},null==u||null==(t=u.edges)?void 0:t.map((function(e){var n,t,r;return g.createElement(Lr.b.Item,{key:(null==e||null==(n=e.node)?void 0:n.id)+"-dz",label:(null==e||null==(t=e.node)?void 0:t.name)||"",icon:"map-marker",active:(null==s?void 0:s.id)===(null==e||null==(r=e.node)?void 0:r.id),onPress:function(){null!=e&&e.node&&(a(vn.global.setDropzone(e.node)),d.navigate("Authenticated",{screen:"Authenticated"}))}})})),g.createElement(Lr.b.Item,{label:"Create new",icon:"plus",onPress:function(){d.navigate("DropzoneSetupScreen")}}))))}var Jm=j.a.create({profileHeader:{backgroundColor:"#FF1414",flexGrow:1},skeleton:{height:50,width:"100%",paddingHorizontal:8,flexDirection:"row",marginBottom:16},profileAvatar:{marginBottom:16},profileAvatarTitle:{fontWeight:"bold",marginLeft:4},profileAvatarSubtitle:{fontSize:12,marginLeft:4}}),Qm=Object(ot.a)(),Xm=Object(lt.a)();function Zm(){var e=kn((function(e){return e.global}));return g.createElement(Qm.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}}},e.credentials?e.currentDropzone?g.createElement(Qm.Screen,{name:"Authenticated"},(function(){return g.createElement(Xm.Navigator,{drawerContent:function(){return g.createElement(Ym,null)}},g.createElement(Xm.Screen,{name:"Authenticated",component:Yd}))})):g.createElement(Qm.Screen,{name:"Dropzones",component:lm}):g.createElement(Qm.Screen,{name:"Unauthenticated",component:xm}),g.createElement(Qm.Screen,{name:"DropzoneSetupScreen",component:Vm}),g.createElement(Qm.Screen,{name:"confirm",component:qm}),g.createElement(Qm.Screen,{name:"DropzonesScreen",component:em}),g.createElement(Qm.Screen,{name:"NotFound",component:ct,options:{title:"Oops!"}}))}var Km=t(270);var ef=j.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},title:{color:"white",marginBottom:100,fontSize:24,fontWeight:"bold"},card:{padding:16,marginVertical:16,width:"100%"}}),nf=function(e){var n,t,r,a,i,o,l=kn((function(e){return e.forms.user})),s=En();return g.createElement(ji,ft()({style:ef.container},e,{title:"Select affiliation"}),g.createElement(C.a,{style:ef.content},g.createElement(nr.a,{style:ef.card},g.createElement(Hl,{value:(null==l||null==(n=l.fields)||null==(t=n.license)||null==(r=t.value)?void 0:r.federation)||l.federation.value,onSelect:function(e){return s(vn.forms.user.setFederation(e))}}),g.createElement(Br.a,{type:l.federation.error?"error":"info"},l.federation.error||"")),g.createElement(nr.a,{style:ef.card},g.createElement(Mr.a,{value:(null==(a=l.fields)||null==(i=a.apfNumber)?void 0:i.value)||"",mode:"outlined",onChangeText:function(e){return s(vn.forms.user.setField(["apfNumber",e]))},label:(null==(o=l.federation.value)?void 0:o.name)+" ID"}),g.createElement(Br.a,{type:l.federation.error?"error":"info"},l.federation.error||""))))};var tf=j.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},title:{color:"white",marginBottom:100,fontSize:24,fontWeight:"bold"},card:{padding:16,marginVertical:16,width:"100%"}}),rf=function(e){var n,t,r,a,i=kn((function(e){return e.forms.user})),o=En();return g.createElement(ji,ft()({style:tf.container},e,{title:"About you"}),g.createElement(C.a,{style:tf.content},g.createElement(nr.a,{style:tf.card},g.createElement(Mr.a,{value:(null==(n=i.fields)||null==(t=n.name)?void 0:t.value)||"",mode:"outlined",onChangeText:function(e){return o(vn.forms.user.setField(["name",e]))},label:"Full name"}),g.createElement(Br.a,{type:i.fields.name.error?"error":"info"},i.fields.name.error||"")),g.createElement(nr.a,{style:tf.card},g.createElement(Mr.a,{value:(null==(r=i.fields)||null==(a=r.nickname)?void 0:a.value)||"",mode:"outlined",onChangeText:function(e){return o(vn.forms.user.setField(["nickname",e]))},label:"Nickname"}),g.createElement(Br.a,{type:i.fields.nickname.error?"error":"info"},i.fields.nickname.error||"This will be displayed as your preferred name"))))};var af=j.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},title:{color:"white",marginBottom:100,fontSize:24,fontWeight:"bold"},card:{padding:16,marginVertical:16,width:"100%"}}),of=function(e){var n,t,r,a,i,o,l,s,c,u,d,m,f=kn((function(e){return e.forms.user})),p=En();return g.createElement(ji,ft()({style:af.container},e,{title:"What license do you have?"}),g.createElement(C.a,{style:af.content},g.createElement(nr.a,{style:{padding:16}},((null==f||null==(n=f.fields)||null==(t=n.license)||null==(r=t.value)||null==(a=r.federation)?void 0:a.id)||(null==f||null==(i=f.federation)||null==(o=i.value)?void 0:o.id))&&g.createElement(g.Fragment,null,g.createElement(Gl,{value:f.fields.license.value,federationId:Number((null==f||null==(l=f.fields)||null==(s=l.license)||null==(c=s.value)||null==(u=c.federation)?void 0:u.id)||(null==(d=f.federation)||null==(m=d.value)?void 0:m.id)),onSelect:function(e){return p(vn.forms.user.setField(["license",e]))}}),g.createElement(Br.a,{type:f.fields.license.error?"error":"info"},f.fields.license.error||"")))))};var lf=j.a.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:16,marginVertical:16},title:{color:"white",marginBottom:16,fontSize:24,fontWeight:"bold"}}),sf=function(e){var n=kn((function(e){return e.forms.rig})),t=En(),r=g.useState(!1),a=_()(r,2),o=a[0],l=a[1],s=g.useState(!1),c=_()(s,2),u=c[0],d=c[1];return g.createElement(ji,ft()({style:lf.container},e,{title:"What're you jumping?"}),g.createElement(C.a,{style:lf.content},g.createElement(nr.a,{style:lf.card},g.createElement(Lr.c.Subheader,null,"Container manufacturer"),g.createElement(lr.a,{onDismiss:function(){return l(!1)},visible:o,anchor:g.createElement(i.f,{onPress:function(){return l(!0)}},g.createElement(Mr.a,{pointerEvents:"box-only",style:lf.field,mode:"outlined",error:!!n.fields.make.error,value:u?"Other":n.fields.make.value||"Select manufacturer",disabled:!0}))},["Icon","Javelin","Mirage","Vector","PA (Talon)","Infinity","Parachutes de France","Parachute Systems","Racer"].map((function(e){return g.createElement(lr.a.Item,{onPress:function(){l(!1),t(vn.forms.rig.setField(["make",e])),d(!1)},title:e})})),g.createElement(lr.a.Item,{onPress:function(){l(!1),t(vn.forms.rig.setField(["make",""])),d(!0)},title:"Other"})),u?g.createElement(Mr.a,{style:lf.field,mode:"outlined",label:"Other manufacturer",error:!!n.fields.make.error,value:n.fields.make.value||"",onChangeText:function(e){return t(vn.forms.rig.setField(["make",e]))}}):null,g.createElement(Br.a,{type:n.fields.make.error?"error":"info"},n.fields.make.error||""),g.createElement(Lr.c.Subheader,null,"Model"),g.createElement(Mr.a,{style:lf.field,mode:"outlined",error:!!n.fields.model.error,value:n.fields.model.value||"",onChangeText:function(e){return t(vn.forms.rig.setField(["model",e]))}}),g.createElement(Br.a,{type:n.fields.model.error?"error":"info"},n.fields.model.error||"e.g G4.1")),g.createElement(nr.a,{style:lf.card},g.createElement(Lr.c.Subheader,null,"Serial number"),g.createElement(Mr.a,{style:lf.field,mode:"outlined",error:!!n.fields.serial.error,value:n.fields.serial.value||"",onChangeText:function(e){return t(vn.forms.rig.setField(["serial",e]))}}),g.createElement(Br.a,{type:n.fields.serial.error?"error":"info"},n.fields.serial.error||""))))};var cf=j.a.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},title:{color:"white",fontSize:24,fontWeight:"bold",marginBottom:80,textAlign:"center"}}),uf=function(e){var n=kn((function(e){return e.forms.rig})),t=En();return g.createElement(ji,ft()({style:cf.container},e,{title:"Next reserve repack?"}),g.createElement(C.a,{style:cf.content},g.createElement(nr.a,{style:cf.card},g.createElement(Lr.c.Subheader,null,"Due date"),g.createElement(El,{timestamp:n.fields.repackExpiresAt.value||(new Date).getTime()/1e3,onChange:function(e){return t(vn.forms.rig.setField(["repackExpiresAt",e]))}}),g.createElement(Br.a,{type:n.fields.repackExpiresAt.error?"error":"info"},n.fields.repackExpiresAt.error||""))))};var df=j.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},title:{color:"white",marginBottom:100,fontSize:24,fontWeight:"bold"},card:{padding:16,marginVertical:16,flex:1,opacity:.5},active:{opacity:1}}),mf=function(e){var n=kn((function(e){return e.forms.userWizard})),t=En();return g.createElement(ji,ft()({style:df.container},e,{title:"Do you have a rig?"}),g.createElement(C.a,{style:df.content},g.createElement(nr.a,{style:[df.card,!1===n.fields.skipRigSetup.value?df.active:void 0],onPress:function(){return t(vn.forms.userWizard.setField(["skipRigSetup",!1]))}},g.createElement(nr.a.Title,{title:"I have my own rig"})),g.createElement(nr.a,{style:[df.card,!0===n.fields.skipRigSetup.value?df.active:void 0],onPress:function(){return t(vn.forms.userWizard.setField(["skipRigSetup",!0]))}},g.createElement(nr.a.Title,{title:"I dont have a rig"}))))};var ff=j.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:50,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),pf=function(e){var n,t,r,a,i=kn((function(e){return e.forms.rig})),o=kn((function(e){return e.forms.user})),l=En(),s=g.useState(i.fields.canopySize.value||120),c=_()(s,2),u=c[0],d=c[1],m=g.useState(Number(o.fields.exitWeight.value)||120),f=_()(m,2),p=f[0],v=f[1];return g.useEffect((function(){i.fields.canopySize.value&&d(i.fields.canopySize.value)}),[i.fields.canopySize.value]),g.createElement(ji,ft()({style:ff.container},e,{title:"Your wingloading"}),g.createElement(C.a,{style:ff.content},g.createElement(nr.a,null,g.createElement(nr.a.Content,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},g.createElement(C.a,{style:ff.wingLoadingCardLeft},g.createElement(Lr.a.Text,{label:Object(Yr.ceil)(2.205*Number(o.fields.exitWeight.value||50)/(i.fields.canopySize.value||150),2).toString(),size:100,style:ff.wingLoading})),g.createElement(C.a,{style:ff.wingLoadingCardRight},g.createElement(nr.a.Title,{title:"Your wingloading",style:{paddingLeft:0}}),g.createElement(Ta.a,null,"Your wingloading is an indicator of your descent rate under canopy")))),g.createElement(nr.a,{style:ff.card,elevation:3},g.createElement(C.a,{style:ff.cardTitle},g.createElement(Lr.c.Subheader,null,"Your exit weight"),g.createElement(q.a,{style:ff.cardValue},p||50,"kg")),g.createElement(Pc.a,{style:ff.sliderControl,minimumValue:50,maximumValue:160,step:.5,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onSlidingComplete:function(){return l(vn.forms.user.setField(["exitWeight",p.toString()]))},value:p,onValueChange:function(e){return v(e)}}),g.createElement(Br.a,{type:null!=(n=o.fields.exitWeight)&&n.error?"error":"info"},(null==(t=o.fields.exitWeight)?void 0:t.error)||"Your weight in kg's with all equipment on")),g.createElement(nr.a,{style:ff.card,elevation:3},g.createElement(C.a,{style:ff.cardTitle},g.createElement(Lr.c.Subheader,null,"Canopy size"),g.createElement(q.a,{style:ff.cardValue},u||120,"ft")),g.createElement(C.a,{style:ff.slider},g.createElement(Pc.a,{style:ff.sliderControl,minimumValue:34,maximumValue:350,step:1,value:u||120,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onValueChange:function(e){return d(e)},onSlidingComplete:function(){return l(vn.forms.rig.setField(["canopySize",u]))}})),g.createElement(Br.a,{type:null!=(r=o.fields.exitWeight)&&r.error?"error":"info"},(null==(a=o.fields.exitWeight)?void 0:a.error)||"Size of your main canopy in square feet"))))};function gf(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function vf(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?gf(Object(t),!0).forEach((function(n){M()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gf(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var hf=j.a.create({modal:vf(vf({},j.a.absoluteFillObject),{},{paddingLeft:0,marginLeft:0,marginBottom:0,marginTop:0,paddingTop:0,paddingRight:0,paddingBottom:0,backgroundColor:"red",display:"flex",width:"100%",height:"100%",flex:1,alignItems:"center"})}),bf=function(){var e,n,t,r,i,o,l,s,c,u,d,m,f,p=kn((function(e){return e.forms.user})),v=kn((function(e){return e.forms.rig})),h=kn((function(e){return e.forms.userWizard})),b=En(),y=xr(),x=_()(y,2),E=x[0],k=x[1],S=Dt({onSuccess:function(e){return!0},onError:function(e){return b(vn.notifications.showSnackbar({message:e,variant:"error"}))},onFieldError:function(e,n){return b(vn.forms.user.setFieldError([e,n]))}}),w=Ul({onSuccess:function(){return!0},onError:function(e){return b(vn.notifications.showSnackbar({message:e,variant:"error"}))},onFieldError:function(e,n){return b(vn.forms.rig.setFieldError([e,n]))}}),C=Rl({onSuccess:function(e){return!0},onError:function(e){return b(vn.notifications.showSnackbar({message:e,variant:"error"}))},onFieldError:function(e,n){return b(vn.forms.rig.setFieldError([e,n]))}}),z=g.useCallback((function(e,n){var t;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(p.fields.name.value&&/\s/.test(p.fields.name.value)){r.next=3;break}return b(vn.forms.user.setFieldError(["name","Please enter your full name, including surname"])),r.abrupt("return",!1);case 3:return r.prev=3,r.next=6,a.a.awrap(S.mutate({id:Number(null==(t=p.original)?void 0:t.id),nickname:p.fields.nickname.value,name:p.fields.name.value}));case 6:return r.abrupt("return",n(e+1));case 9:return r.prev=9,r.t0=r.catch(3),console.log(r.t0),r.abrupt("return",!1);case 13:case"end":return r.stop()}}),null,null,[[3,9]],Promise)}),[b,S,p.fields.name.value,p.fields.nickname.value,null==(e=p.original)?void 0:e.id]),O=g.useCallback((function(e,n){var t,r,i,o,l,s,c,u,d,m,f,g;return a.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:if("apf"!==(null==(t=p.federation.value)||null==(r=t.name)?void 0:r.toLowerCase())||p.fields.apfNumber.value){v.next=3;break}return b(vn.forms.user.setFieldError(["apfNumber","Please enter your APF number"])),v.abrupt("return",!1);case 3:if(v.prev=3,"apf"!==(null==(i=p.federation.value)||null==(o=i.name)?void 0:o.toLowerCase())){v.next=11;break}return v.next=7,a.a.awrap(E({variables:{uid:p.fields.apfNumber.value,federationId:Number(null==(l=p.federation)||null==(s=l.value)?void 0:s.id)}}));case 7:f=v.sent,console.log({data:null==(c=f.data)?void 0:c.joinFederation}),(g=null==f||null==(u=f.data)||null==(d=u.joinFederation)||null==(m=d.userFederation)?void 0:m.license)&&b(vn.forms.user.setField(["license",g]));case 11:return v.abrupt("return",n(e+1));case 14:return v.prev=14,v.t0=v.catch(3),console.log("Error"),console.log(v.t0),v.abrupt("return",!1);case 19:case"end":return v.stop()}}),null,null,[[3,14]],Promise)}),[b,E,null==(n=p.federation.value)?void 0:n.id,null==(t=p.federation.value)?void 0:t.name,p.fields.apfNumber.value]),I=g.useCallback((function(e,n){var t,r,i,o,l,s,c,u;return a.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(null!=(t=p.fields.license)&&null!=(r=t.value)&&r.id){d.next=3;break}return b(vn.forms.user.setFieldError(["license","You must select a license"])),d.abrupt("return",!1);case 3:return d.prev=3,d.next=6,a.a.awrap(E({variables:{federationId:Number(null==(i=p.federation)||null==(o=i.value)?void 0:o.id),licenseId:Number(null==(l=p.fields.license)||null==(s=l.value)?void 0:s.id)}}));case 6:return u=d.sent,console.log({data:null==(c=u.data)?void 0:c.joinFederation}),d.abrupt("return",n(e+1));case 11:return d.prev=11,d.t0=d.catch(3),console.log("Failed"),d.abrupt("return",!1);case 15:case"end":return d.stop()}}),null,null,[[3,11]],Promise)}),[b,E,null==(r=p.federation)||null==(i=r.value)?void 0:i.id,null==(o=p.fields.license)||null==(l=o.value)?void 0:l.id]),T=g.useCallback((function(e,n){var t,r,i,o,l,s,c;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(null!=(t=v.fields.make)&&t.value){u.next=3;break}return b(vn.forms.rig.setFieldError(["make","Please select manufacturer"])),u.abrupt("return");case 3:if(null!=(r=v.fields.model)&&r.value){u.next=6;break}return b(vn.forms.rig.setFieldError(["model","Please enter a model name"])),u.abrupt("return");case 6:if(u.prev=6,null!=(i=v.original)&&i.id){u.next=13;break}return u.next=10,a.a.awrap(C.mutate({make:v.fields.make.value,model:v.fields.model.value,serial:v.fields.serial.value,userId:Number(null==(o=p.original)?void 0:o.id)}));case 10:u.t0=u.sent,u.next=16;break;case 13:return u.next=15,a.a.awrap(w.mutate({id:Number(null==(l=v.original)?void 0:l.id),make:v.fields.make.value,model:v.fields.model.value,serial:v.fields.serial.value,userId:Number(null==(s=p.original)?void 0:s.id)}));case 15:u.t0=u.sent;case 16:null!=(c=u.t0)&&c.rig&&b(vn.forms.rig.setOpen(c.rig)),n(e+1),u.next=24;break;case 21:u.prev=21,u.t1=u.catch(6),console.error(u.t1);case 24:case"end":return u.stop()}}),null,null,[[6,21]],Promise)}),[v.fields.make.value,v.fields.model.value,v.fields.serial.value,null==(s=v.original)?void 0:s.id,b,C,null==(c=p.original)?void 0:c.id,w]),j=g.useCallback((function(e,n){var t,r,i;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(null!=(t=v.fields.repackExpiresAt)&&t.value){o.next=3;break}return b(vn.forms.rig.setFieldError(["repackExpiresAt","Select repack date, even if it's in the past"])),o.abrupt("return",!1);case 3:return o.prev=3,o.next=6,a.a.awrap(w.mutate({id:Number(null==(r=v.original)?void 0:r.id),repackExpiresAt:v.fields.repackExpiresAt.value}));case 6:return null!=(i=o.sent)&&i.rig&&b(vn.forms.rig.setOpen(i.rig)),o.abrupt("return",n(e+1));case 11:return o.prev=11,o.t0=o.catch(3),o.abrupt("return",!1);case 14:case"end":return o.stop()}}),null,null,[[3,11]],Promise)}),[b,w,v.fields.repackExpiresAt.value,null==(u=v.original)?void 0:u.id]),P=g.useCallback((function(e,n){var t,r,i,o,l;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(null!=(t=v.fields.canopySize)&&t.value){s.next=3;break}return b(vn.forms.rig.setFieldError(["canopySize","You must provide a canopy size"])),s.abrupt("return",!1);case 3:if(null!=(r=p.fields.exitWeight)&&r.value){s.next=6;break}return b(vn.forms.user.setFieldError(["exitWeight","You must enter your exit weight"])),s.abrupt("return",!1);case 6:return s.prev=6,s.next=9,a.a.awrap(w.mutate({id:Number(null==(i=v.original)?void 0:i.id),canopySize:v.fields.canopySize.value}));case 9:return s.next=11,a.a.awrap(S.mutate({id:Number(null==(o=p.original)?void 0:o.id),exitWeight:Number(null==(l=p.fields.exitWeight)?void 0:l.value)}));case 11:n(e+1),s.next=17;break;case 14:s.prev=14,s.t0=s.catch(6),console.error(s.t0);case 17:return s.abrupt("return",null);case 18:case"end":return s.stop()}}),null,null,[[6,14]],Promise)}),[v.fields.canopySize.value,null==(d=v.original)?void 0:d.id,null==(m=p.fields.exitWeight)?void 0:m.value,null==(f=p.original)?void 0:f.id,b,w,S]);return g.createElement(Nr.a,null,g.createElement(Km.a,{visible:h.open,dismissable:!1,style:hf.modal,contentContainerStyle:{height:"100%"}},g.createElement(Ci,null,g.createElement(rf,{backButtonLabel:"Cancel",nextButtonLabel:"Next",onBack:function(){b(vn.forms.userWizard.setOpen(!1)),b(vn.forms.user.setOpen(!1)),b(vn.forms.rig.setOpen(!1)),b(vn.forms.userWizard.reset()),b(vn.forms.user.reset()),b(vn.forms.rig.reset())},loading:S.loading,onNext:z}),g.createElement(nf,{backButtonLabel:"Back",nextButtonLabel:"Next",onBack:function(e,n){n(e-1)},loading:S.loading||k.loading,onNext:O}),g.createElement(of,{backButtonLabel:"Back",nextButtonLabel:"Next",onBack:function(e,n){n(e-1)},loading:S.loading||k.loading,onNext:I}),g.createElement(mf,{backButtonLabel:"Back",nextButtonLabel:h.fields.skipRigSetup.value?"Done":"Next",onBack:function(e,n){n(e-1)},onNext:function(e,n){!0===h.fields.skipRigSetup.value?n(e+4):n(e+1)}}),g.createElement(sf,{backButtonLabel:"Back",nextButtonLabel:"Next",onBack:function(e,n){n(e-1)},loading:S.loading||w.loading||C.loading,onNext:T}),g.createElement(uf,{backButtonLabel:"Back",nextButtonLabel:"Next",loading:S.loading||w.loading||C.loading,onBack:function(e,n){n(e-1)},onNext:j}),g.createElement(pf,{backButtonLabel:"Back",nextButtonLabel:"Next",loading:S.loading||w.loading||C.loading,onBack:function(e,n){n(e-1)},onNext:P}),g.createElement(Ai,{title:"You're all set!",subtitle:"You can configure your settings on the profile page",backButtonLabel:"Back",nextButtonLabel:"Done",onBack:function(e,n){!0===h.fields.skipRigSetup.value?n(e-4):n(e-1)},onNext:function(){b(vn.forms.userWizard.setOpen(!1)),b(vn.forms.user.setOpen(!1)),b(vn.forms.rig.setOpen(!1)),b(vn.forms.userWizard.reset()),b(vn.forms.user.reset()),b(vn.forms.rig.reset())}}))))};function yf(){var e,n,t=kn((function(e){return e.global})),r=En(),i=g.useRef(),s=g.useRef(),h=function(e){var n=T()(e.url).path();console.log(n)},b="dark"===k.a.getColorScheme();return g.useEffect((function(){b&&!t.isDarkMode||!b&&t.isDarkMode?r(vn.global.toggleDarkMode()):r(vn.global.setPrimaryColor(t.theme.colors.primary))}),[r,b,t.isDarkMode,t.theme.colors.primary]),g.useEffect((function(){if("web"!==w.a.OS)return function(){var e,n,t,r,i,o;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e=null,!l.a.isDevice){s.next=22;break}return s.next=4,a.a.awrap(c.a());case 4:if(n=s.sent,t=n.status,r=t,"granted"===t){s.next=13;break}return s.next=10,a.a.awrap(u.requestForegroundPermissionsAsync());case 10:i=s.sent,o=i.status,r=o;case 13:if("granted"===r){s.next=16;break}return console.warn("Failed to get push token for push notification!"),s.abrupt("return",null);case 16:return s.next=18,a.a.awrap(d.a());case 18:e=s.sent.data,console.log(e),s.next=23;break;case 22:console.warn("Must use physical device for Push Notifications");case 23:return"android"===w.a.OS&&m.a("default",{name:"default",importance:f.a.MAX,vibrationPattern:[0,250,250,250],lightColor:"#FF231F7C"}),s.abrupt("return",e||null);case 25:case"end":return s.stop()}}),null,null,null,Promise)}().then((function(e){e&&r(vn.global.setExpoPushToken(e))})),i.current=p.a((function(e){e.request.content.body&&r(vn.notifications.showSnackbar({message:e.request.content.body,variant:"warning"}))})),s.current=p.b((function(e){console.log(e)})),S.a.addEventListener("url",h),function(){i.current&&p.c(i.current),s.current&&p.c(s.current),S.a.removeEventListener("url",h)}}),[r]),g.createElement(Cn,null,g.createElement(g.Suspense,{fallback:g.createElement(C.a,{style:{flex:1,flexGrow:1}},g.createElement(y.a,{indeterminate:!0,color:null==t||null==(e=t.theme)||null==(n=e.colors)?void 0:n.accent,visible:!0}))},g.createElement($n,null,g.createElement(x.a,{theme:t.theme},g.createElement(v.b,null,g.createElement(Un,null),g.createElement(z.a,{linking:it,theme:t.theme},g.createElement(P,null,g.createElement(Zm,null))),g.createElement(o.a,null),g.createElement(bf,null),g.createElement(rt,null))))))}s.a({handleNotification:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{shouldShowAlert:!0,shouldPlaySound:!0,shouldSetBadge:!0});case 1:case"end":return e.stop()}}),null,null,null,Promise)}});n.default=Object(O.a)((function(){return function(){var e=g.useState(!1),n=_()(e,2),r=n[0],i=n[1],o=Ln.a({Inter_400Regular:Vn.a,Inter_500Medium:Vn.b,Inter_700Bold:Vn.c}),l=_()(o,1)[0];return g.useEffect((function(){a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Mn.b(),e.next=4,a.a.awrap(Wn.b(Gn(Gn({},Bn.a.font),{},{"space-mono":t(632)})));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:return e.prev=8,i(!0),Mn.a(),e.finish(8);case 12:case"end":return e.stop()}}),null,null,[[0,6,8,12]],Promise)}),[]),r&&l}()?g.createElement(h.a,{store:yn},g.createElement(b.a,{persistor:xn,loading:g.createElement(C.a,{style:{flex:1,justifyContent:"center",alignItems:"center"}},g.createElement(E.a,{size:"large"}))},g.createElement(yf,null))):null}))}},[[564,2,3]]]);
//# sourceMappingURL=app.cad2afe4.chunk.js.map