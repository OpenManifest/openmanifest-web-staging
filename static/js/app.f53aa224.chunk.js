(this.webpackJsonp=this.webpackJsonp||[]).push([[1],{172:function(e){e.exports=JSON.parse('{"v":"5.5.7","meta":{"g":"LottieFiles AE 0.1.20","a":"","k":"","d":"","tc":""},"fr":29.9700012207031,"ip":0,"op":91.000003706506,"w":1080,"h":1080,"nm":"CHECK","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 8","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":315,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 7","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":270,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":225,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":180,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":135,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":90,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":45,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[552,540,0],"ix":2},"a":{"a":0,"k":[-396,-26.286,0],"ix":1},"s":{"a":0,"k":[70,70,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[-236,-32],[94.286,-32]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.432],"y":[1]},"o":{"x":[0.622],"y":[0]},"t":4.2,"s":[0]},{"t":14.0000005702317,"s":[100]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.442],"y":[1]},"o":{"x":[0.609],"y":[0]},"t":0,"s":[0]},{"t":10.2675004182038,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"Comp 2","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[496,220,0],"ix":2},"a":{"a":0,"k":[540,540,0],"ix":1},"s":{"a":0,"k":[31.111,31.111,100],"ix":6}},"ao":0,"w":1080,"h":1080,"ip":14.0000005702317,"op":108.00000439893,"st":14.0000005702317,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[524,552,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-156,36],[-32,160],[220,-140]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":59,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.221],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":28,"s":[0]},{"i":{"x":[0.191],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":44,"s":[100]},{"t":59.0000024031193,"s":[87]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":28.0000011404634,"op":122.000004969162,"st":28.0000011404634,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[540,540,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[60,60,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[1080,1080],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.133333333333,0.800000059838,0.533333333333,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":65,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.113],"y":[1]},"o":{"x":[0.647],"y":[0]},"t":0,"s":[0]},{"t":22.0000008960784,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":94.0000038286985,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[540,540,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.321,0.321,0.667],"y":[1,1,1]},"o":{"x":[0.725,0.725,0.333],"y":[0,0,0]},"t":17,"s":[0,0,100]},{"t":40.0000016292334,"s":[60,60,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[1080,1080],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.956862984452,0.145097994337,0.203922002456,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.131938231225,0.799417892157,0.534389181698,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":17.0000006924242,"op":111.000004521123,"st":17.0000006924242,"bm":0}],"markers":[]}')},174:function(e,n,t){"use strict";t.d(n,"a",(function(){return h}));var r=t(4),a=t.n(r),o=t(5),l=t.n(o),i=t(3),s=t.n(i),u=t(0),c=t(1),d=t(389),m=t(107),f=t(27);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var v={lat:-27.4705,lng:153.026};function h(e){var n=e.width,t=e.height,r=e.position,a=e.children,o=(e.center,e.coords),i=e.shape,p=e.interactive,h=e.onDragEnd,b=Object(d.b)({googleMapsApiKey:void 0,id:"google-maps-script"}).isLoaded,y=e.containerStyle,E=e.mapStyle,x=u.useRef(null),k=o||v,w=u.useCallback((function(e){var n,t,r,a;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return x.current=e,o.prev=1,o.next=4,s.a.awrap(m.b());case 4:if(n=o.sent,"granted"===n.status){o.next=8;break}return o.abrupt("return");case 8:o.next=13;break;case 10:o.prev=10,o.t0=o.catch(1),console.log({error:o.t0});case 13:return o.prev=13,a=new window.google.maps.LatLngBounds(k),null==(t=x.current)||t.fitBounds(a),null==(r=x.current)||null==r.panTo||r.panTo(k),o.finish(13);case 18:case"end":return o.stop()}}),null,null,[[1,10,13,18]],Promise)}),[k]),S=u.useCallback((function(){x.current=null}),[]),C=u.useState(),O=l()(C,2),z=O[0],I=O[1],T=Object(f.useIsFocused)();return b&&T?u.createElement(c.default,{onLayout:function(e){var n=e.nativeEvent;return I(n.layout)},style:g({width:n,height:t,borderRadius:"round"===i&&null!=z&&z.width?z.width/2:void 0,overflow:"hidden",position:"absolute",top:r.y,left:r.x},y),pointerEvents:p?void 0:"none"},u.createElement(d.a,{onLoad:function(e){x.current=e,w(e)},ref:x,center:k,onDragEnd:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){null==h||h({lat:x.current.center.lat(),lng:x.current.center.lng()})})),onUnmount:S,mapTypeId:google.maps.MapTypeId.HYBRID,mapContainerStyle:g({width:"100%",height:"100%"},E),options:{zoom:15,fullscreenControl:!1,streetViewControl:!1,center:k,mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.HYBRID,zoomControl:!1}},a)):null}},338:function(e,n,t){"use strict";function r(e){var n=e.x,t=e.y,r=e.degrees,a=e.radius,o=e.offsetX,l=e.offsetY;return{x:n+a+o+a*Math.sin((r+180)*Math.PI/180),y:t+a+l+a*-Math.cos((r+180)*Math.PI/180)}}t.d(n,"a",(function(){return r}))},339:function(e,n,t){e.exports=t.p+"static/media/weather.0908eb6b.png"},340:function(e,n,t){e.exports=t.p+"static/media/night.f2cf113d.png"},435:function(e){e.exports=JSON.parse('{"v":"5.4.3","fr":29.9700012207031,"ip":0,"op":70.0000028511585,"w":307,"h":389,"nm":"refresh-button","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 6","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-44,"ix":10},"p":{"a":0,"k":[154.149,195.327,0],"ix":2},"a":{"a":0,"k":[-2.021,-4,0],"ix":1},"s":{"a":0,"k":[71.946,71.946,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[0.8784313725490196,0.396078431372549,0.396078431372549,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"d":[{"n":"d","nm":"dash","v":{"a":0,"k":33,"ix":1}},{"n":"o","nm":"offset","v":{"a":0,"k":0,"ix":7}}],"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.625],"y":[0]},"n":["0p667_1_0p625_0"],"t":26,"s":[0],"e":[100]},{"t":65.0000026475043}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"n":["0p667_1_1_0"],"t":7,"s":[0],"e":[100]},{"t":41.0000016699642}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[-179],"e":[181]},{"t":65.0000026475043}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-44,"ix":10},"p":{"a":0,"k":[154.149,195.327,0],"ix":2},"a":{"a":0,"k":[-2.021,-4,0],"ix":1},"s":{"a":0,"k":[71.946,71.946,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,0.0784313725490196,0.0784313725490196,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"d":[{"n":"d","nm":"dash","v":{"a":0,"k":33,"ix":1}},{"n":"o","nm":"offset","v":{"a":0,"k":0,"ix":7}}],"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.625],"y":[0]},"n":["0p667_1_0p625_0"],"t":26,"s":[0],"e":[100]},{"t":65.0000026475043}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"n":["0p667_1_1_0"],"t":0,"s":[0],"e":[100]},{"t":41.0000016699642}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[-224],"e":[136]},{"t":65.0000026475043}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 4","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-44,"ix":10},"p":{"a":0,"k":[154.149,195.327,0],"ix":2},"a":{"a":0,"k":[-2.021,-4,0],"ix":1},"s":{"a":0,"k":[46.072,46.072,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,0.0784313725490196,0.2549019607843137,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"n":["0p667_1_1_0"],"t":0,"s":[100],"e":[0]},{"t":38.0000015477717}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.733],"y":[0.015]},"n":["0p667_1_0p733_0p015"],"t":19,"s":[100],"e":[0]},{"t":60.0000024438501}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[-319],"e":[-679]},{"t":65.0000026475043}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":5,"ty":4,"nm":"Shape Layer 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-44,"ix":10},"p":{"a":0,"k":[154.149,195.327,0],"ix":2},"a":{"a":0,"k":[-2.021,-4,0],"ix":1},"s":{"a":0,"k":[46.072,46.072,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,1,1,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":10,"ix":5},"lc":2,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[1],"y":[0]},"n":["0p667_1_1_0"],"t":0,"s":[100],"e":[0]},{"t":38.0000015477717}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.733],"y":[0.015]},"n":["0p667_1_0p733_0p015"],"t":19,"s":[100],"e":[0]},{"t":60.0000024438501}],"ix":2},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[-224],"e":[-584]},{"t":65.0000026475043}],"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":6,"ty":4,"nm":"Shape Layer 5","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[4.436],"e":[-355.564]},{"t":69.0000028104276}],"ix":10},"p":{"a":0,"k":[155,194,0],"ix":2},"a":{"a":0,"k":[-1.5,-4,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,0.0784313725490196,0.0784313725490196,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":1,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":0,"k":85,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":7,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[4.436],"e":[-355.564]},{"t":69.0000028104276}],"ix":10},"p":{"a":0,"k":[155,194,0],"ix":2},"a":{"a":0,"k":[-1.5,-4,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[217,217],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"st","c":{"a":0,"k":[1,0.0784313725490196,0.0784313725490196,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":5,"ix":5},"lc":1,"lj":1,"ml":4,"ml2":{"a":0,"k":4,"ix":8},"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[-1.5,-4],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":0,"k":85,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0},{"ddd":0,"ind":8,"ty":4,"nm":"refresh-button Outlines","parent":7,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":85.093,"ix":10},"p":{"a":0,"k":[-6.619,-112.041,0],"ix":2},"a":{"a":0,"k":[188.881,115.959,0],"ix":1},"s":{"a":0,"k":[58.516,58.516,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[1.875,-1.875],[-1.875,-1.875],[0,0],[-1.274,0],[-0.898,0.903],[0,0],[1.875,1.875],[1.875,-1.875],[0,0]],"o":[[-1.875,-1.875],[-1.875,1.875],[0,0],[0.899,0.903],[1.277,0],[0,0],[1.875,-1.875],[-1.875,-1.875],[0,0],[0,0]],"v":[[-14.662,-12.188],[-21.451,-12.188],[-21.451,-5.398],[-3.393,12.656],[-0.002,14.063],[3.392,12.656],[21.451,-5.398],[21.451,-12.188],[14.662,-12.188],[-0.002,2.473]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ind":1,"ty":"sh","ix":2,"ks":{"a":0,"k":{"i":[[0,0]],"o":[[0,0]],"v":[[-14.662,-12.188]],"c":false},"ix":2},"nm":"Path 2","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"mm","mm":1,"nm":"Merge Paths 1","mn":"ADBE Vector Filter - Merge","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.0784313725490196,0.2549019607843137,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[188.943,118.162],"ix":2},"a":{"a":0,"k":[0.062,2.438],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":70.0000028511585,"st":0,"bm":0}],"markers":[]}')},549:function(e,n,t){"use strict";(function(e){var r=t(4),a=t.n(r),o=t(5),l=t.n(o),i=t(0),s=t(8),u=t(36),c=t(2),d=t(1),m=t(316),f=t.n(m),p=t(384),g=t(338),v=t(174);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){a()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var y=u.a.get("window").width;var E=c.a.create({container:{paddingHorizontal:0,alignItems:"center",paddingLeft:0,paddingRight:0},degreeLabel:{width:200,height:120,textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2},fontSize:100,color:"white",position:"absolute"},content:{width:"100%",flexDirection:"column"},iconContainer:{borderWidth:2,borderRadius:y/2,borderStyle:"solid",borderColor:"white",alignSelf:"center",alignItems:"center",justifyContent:"center"}});n.a=i.memo((function(n){var t=n.lat,r=n.lng,a=i.useState({x:0,y:0,height:0,width:0}),o=l()(a,2),u=o[0],c=o[1],m=1*u.width,f=u.height/2,h=u.width/2,y=n.jumpRun,x=i.useState({x:0,y:0,height:0,width:0,originX:0,originY:0}),k=l()(x,2),w=k[0],S=k[1],C=i.useRef(new s.a.Value(0)),O=i.useRef(new s.a.Value(0)),z=i.useRef(s.a.loop(s.a.timing(O.current,{duration:3e3,toValue:-400,useNativeDriver:!0}),{resetBeforeIteration:!0})),I=i.useCallback((function(e){var n=e.nativeEvent.layout;S(b(b({},n),{},{originX:n.x+u.width/2,originY:n.y+u.height/2}))}),[u.height,u.width]);i.useEffect(function(){var n=function(){z.current.start()};return n._closure={planeAnimation:{current:{start:z.current.start}}},n.asString="function _f(){const{planeAnimation}=jsThis._closure;{planeAnimation.current.start();}}",n.__workletHash=6984743035892,n.__location="/home/runner/work/openmanifest/openmanifest/app/screens/authenticated/manifest/Weather/JumpRun.tsx (78:18)",e.__reanimatedWorkletInit(n),n}(),[]);var T=function(){var n=function(){z.current.stop(),z.current.reset(),z.current.start()};return n._closure={planeAnimation:{current:{stop:z.current.stop,reset:z.current.reset,start:z.current.start}}},n.asString="function _f(){const{planeAnimation}=jsThis._closure;{planeAnimation.current.stop();planeAnimation.current.reset();planeAnimation.current.start();}}",n.__workletHash=4402863442905,n.__location="/home/runner/work/openmanifest/openmanifest/app/screens/authenticated/manifest/Weather/JumpRun.tsx (84:18)",e.__reanimatedWorkletInit(n),n}();i.useEffect((function(){T()}),[y]);var P=Object(g.a)({x:w.x,y:w.y,degrees:y,offsetX:0,offsetY:0,radius:u.height/2}),j=i.useMemo((function(){return{x:0,y:0}}),[]),D=i.useMemo((function(){return t&&r?{lat:t,lng:r}:void 0}),[t,r]);return i.createElement(d.default,{onLayout:function(e){var n=e.nativeEvent;return c(n.layout)},style:{width:"100%",height:"100%"}},i.createElement(d.default,{style:{width:m,height:m,borderRadius:m/2,overflow:"hidden",position:"absolute",top:0,left:0}},i.createElement(v.a,{coords:D,center:D,height:m,width:m,position:j,interactive:!1})),i.createElement(s.a.View,{onLayout:I,style:[E.iconContainer,{width:m,height:m,position:"absolute",top:0,left:0,transform:[{rotate:y+"deg"}]}]},i.createElement(s.a.View,{style:{height:m-6,width:1,backgroundColor:"#FF1414",opacity:C.current.interpolate({inputRange:[0,1],outputRange:[.6,1]}),transform:[{scaleX:C.current.interpolate({inputRange:[0,1],outputRange:[3,1]})}]}})),null!=u&&u.width?i.createElement(s.a.View,{style:[{position:"absolute",width:20,height:20,top:P.y,left:P.x,opacity:O.current.interpolate({inputRange:[-m,-m/2,m],outputRange:[0,1,0]}),transform:[{rotate:y+"deg"},{translateY:O.current}]}]},i.createElement(p.a,{name:"airplane",size:20,color:"#ffffff"})):null,i.createElement(s.a.Text,{style:[E.degreeLabel,{opacity:C.current,top:f,left:h}]},Math.round(y)))}),(function(e,n){return f()(e,n)}))}).call(this,t(52))},557:function(e){e.exports=JSON.parse('{"v":"4.8.0","meta":{"g":"LottieFiles AE 1.0.0","a":"","k":"","d":"","tc":"#FFFFFF"},"fr":60,"ip":0,"op":149,"w":512,"h":512,"nm":"airplane","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"ticket Outlines 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":97,"s":[0]},{"t":120,"s":[28]}],"ix":10},"p":{"a":0,"k":[306,343,0],"ix":2},"a":{"a":0,"k":[44,47.75,0],"ix":1},"s":{"a":0,"k":[400,400,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[63.25,8],[43.75,8],[43.75,56.5],[63.25,56.5]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[44,48],[44,44]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":75,"s":[100]},{"t":80,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[44,16],[44,20]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":50,"s":[100]},{"t":56.666015625,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[22,36],[22,40]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":20,"s":[100]},{"t":25,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":68.334,"s":[100]},{"t":75,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,38],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":61.666,"s":[100]},{"t":68.333984375,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,32],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":3,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":56.666,"s":[100]},{"t":61.666015625,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,26],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":3,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,-2.209],[2.209,0],[0,0],[0,0],[0,0],[0,2.209],[-2.209,0]],"o":[[0,0],[0,0],[2.209,0],[0,2.209],[0,0],[0,0],[0,0],[-2.209,0],[0,-2.209],[0,0]],"v":[[26,-16],[-26,-16],[-26,-4],[-22,0],[-26,4],[-26,16],[26,16],[26,4],[22,0],[26,-4]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":25,"s":[100]},{"t":50,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[32,32],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":3,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-6,-6],[6,-6],[6,6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":15,"s":[100]},{"t":25,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[24,34],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":3,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-8,6],[-4,6],[8,-6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[100]},{"t":15,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[26,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":3,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"ticket Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[258,280,0],"ix":2},"a":{"a":0,"k":[32,32,0],"ix":1},"s":{"a":0,"k":[400,400,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":95,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[61.75,12.5],[4,12.5],[4,51.25],[61.75,51.25]],"c":true}]},{"t":97,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[44,12.5],[-13.75,12.5],[-13.75,51.25],[44,51.25]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[44,48],[44,44]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":75,"s":[100]},{"t":80,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[44,16],[44,20]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":50,"s":[100]},{"t":56.666015625,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 2","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[22,36],[22,40]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":20,"s":[100]},{"t":25,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 3","np":3,"cix":2,"bm":0,"ix":3,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":68.334,"s":[100]},{"t":75,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,38],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 4","np":3,"cix":2,"bm":0,"ix":4,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":61.666,"s":[100]},{"t":68.333984375,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,32],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 5","np":3,"cix":2,"bm":0,"ix":5,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[-1.104,0],[0,-1.104],[1.104,0],[0,1.104]],"o":[[1.104,0],[0,1.104],[-1.104,0],[0,-1.104]],"v":[[0,-2],[2,0],[0,2],[-2,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":56.666,"s":[100]},{"t":61.666015625,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[44,26],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 6","np":3,"cix":2,"bm":0,"ix":6,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,-2.209],[2.209,0],[0,0],[0,0],[0,0],[0,2.209],[-2.209,0]],"o":[[0,0],[0,0],[2.209,0],[0,2.209],[0,0],[0,0],[0,0],[-2.209,0],[0,-2.209],[0,0]],"v":[[26,-16],[-26,-16],[-26,-4],[-22,0],[-26,4],[-26,16],[26,16],[26,4],[22,0],[26,-4]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":25,"s":[100]},{"t":50,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[32,32],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 7","np":3,"cix":2,"bm":0,"ix":7,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-6,-6],[6,-6],[6,6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":15,"s":[100]},{"t":25,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[24,34],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 8","np":3,"cix":2,"bm":0,"ix":8,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-8,6],[-4,6],[8,-6]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[100]},{"t":15,"s":[0]}],"ix":1},"e":{"a":0,"k":100,"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[26,30],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Group 9","np":3,"cix":2,"bm":0,"ix":9,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"circle","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":105,"s":[100]},{"t":129,"s":[0]}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[260,254,0],"ix":2},"a":{"a":0,"k":[8.9,23.828,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667,0.667],"y":[1,1,1]},"o":{"x":[0.333,0.333,0.333],"y":[0,0,0]},"t":75,"s":[0,0,100]},{"t":120,"s":[130,130,100]}],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[354,354],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"fl","c":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":75,"s":[1,0.803921580315,0.219607844949,1]},{"t":120,"s":[1,0.866666674614,0.403921574354,1]}],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[7,25],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"bg","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[256,256,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[518,514],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":60,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"fl","c":{"a":0,"k":[0.952941176471,0.952941176471,0.952941176471,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[-1,-1],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[97.683,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":150,"st":0,"bm":0}],"markers":[]}')},559:function(e,n,t){e.exports=t.p+"static/media/logo-black.36bb8461.png"},560:function(e,n,t){e.exports=t.p+"static/media/logo.6fa2ed95.png"},601:function(e,n,t){e.exports=t(870)},809:function(e,n,t){e.exports=t.p+"./fonts/SpaceMono-Regular.ttf"},823:function(e,n){},859:function(e,n,t){e.exports=t.p+"static/media/pattern.9f57eead.png"},870:function(e,n,t){"use strict";t.r(n);var r=t(3),a=t.n(r),o=t(32),l=t(563),i=t(45),s=t(916),u=t(917),c=t(909),d=t(905),m=t(906),f=t(918),p=t(0),g=t.n(p),v=t(570),h=t(262),b=t(512),y=t(468),E=t(484),x=t(207),k=t(88),w=t(247),S=t(10),C=t(1),O=t(493),z=t(912),I=t(513),T=t(515),P=t.n(T),j=t(516),D=t(260);"android"===S.a.OS&&(t(627),t(632),t(640),t(647),t(648),t(652),t(653),t(656),t(657),t(663),t(664),t(672),t(673),t(688),t(689),"__setDefaultTimeZone"in Intl.DateTimeFormat&&Intl.DateTimeFormat.__setDefaultTimeZone(t(872).timezone));var F=t(2);function A(e){var n=e.children;return p.createElement(C.default,{style:F.a.absoluteFill},n)}var N,R,$,U,B,L,W,V,M,G=t(4),q=t.n(G),_=t(5),H=t.n(_),Y=t(14),J=t.n(Y),Q=t(913),X=t(26),Z=t(919),K=t(436),ee=t(269),ne=t(519),te=t.n(ne).a,re=t(116),ae=t(41),oe=t(568),le=t(391);!function(e){e.Open="open",e.BoardingCall="boarding_call",e.InFlight="in_flight",e.Landed="landed",e.Cancelled="cancelled"}(N||(N={})),function(e){e.User="user",e.Support="support",e.Moderator="moderator",e.Administrator="administrator"}(R||(R={})),function(e){e.System="system",e.PackjobPendingConfirm="packjob_pending_confirm",e.PackjobConfirmed="packjob_confirmed",e.RigPendingInspection="rig_pending_inspection",e.BoardingCall="boarding_call",e.UserManifested="user_manifested",e.CreditsUpdated="credits_updated",e.RigInspectionCompleted="rig_inspection_completed",e.RigInspectionRequested="rig_inspection_requested",e.MembershipUpdated="membership_updated",e.BoardingCallCanceled="boarding_call_canceled",e.PermissionGranted="permission_granted",e.PermissionRevoked="permission_revoked",e.PublicationRequested="publication_requested"}($||($={})),function(e){e.Pending="pending",e.Completed="completed",e.Refunded="refunded",e.Cancelled="cancelled"}(U||(U={})),function(e){e.UpdateDropzone="updateDropzone",e.DeleteDropzone="deleteDropzone",e.UndeleteDropzone="undeleteDropzone",e.UpdateWeatherConditions="updateWeatherConditions",e.CreateLoad="createLoad",e.UpdateLoad="updateLoad",e.DeleteLoad="deleteLoad",e.ReadLoad="readLoad",e.CreateSlot="createSlot",e.CreateDoubleSlot="createDoubleSlot",e.UpdateSlot="updateSlot",e.DeleteSlot="deleteSlot",e.CreateUserSlot="createUserSlot",e.CreateUserDoubleSlot="createUserDoubleSlot",e.CreateUserSlotWithSelf="createUserSlotWithSelf",e.UpdateUserSlot="updateUserSlot",e.DeleteUserSlot="deleteUserSlot",e.UndeleteUserSlot="undeleteUserSlot",e.CreateStudentSlot="createStudentSlot",e.UpdateStudentSlot="updateStudentSlot",e.DeleteStudentSlot="deleteStudentSlot",e.UndeleteStudentSlot="undeleteStudentSlot",e.CreateTicketType="createTicketType",e.UpdateTicketType="updateTicketType",e.DeleteTicketType="deleteTicketType",e.UndeleteTicketType="undeleteTicketType",e.CreateExtra="createExtra",e.UpdateExtra="updateExtra",e.DeleteExtra="deleteExtra",e.ReadExtra="readExtra",e.UndeleteExtra="undeleteExtra",e.CreatePlane="createPlane",e.UpdatePlane="updatePlane",e.DeletePlane="deletePlane",e.UndeletePlane="undeletePlane",e.CreateRig="createRig",e.UpdateRig="updateRig",e.DeleteRig="deleteRig",e.ReadRig="readRig",e.UndeleteRig="undeleteRig",e.CreateDropzoneRig="createDropzoneRig",e.UpdateDropzoneRig="updateDropzoneRig",e.DeleteDropzoneRig="deleteDropzoneRig",e.ReadDropzoneRig="readDropzoneRig",e.UndeleteDropzoneRig="undeleteDropzoneRig",e.ReadPermissions="readPermissions",e.UpdatePermissions="updatePermissions",e.CreatePackjob="createPackjob",e.UpdatePackjob="updatePackjob",e.DeletePackjob="deletePackjob",e.ReadPackjob="readPackjob",e.CreateFormTemplate="createFormTemplate",e.UpdateFormTemplate="updateFormTemplate",e.DeleteFormTemplate="deleteFormTemplate",e.ReadFormTemplate="readFormTemplate",e.ReadUser="readUser",e.UpdateUser="updateUser",e.DeleteUser="deleteUser",e.CreateUser="createUser",e.UndeleteUser="undeleteUser",e.ActAsPilot="actAsPilot",e.ActAsLoadMaster="actAsLoadMaster",e.ActAsGca="actAsGCA",e.ActAsDzso="actAsDZSO",e.ActAsRigInspector="actAsRigInspector",e.CreateUserTransaction="createUserTransaction",e.ReadUserTransactions="readUserTransactions",e.GrantPermission="grantPermission",e.RevokePermission="revokePermission"}(B||(B={})),function(e){e.Pack="pack",e.TicketType="ticketType",e.Extra="extra",e.Slot="slot"}(L||(L={})),function(e){e.Reserved="reserved",e.Completed="completed",e.Cancelled="cancelled"}(W||(W={})),function(e){e.Purchase="purchase",e.Sale="sale",e.Deposit="deposit",e.Withdrawal="withdrawal",e.Refund="refund"}(V||(V={})),function(e){e.DropzoneUser="dropzoneUser",e.Dropzone="dropzone"}(M||(M={}));var ie,se,ue={original:null,open:!1,fields:{amount:{value:null,error:null},transactionType:{value:V.Deposit,error:null},message:{value:"",error:null}}},ce=Object(ae.b)({name:"forms/credits",initialState:ue,reducers:{setField:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];r in e.fields&&"error"in e.fields[r]&&(e.fields[r].error=a)},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=ue.fields):(e.original=n.payload,e.open=!0)},reset:function(e){e.fields=ue.fields,e.original=null}}}),de={original:null,open:!1,fields:{federation:{value:null,error:null},lat:{value:null,error:null},lng:{value:null,error:null},name:{value:"",error:null},secondaryColor:{value:"",error:null},primaryColor:{value:"",error:null},banner:{value:"",error:null},isCreditSystemEnabled:{value:!1,error:null},isPublic:{value:!1,error:null},requestPublication:{value:!1,error:null}}},me=Object(ae.b)({name:"forms/dropzone",initialState:de,reducers:{setField:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];r in e.fields&&"error"in e.fields[r]&&(e.fields[r].error=a)},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=de.fields):(e.original=n.payload,e.open=!0,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}})))},setOriginal:function(e,n){e.original=n.payload,e.open=!0,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}}))},reset:function(e){e.fields=de.fields,e.original=null}}}),fe={original:null,open:!1,fields:{role:{value:null,error:null},expiresAt:{value:null,error:null}}},pe=Object(ae.b)({name:"forms/dropzoneUser",initialState:fe,reducers:{setField:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=fe.fields):(e.original=n.payload,e.open=!0,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}})))},reset:function(e){e.fields=fe.fields,e.original=null}}}),ge={original:null,open:!1,fields:{name:{value:"",error:null},cost:{value:null,error:null},ticketTypes:{value:[],error:null}}},ve=Object(ae.b)({name:"forms/extra",initialState:ge,reducers:{setField:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields.name.error=null},setFieldError:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=ge.fields):(e.original=n.payload,e.open=!0,e.fields.ticketTypes.value=n.payload.ticketTypes,e.fields.cost.value=n.payload.cost,e.fields.name.value=n.payload.name||"")},reset:function(e){e.fields=ge.fields,e.original=null}}}),he={original:null,open:!1,fields:{name:{value:"",error:null},gca:{value:null,error:null},dispatchAt:{value:null,error:null},isOpen:{value:!0,error:null},loadMaster:{value:null,error:null},pilot:{value:null,error:null},plane:{value:null,error:null},maxSlots:{value:4,error:null}}},be=Object(ae.b)({name:"forms/load",initialState:he,reducers:{setField:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=he.fields):(e.original=n.payload,e.open=!0,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}})))},reset:function(e){e.fields=he.fields,e.original=null}}}),ye={original:null,open:!1,federation:{value:null,error:null},fields:{exitWeight:{value:null,error:null},email:{value:"",error:null},phone:{value:"",error:null},name:{value:null,error:null},role:{value:null,error:null},license:{value:null,error:null}}},Ee=Object(ae.b)({name:"forms/ghost",initialState:ye,reducers:{setFederation:function(e,n){e.federation.value=n.payload},setField:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];r in e.fields&&(e.fields[r].value=a,e.fields[r].error=null)},setFieldError:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];r in e?e.fields[r].error=a:console.error("Cannot set error on ",r)},setOpen:function(e,n){var t;"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=ye.fields):(e.original=n.payload.user,e.open=!0,e.federation.value=(null==(t=n.payload.license)?void 0:t.federation)||null,e.fields.license.value=n.payload.license||null,"boolean"!==typeof n.payload&&Object.keys(n.payload.user).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value="license"===a||"role"===a?n.payload[a]:n.payload.user[a]}})))},reset:function(e){e.fields=ye.fields,e.original=null}}}),xe={original:null,open:!1,fields:{name:{value:"",error:null},registration:{value:"",error:null},minSlots:{value:0,error:null},maxSlots:{value:4,error:null}}},ke=Object(ae.b)({name:"Plane",initialState:xe,reducers:{setField:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields.name.error=null},setFieldError:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=xe.fields):(e.original=n.payload,e.open=!0,e.fields.minSlots.value=n.payload.minSlots||0,e.fields.maxSlots.value=n.payload.maxSlots||3,e.fields.name.value=n.payload.name||"",e.fields.registration.value=n.payload.registration||"")},setOriginal:function(e,n){e.original=n.payload,e.open=!0,e.fields.minSlots.value=n.payload.minSlots||0,e.fields.maxSlots.value=n.payload.maxSlots||3,e.fields.name.value=n.payload.name||"",e.fields.registration.value=n.payload.registration||""},reset:function(e){e.fields=xe.fields,e.original=null}}}),we={original:null,open:!1,fields:{make:{value:"",error:null},name:{value:"",error:null},model:{value:"",error:null},serial:{value:"",error:null},repackExpiresAt:{value:null,error:null},canopySize:{value:null,error:null},rigType:{value:"sport",error:null}}},Se=Object(ae.b)({name:"forms/rig",initialState:we,reducers:{setField:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=we.fields):(e.original=n.payload,e.open=!0,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}})))},setOriginal:function(e,n){e.original=n.payload,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}}))},reset:function(e){e.fields=we.fields,e.original=null}}}),Ce={fields:[],open:!1,ok:!1},Oe=Object(ae.b)({name:"forms/rigInspection",initialState:Ce,reducers:{setOk:function(e,n){e.ok=n.payload},setField:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields=e.fields.map((function(e,n){return n===r?a:e}))},setFields:function(e,n){try{e.fields=JSON.parse(n.payload)}catch(t){console.log(n.payload),console.error("Failed to read rig inspection template",t.message,n.payload)}},reset:function(e){e.fields=Ce.fields,e.ok=Ce.ok}}}),ze={original:null,fields:[]},Ie=Object(ae.b)({name:"forms/rigInspectionTemplate",initialState:ze,reducers:{setFields:function(e,n){e.fields=n.payload},setOpen:function(e,n){e.original=n.payload;try{e.fields=JSON.parse(n.payload.definition||"[]")}catch(t){console.log("Invalid json: ",n.payload.definition)}},reset:function(e){e.fields=ze.fields,e.original=null}}}),Te={original:null,open:!1,fields:{jumpType:{value:null,error:null},extras:{value:[],error:null},load:{value:null,error:null},rig:{value:null,error:null},ticketType:{value:null,error:null},dropzoneUser:{value:null,error:null},exitWeight:{value:null,error:null},passengerName:{value:null,error:null},passengerExitWeight:{value:null,error:null}}},Pe=Object(ae.b)({name:"forms/manifest",initialState:Te,reducers:{setField:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];r in e.fields&&(e.fields[r].value=a,e.fields[r].error=null)},setFieldError:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];r in e.fields&&(e.fields[r].error=a)},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=Te.fields):(e.original=n.payload,e.open=!0,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}})))},reset:function(e){e.fields=Te.fields,e.original=null}}}),je={original:null,open:!1,fields:{jumpType:{value:null,error:null},extras:{value:[],error:null},load:{value:null,error:null},ticketType:{value:null,error:null},users:{value:[],error:null}}},De=Object(ae.b)({name:"forms/manifestGroup",initialState:je,reducers:{setField:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setFromSlots:function(e,n){var t,r;e.fields.users.value=n.payload.slots.map((function(e){var n,t;return{id:Number(null==(n=e.dropzoneUser)?void 0:n.id),rigId:Number(null==(t=e.rig)?void 0:t.id),exitWeight:Number(e.exitWeight)}})),e.fields.jumpType.value=null==(t=n.payload.slots.find((function(e){return e})))?void 0:t.jumpType,e.fields.load.value=n.payload.load,e.fields.extras.value=null==(r=n.payload.slots.find((function(e){return e})))?void 0:r.extras},setDropzoneUsers:function(e,n){e.fields.users.value=n.payload.map((function(e){var n,t,r;return{id:Number(e.id),rigId:Number(null==e||null==(n=e.availableRigs)||null==(t=n.find((function(e){return e.id})))?void 0:t.id),exitWeight:Number(null==e||null==(r=e.user)?void 0:r.exitWeight)}}))},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=je.fields):(e.original=n.payload,e.open=!0,Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}})))},reset:function(e){e.fields=je.fields,e.original=null}}}),Fe={original:null,open:!1,fields:{name:{value:"",error:null},cost:{value:null,error:null},altitude:{value:14e3,error:null},allowManifestingSelf:{value:!1,error:null},isTandem:{value:!1,error:null},extras:{value:[],error:null}}},Ae=Object(ae.b)({name:"forms/ticketType",initialState:Fe,reducers:{setField:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOriginal:function(e,n){e.original=n.payload,e.open=!0,e.fields.altitude.value=n.payload.altitude||0,e.fields.cost.value=n.payload.cost||0,e.fields.allowManifestingSelf.value=n.payload.allowManifestingSelf||!1,e.fields.name.value=n.payload.name||""},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=Fe.fields):(e.original=n.payload,e.open=!0,e.fields.altitude.value=n.payload.altitude||0,e.fields.cost.value=n.payload.cost||0,e.fields.allowManifestingSelf.value=n.payload.allowManifestingSelf||!1,e.fields.name.value=n.payload.name||"")},reset:function(e){e.fields=Fe.fields,e.original=null}}}),Ne={original:null,open:!1,federation:{value:null,error:null},fields:{exitWeight:{value:"",error:null},apfNumber:{value:"",error:null},email:{value:"",error:null},phone:{value:"",error:null},name:{value:null,error:null},nickname:{value:null,error:null},rigs:{value:[],error:null},license:{value:null,error:null}}},Re=Object(ae.b)({name:"forms/user",initialState:Ne,reducers:{setFederation:function(e,n){e.federation.value=n.payload},setField:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},setOriginal:function(e,n){var t,r,a,o,l,i,s,u,c,d,m;(e.original=n.payload.user,e.federation.value=(null==(t=n.payload.license)?void 0:t.federation)||(null==(r=n.payload)||null==(a=r.user)||null==(o=a.userFederations)||null==(l=o.find((function(e){return e})))?void 0:l.federation)||null,e.federation.value&&null!=(i=n.payload.user)&&null!=(s=i.userFederations)&&null!=(u=s.find((function(n){var t;return n.federation.id===(null==(t=e.federation.value)?void 0:t.id)})))&&u.uid)&&(e.fields.apfNumber.value=null==(c=n.payload.user)||null==(d=c.userFederations)||null==(m=d.find((function(n){var t;return n.federation.id===(null==(t=e.federation.value)?void 0:t.id)})))?void 0:m.uid);Object.keys(n.payload.user).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value="license"===a?n.payload[a]:n.payload.user[a]}}))},setOpen:function(e,n){var t;"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=Ne.fields):(e.original=n.payload.user,e.open=!0,e.federation.value=(null==(t=n.payload.license)?void 0:t.federation)||null,e.fields.license.value=n.payload.license||null,"boolean"!==typeof n.payload&&Object.keys(n.payload.user).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value="license"===a?n.payload[a]:n.payload.user[a]}})))},reset:function(e){e.fields=Ne.fields,e.original=null}}}),$e={original:null,open:!1,fields:{jumpRun:{value:null,error:null},temperature:{value:null,error:null},exitSpotMiles:{value:null,error:null},offsetDirection:{value:null,error:null},winds:{value:[],error:null}}},Ue=Object(ae.b)({name:"forms/weather",initialState:$e,reducers:{setField:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];r in e.fields&&(e.fields[r].value=a,e.fields[r].error=null)},setFieldError:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];r in e&&"error"in e.fields[r]?e.fields[r].error=a:console.error("Cannot set error on ",r)},setOpen:function(e,n){"boolean"===typeof n.payload?(e.open=n.payload,e.original=null,e.fields=$e.fields):(e.original=n.payload,e.open=!0,"boolean"!==typeof n.payload&&Object.keys(n.payload).forEach((function(t){var r=t;if(r in e.fields){var a=r;e.fields[a].value=n.payload[a]}})))},reset:function(e){e.fields=$e.fields,e.original=null}}}),Be={credits:ce,dropzone:me,dropzoneUser:pe,extra:ve,ghost:Ee,load:be,plane:ke,rig:Se,rigInspection:Oe,rigInspectionTemplate:Ie,manifest:Pe,manifestGroup:De,ticketType:Ae,user:Re,weather:Ue},Le={isSearchVisible:!1,searchText:""},We=Object(ae.b)({name:"screens/user",initialState:Le,reducers:{setSearchText:function(e,n){e.searchText=n.payload},setSearchVisible:function(e,n){e.isSearchVisible=n.payload},reset:function(e){e.isSearchVisible=Le.isSearchVisible,e.searchText=Le.searchText}}}),Ve={fields:{email:{value:"",error:null},password:{value:"",error:null}}},Me=Object(ae.b)({name:"login",initialState:Ve,reducers:{setEmail:function(e,n){e.fields.email.value=n.payload},setPassword:function(e,n){e.fields.password.value=n.payload},setEmailError:function(e,n){e.fields.email.error=n.payload},setPasswordError:function(e,n){e.fields.password.error=n.payload},reset:function(e){e.fields=Ve.fields}}}),Ge={isSearchVisible:!1,selectedUsers:[],searchText:"",display:"cards"},qe=Object(ae.b)({name:"manifestScreen",initialState:Ge,reducers:{setSelected:function(e,n){e.selectedUsers=n.payload},setSearchText:function(e,n){e.searchText=n.payload},setSearchVisible:function(e,n){e.isSearchVisible=n.payload},setDisplayStyle:function(e,n){e.display=n.payload},reset:function(e){e.isSearchVisible=Ge.isSearchVisible,e.searchText=Ge.searchText}}}),_e={federation:null,fields:{email:{value:"",error:null},password:{value:"",error:null},passwordConfirmation:{value:"",error:null},exitWeight:{value:50,error:null},name:{value:"",error:null},phone:{value:"",error:null},license:{value:null,error:null}}},He=Object(ae.b)({name:"login",initialState:_e,reducers:{setFederation:function(e,n){e.federation=n.payload},setField:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].value=a,e.fields[r].error=null},setFieldError:function(e,n){var t=H()(n.payload,2),r=t[0],a=t[1];e.fields[r].error=a},reset:function(e){e.fields=_e.fields}}});function Ye(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Je(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ye(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ye(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e[e.Name=0]="Name",e[e.Federation=1]="Federation",e[e.Location=2]="Location",e[e.Branding=3]="Branding",e[e.Aircraft=4]="Aircraft",e[e.Tickets=5]="Tickets"}(se||(se={}));var Qe={currentIndex:-1,completed:(ie={},q()(ie,se.Name,!1),q()(ie,se.Federation,!1),q()(ie,se.Location,!1),q()(ie,se.Aircraft,!1),q()(ie,se.Tickets,!1),q()(ie,se.Branding,!1),ie)},Xe=Object(ae.b)({name:"screens/dropzoneWizard",initialState:Qe,reducers:{setIndex:function(e,n){e.currentIndex=n.payload},complete:function(e,n){var t;e.completed=Je(Je({},e.completed),n.payload||(t={},q()(t,se.Name,!0),q()(t,se.Federation,!0),q()(t,se.Location,!0),q()(t,se.Aircraft,!0),q()(t,se.Tickets,!0),q()(t,se.Branding,!0),t))}}}),Ze={skipRigSetup:!1},Ke=Object(ae.b)({name:"screens/userWizard",initialState:Ze,reducers:{skipRigSetup:function(e,n){e.skipRigSetup=n.payload}}}),en={manifest:qe,users:We,login:Me,signup:He,dropzoneWizard:Xe,userWizard:Ke},nn={open:!1,image:null},tn=Object(ae.b)({name:"dialog/imageViewer",initialState:nn,reducers:{setOpen:function(e,n){e.open=!0,e.image=n.payload},close:function(e){e.open=!1}}}),rn=t(204),an=t(422),on=t(152),ln=t(205),sn=t(20),un=t.n(sn),cn="#0099CC",dn={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc",success:"#00C851",error:"#ff4444",warning:"#FF8800",info:cn},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff",success:"#00C851",error:"#ff4444",warning:"#FF8800",info:cn}};function mn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function fn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?mn(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var pn=fn(fn(fn({},on.a),rn.a),{},{fonts:{light:{fontFamily:"Roboto_300Light",fontWeight:"300"},thin:{fontFamily:"Roboto_100Thin",fontWeight:"100"},medium:{fontFamily:"Roboto_500Medium",fontWeight:"500"},regular:{fontFamily:"Roboto_400Regular",fontWeight:"400"}},colors:fn(fn(fn({},on.a.colors),rn.a.colors),{},{primary:"#FF1414"})}),gn=fn(fn(fn({},ln.a),an.a),{},{fonts:{light:{fontFamily:"Roboto_300Light",fontWeight:"300"},thin:{fontFamily:"Roboto_100Thin",fontWeight:"100"},medium:{fontFamily:"Roboto_500Medium",fontWeight:"500"},regular:{fontFamily:"Roboto_400Regular",fontWeight:"400"}},colors:fn(fn(fn({},ln.a.colors),an.a.colors),{},{primary:"#FF1414"})}),vn={currentUser:null,currentDropzone:null,currentDropzoneId:null,permissions:[],credentials:null,expoPushToken:null,theme:pn,palette:fn(fn({},pn.colors),{},{primary:{main:"#FF1414",dark:"#991414",light:"#FFAAAA"},accent:{main:"#FFFFFF",dark:"#FFFFFF",light:"#FFFFFF"}}),isDarkMode:!1},hn=Object(ae.b)({name:"global",initialState:vn,reducers:{setCredentials:function(e,n){e.credentials=n.payload},setUser:function(e,n){e.currentUser=n.payload},setExpoPushToken:function(e,n){e.expoPushToken=n.payload},setPermissions:function(e,n){e.permissions=n.payload},setPrimaryColor:function(e,n){e.theme.colors.primary=n.payload,e.palette=fn(fn({},e.theme.colors),{},{primary:{dark:un()(e.theme.colors.primary).darken(.4).hex(),main:e.theme.colors.primary,light:un()(e.theme.colors.primary).lighten(.6).hex()},accent:{dark:un()(e.theme.colors.accent).darken(.4).hex(),main:e.theme.colors.accent,light:un()(e.theme.colors.accent).lighten(.6).hex()}})},setAccentColor:function(e,n){e.theme.colors.accent=n.payload,e.palette=fn(fn({},e.theme.colors),{},{primary:{dark:un()(e.theme.colors.primary).darken(.4).hex(),main:e.theme.colors.primary,light:un()(e.theme.colors.primary).lighten(.6).hex()},accent:{dark:un()(e.theme.colors.accent).darken(.4).hex(),main:e.theme.colors.accent,light:un()(e.theme.colors.accent).lighten(.8).hex()}})},setDropzone:function(e,n){var t,r,a,o,l,i;(e.currentDropzone=n.payload,e.currentDropzoneId=null!=(t=n.payload)&&t.id?Number(null==(r=n.payload)?void 0:r.id):null,null!=(a=e.currentDropzone)&&a.primaryColor)&&(e.theme.colors.primary=null==(l=e.currentDropzone)?void 0:l.primaryColor);null!=(o=e.currentDropzone)&&o.secondaryColor&&(e.theme.colors.accent=null==(i=e.currentDropzone)?void 0:i.secondaryColor);e.palette=fn(fn({},e.theme.colors),{},{primary:{dark:un()(e.theme.colors.primary).darken(.4).hex(),main:e.theme.colors.primary,light:un()(e.theme.colors.primary).lighten(.6).hex()},accent:{dark:un()(e.theme.colors.accent).darken(.4).hex(),main:e.theme.colors.accent,light:un()(e.theme.colors.accent).lighten(.6).hex()}})},toggleDarkMode:function(e){var n,t,r,a;(e.isDarkMode=!e.isDarkMode,e.theme=e.isDarkMode?gn:pn,null!=(n=e.currentDropzone)&&n.primaryColor)&&(e.theme.colors.primary=null==(r=e.currentDropzone)?void 0:r.primaryColor);null!=(t=e.currentDropzone)&&t.secondaryColor&&(e.theme.colors.accent=null==(a=e.currentDropzone)?void 0:a.secondaryColor);e.palette=fn(fn({},e.theme.colors),{},{primary:{dark:un()(e.theme.colors.primary).darken(.4).hex(),main:e.theme.colors.primary,light:un()(e.theme.colors.primary).lighten(.6).hex()},accent:{dark:un()(e.theme.colors.accent).darken(.4).hex(),main:e.theme.colors.accent,light:un()(e.theme.colors.accent).lighten(.6).hex()}})},logout:function(e){Object.keys(vn).forEach((function(n){if(n in e){var t=n;e[n]=vn[t]}}))}}}),bn=t(171),yn=t.n(bn),En=t(316),xn=t.n(En),kn=t(521),wn=t.n(kn),Sn={queue:[]},Cn=Object(ae.b)({name:"notifications",initialState:Sn,reducers:{hideSnackbar:function(e){var n=yn()(e.queue).slice(1);e.queue=n},showSnackbar:function(e,n){xn()(wn()(e.queue),n.payload)||e.queue.push(n.payload)}}});function On(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function zn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?On(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):On(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var In={key:"open-manifest.0.9.1",storage:"web"===S.a.OS?t(779).default:oe.a,whitelist:["global"]},Tn=Object.keys(en).reduce((function(e,n){return en&&n in en?zn(zn({},e),{},q()({},n,en[n].reducer)):e}),{}),Pn=Object.keys(Be).reduce((function(e,n){return Be&&n in Be?zn(zn({},e),{},q()({},n,Be[n].reducer)):e}),{}),jn=Object.keys(en).reduce((function(e,n){return n in en?zn(zn({},e),{},q()({},n,en[n].actions)):e}),{}),Dn={forms:Object.keys(Be).reduce((function(e,n){return n in Be?zn(zn({},e),{},q()({},n,Be[n].actions)):e}),{}),screens:jn,global:hn.actions,notifications:Cn.actions,imageViewer:tn.actions},Fn=Object(re.b)({global:hn.reducer,notifications:Cn.reducer,imageViewer:tn.reducer,screens:Object(re.b)(Tn),forms:Object(re.b)(Pn)}),An=Object(le.a)(In,Fn),Nn=Object(ae.a)({reducer:An,middleware:Object(ae.c)({serializableCheck:{ignoredActions:["persist/PERSIST"]},immutableCheck:!1})}),Rn=Object(le.b)(Nn),$n=function(){return Object(h.b)()},Un=h.c,Bn=["useFonts","__metadata__"];function Ln(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Wn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ln(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ln(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Vn(e){var n=e.children,r=(ee.useFonts,ee.__metadata__,J()(ee,Bn)),o=ee.useFonts(Wn({},r)),l=H()(o,1)[0],i=p.useState(!1),s=H()(i,2),u=s[0],c=s[1],d=p.useState(!1),m=H()(d,2),f=m[0],g=m[1],v=p.useRef(null),h=$n(),b=p.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("web"!==S.a.OS){t.next=2;break}return t.abrupt("return");case 2:return null==(e=v.current)||e.play(),t.next=5,a.a.awrap(Q.b());case 5:if(n=t.sent,!n.isNew){t.next=13;break}return t.next=10,a.a.awrap(Q.d());case 10:g(!1),c(!1),h(Dn.notifications.showSnackbar({message:"New version installed"}));case 13:case"end":return t.stop()}}),null,null,null,Promise)}),[h]),y=p.useCallback((function(){var e;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("web"!==S.a.OS){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.a.awrap(Q.a());case 4:e=n.sent,e.isAvailable&&b();case 7:case"end":return n.stop()}}),null,null,null,Promise)}),[b]);return p.useEffect((function(){y()}),[y]),l?p.createElement(C.default,{style:{flex:1}},n,u&&p.createElement(Z.a,{tint:"dark",style:Mn.blur,intensity:80},p.createElement(X.a,{style:Mn.title},"A new update is available"),p.createElement(te,{ref:v,style:{width:120,height:120},source:t(435)}),p.createElement(K.a,{disabled:f,loading:f,color:"#FFFFFF",style:Mn.button,mode:"outlined",onPress:function(){return b()}},"Click to update"))):null}var Mn=F.a.create({blur:Wn(Wn({},F.a.absoluteFillObject),{},{alignItems:"center",justifyContent:"center"}),title:{color:"white",fontSize:24,fontWeight:"400",position:"absolute",top:100},button:{position:"absolute",bottom:100,borderColor:"white",borderRadius:20}}),Gn=t(907),qn=t(911),_n=t(892),Hn=t(532),Yn=t(914),Jn=t(531),Qn=t(915);function Xn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Zn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Xn(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Kn(e){var n=e.children,t=p.useMemo((function(){var e,n,t,r,a,o,l,s,u;console.log("Environment",null==(e=i.a.manifest)?void 0:e.extra),console.log("Release channel",Q.c);var c="web"===S.a.OS?null==(n=i.a.manifest)||null==(t=n.extra)?void 0:t.environment:Q.c;return new Yn.a({batchDebounce:!0,batchMax:10,uri:c in(null==(r=i.a.manifest)||null==(a=r.extra)?void 0:a.urls)?null==(o=i.a.manifest)||null==(l=o.extra)?void 0:l.urls[c]:null==(s=i.a.manifest)||null==(u=s.extra)?void 0:u.url})}),[]),r=Un((function(e){return e.global.credentials})),a=$n(),o=p.useMemo((function(){return Object(Jn.a)((function(e){var n=e.graphQLErrors,t=e.networkError,r=e.operation;e.response;if(null!=n&&n.some((function(e){var n;return"AUTHENTICATION_ERROR"===(null==(n=e.extensions)?void 0:n.code)})))return a(Dn.notifications.showSnackbar({message:"Session expired",variant:"error"})),void a(Dn.global.logout());n&&"development"===Object({NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"OpenManifest",slug:"openmanifest",version:"1.0.0",orientation:"portrait",icon:"./assets/images/android-icon.png",scheme:"openmanifest",userInterfaceStyle:"automatic",splash:{image:"./assets/images/logo.png",resizeMode:"contain",backgroundColor:"#ff1414"},updates:{fallbackToCacheTimeout:0},assetBundlePatterns:["**/*"],web:{},_internal:{isDebug:!1,projectRoot:"/home/runner/work/openmanifest/openmanifest",dynamicConfigPath:"/home/runner/work/openmanifest/openmanifest/app.config.ts",staticConfigPath:"/home/runner/work/openmanifest/openmanifest/app.json",packageJsonPath:"/home/runner/work/openmanifest/openmanifest/package.json"},sdkVersion:"42.0.0",platforms:["ios","android","web"],hooks:{postPublish:[{file:"sentry-expo/upload-sourcemaps",config:{organization:"danger-technology",project:"openmanifest"}}]},extra:{url:"https://devapi.openmanifest.org/graphql",urls:{development:"http://127.0.0.1",staging:"https://devapi.openmanifest.org/graphql",default:"https://devapi.openmanifest.org/graphql",production:"https://api.openmanifest.org/graphql"},environment:"staging"}},CI:"true"}).EXPO_ENV&&n.forEach((function(e){var n=e.message,t=e.locations,o=e.path,l=e.name,i=e.nodes;a(Dn.notifications.showSnackbar({message:"[GraphQL error]: "+n+", "+JSON.stringify(t)+", "+o,variant:"error"})),console.error("[GraphQL error]: "+n+", "+JSON.stringify(t)+", "+o+", "+l+", "+i),console.log(JSON.stringify(e)),console.log(r)})),t&&"development"===Object({NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"OpenManifest",slug:"openmanifest",version:"1.0.0",orientation:"portrait",icon:"./assets/images/android-icon.png",scheme:"openmanifest",userInterfaceStyle:"automatic",splash:{image:"./assets/images/logo.png",resizeMode:"contain",backgroundColor:"#ff1414"},updates:{fallbackToCacheTimeout:0},assetBundlePatterns:["**/*"],web:{},_internal:{isDebug:!1,projectRoot:"/home/runner/work/openmanifest/openmanifest",dynamicConfigPath:"/home/runner/work/openmanifest/openmanifest/app.config.ts",staticConfigPath:"/home/runner/work/openmanifest/openmanifest/app.json",packageJsonPath:"/home/runner/work/openmanifest/openmanifest/package.json"},sdkVersion:"42.0.0",platforms:["ios","android","web"],hooks:{postPublish:[{file:"sentry-expo/upload-sourcemaps",config:{organization:"danger-technology",project:"openmanifest"}}]},extra:{url:"https://devapi.openmanifest.org/graphql",urls:{development:"http://127.0.0.1",staging:"https://devapi.openmanifest.org/graphql",default:"https://devapi.openmanifest.org/graphql",production:"https://api.openmanifest.org/graphql"},environment:"staging"}},CI:"true"}).EXPO_ENV&&a(Dn.notifications.showSnackbar({message:"[Network error]: "+t,variant:"error"}))}))}),[a]),l=p.useMemo((function(){return Object(Hn.a)((function(e,n){return{headers:Zn(Zn({},n.headers),null!=r&&r.accessToken?Zn({Authorization:"Bearer "+r.accessToken,"access-token":r.accessToken,"token-type":r.tokenType},r):{})}}))}),[r]),s=p.useMemo((function(){return new Gn.a({link:o.concat(l).concat(new Qn.a).concat(t),cache:new qn.a})}),[l,o,t]);return p.createElement(_n.a,{client:s},n)}var et=t(534);function nt(){var e=Un((function(e){return e.imageViewer})),n=e.open,t=e.image,r=$n();return n&&t?p.createElement(et.a,{mainSrc:t,onCloseRequest:function(){return r(Dn.imageViewer.close())}}):null}var tt=t(894),rt=t(893),at=t(565),ot=t(392),lt=t(356);function it(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function st(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?it(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):it(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ut=t(355),ct=t(172);function dt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function mt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?dt(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ft,pt=Cn.actions;!function(e){e[e.opening=0]="opening",e[e.waiting=1]="waiting",e[e.closed=2]="closed"}(ft||(ft={}));var gt=F.a.create({animation:{height:300,width:300}}),vt=function(){var e=Un((function(e){return e.notifications})),n=$n(),t=p.useRef(null),r=p.useState(ft.closed),a=H()(r,2),o=a[0],l=a[1],i=p.useMemo((function(){return e.queue.length?e.queue[0]:null}),[e.queue]);return p.useEffect((function(){o===ft.closed&&"success"===(null==i?void 0:i.variant)&&l(ft.opening)}),[o,null==i?void 0:i.variant]),p.useEffect((function(){i&&ut.a.show({onHide:function(){return n(pt.hideSnackbar())},text1:i.message,type:i.variant||"success"})}),[n,i]),p.createElement(p.Fragment,null,o===ft.opening&&p.createElement(C.default,{style:mt(mt({},F.a.absoluteFillObject),{},{alignItems:"center",justifyContent:"center"}),pointerEvents:"none"},p.createElement(te,{loop:!1,autoPlay:!0,speed:1.2,onAnimationFinish:function(){l(ft.waiting),setTimeout((function(){n(pt.hideSnackbar()),l(ft.closed)}),200)},ref:t,style:gt.animation,source:ct})),p.createElement(ut.a,{ref:function(e){return ut.a.setRef(e)},autoHide:!0,visibilityTime:4e3,position:"bottom",type:"success"}))},ht=t(263),bt={prefixes:[ht.a("/"),"https://openmanifest.org","https://staging.openmanifest.org","openmanifest://","http://localhost:19006"],config:{screens:{confirm:{path:"/confirm"},ChangePasswordScreen:{path:"/change-password"},Authenticated:{screens:{HomeScreen:"/home",LoadScreen:"/load/:load_id",PackingScreen:"/packing",ProfileScreen:"/user/:id",SetupScreen:"/dropzone/setup"}},Limbo:{screens:{DropzonesScreen:"/dropzones",CreateDropzoneScreen:"/dropzone/create"}},Unauthenticated:{screens:{LoginScreen:"/login",SignUpScreen:"/signup"}}}}},yt=t(477),Et=t(908),xt=t(49);function kt(e){var n=e.navigation;return p.createElement(C.default,{style:ra.container},p.createElement(X.a,{style:ra.title},"This screen doesn't exist."),p.createElement(xt.a,{onPress:function(){return n.replace("Root")},style:ra.link},p.createElement(X.a,{style:ra.linkText},"Go to home screen!")))}var wt,St,Ct,Ot,zt,It,Tt,Pt,jt,Dt,Ft,At,Nt,Rt,$t,Ut,Bt,Lt,Wt,Vt,Mt,Gt,qt,_t,Ht,Yt,Jt,Qt,Xt,Zt,Kt,er,nr,tr,rr,ar,or,lr,ir,sr,ur,cr,dr,mr,fr,pr,gr,vr,hr,br,yr,Er,xr,kr,wr,Sr,Cr,Or,zr,Ir,Tr,Pr,jr,Dr,Fr,Ar,Nr,Rr,$r,Ur,Br,Lr,Wr,Vr,Mr,Gr,qr,_r,Hr,Yr,Jr,Qr,Xr,Zr,Kr,ea,na,ta,ra=F.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),aa=t(22),oa=t.n(aa),la=t(910),ia=t(384),sa=t(9),ua=t(137),ca=t(177),da=t(23),ma=t.n(da),fa=t(66),pa=t(921),ga=t(895),va=t(896);function ha(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ba(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ha(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ha(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ya={},Ea=Object(fa.b)(wt||(wt=ma()(["\n    fragment roleEssentials on UserRole {\n  id\n  name\n  dropzoneId\n}\n    "]))),xa=Object(fa.b)(St||(St=ma()(["\n    fragment licenseEssentials on License {\n  id\n  name\n}\n    "]))),ka=Object(fa.b)(Ct||(Ct=ma()(["\n    fragment userEssentials on User {\n  id\n  name\n  nickname\n  phone\n  email\n  exitWeight\n  moderationRole\n  image\n  apfNumber\n}\n    "]))),wa=Object(fa.b)(Ot||(Ot=ma()(["\n    fragment dropzoneUserEssentials on DropzoneUser {\n  id\n  expiresAt\n  hasCredits\n  hasMembership\n  hasLicense\n  hasExitWeight\n  role {\n    ...roleEssentials\n  }\n  license {\n    ...licenseEssentials\n  }\n  user {\n    ...userEssentials\n  }\n}\n    ","\n","\n",""])),Ea,xa,ka),Sa=Object(fa.b)(zt||(zt=ma()(["\n    fragment federationEssentials on Federation {\n  id\n  name\n  slug\n}\n    "]))),Ca=Object(fa.b)(It||(It=ma()(["\n    fragment licenseDetails on License {\n  ...licenseEssentials\n  federation {\n    ...federationEssentials\n  }\n}\n    ","\n",""])),xa,Sa),Oa=Object(fa.b)(Tt||(Tt=ma()(["\n    fragment userFederationEssentials on UserFederation {\n  id\n  uid\n  federation {\n    ...federationEssentials\n  }\n  license {\n    ...licenseEssentials\n  }\n}\n    ","\n",""])),Sa,xa),za=Object(fa.b)(Pt||(Pt=ma()(["\n    fragment rigEssentials on Rig {\n  id\n  name\n  make\n  model\n  serial\n  canopySize\n  repackExpiresAt\n  packValue\n  maintainedAt\n  rigType\n  packingCard\n  isPublic\n  user {\n    id\n    name\n  }\n  dropzone {\n    id\n  }\n}\n    "]))),Ia=Object(fa.b)(jt||(jt=ma()(["\n    fragment userRigDetailed on Rig {\n  ...rigEssentials\n  user {\n    id\n    rigs {\n      ...rigEssentials\n    }\n  }\n}\n    ",""])),za),Ta=Object(fa.b)(Dt||(Dt=ma()(["\n    fragment userDetailed on User {\n  ...userEssentials\n  userFederations {\n    ...userFederationEssentials\n  }\n  rigs {\n    ...userRigDetailed\n  }\n}\n    ","\n","\n",""])),ka,Oa,Ia),Pa=Object(fa.b)(Ft||(Ft=ma()(["\n    fragment dropzoneUserDetails on DropzoneUser {\n  ...dropzoneUserEssentials\n  credits\n  license {\n    ...licenseDetails\n  }\n  user {\n    ...userDetailed\n  }\n  availableRigs {\n    ...rigEssentials\n  }\n}\n    ","\n","\n","\n",""])),wa,Ca,Ta,za),ja=Object(fa.b)(At||(At=ma()(["\n    fragment rigInspectionEssentials on RigInspection {\n  id\n  isOk\n  definition\n  inspectedBy {\n    ...dropzoneUserEssentials\n  }\n  rig {\n    ...rigEssentials\n  }\n}\n    ","\n",""])),wa,za),Da=Object(fa.b)(Nt||(Nt=ma()(["\n    fragment transactionEssentials on Transaction {\n  id\n  transactionType\n  amount\n  status\n  sender {\n    ... on DropzoneUser {\n      id\n      user {\n        id\n        name\n      }\n    }\n    ... on Dropzone {\n      id\n      name\n    }\n  }\n  receiver {\n    ... on DropzoneUser {\n      id\n      user {\n        id\n        name\n      }\n    }\n    ... on Dropzone {\n      id\n      name\n    }\n  }\n}\n    "]))),Fa=Object(fa.b)(Rt||(Rt=ma()(["\n    fragment orderEssentials on Order {\n  id\n  state\n  amount\n  title\n  orderNumber\n  createdAt\n  buyer {\n    ... on DropzoneUser {\n      id\n      user {\n        id\n        name\n      }\n    }\n    ... on Dropzone {\n      id\n      name\n      banner\n    }\n  }\n  seller {\n    ... on DropzoneUser {\n      id\n      user {\n        id\n        name\n      }\n    }\n    ... on Dropzone {\n      id\n      name\n      banner\n    }\n  }\n  item {\n    title\n    cost\n    ... on Slot {\n      id\n      ticketType {\n        id\n        name\n        cost\n      }\n      extras {\n        id\n        name\n        cost\n      }\n    }\n    ... on TicketType {\n      id\n    }\n    ... on Extra {\n      id\n      name\n    }\n  }\n  receipts {\n    id\n    amountCents\n    createdAt\n    updatedAt\n    transactions {\n      ...transactionEssentials\n    }\n  }\n}\n    ",""])),Da),Aa=Object(fa.b)($t||($t=ma()(["\n    fragment ticketTypeEssentials on TicketType {\n  id\n  name\n  altitude\n  cost\n  isTandem\n  allowManifestingSelf\n  extras {\n    id\n    name\n    cost\n  }\n}\n    "]))),Na=Object(fa.b)(Ut||(Ut=ma()(["\n    fragment jumpTypeEssentials on JumpType {\n  id\n  name\n}\n    "]))),Ra=Object(fa.b)(Bt||(Bt=ma()(["\n    fragment slotEssentials on Slot {\n  id\n  createdAt\n  exitWeight\n  passengerName\n  passengerExitWeight\n  wingLoading\n  groupNumber\n  cost\n  ticketType {\n    ...ticketTypeEssentials\n  }\n  jumpType {\n    ...jumpTypeEssentials\n  }\n  extras {\n    id\n    name\n  }\n}\n    ","\n",""])),Aa,Na),$a=Object(fa.b)(Lt||(Lt=ma()(["\n    fragment slotDetails on Slot {\n  ...slotEssentials\n  rig {\n    ...rigEssentials\n  }\n  dropzoneUser {\n    ...dropzoneUserEssentials\n  }\n}\n    ","\n","\n",""])),Ra,za,wa),Ua=Object(fa.b)(Wt||(Wt=ma()(["\n    fragment loadEssentials on Load {\n  id\n  name\n  createdAt\n  dispatchAt\n  hasLanded\n  loadNumber\n  isFull\n  state\n  isOpen\n  weight\n  maxSlots\n  availableSlots\n  occupiedSlots\n}\n    "]))),Ba=Object(fa.b)(Vt||(Vt=ma()(["\n    fragment userSlotDetails on Slot {\n  ...slotDetails\n  load {\n    ...loadEssentials\n  }\n}\n    ","\n",""])),$a,Ua),La=Object(fa.b)(Mt||(Mt=ma()(["\n    fragment dropzoneUserProfile on DropzoneUser {\n  ...dropzoneUserDetails\n  permissions\n  rigInspections {\n    ...rigInspectionEssentials\n  }\n  orders {\n    edges {\n      node {\n        ...orderEssentials\n      }\n    }\n  }\n  slots {\n    edges {\n      node {\n        ...userSlotDetails\n      }\n    }\n  }\n}\n    ","\n","\n","\n",""])),Pa,ja,Fa,Ba),Wa=Object(fa.b)(Gt||(Gt=ma()(["\n    fragment dropzoneEssentials on Dropzone {\n  id\n  lat\n  lng\n  name\n  primaryColor\n  secondaryColor\n  isPublic\n  requestPublication\n  banner\n  isCreditSystemEnabled\n}\n    "]))),Va=Object(fa.b)(qt||(qt=ma()(["\n    fragment planeEssentials on Plane {\n  id\n  minSlots\n  maxSlots\n  name\n  registration\n}\n    "]))),Ma=Object(fa.b)(_t||(_t=ma()(["\n    fragment weatherConditionEssentials on WeatherCondition {\n  id\n  jumpRun\n  temperature\n  offsetDirection\n  offsetMiles\n  createdAt\n  exitSpotMiles\n  winds {\n    temperature\n    altitude\n    speed\n    direction\n  }\n}\n    "]))),Ga=Object(fa.b)(Ht||(Ht=ma()(["\n    fragment dropzoneDetailed on Dropzone {\n  ...dropzoneEssentials\n  federation {\n    id\n    name\n    slug\n  }\n  planes {\n    ...planeEssentials\n  }\n  ticketTypes {\n    ...ticketTypeEssentials\n  }\n  currentConditions {\n    ...weatherConditionEssentials\n  }\n  loads(earliestTimestamp: $earliestTimestamp) {\n    edges {\n      node {\n        id\n        name\n        loadNumber\n        isOpen\n        maxSlots\n        state\n      }\n    }\n  }\n}\n    ","\n","\n","\n",""])),Wa,Va,Aa,Ma),qa=Object(fa.b)(Yt||(Yt=ma()(["\n    fragment currentUserEssentials on DropzoneUser {\n  id\n  credits\n  hasCredits\n  hasExitWeight\n  hasMembership\n  hasReserveInDate\n  hasRigInspection\n  hasLicense\n  permissions\n  expiresAt\n  role {\n    ...roleEssentials\n  }\n}\n    ",""])),Ea),_a=Object(fa.b)(Jt||(Jt=ma()(["\n    fragment currentUser on User {\n  ...userDetailed\n  pushToken\n}\n    ",""])),Ta),Ha=Object(fa.b)(Qt||(Qt=ma()(["\n    fragment currentUserDetailed on DropzoneUser {\n  ...currentUserEssentials\n  rigInspections {\n    ...rigInspectionEssentials\n  }\n  orders {\n    edges {\n      node {\n        ...orderEssentials\n      }\n    }\n  }\n  availableRigs {\n    ...rigEssentials\n  }\n  license {\n    id\n    name\n  }\n  user {\n    ...currentUser\n  }\n}\n    ","\n","\n","\n","\n",""])),qa,ja,Fa,za,_a),Ya=Object(fa.b)(Xt||(Xt=ma()(["\n    fragment dropzoneExtensive on Dropzone {\n  ...dropzoneDetailed\n  currentUser {\n    ...currentUserDetailed\n  }\n}\n    ","\n",""])),Ga,Ha),Ja=Object(fa.b)(Zt||(Zt=ma()(["\n    fragment ticketTypeExtraEssentials on Extra {\n  id\n  name\n  createdAt\n  cost\n}\n    "]))),Qa=Object(fa.b)(Kt||(Kt=ma()(["\n    fragment ticketTypeExtraDetailed on Extra {\n  ...ticketTypeExtraEssentials\n  ticketTypes {\n    ...ticketTypeEssentials\n  }\n}\n    ","\n",""])),Ja,Aa),Xa=Object(fa.b)(er||(er=ma()(["\n    fragment rigInspectionDetailed on RigInspection {\n  ...rigInspectionEssentials\n  rig {\n    ...userRigDetailed\n  }\n}\n    ","\n",""])),ja,Ia),Za=Object(fa.b)(nr||(nr=ma()(["\n    fragment rigInspectionMutationEssentials on RigInspection {\n  ...rigInspectionDetailed\n  formTemplate {\n    id\n    definition\n  }\n  dropzoneUser {\n    ...dropzoneUserEssentials\n    rigInspections {\n      ...rigInspectionEssentials\n    }\n  }\n}\n    ","\n","\n",""])),Xa,wa,ja),Ka=Object(fa.b)(tr||(tr=ma()(["\n    fragment roleDetailed on UserRole {\n  ...roleEssentials\n  permissions\n}\n    ",""])),Ea),eo=Object(fa.b)(rr||(rr=ma()(["\n    fragment loadDetails on Load {\n  ...loadEssentials\n  plane {\n    ...planeEssentials\n  }\n  gca {\n    ...dropzoneUserEssentials\n  }\n  pilot {\n    ...dropzoneUserEssentials\n  }\n  loadMaster {\n    ...dropzoneUserEssentials\n  }\n  slots {\n    ...slotDetails\n  }\n}\n    ","\n","\n","\n",""])),Ua,Va,wa,$a),no=Object(fa.b)(ar||(ar=ma()(["\n    fragment slotExhaustive on Slot {\n  ...slotDetails\n  dropzoneUser {\n    ...dropzoneUserDetails\n  }\n  load {\n    ...loadDetails\n  }\n  rig {\n    ...rigEssentials\n  }\n}\n    ","\n","\n","\n",""])),$a,Pa,eo,za),to=Object(fa.b)(or||(or=ma()(["\n    mutation ArchivePlane($id: Int!) {\n  deletePlane(input: {id: $id}) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    plane {\n      ...planeEssentials\n    }\n  }\n}\n    ",""])),Va);Object(fa.b)(lr||(lr=ma()(["\n    mutation ArchiveRig($id: Int!) {\n  archiveRig(input: {id: $id}) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    rig {\n      ...rigEssentials\n    }\n  }\n}\n    ",""])),za);var ro=Object(fa.b)(ir||(ir=ma()(["\n    mutation ArchiveTicketType($id: Int!) {\n  archiveTicketType(input: {id: $id}) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    ticketType {\n      ...ticketTypeEssentials\n    }\n  }\n}\n    ",""])),Aa);var ao=Object(fa.b)(sr||(sr=ma()(["\n    mutation ArchiveUser($id: Int!) {\n  deleteUser(input: {id: $id}) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    dropzoneUser {\n      ...dropzoneUserEssentials\n    }\n  }\n}\n    ",""])),wa);var oo=Object(fa.b)(ur||(ur=ma()(["\n    mutation ConfirmUser($token: String!) {\n  userConfirmRegistrationWithToken(confirmationToken: $token) {\n    authenticatable {\n      id\n      apfNumber\n      phone\n      pushToken\n      email\n    }\n    credentials {\n      accessToken\n      client\n      expiry\n      tokenType\n      uid\n    }\n  }\n}\n    "])));var lo=Object(fa.b)(cr||(cr=ma()(["\n    mutation CreateDropzone($name: String!, $banner: String, $federationId: Int!, $lat: Float, $lng: Float, $primaryColor: String, $secondaryColor: String, $earliestTimestamp: Int) {\n  createDropzone(\n    input: {attributes: {name: $name, banner: $banner, federationId: $federationId, primaryColor: $primaryColor, secondaryColor: $secondaryColor, lat: $lat, lng: $lng}}\n  ) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    dropzone {\n      ...dropzoneExtensive\n    }\n  }\n}\n    ",""])),Ya);var io=Object(fa.b)(dr||(dr=ma()(["\n    mutation CreateOrder($buyer: WalletInput!, $seller: WalletInput!, $dropzoneId: Int!, $title: String, $amount: Int!) {\n  createOrder(\n    input: {attributes: {dropzoneId: $dropzoneId, title: $title, buyer: $buyer, seller: $seller, amount: $amount}}\n  ) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    order {\n      ...orderEssentials\n    }\n  }\n}\n    ",""])),Fa);var so=Object(fa.b)(mr||(mr=ma()(["\n    mutation CreatePlane($name: String!, $registration: String!, $dropzoneId: Int!, $minSlots: Int!, $maxSlots: Int!, $hours: Int, $nextMaintenanceHours: Int) {\n  createPlane(\n    input: {attributes: {name: $name, registration: $registration, dropzoneId: $dropzoneId, minSlots: $minSlots, maxSlots: $maxSlots, hours: $hours, nextMaintenanceHours: $nextMaintenanceHours}}\n  ) {\n    plane {\n      ...planeEssentials\n      dropzone {\n        id\n        planes {\n          ...planeEssentials\n        }\n      }\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    ",""])),Va);var uo=Object(fa.b)(fr||(fr=ma()(["\n    mutation CreateRig($make: String, $name: String, $model: String, $serial: String, $rigType: String, $canopySize: Int, $repackExpiresAt: Int, $userId: Int, $dropzoneId: Int) {\n  createRig(\n    input: {attributes: {name: $name, make: $make, model: $model, serial: $serial, repackExpiresAt: $repackExpiresAt, dropzoneId: $dropzoneId, userId: $userId, canopySize: $canopySize, rigType: $rigType}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    rig {\n      ...userRigDetailed\n    }\n  }\n}\n    ",""])),Ia);var co=Object(fa.b)(pr||(pr=ma()(["\n    mutation CreateRigInspection($dropzoneId: Int, $rigId: Int, $isOk: Boolean, $definition: String) {\n  createRigInspection(\n    input: {attributes: {dropzoneId: $dropzoneId, rigId: $rigId, isOk: $isOk, definition: $definition}}\n  ) {\n    rigInspection {\n      ...rigInspectionMutationEssentials\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    ",""])),Za);var mo=Object(fa.b)(gr||(gr=ma()(["\n    mutation CreateGhost($name: String!, $phone: String, $email: String!, $federationNumber: String, $roleId: Int!, $licenseId: Int, $dropzoneId: Int!, $exitWeight: Float!) {\n  createGhost(\n    input: {attributes: {roleId: $roleId, federationNumber: $federationNumber, name: $name, phone: $phone, email: $email, dropzoneId: $dropzoneId, licenseId: $licenseId, exitWeight: $exitWeight}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    user {\n      ...userDetailed\n    }\n  }\n}\n    ",""])),Ta);var fo=Object(fa.b)(vr||(vr=ma()(["\n    mutation FinalizeLoad($id: Int!, $state: LoadState!) {\n  finalizeLoad(input: {id: $id, state: $state}) {\n    fieldErrors {\n      message\n      field\n    }\n    errors\n    load {\n      ...loadDetails\n    }\n  }\n}\n    ",""])),eo);var po=Object(fa.b)(hr||(hr=ma()(["\n    mutation GrantPermission($dropzoneUserId: Int!, $permissionName: Permission!) {\n  grantPermission(input: {id: $dropzoneUserId, permission: $permissionName}) {\n    fieldErrors {\n      message\n      field\n    }\n    errors\n    dropzoneUser {\n      ...dropzoneUserEssentials\n      permissions\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    ",""])),wa);var go=Object(fa.b)(br||(br=ma()(["\n    mutation JoinFederation($federationId: Int!, $uid: String, $licenseId: Int) {\n  joinFederation(\n    input: {attributes: {federationId: $federationId, uid: $uid, licenseId: $licenseId}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    userFederation {\n      id\n      uid\n      qualifications {\n        id\n        name\n        uid\n        expiresAt\n      }\n      license {\n        id\n        name\n      }\n      user {\n        id\n        name\n        nickname\n        userFederations {\n          federation {\n            id\n            name\n            slug\n          }\n          license {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n}\n    "])));function vo(e){var n=ba(ba({},ya),e);return pa.a(go,n)}var ho=Object(fa.b)(yr||(yr=ma()(["\n    mutation Login($email: String!, $password: String!) {\n  userLogin(email: $email, password: $password) {\n    authenticatable {\n      id\n      email\n      name\n      phone\n      createdAt\n      updatedAt\n    }\n    credentials {\n      accessToken\n      tokenType\n      client\n      expiry\n      uid\n    }\n  }\n}\n    "])));var bo=Object(fa.b)(Er||(Er=ma()(["\n    mutation ManifestGroup($jumpTypeId: Int, $extraIds: [Int!], $loadId: Int, $ticketTypeId: Int, $userGroup: [SlotUser!]!) {\n  createSlots(\n    input: {attributes: {jumpTypeId: $jumpTypeId, extraIds: $extraIds, loadId: $loadId, ticketTypeId: $ticketTypeId, userGroup: $userGroup}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    load {\n      ...loadDetails\n    }\n  }\n}\n    ",""])),eo);function yo(e){var n=ba(ba({},ya),e);return pa.a(bo,n)}var Eo=Object(fa.b)(xr||(xr=ma()(["\n    mutation ManifestUser($jumpTypeId: Int, $extraIds: [Int!], $loadId: Int, $rigId: Int, $ticketTypeId: Int, $dropzoneUserId: Int, $exitWeight: Float, $passengerName: String, $passengerExitWeight: Float) {\n  createSlot(\n    input: {attributes: {jumpTypeId: $jumpTypeId, extraIds: $extraIds, loadId: $loadId, rigId: $rigId, ticketTypeId: $ticketTypeId, dropzoneUserId: $dropzoneUserId, exitWeight: $exitWeight, passengerExitWeight: $passengerExitWeight, passengerName: $passengerName}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    slot {\n      ...slotExhaustive\n    }\n  }\n}\n    ",""])),no);var xo=Object(fa.b)(kr||(kr=ma()(["\n    mutation RecoverPassword($email: String!, $redirectUrl: String!) {\n  userSendPasswordReset(email: $email, redirectUrl: $redirectUrl) {\n    message\n  }\n}\n    "])));Object(fa.b)(wr||(wr=ma()(["\n    mutation ReloadWeather($id: Int!) {\n  reloadWeatherCondition(input: {id: $id}) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    weatherCondition {\n      createdAt\n      exitSpotMiles\n      id\n      jumpRun\n      offsetDirection\n      offsetMiles\n      temperature\n      updatedAt\n      winds {\n        altitude\n        direction\n        speed\n        temperature\n      }\n    }\n  }\n}\n    "])));var ko=Object(fa.b)(Sr||(Sr=ma()(["\n    mutation RevokePermission($dropzoneUserId: Int!, $permissionName: Permission!) {\n  revokePermission(input: {id: $dropzoneUserId, permission: $permissionName}) {\n    fieldErrors {\n      message\n      field\n    }\n    errors\n    dropzoneUser {\n      ...dropzoneUserEssentials\n      permissions\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    ",""])),wa);var wo=Object(fa.b)(Cr||(Cr=ma()(["\n    mutation UpdateDropzone($id: Int!, $name: String!, $requestPublication: Boolean, $banner: String, $federationId: Int!, $lat: Float, $lng: Float, $primaryColor: String, $secondaryColor: String, $isCreditSystemEnabled: Boolean, $isPublic: Boolean, $earliestTimestamp: Int) {\n  updateDropzone(\n    input: {id: $id, attributes: {name: $name, banner: $banner, lat: $lat, lng: $lng, requestPublication: $requestPublication, federationId: $federationId, primaryColor: $primaryColor, secondaryColor: $secondaryColor, isCreditSystemEnabled: $isCreditSystemEnabled, isPublic: $isPublic}}\n  ) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    dropzone {\n      ...dropzoneExtensive\n    }\n  }\n}\n    ",""])),Ya);var So=Object(fa.b)(Or||(Or=ma()(["\n    mutation UpdateDropzoneUser($userRoleId: Int, $expiresAt: Int, $dropzoneUserId: Int) {\n  updateDropzoneUser(\n    input: {id: $dropzoneUserId, attributes: {userRoleId: $userRoleId, expiresAt: $expiresAt}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    dropzoneUser {\n      ...dropzoneUserDetails\n    }\n  }\n}\n    ",""])),Pa);var Co=Object(fa.b)(zr||(zr=ma()(["\n    mutation UpdateExtra($id: Int!, $name: String, $ticketTypeIds: [Int!], $cost: Float, $dropzoneId: Int) {\n  updateExtra(\n    input: {id: $id, attributes: {name: $name, ticketTypeIds: $ticketTypeIds, cost: $cost, dropzoneId: $dropzoneId}}\n  ) {\n    extra {\n      ...ticketTypeExtraDetailed\n    }\n  }\n}\n    ",""])),Qa);var Oo=Object(fa.b)(Ir||(Ir=ma()(["\n    mutation UpdateLostPassword($password: String!, $passwordConfirmation: String!, $token: String!) {\n  userUpdatePasswordWithToken(\n    password: $password\n    passwordConfirmation: $passwordConfirmation\n    resetPasswordToken: $token\n  ) {\n    authenticatable {\n      ...userEssentials\n    }\n    credentials {\n      accessToken\n      client\n      expiry\n      tokenType\n      uid\n    }\n  }\n}\n    ",""])),ka);var zo=Object(fa.b)(Tr||(Tr=ma()(["\n    mutation UpdatePlane($id: Int!, $name: String!, $registration: String!, $minSlots: Int!, $maxSlots: Int!, $hours: Int, $nextMaintenanceHours: Int) {\n  updatePlane(\n    input: {id: $id, attributes: {name: $name, registration: $registration, minSlots: $minSlots, maxSlots: $maxSlots, hours: $hours, nextMaintenanceHours: $nextMaintenanceHours}}\n  ) {\n    plane {\n      ...planeEssentials\n      dropzone {\n        id\n        name\n        planes {\n          id\n          name\n          registration\n          minSlots\n          maxSlots\n          hours\n          nextMaintenanceHours\n        }\n      }\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    ",""])),Va);var Io=Object(fa.b)(Pr||(Pr=ma()(["\n    mutation UpdateRig($id: Int!, $name: String, $make: String, $model: String, $serial: String, $isPublic: Boolean, $rigType: String, $canopySize: Int, $packingCard: String, $repackExpiresAt: Int, $userId: Int, $dropzoneId: Int) {\n  updateRig(\n    input: {id: $id, attributes: {name: $name, make: $make, packingCard: $packingCard, isPublic: $isPublic, model: $model, serial: $serial, repackExpiresAt: $repackExpiresAt, dropzoneId: $dropzoneId, userId: $userId, canopySize: $canopySize, rigType: $rigType}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    rig {\n      ...userRigDetailed\n    }\n  }\n}\n    ",""])),Ia);function To(e){var n=ba(ba({},ya),e);return pa.a(Io,n)}var Po=Object(fa.b)(jr||(jr=ma()(["\n    mutation UpdateRigInspectionTemplate($dropzoneId: Int, $formId: Int, $definition: String) {\n  updateFormTemplate(\n    input: {id: $formId, attributes: {dropzoneId: $dropzoneId, definition: $definition}}\n  ) {\n    formTemplate {\n      id\n      name\n      definition\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    "])));var jo=Object(fa.b)(Dr||(Dr=ma()(["\n    mutation UpdateRole($roleId: Int!, $permissionName: String!, $enabled: Boolean!) {\n  updateRole(input: {id: $roleId, permission: $permissionName, enabled: $enabled}) {\n    role {\n      id\n      name\n      permissions\n    }\n    fieldErrors {\n      field\n      message\n    }\n    errors\n  }\n}\n    "])));var Do=Object(fa.b)(Fr||(Fr=ma()(["\n    mutation UpdateTicketType($id: Int!, $name: String, $cost: Float, $altitude: Int, $allowManifestingSelf: Boolean, $isTandem: Boolean, $extraIds: [Int!]) {\n  updateTicketType(\n    input: {id: $id, attributes: {name: $name, cost: $cost, altitude: $altitude, allowManifestingSelf: $allowManifestingSelf, isTandem: $isTandem, extraIds: $extraIds}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    ticketType {\n      ...ticketTypeEssentials\n      id\n      name\n      altitude\n      cost\n      allowManifestingSelf\n      extras {\n        id\n        name\n        cost\n      }\n      dropzone {\n        ...dropzoneEssentials\n        ticketTypes {\n          ...ticketTypeEssentials\n        }\n      }\n    }\n  }\n}\n    ","\n",""])),Aa,Wa);var Fo=Object(fa.b)(Ar||(Ar=ma()(["\n    mutation UpdateUser($id: Int, $name: String, $phone: String, $email: String, $image: String, $pushToken: String, $nickname: String, $licenseId: Int, $exitWeight: Float) {\n  updateUser(\n    input: {id: $id, attributes: {pushToken: $pushToken, name: $name, phone: $phone, email: $email, image: $image, nickname: $nickname, licenseId: $licenseId, exitWeight: $exitWeight}}\n  ) {\n    errors\n    fieldErrors {\n      field\n      message\n    }\n    user {\n      ...userDetailed\n    }\n  }\n}\n    ",""])),Ta);var Ao=Object(fa.b)(Nr||(Nr=ma()(['\n    mutation UserSignUp($email: String!, $password: String!, $passwordConfirmation: String!, $name: String!, $phone: String!, $pushToken: String, $exitWeight: Float!, $licenseId: Int) {\n  userSignUp(\n    email: $email\n    password: $password\n    passwordConfirmation: $passwordConfirmation\n    exitWeight: $exitWeight\n    name: $name\n    phone: $phone\n    pushToken: $pushToken\n    licenseId: $licenseId\n    confirmSuccessUrl: "https://openmanifest.org/confirm/"\n  ) {\n    fieldErrors {\n      field\n      message\n    }\n    errors\n    authenticatable {\n      createdAt\n      email\n      id\n      name\n      phone\n    }\n    credentials {\n      accessToken\n      tokenType\n      client\n      expiry\n      uid\n    }\n  }\n}\n    '])));var No=Object(fa.b)(Rr||(Rr=ma()(["\n    query QueryDropzone($dropzoneId: Int!, $earliestTimestamp: Int) {\n  dropzone(id: $dropzoneId) {\n    ...dropzoneExtensive\n  }\n}\n    ",""])),Ya);var Ro=Object(fa.b)($r||($r=ma()(["\n    query DropzoneRigs($dropzoneId: Int!) {\n  dropzone(id: $dropzoneId) {\n    id\n    rigs {\n      ...rigEssentials\n    }\n  }\n}\n    ",""])),za);var $o=Object(fa.b)(Ur||(Ur=ma()(["\n    query DropzoneTransactions($dropzoneId: Int!, $after: String) {\n  dropzone(id: $dropzoneId) {\n    ...dropzoneEssentials\n    orders(after: $after) {\n      edges {\n        node {\n          id\n        }\n      }\n    }\n  }\n}\n    ",""])),Wa);var Uo=Object(fa.b)(Br||(Br=ma()(["\n    query DropzoneUsers($dropzoneId: Int!, $search: String, $permissions: [Permission!], $first: Int, $after: String, $licensed: Boolean) {\n  dropzone(id: $dropzoneId) {\n    id\n    name\n    dropzoneUsers(\n      licensed: $licensed\n      search: $search\n      permissions: $permissions\n      first: $first\n      after: $after\n    ) {\n      edges {\n        cursor\n        node {\n          ...dropzoneUserEssentials\n        }\n      }\n    }\n  }\n}\n    ",""])),wa);function Bo(e){var n=ba(ba({},ya),e);return ga.a(Uo,n)}var Lo=Object(fa.b)(Lr||(Lr=ma()(["\n    query DropzoneUsersDetailed($dropzoneId: Int!, $search: String, $permissions: [Permission!], $first: Int, $after: String, $licensed: Boolean) {\n  dropzone(id: $dropzoneId) {\n    id\n    name\n    dropzoneUsers(\n      licensed: $licensed\n      search: $search\n      permissions: $permissions\n      first: $first\n      after: $after\n    ) {\n      edges {\n        cursor\n        node {\n          ...dropzoneUserDetails\n        }\n      }\n    }\n  }\n}\n    ",""])),Pa);var Wo=Object(fa.b)(Wr||(Wr=ma()(["\n    query QueryDropzoneUserProfile($dropzoneId: Int!, $dropzoneUserId: Int!) {\n  dropzone(id: $dropzoneId) {\n    id\n    name\n    rigInspectionTemplate {\n      id\n      name\n      definition\n    }\n    dropzoneUser(id: $dropzoneUserId) {\n      ...dropzoneUserProfile\n    }\n  }\n}\n    ",""])),La);function Vo(e){var n=ba(ba({},ya),e);return ga.a(Wo,n)}var Mo=Object(fa.b)(Vr||(Vr=ma()(["\n    query QueryDropzones($isPublic: Boolean, $requestedPublication: Boolean) {\n  dropzones(isPublic: $isPublic, requestedPublication: $requestedPublication) {\n    edges {\n      node {\n        ...dropzoneEssentials\n      }\n    }\n  }\n}\n    ",""])),Wa);function Go(e){var n=ba(ba({},ya),e);return ga.a(Mo,n)}var qo=Object(fa.b)(Mr||(Mr=ma()(["\n    query TicketTypeExtras($dropzoneId: Int!) {\n  extras(dropzoneId: $dropzoneId) {\n    ...ticketTypeExtraDetailed\n  }\n}\n    ",""])),Qa);function _o(e){var n=ba(ba({},ya),e);return ga.a(qo,n)}var Ho=Object(fa.b)(Gr||(Gr=ma()(["\n    query Federations {\n  federations {\n    ...federationEssentials\n  }\n}\n    ",""])),Sa);function Yo(e){var n=ba(ba({},ya),e);return ga.a(Ho,n)}var Jo=Object(fa.b)(qr||(qr=ma()(["\n    query AddressToLocation($search: String!) {\n  geocode(search: $search) {\n    formattedString\n    id\n    lat\n    lng\n  }\n}\n    "])));Object(fa.b)(_r||(_r=ma()(["\n    query JumpTypes($allowedForDropzoneUserIds: [Int!]) {\n  jumpTypes(dropzoneUserIds: $allowedForDropzoneUserIds) {\n    ...jumpTypeEssentials\n  }\n}\n    ",""])),Na);var Qo=Object(fa.b)(Hr||(Hr=ma()(["\n    query AllowedJumpTypes($dropzoneId: Int!, $allowedForDropzoneUserIds: [Int!]!, $isPublic: Boolean) {\n  dropzone(id: $dropzoneId) {\n    id\n    allowedJumpTypes(userId: $allowedForDropzoneUserIds) {\n      ...jumpTypeEssentials\n    }\n    ticketTypes(isPublic: $isPublic) {\n      ...ticketTypeEssentials\n    }\n  }\n  jumpTypes {\n    ...jumpTypeEssentials\n  }\n}\n    ","\n",""])),Na,Aa);function Xo(e){var n=ba(ba({},ya),e);return ga.a(Qo,n)}var Zo=Object(fa.b)(Yr||(Yr=ma()(["\n    query Licenses($federationId: Int) {\n  licenses(federationId: $federationId) {\n    ...licenseDetails\n  }\n}\n    ",""])),Ca);function Ko(e){var n=ba(ba({},ya),e);return ga.a(Zo,n)}var el=Object(fa.b)(Jr||(Jr=ma()(["\n    query Load($id: Int!) {\n  load(id: $id) {\n    ...loadDetails\n  }\n}\n    ",""])),eo);function nl(e){var n=ba(ba({},ya),e);return ga.a(el,n)}var tl=Object(fa.b)(Qr||(Qr=ma()(["\n    query Planes($dropzoneId: Int!) {\n  planes(dropzoneId: $dropzoneId) {\n    ...planeEssentials\n  }\n}\n    ",""])),Va);function rl(e){var n=ba(ba({},ya),e);return ga.a(tl,n)}var al=Object(fa.b)(Xr||(Xr=ma()(["\n    query CurrentUserPermissions($dropzoneId: Int!) {\n  dropzone(id: $dropzoneId) {\n    id\n    name\n    primaryColor\n    secondaryColor\n    currentUser {\n      id\n      role {\n        ...roleEssentials\n      }\n      permissions\n    }\n  }\n}\n    ",""])),Ea);var ol=Object(fa.b)(Zr||(Zr=ma()(["\n    query RigInspectionTemplate($dropzoneId: Int!) {\n  dropzone(id: $dropzoneId) {\n    id\n    rigInspectionTemplate {\n      id\n      name\n      definition\n    }\n  }\n}\n    "])));var ll=Object(fa.b)(Kr||(Kr=ma()(["\n    query AvailableRigs($dropzoneUserId: Int!, $isTandem: Boolean, $loadId: Int) {\n  availableRigs(\n    dropzoneUserId: $dropzoneUserId\n    isTandem: $isTandem\n    loadId: $loadId\n  ) {\n    ...userRigDetailed\n  }\n}\n    ",""])),Ia);var il=Object(fa.b)(ea||(ea=ma()(["\n    query Roles($dropzoneId: Int!, $selectable: Boolean) {\n  dropzone(id: $dropzoneId) {\n    id\n    roles(selectable: $selectable) {\n      ...roleDetailed\n    }\n  }\n}\n    ",""])),Ka);function sl(e){var n=ba(ba({},ya),e);return ga.a(il,n)}var ul=Object(fa.b)(na||(na=ma()(["\n    query AllowedTicketTypes($dropzoneId: Int!, $onlyPublicTickets: Boolean) {\n  dropzone(id: $dropzoneId) {\n    id\n    ticketTypes(isPublic: $onlyPublicTickets) {\n      ...ticketTypeEssentials\n      extras {\n        id\n        cost\n        name\n      }\n    }\n  }\n}\n    ",""])),Aa);var cl=Object(fa.b)(ta||(ta=ma()(["\n    query TicketTypes($dropzoneId: Int!, $allowManifestingSelf: Boolean) {\n  ticketTypes(\n    dropzoneId: $dropzoneId\n    allowManifestingSelf: $allowManifestingSelf\n  ) {\n    ...ticketTypeEssentials\n  }\n}\n    ",""])),Aa);function dl(e){var n=ba(ba({},ya),e);return ga.a(cl,n)}var ml=t(322),fl=t.n(ml);function pl(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function gl(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pl(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pl(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function vl(e){return{message:e,pattern:/.{1,}/}}function hl(e){return{message:e,pattern:new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}}function bl(e){return{message:e,pattern:/^\d+/}}function yl(e,n){return{message:e,callback:n}}function El(e,n){var t=n.getPayload,r=n.fieldErrorMap,o=n.validates;return function(l){var i=l.onFieldError,s=l.onSuccess,u=l.onError,c=Object(pa.a)(e,l.mutation),d=H()(c,2),m=d[0],f=d[1].loading,g=p.useCallback((function(e,n){var t=fl()(e),a=r&&t in r?r[e]:e;null==i||i(""+a,n)}),[i]);return{loading:f,mutate:p.useCallback((function(e,r){var l,i,c,d,f,p;return a.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(function(){var t=!1;return o&&Object.keys(e).forEach((function(r){var a,l=r;l in(n.validates||{})&&(null==(a=o[l])||a.forEach((function(n){n.pattern?n.pattern.test(""+(e[l]||""))||(t=!0,g(l,n.message)):n.callback&&!n.callback(e)?(t=!0,g(l,n.message)):console.log("Validator had no callback or pattern for "+l)})))})),!t}()){v.next=3;break}return v.abrupt("return",void 0);case 3:return v.prev=3,v.next=6,a.a.awrap(m(gl({variables:e},r)));case 6:if(d=v.sent,null==(f=t(d.data))||null==(l=f.fieldErrors)||l.forEach((function(e){var n=e.field,t=e.message;g(n,t)})),null==f||null==(i=f.errors)||!i.length||!u){v.next=12;break}return null==(p=f.errors)||p.map((function(e){return u(e)})),v.abrupt("return",void 0);case 12:return null!=f&&null!=(c=f.fieldErrors)&&c.length||!f||requestAnimationFrame((function(){return s(f)})),v.abrupt("return",f);case 16:v.prev=16,v.t0=v.catch(3),null==u||u(v.t0.message);case 19:return v.abrupt("return",void 0);case 20:case"end":return v.stop()}}),null,null,[[3,16]],Promise)}),[g,m,u,s])}}}var xl=El(Fo,{getPayload:function(e){return e.updateUser},validates:{email:[vl("Email is required"),hl("Not a valid email")],name:[vl("Name is required")],exitWeight:[vl("Exit weight is required"),bl("Exit weight must be a valid number"),yl("Exit weight seems too low?",(function(e){var n=e.exitWeight;return Number(n)>30}))]},fieldErrorMap:{licenseId:"license"}});function kl(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function wl(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?kl(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kl(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Sl(){var e,n,t,r,a,o,l,i,s,u,c,d=Un((function(e){return e.global.currentDropzoneId})),m=Un((function(e){return e.global.expoPushToken})),f=function(e){var n=ba(ba({},ya),e);return ga.a(No,n)}({variables:{dropzoneId:Number(d),earliestTimestamp:Object(ca.a)(new Date).getTime()/1e3},fetchPolicy:"cache-and-network"}),g=xl({onSuccess:function(){return null},onError:function(){return null}});return p.useEffect((function(){var e,n,t,r,a,o,l,i,s=null==f||null==(e=f.data)||null==(n=e.dropzone)||null==(t=n.currentUser)||null==(r=t.user)?void 0:r.id,u=null==f||null==(a=f.data)||null==(o=a.dropzone)||null==(l=o.currentUser)||null==(i=l.user)?void 0:i.pushToken,c=m;!f.loading&&f.called&&c&&c!==u&&s&&g.mutate({id:Number(s),pushToken:c})}),[m,null==f||null==(e=f.data)||null==(n=e.dropzone)||null==(t=n.currentUser)||null==(r=t.user)?void 0:r.pushToken,null==f||null==(a=f.data)||null==(o=a.dropzone)||null==(l=o.currentUser)||null==(i=l.user)?void 0:i.id,f.loading,f.called,g]),wl(wl({},f),{},{dropzone:null==f||null==(s=f.data)?void 0:s.dropzone,currentUser:null==f||null==(u=f.data)||null==(c=u.dropzone)?void 0:c.currentUser})}var Cl=t(36),Ol=t(91),zl=t(112),Il=t(300),Tl=t(27),Pl=t(70),jl=t.n(Pl),Dl=t(25),Fl=t(465),Al=t(466);function Nl(e){var n,t,r=Un((function(e){return e.global})).currentDropzoneId,a=function(e){var n=ba(ba({},ya),e);return va.a(al,n)}({variables:{dropzoneId:Number(r)}}),o=H()(a,2),l=o[0],i=o[1].data;p.useEffect((function(){r&&l({variables:{dropzoneId:Number(r)}})}),[r,l]);var s=(null==i||null==(n=i.dropzone)||null==(t=n.currentUser)?void 0:t.permissions)||[];return(null==s?void 0:s.includes(e))||!1}function Rl(e){var n,t,r,a,o,l=e.small,i=e.color,s=e.backgroundColor,u=e.onSelect,c=e.value,d=Object(Dl.b)(),m=i||d.colors.onSurface,f=p.useState(!1),g=H()(f,2),v=g[0],h=g[1],b=Un((function(e){return e.global})).currentDropzoneId,y=Bo({variables:{dropzoneId:Number(b),permissions:[B.ActAsGca]}}).data;return Nl(B.UpdateLoad)?p.createElement(Al.a,{onDismiss:function(){return h(!1)},visible:v,anchor:p.createElement(Fl.a,{mode:"outlined",icon:"radio-handheld",selectedColor:m,onPress:function(){return h(!0)},style:{marginHorizontal:4,backgroundColor:s,height:l?25:void 0,alignItems:"center",borderColor:m||void 0},textStyle:{color:m,fontSize:l?12:void 0}},null!=c&&c.id?null==c||null==(t=c.user)?void 0:t.name:"No gca")},null==y||null==(r=y.dropzone)||null==(a=r.dropzoneUsers)||null==(o=a.edges)?void 0:o.map((function(e){var n,t,r;return p.createElement(Al.a.Item,{key:"gca-chip-"+(null==e||null==(n=e.node)?void 0:n.id),onPress:function(){h(!1),null!=e&&e.node&&u(null==e?void 0:e.node)},title:null==e||null==(t=e.node)||null==(r=t.user)?void 0:r.name})}))):p.createElement(Fl.a,{mode:"outlined",icon:"radio-handheld",selectedColor:m,style:{marginHorizontal:4,backgroundColor:s,height:l?25:void 0,alignItems:"center",borderColor:m||void 0},textStyle:{color:m,fontSize:l?12:void 0}},(null==c||null==(n=c.user)?void 0:n.name)||"No gca")}function $l(e){var n,t,r=e.small,a=e.color,o=e.backgroundColor,l=e.value,i=e.onSelect,s=e.slots,u=Object(Dl.b)(),c=a||u.colors.onSurface,d=p.useState(!1),m=H()(d,2),f=m[0],g=m[1],v=Nl(B.UpdateLoad);return v?p.createElement(Al.a,{onDismiss:function(){return g(!1)},visible:f,anchor:p.createElement(Fl.a,{mode:"outlined",icon:"shield-account",selectedColor:c,style:{marginHorizontal:4,backgroundColor:o,height:r?25:void 0,alignItems:"center",borderColor:c||void 0},textStyle:{color:c,fontSize:r?12:void 0},onPress:function(){return v&&g(!0)}},null!=l&&l.id?null==l||null==(t=l.user)?void 0:t.name:"No loadmaster")},null==s?void 0:s.map((function(e){var n,t;return p.createElement(Al.a.Item,{key:"lm-chip-"+e.id,onPress:function(){g(!1),null!=e&&e.dropzoneUser&&i(e.dropzoneUser)},title:null==e||null==(n=e.dropzoneUser)||null==(t=n.user)?void 0:t.name})}))):p.createElement(Fl.a,{mode:"outlined",icon:"shield-account",selectedColor:c,style:{marginHorizontal:4,backgroundColor:o,height:r?25:void 0,alignItems:"center",borderColor:c||void 0},textStyle:{color:c,fontSize:r?12:void 0}},(null==l||null==(n=l.user)?void 0:n.name)||"No loadmaster")}function Ul(e){var n,t,r,a,o,l=e.small,i=e.color,s=e.backgroundColor,u=e.onSelect,c=e.value,d=Object(Dl.b)(),m=i||d.colors.onSurface,f=p.useState(!1),g=H()(f,2),v=g[0],h=g[1],b=Un((function(e){return e.global})).currentDropzoneId,y=Bo({variables:{dropzoneId:Number(b),permissions:[B.ActAsPilot]}}).data;return Nl(B.UpdateLoad)?p.createElement(Al.a,{onDismiss:function(){return h(!1)},visible:v,anchor:p.createElement(Fl.a,{mode:"outlined",icon:"shield-airplane",selectedColor:m,style:{marginHorizontal:4,backgroundColor:s,height:l?25:void 0,alignItems:"center",borderColor:m||void 0},textStyle:{color:m,fontSize:l?12:void 0},onPress:function(){return h(!0)}},null!=c&&c.id?null==c||null==(t=c.user)?void 0:t.name:"No pilot")},null==y||null==(r=y.dropzone)||null==(a=r.dropzoneUsers)||null==(o=a.edges)?void 0:o.map((function(e){var n,t,r;return p.createElement(Al.a.Item,{key:"pilot-select-"+(null==e||null==(n=e.node)?void 0:n.id),onPress:function(){h(!1),null!=e&&e.node&&u(e.node)},title:null==e||null==(t=e.node)||null==(r=t.user)?void 0:r.name})}))):p.createElement(Fl.a,{mode:"outlined",icon:"radio-handheld",selectedColor:m,style:{marginHorizontal:4,backgroundColor:s,height:l?25:void 0,alignItems:"center",borderColor:m||void 0},textStyle:{color:m,fontSize:l?12:void 0}},(null==c||null==(n=c.user)?void 0:n.name)||"No pilot")}function Bl(e){var n,t=e.small,r=e.color,a=e.backgroundColor,o=e.value,l=e.onSelect,i=Object(Dl.b)(),s=r||i.colors.onSurface,u=p.useState(!1),c=H()(u,2),d=c[0],m=c[1],f=Un((function(e){return e.global})).currentDropzoneId,g=rl({variables:{dropzoneId:Number(f)}}).data,v=Nl(B.UpdateLoad);return v?p.createElement(Al.a,{onDismiss:function(){return m(!1)},visible:d,anchor:p.createElement(Fl.a,{mode:"outlined",icon:"airplane",selectedColor:s,style:{marginHorizontal:4,backgroundColor:a,height:t?25:void 0,alignItems:"center",borderColor:s||void 0},textStyle:{color:s,fontSize:t?12:void 0},onPress:function(){return v&&m(!0)}},(null==o?void 0:o.name)||"No plane")},null==g||null==(n=g.planes)?void 0:n.map((function(e){return p.createElement(Al.a.Item,{key:"lm-plane-chip-"+e.id,onPress:function(){m(!1),l(e)},title:e.name})}))):p.createElement(Fl.a,{mode:"outlined",icon:"airplane-takeoff",selectedColor:s,style:{marginHorizontal:4,backgroundColor:a,height:t?25:void 0,alignItems:"center"},textStyle:{color:s,fontSize:t?12:void 0}},(null==o?void 0:o.name)||"No plane")}var Ll=t(60),Wl=t(303),Vl=t(490),Ml=t(21),Gl=t.n(Ml),ql=t(467),_l=t(7),Hl=t(288),Yl=t(487),Jl=["onChangeText"];function Ql(e){var n=e.onChangeText,t=J()(e,Jl),r=t.value,a=Object(Dl.b)(),l=p.useCallback((function(e){if(/\d/.test(e)){var t=e.match(/^\-?\d+/)||["0"],r=H()(t,1)[0];n(Number(r))}}),[n]);return p.createElement(Yl.a,oa()({},t,{onChangeText:l,value:""+(r||0),mode:"outlined",keyboardType:"number-pad",right:p.createElement(Yl.a.Affix,{textStyle:{height:"100%"},text:p.createElement(C.default,{style:Xl.chevrons},p.createElement(o.f,{style:[Xl.affixTopChevron,{borderColor:a.colors.text,backgroundColor:a.colors.surface}],onPress:function(){return null==n?void 0:n((r||0)+1)}},p.createElement(ia.a,{name:"chevron-up",size:24})),p.createElement(o.f,{style:[Xl.affixBottomChevron,{backgroundColor:a.colors.surface}],onPress:function(){return null==n?void 0:n((r||0)-1)}},p.createElement(ia.a,{name:"chevron-down",size:24})))}),caretHidden:!1}))}var Xl=F.a.create({affixBottomChevron:{width:48,height:27,alignItems:"center",borderLeftWidth:F.a.hairlineWidth},affixTopChevron:{width:48,height:27,borderBottomWidth:F.a.hairlineWidth,borderLeftWidth:F.a.hairlineWidth,alignItems:"center"},chevrons:{width:48,height:59,paddingTop:4,marginRight:-10,flexDirection:"column",justifyContent:"flex-end"}}),Zl=t(42);var Kl=p.memo((function(e){var n=e.items,t=e.selected,r=e.isSelected,a=e.isDisabled,o=e.icon,l=e.renderItemLabel,i=e.onChangeSelected,s=e.autoSelectFirst;return p.useEffect((function(){(!t||!t.length&&n.length&&s)&&i([n[0]])}),[t,s,i,n]),p.createElement(C.default,{style:{flexDirection:"row",flexWrap:"wrap"}},n.map((function(e){return p.createElement(Fl.a,{key:JSON.stringify(e),mode:"outlined",icon:!t.some((function(n){return Object(Zl.isEqual)(e,n)}))&&o?o:void 0,style:{margin:1},disabled:(null==a?void 0:a(e))||!1,selected:r?r(e):t.some((function(n){return Object(Zl.isEqual)(e,n)})),onPress:function(){return i(1===t.length?[e]:Object(Zl.xorBy)(t,[e],JSON.stringify))}},l(e))})))}),(function(e,n){return Object(Zl.isEqual)(Object(Zl.pick)(e,["isDisabled","isSelected","items","selected"]),Object(Zl.pick)(n,["isDisabled","isSelected","items","selected"]))}));function ei(e){var n=e.rows;return p.createElement(jl.a,{isLoading:!0,containerStyle:{height:41+32*(n||1),width:"100%",justifyContent:"center",marginBottom:16},layout:[{key:"header",width:70,height:15,borderRadius:8,marginVertical:13,marginHorizontal:8},{key:"chips",flexDirection:"row",children:[{key:"chip1",width:96,height:32,borderRadius:16,marginRight:4},{key:"chip2",width:96,height:32,borderRadius:16,marginRight:4},{key:"chip3",width:96,height:32,borderRadius:16}]}]})}function ni(e){var n,t=e.onLoadingStateChanged,r=e.userId,a=e.value,o=e.onSelect,l=Un((function(e){return e.global})).currentDropzoneId,i=Xo({variables:{allowedForDropzoneUserIds:[Number(r)||null].filter(Boolean),dropzoneId:Number(l)},onError:console.error}),s=i.data,u=i.loading;return p.useEffect((function(){null==t||t(u)}),[u,t]),u?p.createElement(ei,null):p.createElement(p.Fragment,null,p.createElement(_l.c.Subheader,null,"Jump type"),p.createElement(Kl,{autoSelectFirst:!0,items:Object(Zl.uniqBy)([].concat(Gl()((null==s||null==(n=s.dropzone)?void 0:n.allowedJumpTypes)||[]),Gl()((null==s?void 0:s.jumpTypes)||[])),(function(e){return e.id}))||[],selected:[a].filter(Boolean),renderItemLabel:function(e){return(null==e?void 0:e.name)||"Unknown"},isDisabled:function(e){var n,t;return!(null!=s&&null!=(n=s.dropzone)&&null!=(t=n.allowedJumpTypes)&&t.map((function(e){return e.id})).includes(null==e?void 0:e.id))},onChangeSelected:function(e){var n=H()(e,1)[0];return n?o(n):null}}))}function ti(e){var n,t=e.value,r=e.onLoadingStateChanged,a=e.onSelect,o=e.onlyPublicTickets,l=Un((function(e){return e.global})).currentDropzoneId,i=function(e){var n=ba(ba({},ya),e);return ga.a(ul,n)}({variables:{dropzoneId:Number(l),onlyPublicTickets:o||null},onError:console.error}),s=i.data,u=i.loading;return p.useEffect((function(){null==r||r(u)}),[u,r]),u?p.createElement(ei,null):p.createElement(p.Fragment,null,p.createElement(_l.c.Subheader,null,"Ticket"),p.createElement(Kl,{autoSelectFirst:!0,items:(null==s||null==(n=s.dropzone)?void 0:n.ticketTypes)||[],selected:[t].filter(Boolean),renderItemLabel:function(e){return null==e?void 0:e.name},isDisabled:function(){return!1},onChangeSelected:function(e){var n=H()(e,1)[0];return n?a(n):null}}))}function ri(e){var n=Object(Dl.b)(),t=e.rig,r=(null==t?void 0:t.name)||(null==t?void 0:t.make)+" "+(null==t?void 0:t.model);return p.createElement(p.Fragment,null,p.createElement(X.a,null,r+" ("+(null==t?void 0:t.canopySize)+" sqft)"),t.user?null:p.createElement(C.default,{style:{padding:2,paddingHorizontal:4,backgroundColor:n.colors.accent,borderRadius:16}},p.createElement(X.a,{style:{fontSize:10,color:"white"}},"Dropzone rig")))}function ai(e){var n,t=e.dropzoneUserId,r=e.value,a=e.autoSelectFirst,o=e.onSelect,l=e.tandem,i=p.useState(!1),s=H()(i,2),u=s[0],c=s[1],d=Un((function(e){return e.global})).currentDropzoneId,m=function(e){var n=ba(ba({},ya),e);return va.a(ll,n)}({fetchPolicy:"cache-and-network"}),f=H()(m,2),g=f[0],v=f[1].data;return p.useEffect((function(){t&&g({variables:{dropzoneUserId:t,isTandem:l||void 0}})}),[g,d,l,t]),p.useEffect((function(){var e;!r&&a&&null!=v&&null!=(e=v.availableRigs)&&e.length&&o(v.availableRigs[0])}),[a,null==v?void 0:v.availableRigs,o,r]),p.createElement(Al.a,{onDismiss:function(){return c(!1)},visible:u,anchor:p.createElement(Yl.a,{onTouchEnd:function(){return c(!0)},label:"Select rig",value:r?((null==r?void 0:r.name)||(null==r?void 0:r.make)+" "+(null==r?void 0:r.model))+" ("+(null==r?void 0:r.canopySize)+" sqft)":void 0,left:function(){return p.createElement(_l.c.Icon,{icon:"parachute"})},editable:!1,mode:"outlined"})},null==v||null==(n=v.availableRigs)?void 0:n.map((function(e){return p.createElement(Al.a.Item,{key:"rig-select-"+e.id,onPress:function(){c(!1),o(e)},style:{width:"100%"},title:p.createElement(ri,{rig:e})})})))}function oi(){var e,n,t,r,a,o,l,i,s,u,c,d,m,f,g,v,h,b,y,E,x=$n(),k=Un((function(e){return e.forms.manifest}));p.useEffect((function(){var e;if(null!=(e=k.fields.dropzoneUser)&&e.value){var n,t,r,a,o,l,i,s;if(!k.fields.exitWeight.value)x(Dn.forms.manifest.setField(["exitWeight",Number((null==(a=k.fields.dropzoneUser)||null==(o=a.value)||null==(l=o.user)?void 0:l.exitWeight)||60)]));if(!k.fields.rig.value&&null!=(n=k.fields.dropzoneUser.value)&&null!=(t=n.user)&&null!=(r=t.rigs)&&r.length)x(Dn.forms.manifest.setField(["rig",null==(i=k.fields.dropzoneUser)||null==(s=i.value)?void 0:s.user.rigs[0]]))}}),[x,k.fields.dropzoneUser.value,null==(e=k.fields.dropzoneUser.value)?void 0:e.id,k.fields.exitWeight.value,k.fields.rig.value]);var w=Nl((null==k||null==(n=k.original)?void 0:n.id)?B.UpdateUserSlot:B.CreateUserSlot);return p.createElement(p.Fragment,null,p.createElement(ni,{value:k.fields.jumpType.value,userId:Number(null==k||null==(t=k.fields)||null==(r=t.dropzoneUser)||null==(a=r.value)?void 0:a.id)||null,onSelect:function(e){return x(Dn.forms.manifest.setField(["jumpType",e]))}}),p.createElement(ql.a,{type:k.fields.jumpType.error?"error":"info"},k.fields.jumpType.error||""),p.createElement(ti,{value:k.fields.ticketType.value,onlyPublicTickets:!w,onSelect:function(e){return x(Dn.forms.manifest.setField(["ticketType",e]))}}),p.createElement(ql.a,{type:k.fields.ticketType.error?"error":"info"},k.fields.ticketType.error||""),null!=k&&null!=(o=k.fields)&&null!=(l=o.ticketType)&&null!=(i=l.value)&&null!=(s=i.extras)&&s.length?p.createElement(_l.c.Subheader,null,"Ticket addons"):null,p.createElement(Ll.a,{horizontal:!0,style:li.ticketAddons},null==k||null==(u=k.fields)||null==(c=u.ticketType)||null==(d=c.value)||null==(m=d.extras)?void 0:m.map((function(e){var n,t,r,a;return p.createElement(Fl.a,{selected:null==k||null==(n=k.fields)||null==(t=n.extras.value)?void 0:t.some((function(n){return n.id===e.id})),onPress:null!=k&&null!=(r=k.fields)&&null!=(a=r.extras.value)&&a.some((function(n){return n.id===e.id}))?function(){var n,t;return x(Dn.forms.manifest.setField(["extras",null==k||null==(n=k.fields)||null==(t=n.extras.value)?void 0:t.filter((function(n){return n.id!==e.id}))]))}:function(){var n,t;return x(Dn.forms.manifest.setField(["extras",[].concat(Gl()((null==k||null==(n=k.fields)||null==(t=n.extras)?void 0:t.value)||[]),[e])]))}},e.name+" ($"+e.cost+")")}))),p.createElement(ql.a,{type:k.fields.extras.error?"error":"info"},k.fields.extras.error||""),p.createElement(Hl.a,null),k.fields.dropzoneUser?p.createElement(ai,{value:k.fields.rig.value,dropzoneUserId:Number(null==(f=k.fields.dropzoneUser)||null==(g=f.value)?void 0:g.id),onSelect:function(e){return x(Dn.forms.manifest.setField(["rig",e]))}}):null,p.createElement(ql.a,{type:k.fields.rig.error?"error":"info"},k.fields.rig.error||""),p.createElement(Ql,{label:"Exit weight (kg)",error:!!k.fields.exitWeight.error,value:null==(v=k.fields.exitWeight)?void 0:v.value,onChangeText:function(e){return x(Dn.forms.manifest.setField(["exitWeight",Number(e)]))}}),p.createElement(ql.a,{type:k.fields.exitWeight.error?"error":"info"},k.fields.exitWeight.error||""),null!=(h=k.fields.ticketType.value)&&h.isTandem?p.createElement(p.Fragment,null,p.createElement(_l.c.Subheader,null,"Passenger"),p.createElement(Yl.a,{style:li.field,mode:"outlined",label:"Passenger name",error:!!k.fields.passengerName.error,value:(null==(b=k.fields.passengerName)||null==(y=b.value)?void 0:y.toString())||"",onChangeText:function(e){return x(Dn.forms.manifest.setField(["passengerName",e]))}}),p.createElement(Yl.a,{style:li.field,mode:"outlined",label:"Passenger exit weight",error:!!k.fields.passengerExitWeight.error,value:(null==(E=k.fields.passengerExitWeight.value)?void 0:E.toString())||"",onChangeText:function(e){return x(Dn.forms.manifest.setField(["passengerExitWeight",Number(e)]))}})):null)}var li=F.a.create({fields:{flex:1},field:{marginBottom:8},ticketAddons:{marginBottom:8}});function ii(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function si(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ii(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ii(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ui(e){var n,t,r,o,l,i,s,u,c,d,m,f,g,v,h,b,E,x,k=e.onSuccess,w=e.open,S=$n(),C=Un((function(e){return e.forms.manifest})),O=Un((function(e){return e.global})),z=function(e){var n=ba(ba({},ya),e);return pa.a(Eo,n)}(),I=H()(z,2),T=I[0],P=I[1],j=p.useCallback((function(){var e,n,t=!1;return null!=(e=C.fields.jumpType.value)&&e.id||(t=!0,S(Dn.forms.manifest.setFieldError(["jumpType","You must specify the type of jump"]))),null!=(n=C.fields.ticketType.value)&&n.id||(t=!0,S(Dn.forms.manifest.setFieldError(["ticketType","You must select a ticket type to manifest"]))),!t}),[S,null==(n=C.fields.jumpType.value)?void 0:n.id,null==(t=C.fields.ticketType.value)?void 0:t.id]),D=p.useCallback((function(){var e,n,t,r,o,l,i,s,u,c,d,m,f,p,g,v,h,b,y,E,x,w,O,z,I;return a.a.async((function(P){for(;;)switch(P.prev=P.next){case 0:if(j()){P.next=2;break}return P.abrupt("return");case 2:return P.prev=2,P.next=5,a.a.awrap(T({variables:si({jumpTypeId:Number(null==(e=C.fields.jumpType.value)?void 0:e.id),extraIds:null==(n=C.fields.extras)||null==(t=n.value)?void 0:t.map((function(e){var n=e.id;return Number(n)})),loadId:Number(null==(r=C.fields.load.value)?void 0:r.id),rigId:null!=(o=C.fields.rig.value)&&o.id?Number(null==(l=C.fields.rig.value)?void 0:l.id):null,ticketTypeId:Number(null==(i=C.fields.ticketType)||null==(s=i.value)?void 0:s.id),dropzoneUserId:Number(null==(u=C.fields.dropzoneUser)||null==(c=u.value)?void 0:c.id),exitWeight:C.fields.exitWeight.value},null!=(d=C.fields.ticketType.value)&&d.isTandem?{passengerName:null==(m=C.fields.passengerName)?void 0:m.value,passengerExitWeight:null==(f=C.fields.passengerExitWeight)?void 0:f.value}:{})}));case 5:if(O=P.sent,null==(p=O.data)||null==(g=p.createSlot)||null==(v=g.fieldErrors)||v.map((function(e){var n=e.field,t=e.message;switch(n){case"jump_type":return S(Dn.forms.manifest.setFieldError(["jumpType",t]));case"load":return S(Dn.forms.manifest.setFieldError(["load",t]));case"credits":case"extras":case"extra_ids":return S(Dn.forms.manifest.setFieldError(["extras",t]));case"ticket_type":return S(Dn.forms.manifest.setFieldError(["ticketType",t]));case"rig":return S(Dn.forms.manifest.setFieldError(["rig",t]));case"dropzone_user":return S(Dn.forms.manifest.setFieldError(["dropzoneUser",t]));case"exit_weight":return S(Dn.forms.manifest.setFieldError(["exitWeight",t]));default:return null}})),null==O||null==(h=O.data)||null==(b=h.createSlot)||null==(y=b.errors)||!y.length){P.next=10;break}return S(Dn.notifications.showSnackbar({message:null==O||null==(z=O.data)||null==(I=z.createSlot)?void 0:I.errors[0],variant:"error"})),P.abrupt("return");case 10:null!=(E=O.data)&&null!=(x=E.createSlot)&&null!=(w=x.fieldErrors)&&w.length||k(),P.next=16;break;case 13:P.prev=13,P.t0=P.catch(2),S(Dn.notifications.showSnackbar({message:P.t0.message,variant:"error"}));case 16:case"end":return P.stop()}}),null,null,[[2,13]],Promise)}),[S,T,k,null==(r=C.fields.dropzoneUser)||null==(o=r.value)?void 0:o.id,C.fields.exitWeight.value,null==(l=C.fields.extras)?void 0:l.value,null==(i=C.fields.jumpType.value)?void 0:i.id,null==(s=C.fields.load.value)?void 0:s.id,null==(u=C.fields.passengerExitWeight)?void 0:u.value,null==(c=C.fields.passengerName)?void 0:c.value,null==(d=C.fields.rig.value)?void 0:d.id,null==(m=C.fields.ticketType.value)?void 0:m.id,null==(f=C.fields.ticketType.value)?void 0:f.isTandem,j]);return p.createElement(Wl.a,null,p.createElement(Vl.a,{visible:!!w,style:{maxWidth:500,alignSelf:"center"}},p.createElement(y.a,{indeterminate:!0,visible:P.loading,color:O.theme.colors.accent}),p.createElement(Vl.a.Title,null,"Manifest "+(null==C||null==(g=C.fields)||null==(v=g.dropzoneUser)||null==(h=v.value)||null==(b=h.user)?void 0:b.name)+" on "+(null==(E=C.fields.load)||null==(x=E.value)?void 0:x.name)),p.createElement(Vl.a.ScrollArea,null,p.createElement(Ll.a,null,p.createElement(oi,null))),p.createElement(Vl.a.Actions,{style:{justifyContent:"flex-end"}},p.createElement(K.a,{onPress:function(){S(Dn.forms.manifest.reset()),e.onClose()}},"Cancel"),p.createElement(K.a,{onPress:D},"Manifest"))))}var ci=t(140);function di(e){var n,t,r,a,o,l,i,s,u,c,d,m,f=e.dropzoneId,g=e.dropzoneUserId,v=e.onChangeRig,h=e.exitWeight,b=e.selectedRig,E=e.isTandem,x=e.passengerName,k=e.passengerWeight,w=e.onRemove,S=e.onChangeExitWeight,O=e.onChangePassengerName,z=e.onChangePassengerWeight,I=Un((function(e){return e})).global,T=Vo({variables:{dropzoneUserId:g,dropzoneId:f},onError:console.error}),P=T.data,j=T.loading;return p.useEffect((function(){var e,n,t;!h&&null!=P&&null!=(e=P.dropzone)&&null!=(n=e.dropzoneUser)&&null!=(t=n.user)&&t.exitWeight&&S(Number(P.dropzone.dropzoneUser.user.exitWeight))}),[null==P||null==(n=P.dropzone)||null==(t=n.dropzoneUser)?void 0:t.user.exitWeight,h,S]),p.createElement(Il.a,{style:{marginHorizontal:16,marginBottom:16},elevation:3},p.createElement(y.a,{indeterminate:!0,color:I.theme.colors.accent,visible:j}),p.createElement(Il.a.Title,{title:null==P||null==(r=P.dropzone)||null==(a=r.dropzoneUser)?void 0:a.user.name,left:function(){var e,n,t;return null!=P&&null!=(e=P.dropzone)&&null!=(n=e.dropzoneUser)&&null!=(t=n.user)&&t.image?p.createElement(_l.a.Image,{source:{uri:P.dropzone.dropzoneUser.user.image},size:24}):p.createElement(_l.a.Icon,{icon:"account",size:24})}}),p.createElement(Il.a.Content,null,p.createElement(Hl.a,{style:{marginBottom:8}}),p.createElement(Ll.a,{horizontal:!0},p.createElement(Fl.a,{style:{marginHorizontal:1},icon:"lock",mode:"outlined",disabled:!0},null==P||null==(o=P.dropzone)||null==(l=o.dropzoneUser)||null==(i=l.role)?void 0:i.name),p.createElement(Fl.a,{style:{marginHorizontal:1},icon:"ticket-account",mode:"outlined",disabled:!0},null==P||null==(s=P.dropzone)||null==(u=s.dropzoneUser)||null==(c=u.license)?void 0:c.name),b&&h&&b.canopySize?p.createElement(Fl.a,{style:{marginHorizontal:1},icon:"escalator-down",mode:"outlined",disabled:!0},(d=h,m=b.canopySize,Object(Zl.round)(2.20462*d/m,2).toFixed(2))):null),p.createElement(C.default,{style:mi.row},p.createElement(C.default,{style:mi.rowFirst},p.createElement(ai,{dropzoneUserId:g,onSelect:v,value:b,tandem:E,autoSelectFirst:!0})),p.createElement(C.default,{style:mi.rowLast},p.createElement(Ql,{value:h||0,onChangeText:function(e){return S(e)},label:"Exit weight (kg)"}))),E?p.createElement(p.Fragment,null,p.createElement(Hl.a,null),p.createElement(_l.c.Subheader,null,"Passenger"),p.createElement(C.default,{style:mi.row},p.createElement(C.default,{style:mi.rowFirst},p.createElement(Yl.a,{value:x||"",onChangeText:function(e){return null==O?void 0:O(e)},label:"Passenger name",mode:"outlined"})),p.createElement(C.default,{style:mi.rowLast},p.createElement(Ql,{value:k||0,onChangeText:function(e){return null==z?void 0:z(e)},label:"Exit weight (kg)"})))):null),p.createElement(Il.a.Actions,{style:mi.actions},p.createElement(K.a,{mode:"text",onPress:function(){return null==w?void 0:w()}},"Remove")))}var mi=F.a.create({row:{width:"100%",flexDirection:"row",alignItems:"center",marginTop:16},rowFirst:{flex:.5,marginRight:4},rowLast:{flex:.5},actions:{justifyContent:"flex-end"}});function fi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function pi(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?fi(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fi(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function gi(){var e,n,t,r,a,o,l,i,s,u,c,d,m,f,g,v,h=Un((function(e){return e.forms.manifestGroup})),b=Un((function(e){return e.global})),y=$n(),E=Nl(B.CreateUserSlot),x=Xo({variables:{allowedForDropzoneUserIds:null==(e=h.fields.users)||null==(n=e.value)?void 0:n.map((function(e){return e.id})),isPublic:!E||null,dropzoneId:Number(b.currentDropzoneId)},onError:console.error}).data,k=!(null==(t=h.fields.ticketType.value)||!t.isTandem);return p.createElement(p.Fragment,null,p.createElement(_l.c.Subheader,null,"Jump type"),p.createElement(Il.a,{elevation:2,style:{marginBottom:16,flexShrink:1,marginHorizontal:16}},p.createElement(Il.a.Content,null,p.createElement(Kl,{autoSelectFirst:!0,items:Object(Zl.uniqBy)([].concat(Gl()((null==x||null==(r=x.dropzone)?void 0:r.allowedJumpTypes)||[]),Gl()((null==x?void 0:x.jumpTypes)||[])),(function(e){return e.id}))||[],selected:h.fields.jumpType.value?[h.fields.jumpType.value]:[],renderItemLabel:function(e){return e.name},isDisabled:function(e){var n,t;return!(null!=x&&null!=(n=x.dropzone)&&null!=(t=n.allowedJumpTypes)&&t.map((function(e){return e.id})).includes(e.id))},onChangeSelected:function(e){var n=H()(e,1)[0];return y(Dn.forms.manifestGroup.setField(["jumpType",n]))}}),p.createElement(ql.a,{type:h.fields.jumpType.error?"error":"info"},h.fields.jumpType.error||""))),p.createElement(_l.c.Subheader,null,"Ticket"),p.createElement(Il.a,{elevation:2,style:{marginHorizontal:16}},p.createElement(Il.a.Content,null,p.createElement(Kl,{autoSelectFirst:!0,items:(null==x||null==(a=x.dropzone)?void 0:a.ticketTypes)||[],selected:h.fields.ticketType.value?[h.fields.ticketType.value]:[],renderItemLabel:function(e){return e.name},onChangeSelected:function(e){var n=H()(e,1)[0];return y(Dn.forms.manifestGroup.setField(["ticketType",n]))}}),p.createElement(ql.a,{type:h.fields.ticketType.error?"error":"info"},h.fields.ticketType.error||""),null!=h&&null!=(o=h.fields)&&null!=(l=o.ticketType)&&null!=(i=l.value)&&null!=(s=i.extras)&&s.length?p.createElement(_l.c.Subheader,null,"Ticket addons"):null,p.createElement(Ll.a,{horizontal:!0,style:vi.ticketAddons},null==h||null==(u=h.fields)||null==(c=u.ticketType)||null==(d=c.value)||null==(m=d.extras)?void 0:m.map((function(e){var n,t,r,a;return p.createElement(Fl.a,{selected:null==h||null==(n=h.fields)||null==(t=n.extras.value)?void 0:t.some((function(n){return n.id===e.id})),onPress:null!=h&&null!=(r=h.fields)&&null!=(a=r.extras.value)&&a.some((function(n){return n.id===e.id}))?function(){var n,t;return y(Dn.forms.manifestGroup.setField(["extras",null==h||null==(n=h.fields)||null==(t=n.extras.value)?void 0:t.filter((function(n){return n.id!==e.id}))]))}:function(){var n,t;return y(Dn.forms.manifestGroup.setField(["extras",[].concat(Gl()((null==h||null==(n=h.fields)||null==(t=n.extras)?void 0:t.value)||[]),[e])]))}},e.name+" ($"+e.cost+")")}))),p.createElement(ql.a,{type:h.fields.extras.error?"error":"info"},h.fields.extras.error||""))),p.createElement(Hl.a,null),p.createElement(_l.c.Subheader,null,"Group"),null==(f=h.fields)||null==(g=f.users)||null==(v=g.value)?void 0:v.map((function(e){return p.createElement(di,{dropzoneId:b.currentDropzoneId,dropzoneUserId:Number(e.id),selectedRig:e.rig||void 0,exitWeight:e.exitWeight,onChangeExitWeight:function(n){var t;return y(Dn.forms.manifestGroup.setField(["users",null==(t=h.fields.users.value)?void 0:t.map((function(t){return t.id===e.id?pi(pi({},e),{},{exitWeight:n}):t}))]))},onRemove:function(){var n;return y(Dn.forms.manifestGroup.setField(["users",null==(n=h.fields.users.value)?void 0:n.filter((function(n){return n.id!==e.id}))]))},onChangeRig:function(n){var t;return y(Dn.forms.manifestGroup.setField(["users",null==(t=h.fields.users.value)?void 0:t.map((function(t){return t.id===e.id?pi(pi({},e),{},{rigId:Number(n.id),rig:n}):t}))]))},isTandem:k,passengerName:e.passengerName,passengerWeight:e.passengerExitWeight,onChangePassengerName:function(n){var t;return y(Dn.forms.manifestGroup.setField(["users",null==(t=h.fields.users.value)?void 0:t.map((function(t){return t.id===e.id?pi(pi({},e),{},{passengerName:n}):t}))]))},onChangePassengerWeight:function(n){var t;return y(Dn.forms.manifestGroup.setField(["users",null==(t=h.fields.users.value)?void 0:t.map((function(t){return t.id===e.id?pi(pi({},e),{},{passengerExitWeight:n}):t}))]))}})})))}var vi=F.a.create({fields:{flex:1},field:{marginBottom:8},ticketAddons:{marginBottom:8}}),hi=t(470),bi=t(491),yi=t(213),Ei=t(469);var xi=["style","lightColor","darkColor"],ki=["style","lightColor","darkColor"];function wi(e,n){var t=e.light;return t||dn.light[n]}function Si(e){var n=e.style,t=e.lightColor,r=e.darkColor,a=J()(e,xi),o=wi({light:t,dark:r},"text");return p.createElement(X.a,oa()({style:[{color:o},n]},a))}function Ci(e){var n=e.style,t=e.lightColor,r=e.darkColor,a=J()(e,ki),o=wi({light:t,dark:r},"background");return p.createElement(C.default,oa()({style:[{backgroundColor:o},n]},a))}function Oi(e){var n=e.title,t=e.color,r=e.subtitle;return p.createElement(Ci,{style:zi.empty},p.createElement(yi.a,{style:{color:t}},n),p.createElement(Ei.a,{style:{color:t,textAlign:"center"}},r))}var zi=F.a.create({container:{flex:1,padding:8,display:"flex",backgroundColor:"transparent"},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignSelf:"center",alignItems:"center",justifyContent:"center",width:"100%",backgroundColor:"transparent",height:"100%"}});function Ii(e){var n,t,r,a,l,i,s=Un((function(e){return e})).screens,u=$n(),c=p.useState(""),d=H()(c,2),m=d[0],f=d[1],g=Un((function(e){return e.global})).currentDropzoneId,v=function(e){var n=ba(ba({},ya),e);return ga.a(Lo,n)}({variables:{dropzoneId:Number(g),search:m}}).data,h=Sl().currentUser,b=Nl(B.CreateUserSlot),y=Nl(B.CreateUserSlotWithSelf);return p.createElement(p.Fragment,null,p.createElement(hi.a,{value:m,onChangeText:f,placeholder:"Search skydivers"}),p.createElement(C.default,{style:{height:380}},p.createElement(o.c,{contentContainerStyle:{paddingTop:16}},!(null!=v&&null!=(n=v.dropzone)&&null!=(t=n.dropzoneUsers)&&null!=(r=t.edges)&&r.length)&&p.createElement(Oi,{title:"No users",subtitle:""}),null==v||null==(a=v.dropzone)||null==(l=a.dropzoneUsers)||null==(i=l.edges)?void 0:i.map((function(e){var n,t,r,a,o,l,i;return p.createElement(p.Fragment,{key:"user-"+((null==e||null==(n=e.node)?void 0:n.id)||0)},p.createElement(_l.c.Item,{style:{width:"100%"},key:"user-"+(null==e||null==(t=e.node)?void 0:t.id),title:null==e||null==(r=e.node)?void 0:r.user.name,description:null==e||null==(a=e.node)||null==(o=a.role)?void 0:o.name,left:function(){var n,t,r;return null!=e&&null!=(n=e.node)&&null!=(t=n.user)&&t.image?p.createElement(_l.a.Image,{source:{uri:null==e||null==(r=e.node)?void 0:r.user.image},style:{alignSelf:"center",marginHorizontal:12},size:32}):p.createElement(_l.c.Icon,{icon:"account"})},right:function(){var n,t;return p.createElement(bi.a,{status:null!=(n=s.manifest.selectedUsers)&&n.map((function(e){return e.id})).includes(null==e||null==(t=e.node)?void 0:t.id)?"checked":"unchecked"})},disabled:(null==e||null==(l=e.node)?void 0:l.user.id)===(null==h?void 0:h.id)&&y&&!b,onPress:function(){var n,t;u(Dn.screens.manifest.setSelected(null!=(n=s.manifest.selectedUsers)&&n.find((function(n){var t;return n.id===""+(null==e||null==(t=e.node)?void 0:t.id)}))?null==(t=s.manifest.selectedUsers)?void 0:t.filter((function(n){var t;return n.id!==""+(null==e||null==(t=e.node)?void 0:t.id)})):[].concat(Gl()(s.manifest.selectedUsers),[null==e?void 0:e.node])))}}),p.createElement(Hl.a,{style:{width:"100%"},key:"divider-"+(null==e||null==(i=e.node)?void 0:i.id)}))})))),p.createElement(K.a,{onPress:function(){u(Dn.forms.manifestGroup.setDropzoneUsers(s.manifest.selectedUsers)),e.onNext()},style:Ti.button,mode:"contained"},"Next"))}var Ti=F.a.create({button:{width:"100%",borderRadius:16,padding:5},scrollView:{height:100}});function Pi(e){var n,t,r,l,i,s,u,c,d=e.open,m=e.onClose,f=$n(),g=Un((function(e){return e.forms.manifestGroup})),v=yo(),h=H()(v,2),b=h[0],y=h[1],E=p.useState(0),x=H()(E,2),k=x[0],w=x[1],S=p.useCallback((function(){var e,n,t=!1;return null!=(e=g.fields.jumpType.value)&&e.id||(t=!0,f(Dn.forms.manifestGroup.setFieldError(["jumpType","You must specify the type of jump"]))),null!=(n=g.fields.ticketType.value)&&n.id||(t=!0,f(Dn.forms.manifestGroup.setFieldError(["ticketType","You must select a ticket type to manifest"]))),!t}),[f,null==(n=g.fields.jumpType.value)?void 0:n.id,null==(t=g.fields.ticketType.value)?void 0:t.id]),O=p.useCallback((function(){var n,t,r,o,l,i,s,u,c,d,m,p,v,h,y,E,x,k,w;return a.a.async((function(C){for(;;)switch(C.prev=C.next){case 0:if(S()&&null!=(n=g.fields.users.value)&&n.length){C.next=2;break}return C.abrupt("return");case 2:return C.prev=2,C.next=5,a.a.awrap(b({variables:{jumpTypeId:Number(null==(t=g.fields.jumpType.value)?void 0:t.id),ticketTypeId:Number(null==(r=g.fields.ticketType.value)?void 0:r.id),extraIds:null==(o=g.fields.extras)||null==(l=o.value)?void 0:l.map((function(e){var n=e.id;return Number(n)})),loadId:Number(null==(i=g.fields.load.value)?void 0:i.id),userGroup:null==(s=g.fields.users.value)?void 0:s.map((function(e){return Object(Zl.omit)(e,["rig"])}))}}));case 5:if(x=C.sent,null==(u=x.data)||null==(c=u.createSlots)||null==(d=c.fieldErrors)||d.map((function(e){var n=e.field,t=e.message;switch(n){case"jump_type":return f(Dn.forms.manifestGroup.setFieldError(["jumpType",t]));case"load":return f(Dn.forms.manifestGroup.setFieldError(["load",t]));case"credits":case"extras":case"extra_ids":return f(Dn.forms.manifestGroup.setFieldError(["extras",t]));case"ticket_type":return f(Dn.forms.manifestGroup.setFieldError(["ticketType",t]));default:return null}})),null==x||null==(m=x.data)||null==(p=m.createSlots)||null==(v=p.errors)||!v.length){C.next=10;break}return f(Dn.notifications.showSnackbar({message:null==x||null==(k=x.data)||null==(w=k.createSlots)?void 0:w.errors[0],variant:"error"})),C.abrupt("return");case 10:null!=(h=x.data)&&null!=(y=h.createSlots)&&null!=(E=y.fieldErrors)&&E.length||e.onClose(),C.next=16;break;case 13:C.prev=13,C.t0=C.catch(2),f(Dn.notifications.showSnackbar({message:C.t0.message,variant:"error"}));case 16:case"end":return C.stop()}}),null,null,[[2,13]],Promise)}),[f,b,e,null==(r=g.fields.extras)?void 0:r.value,null==(l=g.fields.jumpType.value)?void 0:l.id,null==(i=g.fields.load.value)?void 0:i.id,null==(s=g.fields.ticketType.value)?void 0:s.id,g.fields.users.value,S]);return p.createElement(Wl.a,null,p.createElement(Vl.a,{visible:!!d,onDismiss:m},p.createElement(C.default,{style:{backgroundColor:"white"},testID:"manifest-group-sheet"},p.createElement(C.default,{pointerEvents:((null==(u=g.fields.users)||null==(c=u.value)?void 0:c.length)||0)>0?void 0:"none"},p.createElement(ci.b,{defaultIndex:k,mode:"fixed",onChangeIndex:w},p.createElement(ci.a,{label:"Create group"},p.createElement(C.default,null)),p.createElement(ci.a,{label:"Configure jump"},p.createElement(C.default,null)))),0===k?p.createElement(C.default,{style:ji.userListContainer},p.createElement(Ii,{onNext:function(){return w(1)}})):p.createElement(o.c,{contentContainerStyle:{paddingBottom:200,flexGrow:1}},p.createElement(gi,null),p.createElement(C.default,{style:ji.buttonContainer},p.createElement(K.a,{onPress:O,loading:y.loading,mode:"contained",style:ji.button},"Save"))))))}var ji=F.a.create({button:{width:"100%",borderRadius:16,padding:5},buttonContainer:{paddingHorizontal:16,backgroundColor:"white"},contentContainer:{paddingHorizontal:16,paddingBottom:32},userListContainer:{height:"100%",backgroundColor:"white",width:"100%",padding:16},sheet:{elevation:3,backgroundColor:"white",flexGrow:1,height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",paddingBottom:32},sheetHeader:{elevation:2,borderTopLeftRadius:15,borderTopRightRadius:15,height:30,shadowColor:"#000",shadowOffset:{width:0,height:-4},backgroundColor:"white",shadowOpacity:.22,shadowRadius:2.22}}),Di=t(471);function Fi(e){var n,t,r,a,o,l,i,s=e.slot,u=e.onPress,c=e.onDelete,d=e.style,m=Object(Dl.b)(),f=!(null==s||!s.passengerName);return p.createElement(p.Fragment,null,p.createElement(Il.a,{onPress:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){return null==u?void 0:u(s)})),elevation:3,style:F.a.flatten([Ni.card,{marginBottom:f?-4:12},d])},p.createElement(Il.a.Title,{title:(null==s||null==(n=s.dropzoneUser)?void 0:n.user.name)||(null==s?void 0:s.passengerName),left:function(){var e,n,t;return null!=s&&null!=(e=s.dropzoneUser)&&null!=(n=e.user)&&n.image?p.createElement(_l.a.Image,{style:{backgroundColor:m.colors.surface},source:{uri:null==s||null==(t=s.dropzoneUser)?void 0:t.user.image},size:24}):p.createElement(_l.a.Icon,{style:{backgroundColor:m.colors.surface},color:m.dark?m.colors.text:m.colors.primary,icon:"account",size:40})},right:function(){return c?p.createElement(Di.a,{style:{marginTop:-45,marginRight:-5},onPress:function(e){e.preventDefault(),null==c||c(s)}},"-"):null}}),p.createElement(Il.a.Content,{style:{flexDirection:"row",flexWrap:"wrap"}},p.createElement(Fl.a,{style:Ni.infoChip,textStyle:Ni.chipText,icon:"lock",mode:"outlined",disabled:!0},null==s||null==(t=s.dropzoneUser)||null==(r=t.role)?void 0:r.name),p.createElement(Fl.a,{style:Ni.infoChip,textStyle:Ni.chipText,icon:"ticket-account",mode:"outlined",disabled:!0},null==s||null==(a=s.dropzoneUser)||null==(o=a.license)?void 0:o.name),p.createElement(Fl.a,{style:Ni.infoChip,textStyle:Ni.chipText,icon:"human-handsup",mode:"outlined",disabled:!0},null==s||null==(l=s.jumpType)?void 0:l.name),p.createElement(Fl.a,{style:Ni.infoChip,textStyle:Ni.chipText,icon:"arrow-up-bold",mode:"outlined",disabled:!0},null==s||null==(i=s.ticketType)?void 0:i.name),s.wingLoading?p.createElement(Fl.a,{style:Ni.chip,textStyle:Ni.chipText,icon:"escalator-down",mode:"outlined",disabled:!0},s.wingLoading.toFixed(2)):null)),null!=s&&s.passengerName?p.createElement(p.Fragment,null,p.createElement(C.default,{style:{width:"100%",height:30,alignItems:"center",justifyContent:"center"}},p.createElement(ia.a,{color:m.colors.onSurface,name:"link-variant",size:30})),p.createElement(Il.a,{style:F.a.flatten([{margin:12,marginTop:-4,height:150,width:"100%"},d]),elevation:3},p.createElement(Il.a.Title,{title:null==s?void 0:s.passengerName,left:function(){return p.createElement(_l.a.Icon,{icon:"account-supervisor",color:m.dark?m.colors.text:m.colors.primary,style:{backgroundColor:m.colors.surface},size:40})}}),p.createElement(Il.a.Content,null,p.createElement(X.a,{style:Ni.passengerTitle},"P A S S E N G E R")))):null)}var Ai,Ni=F.a.create({card:{margin:12,height:150,width:"100%"},chip:{margin:2,height:25,padding:0,alignItems:"center"},infoChip:{margin:2,height:25,padding:0,alignItems:"center"},chipText:{fontSize:12},passengerChip:{margin:12,height:150,width:"100%"},passengerTitle:{fontSize:30,opacity:.5,alignSelf:"center",width:"100%",textAlign:"center",color:"#CCCCCC"}}),Ri=t(492),$i=t(334),Ui=El(Object(fa.a)(Ai||(Ai=ma()(["\n  mutation UpdateLoad(\n    $id: Int!\n    $pilotId: Int\n    $gcaId: Int\n    $planeId: Int\n    $isOpen: Boolean\n    $loadMasterId: Int\n    $dispatchAt: Int\n    $hasLanded: Boolean\n  ) {\n    updateLoad(\n      input: {\n        id: $id\n        attributes: {\n          pilotId: $pilotId\n          gcaId: $gcaId\n          planeId: $planeId\n          isOpen: $isOpen\n          loadMasterId: $loadMasterId\n          dispatchAt: $dispatchAt\n          hasLanded: $hasLanded\n        }\n      }\n    ) {\n      load {\n        id\n        name\n        createdAt\n        loadNumber\n        dispatchAt\n        hasLanded\n        maxSlots\n        isFull\n        isOpen\n        plane {\n          id\n          name\n        }\n        gca {\n          id\n          user {\n            id\n            name\n          }\n        }\n        pilot {\n          id\n          user {\n            id\n            name\n          }\n        }\n        loadMaster {\n          id\n          user {\n            id\n            name\n          }\n        }\n        slots {\n          id\n          createdAt\n          exitWeight\n\n          passengerName\n          passengerExitWeight\n\n          user {\n            id\n            name\n          }\n          ticketType {\n            id\n            name\n            altitude\n            isTandem\n          }\n          jumpType {\n            id\n            name\n          }\n          extras {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.updateLoad},fieldErrorMap:{pilotId:"pilot",gcaId:"gca",planeId:"plane",loadMasterId:"loadMaster"}});function Bi(e){var n,t,r,o=$n(),l=p.useState(!1),i=H()(l,2),s=i[0],u=i[1],c=e.load,d=Sl().currentUser,m=function(e){var n=ba(ba({},ya),e);return pa.a(fo,n)}(),f=H()(m,1)[0],g=Ui({onSuccess:function(){return null},onError:function(e){return o(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),v=p.useCallback((function(e){var n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e?Object($i.a)(new Date,e).getTime()/1e3:null,t.next=3,a.a.awrap(g.mutate({id:Number(c.id),dispatchAt:n?Math.ceil(n):null,state:n?N.BoardingCall:N.Open}));case 3:case"end":return t.stop()}}),null,null,null,Promise)}),[g,c]),h=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(g.mutate({id:Number(c.id),state:e,dispatchAt:null}));case 2:case"end":return n.stop()}}),null,null,null,Promise)}),[g,c]),b=p.useCallback((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(f({variables:{id:Number(c.id),state:N.Landed}}));case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[f,c]),y=p.useCallback((function(){return null!=d&&d.hasLicense?null!=d&&d.hasMembership?null!=d&&d.hasExitWeight?null!=d&&d.hasCredits?(o(Dn.forms.manifest.setOpen(!0)),o(Dn.forms.manifest.setField(["dropzoneUser",d])),o(Dn.forms.manifest.setField(["load",c])),null):o(Dn.notifications.showSnackbar({message:"You have no credits on your account",variant:"info"})):o(Dn.notifications.showSnackbar({message:"Update your exit weight on your profile before manifesting",variant:"info"})):o(Dn.notifications.showSnackbar({message:"Your membership is out of date",variant:"info"})):o(Dn.notifications.showSnackbar({message:"You need to select a license on your user profile",variant:"info"}))}),[d,o,c]),E=Nl(B.UpdateLoad),x=Nl(B.CreateSlot),k=Nl(B.CreateUserSlot),w=Nl(B.CreateUserSlotWithSelf),S=[N.Open,N.BoardingCall].includes(c.state),C=((null==c||null==(n=c.slots)?void 0:n.length)||0)>=((null==c?void 0:c.maxSlots)||(null==c||null==(t=c.plane)?void 0:t.maxSlots)||0),O=S&&!C&&x&&!(null!=c&&null!=(r=c.slots)&&r.some((function(e){var n;return(null==(n=e.dropzoneUser)?void 0:n.id)===(null==d?void 0:d.id)}))),z=(k||w)&&(null==c?void 0:c.state)!==N.Landed&&(!(null!=c&&c.dispatchAt)||c.dispatchAt>(new Date).getTime()/1e3),I=p.useCallback((function(e){return function(){u(!1),v(e)}}),[v]),T=[{label:"20 minute call",onPress:I(20),icon:"airplane-takeoff"},{label:"15 minute call",onPress:I(15),icon:"airplane-takeoff"},{label:"10 minute call",onPress:I(10),icon:"airplane-takeoff"}],P=[O?{label:"Manifest me",icon:"account",onPress:function(){return y()}}:null,z?{label:"Manifest group",icon:"account-group",onPress:function(){o(Dn.forms.manifestGroup.reset()),o(Dn.forms.manifestGroup.setField(["load",c])),w&&!k&&d&&(o(Dn.screens.manifest.setSelected([d])),o(Dn.forms.manifestGroup.setDropzoneUsers([d]))),o(Dn.forms.manifestGroup.setOpen(!0)),o(Dn.forms.manifestGroup.setField(["load",c]))}}:null].filter(Boolean),j=[[N.BoardingCall].includes(c.state)?{label:"Cancel boarding call",icon:"airplane-off",onPress:I(null)}:null,[N.Open].includes(c.state)?{label:"Cancel load",icon:"delete-sweep",onPress:function(){return f({variables:{id:Number(c.id),state:N.Cancelled}})}}:null,[N.Cancelled,N.Landed].includes(c.state)?{label:"Re-open load",icon:"undo",onPress:function(){return h(N.Open)}}:null,[N.BoardingCall,N.InFlight].includes(c.state)?{label:"Mark as Landed",icon:"airplane-landing",onPress:function(){return b()}}:null].filter(Boolean),D=[].concat(Gl()(S?P:[]),Gl()(E&&[N.Open].includes(null==c?void 0:c.state)?T:[]),Gl()(E?j:[]));return p.createElement(Wl.a,null,p.createElement(Ri.a.Group,{visible:!!D.length,open:s,icon:s?"close":"plus",fabStyle:{marginLeft:16,marginBottom:100},actions:D,onStateChange:function(e){var n=e.open;return u(n)}}))}var Li=t(547),Wi=t(379),Vi=t(8),Mi=t(336),Gi=t(572),qi=S.a.select({ios:p.lazy((function(){return t.e(0).then(t.t.bind(null,927,7)).then((function(e){return{default:e.CountdownCircleTimer}}))})),android:p.lazy((function(){return t.e(0).then(t.t.bind(null,927,7)).then((function(e){return{default:e.CountdownCircleTimer}}))})),web:p.lazy((function(){return t.e(4).then(t.t.bind(null,928,7)).then((function(e){return{default:e.CountdownCircleTimer}}))}))});function _i(e){var n=e.end,t=e.size,r=e.variant,a=Object(Mi.a)(n,new Date),o=5/a,l=10/a,i=10/a;return p.createElement(qi,{isPlaying:a>1,duration:a>1?a:0,colors:a>0?[["light"===r?"#FFFFFF":"#004777",i],["light"===r?"#FFFFFF":"#F7B801",l],["light"===r?"#FFFFFF":"#A30000",o]]:[["light"===r?"#FFFFFF":"#A30000",1]],size:t||50,strokeWidth:2},(function(e){var n=e.remainingTime,t=e.animatedColor,r=Math.round(n%60),a=Object(Gi.a)(n),o=r<10?"0"+r:r,l=a<10?"0"+a:a;return p.createElement(Vi.a.Text,{style:{color:t,fontSize:16}},l,":",o)}))}function Hi(e){var n=e.load,t=e.renderBadges,r=e.children,a=Un((function(e){return e.global})),o=a.theme,l=a.palette,i=Object(zl.a)().width;return p.createElement(Wi.LinearGradient,{start:{x:0,y:.25},end:{x:.5,y:1},style:Yi.container,colors:[o.colors.surface,o.colors.surface]},p.createElement(C.default,{style:Yi.avatarContainer},p.createElement(C.default,{style:{flex:1/3,alignItems:"center",justifyContent:"center"}},null!=n&&n.dispatchAt&&Object(Li.a)(1e3*n.dispatchAt,new Date)?p.createElement(_i,{end:new Date(1e3*n.dispatchAt),variant:o.dark?"light":"dark",size:80}):p.createElement(_l.a.Icon,{size:80,icon:"shield-airplane",color:o.dark?o.colors.text:l.primary.dark,style:{backgroundColor:o.dark?l.primary.dark:l.primary.light}})),p.createElement(C.default,{style:Yi.titleContainer},p.createElement(yi.a,{style:Yi.title},"Load #",null==n?void 0:n.loadNumber),t&&i>600?p.createElement(t,null):p.createElement(Ei.a,{style:Yi.paragraph},null==n?void 0:n.name))),t&&i<600?p.createElement(t,null):null,r)}var Yi=F.a.create({container:{width:"100%",paddingTop:16},actions:{flexDirection:"row",justifyContent:"flex-end"},avatarContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:48,marginBottom:32,marginTop:32},titleContainer:{paddingLeft:8,fontWeight:"bold",fontSize:26,flex:2/3,alignItems:"flex-start",justifyContent:"center"},title:{},paragraph:{}});function Ji(e){var n=e.items,t=1/n.length;return p.createElement(p.Fragment,null,p.createElement(Hl.a,{style:Xi.divider}),p.createElement(C.default,{style:Xi.container},n.map((function(e,r){return p.createElement(p.Fragment,null,p.createElement(C.default,{style:{flex:t},key:"info-grid-"+r},p.createElement(_l.c.Item,{titleStyle:[Xi.title,{fontWeight:!1!==e.bold?"bold":void 0}],style:{paddingVertical:20},title:e.value,descriptionStyle:Xi.description,description:e.title,onPress:e.onPress})),r===n.length-1?null:p.createElement(Hl.a,{key:"info-grid-divider-"+r,style:Xi.verticalDivider}))}))))}var Qi,Xi=F.a.create({container:{width:"100%",flexDirection:"row"},divider:{height:F.a.hairlineWidth,width:"100%"},verticalDivider:{width:F.a.hairlineWidth,height:"100%"},title:{textAlign:"center"},description:{textAlign:"center"}}),Zi=El(Object(fa.a)(Qi||(Qi=ma()(["\n  mutation DeleteSlot($id: Int!) {\n    deleteSlot(input: { id: $id }) {\n      slot {\n        id\n\n        dropzoneUser {\n          id\n          user {\n            id\n            name\n          }\n        }\n        load {\n          id\n          availableSlots\n          isOpen\n          weight\n          slots {\n            id\n            createdAt\n            exitWeight\n\n            passengerName\n            passengerExitWeight\n\n            user {\n              id\n              name\n            }\n            ticketType {\n              id\n              name\n              altitude\n              isTandem\n            }\n            jumpType {\n              id\n              name\n            }\n            extras {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.deleteSlot}});function Ki(e){var n=e.width;return p.createElement(Il.a,{style:{height:150,opacity:.5,margin:12,width:n,alignItems:"center",justifyContent:"center"},elevation:3},p.createElement(Il.a.Title,{title:"Available",style:{alignSelf:"center",justifyContent:"center",flex:1},titleStyle:{textAlign:"center"}}))}function es(e){var n=e.width;return p.createElement(jl.a,{isLoading:!0,containerStyle:{height:150,width:n,margin:12},layout:[{key:"user-card-container",height:150,width:n}]})}function ns(){var e,n,t,r,l=$n(),i=p.useState(!1),s=H()(i,2),u=s[0],c=s[1],d=Un((function(e){return e.forms})),m=Un((function(e){return e.global})),f=m.palette,g=m.theme,v=Object(Tl.useRoute)(),h=nl({variables:{id:Number(v.params.load.id)},pollInterval:3e4}),b=h.data,y=h.loading,E=h.refetch,x=p.useMemo((function(){return null==b?void 0:b.load}),[null==b?void 0:b.load]),k=p.useMemo((function(){return x||v.params.load}),[x,v.params.load]),w=Sl().currentUser,S=Ui({onSuccess:function(){return l(Dn.notifications.showSnackbar({message:"Load #"+k.loadNumber+" updated",variant:"success"}))},onError:function(e){return l(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),C=Zi({onSuccess:function(e){var n,t,r;return l(Dn.notifications.showSnackbar({message:((null==(n=e.slot)||null==(t=n.dropzoneUser)||null==(r=t.user)?void 0:r.name)||"User")+" has been taken off load #"+k.loadNumber,variant:"success"}))},onError:function(e){return l(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),O=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(C.mutate({id:Number(e.id)}));case 2:case"end":return n.stop()}}),null,null,null,Promise)}),[C]),z=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(S.mutate({id:Number(k.id),pilotId:Number(e.id)}));case 2:case"end":return n.stop()}}),null,null,null,Promise)}),[S,k.id]),I=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(S.mutate({id:Number(k.id),gcaId:Number(e.id)}));case 2:case"end":return n.stop()}}),null,null,null,Promise)}),[S,k.id]),T=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(S.mutate({id:Number(k.id),planeId:Number(e.id)}));case 2:case"end":return n.stop()}}),null,null,null,Promise)}),[S,k.id]),P=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(S.mutate({id:Number(k.id),loadMasterId:Number(e.id)}));case 2:case"end":return n.stop()}}),null,null,null,Promise)}),[S,k.id]),j=Nl(B.UpdateSlot),D=Nl(B.UpdateUserSlot),F=Nl(B.DeleteSlot),A=Nl(B.DeleteUserSlot);p.useEffect((function(){null!=k&&k.maxSlots&&(null==k?void 0:k.maxSlots)<5&&!u&&c(!0)}),[u,null==k?void 0:k.maxSlots]);var R=Object(Tl.useNavigation)(),$=Array.from({length:((null==k||null==(e=k.slots)?void 0:e.length)||0)+((null==k?void 0:k.availableSlots)||0)}).map((function(e,n){var t;return((null==k||null==(t=k.slots)?void 0:t.length)||0)>n?k.slots[n]:2})),U=(null==k?void 0:k.maxSlots)||(null==k||null==(n=k.plane)?void 0:n.maxSlots)||0,L=U-((null==k?void 0:k.availableSlots)||0),W=Object(zl.a)().width,V=Math.floor(W/388)||1,M=388*V+24;M=W<M?W:M;var G=!(null!=x&&null!=(t=x.slots)&&t.length)&&y;return p.createElement(Ci,{style:{flexGrow:1,backgroundColor:g.colors.background}},p.createElement(Hi,{load:k,renderBadges:function(){return p.createElement(o.c,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{marginVertical:8}},p.createElement(Bl,{value:null==k?void 0:k.plane,onSelect:function(e){var n,t,r;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(((null==k||null==(n=k.slots)?void 0:n.length)||0)>(e.maxSlots||0))){o.next=5;break}r=((null==k||null==(t=k.slots)?void 0:t.length)||0)-(e.maxSlots||0),l(Dn.notifications.showSnackbar({message:"You need to take "+r+" people off the load to fit on this plane",variant:"info"})),o.next=8;break;case 5:return o.next=7,a.a.awrap(T(e));case 7:E();case 8:case"end":return o.stop()}}),null,null,null,Promise)},small:!0,backgroundColor:"transparent",color:f.primary.dark}),p.createElement(Rl,{value:null==k?void 0:k.gca,onSelect:I,small:!0,backgroundColor:"transparent",color:f.primary.dark}),p.createElement(Ul,{value:null==k?void 0:k.pilot,onSelect:z,small:!0,backgroundColor:"transparent",color:f.primary.dark}),p.createElement($l,{value:null==k?void 0:k.loadMaster,slots:k.slots||[],onSelect:P,small:!0,backgroundColor:"transparent",color:f.primary.dark}))}},p.createElement(Ji,{items:[{title:"Status",value:(r={},q()(r,N.Open,"Open"),q()(r,N.BoardingCall,"On call"),q()(r,N.Cancelled,"Cancelled"),q()(r,N.InFlight,"In air"),q()(r,N.Landed,"Landed"),r)[null==k?void 0:k.state]},{title:"Slots",value:L+"/"+U},{title:"Weight",value:((null==k?void 0:k.weight)||0)+"kg"}]})),p.createElement(o.a,{testID:"slots",keyExtractor:function(e,n){return"slot-"+((null==e?void 0:e.id)||n)},style:{flex:1,height:Cl.a.get("window").height},contentContainerStyle:{width:M,alignSelf:"center",justifyContent:"space-evenly",paddingBottom:100},numColumns:V,horizontal:!1,data:G?[1,1,1,1,1,1,1,1]:$,refreshing:y,onRefresh:E,refreshControl:p.createElement(Ol.a,{refreshing:y,onRefresh:function(){return E()}}),renderItem:function(e){var n,t=e.item,r=e.index;return 1===t?p.createElement(es,{width:364}):2===t?p.createElement(Ki,{key:"empty-slot-"+r,width:364}):p.createElement(Fi,{style:{width:364},key:"slot-"+t.id,slot:t,onDelete:(null==w?void 0:w.id)===(null==t||null==(n=t.dropzoneUser)?void 0:n.id)&&F||A?O:void 0,onPress:function(e){var n,t,r=null==k||null==(n=k.slots)?void 0:n.filter((function(n){var t=n.groupNumber;return t&&t===e.groupNumber})),a=function(){r&&(l(Dn.forms.manifestGroup.reset()),l(Dn.forms.manifestGroup.setFromSlots({slots:r,load:k})),l(Dn.forms.manifestGroup.setField(["load",k])),R.navigate("ManifestGroupScreen"))},o=function(){l(Dn.forms.manifest.setOpen(e)),l(Dn.forms.manifest.setField(["load",k]))};(null==(t=e.user)?void 0:t.id)===(null==w?void 0:w.id)?j&&(null!=r&&r.length?a():o()):D&&(null!=r&&r.length?a():o())}})}}),p.createElement(Bi,{load:k}),p.createElement(ui,{open:d.manifest.open,onClose:function(){return l(Dn.forms.manifest.setOpen(!1))},onSuccess:function(){l(Dn.forms.manifest.setOpen(!1))}}),p.createElement(Pi,{open:d.manifestGroup.open,onClose:function(){l(Dn.forms.manifestGroup.setOpen(!1)),l(Dn.forms.manifestGroup.reset())},onSuccess:function(){return l(Dn.forms.manifestGroup.setOpen(!1))}}))}var ts=t(30),rs=t(569);function as(e){var n=e.size,t=e.paginationIndex,r=e.icons,a=Cl.a.get("window").width,o=((a>500?500:a)-96-30*n)/n;return p.createElement(C.default,{style:os.pagination},Array.from({length:n}).map((function(e,a){var l=r&&r.length>a,i=a<(t||0)?"check":"";return i=a===t?"pencil":i,p.createElement(p.Fragment,{key:a},p.createElement(_l.a.Icon,{icon:l&&r?r[a]:i,size:30,style:[os.icon,(t||0)>a?os.iconDone:void 0]}),n-1>a?p.createElement(C.default,{style:[os.bridge,{width:o},(t||0)>a?os.bridgeDone:void 0]}):null)})))}var os=F.a.create({pagination:{flexDirection:"row",position:"absolute",top:100,alignSelf:"center"},bridge:{height:10,marginTop:10,marginLeft:-2,width:50,backgroundColor:"white"},bridgeDone:{backgroundColor:"#00C851"},icon:{backgroundColor:"white",marginLeft:-1},iconDone:{backgroundColor:"#00C851",marginLeft:-1}}),ls=p.createContext({index:0,count:0,setIndex:function(){return null}});var is=Cl.a.get("window").width,ss=F.a.create({container:{width:is,flex:1,paddingBottom:0}}),us=function(e){var n=e.children,t=e.icons,r=p.useState(0),a=H()(r,2),o=a[0],l=a[1],i=p.useRef(null),s=p.Children.count(n);return p.createElement(ls.Provider,{value:{index:o,count:s,setIndex:function(e){var n;null==(n=i.current)||n.scrollToIndex({index:e,animated:!0})}}},p.createElement(C.default,{style:[ss.container]},p.createElement(rs.a,{showPagination:!0,index:o,PaginationComponent:function(e){return p.createElement(as,oa()({},e,{icons:t}))},numColumns:1,scrollEnabled:!1,autoplay:!1,ref:i,onChangeIndex:function(e){var n=e.index;e.prevIndex;l(n||0)}},n)))},cs=["style","children","contentContainerStyle"],ds=p.forwardRef((function(e,n){var t=Object(zl.a)().height,r=Un((function(e){return e.global})).theme,a=e.style,o=e.children,l=e.contentContainerStyle,i=J()(e,cs);return p.createElement(Ll.a,oa()({},i,{ref:n,keyboardDismissMode:"on-drag",keyboardShouldPersistTaps:"handled",contentInsetAdjustmentBehavior:"always",style:[ms.container,{backgroundColor:r.colors.surface,height:t-112},a],contentContainerStyle:[ms.content,{backgroundColor:r.colors.background},l]}),o)})),ms=F.a.create({container:{flex:1},content:{paddingHorizontal:16,alignItems:"flex-start",flexGrow:1,paddingBottom:50}});var fs=F.a.create({wizardScreen:{justifyContent:"center"},container:{backgroundColor:"#FF1414",paddingHorizontal:32,alignSelf:"center"},content:{paddingTop:200,flexGrow:1,paddingBottom:0},title:{position:"absolute",top:140,marginBottom:50,color:"white",fontSize:24,fontWeight:"bold",textAlign:"center",alignSelf:"center"},button:{alignSelf:"center",width:"100%"},buttonBack:{alignSelf:"center",width:"100%",marginHorizontal:48},buttons:{alignSelf:"center",alignItems:"flex-end",flexGrow:1,justifyContent:"flex-end",width:"100%",maxWidth:404,marginBottom:100}}),ps=function(e){var n=e.children,t=e.title,r=e.loading,o=e.onBack,l=e.backButtonLabel,i=e.nextButtonLabel,s=e.onNext,u=e.contentStyle,c=e.containerStyle,d=e.style,m=e.disableScroll,f=Cl.a.get("window"),g=f.width,v=f.height,h=p.useContext(ls),b=h.index,y=h.setIndex,E=p.useRef();return p.useEffect((function(){E.current?(E.current.scrollTo({y:0,animated:!1}),console.log("Scrolling ",t," to 0")):console.log("No ref")}),[b,t]),p.createElement(C.default,{style:F.a.flatten([fs.wizardScreen,{width:g},d])},p.createElement(ds,{style:[fs.container,c||{},{width:g}],contentContainerStyle:F.a.flatten([fs.content,{minHeight:v,backgroundColor:"transparent"},u]),scrollEnabled:!m,pointerEvents:"box-none",ref:E},p.createElement(yi.a,{style:fs.title},t),n,p.createElement(C.default,{style:fs.buttons,pointerEvents:"box-none"},p.createElement(K.a,{key:"button-next-"+b,loading:r,mode:"contained",color:"#FFFFFF",disabled:r,style:fs.button,onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onNext with index",b),s(b,y);case 2:case"end":return e.stop()}}),null,null,null,Promise)}},i),o?p.createElement(K.a,{key:"button-"+b,mode:"text",disabled:r,color:"#FFFFFF",style:fs.buttonBack,onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:o(b,y);case 1:case"end":return e.stop()}}),null,null,null,Promise)}},l):null)))},gs=["title","subtitle"];var vs,hs=F.a.create({subtitle:{color:"white",textAlign:"center"},title:{fontSize:26,color:"white",textAlign:"center",fontWeight:"bold"},content:{alignItems:"center",justifyContent:"center",flexGrow:1,alignSelf:"center"},icon:{marginVertical:32,backgroundColor:"#00C851"},container:{paddingHorizontal:48,alignItems:"center",backgroundColor:"transparent"}}),bs=function(e){var n=e.title,t=e.subtitle,r=J()(e,gs);return p.createElement(ps,oa()({style:hs.container},r),p.createElement(C.default,{style:hs.content},p.createElement(_l.a.Icon,{icon:"check",size:150,style:hs.icon}),p.createElement(X.a,{style:hs.title},n),p.createElement(Ei.a,{style:hs.subtitle},t)))},ys=El(Object(fa.a)(vs||(vs=ma()(["\n  mutation CreateWeatherConditions(\n    $id: Int!\n    $dropzoneId: Int!\n    $winds: String\n    $temperature: Int\n    $jumpRun: Int\n    $exitSpotMiles: Int\n    $offsetMiles: Int\n    $offsetDirection: String\n  ) {\n    createWeatherCondition(\n      input: {\n        id: $id\n        attributes: {\n          dropzoneId: $dropzoneId\n          winds: $winds\n          temperature: $temperature\n          jumpRun: $jumpRun\n          exitSpotMiles: $exitSpotMiles\n          offsetMiles: $offsetMiles\n          offsetDirection: $offsetDirection\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      weatherCondition {\n        id\n        temperature\n        winds {\n          speed\n          altitude\n          direction\n        }\n        jumpRun\n        exitSpotMiles\n        offsetMiles\n        offsetDirection\n        createdAt\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.createWeatherCondition},validates:{},fieldErrorMap:{}}),Es=t(111),xs=t(74);function ks(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ws(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ks(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ks(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ss(e){var n=e.speed,t=e.direction,r=e.altitude,a=e.onChange,l=p.useState(!1),i=H()(l,2),s=i[0],u=i[1],c=p.useState(n),d=H()(c,2),m=d[0],f=d[1],g=p.useState(t),v=H()(g,2),h=v[0],b=v[1],y=Object(Dl.b)();return p.createElement(Il.a,{style:Os.card,elevation:3},p.createElement(Il.a.Content,{style:Os.row},p.createElement(C.default,{style:Os.altitudeCard},p.createElement(Al.a,{onDismiss:function(){return u(!1)},visible:s,style:{minWidth:130},anchor:p.createElement(o.f,{style:{flexGrow:1,height:60,flexDirection:"row",alignItems:"center",justifyContent:"center"},onPress:function(){return u(!0)}},p.createElement(_l.c.Icon,{icon:"arrow-up",style:Os.icon}),p.createElement(X.a,{style:[Os.altitudeOption,{color:y.colors.onSurface}]},null==r?void 0:r.toString()))},[14e3,12e3,1e4,7e3,5e3,2e3,1e3].map((function(e){return p.createElement(_l.c.Item,{key:e,onPress:function(){e&&a("altitude",e),u(!1)},title:e.toString(),left:function(){return p.createElement(_l.c.Icon,{style:Os.icon,icon:"arrow-up"})}})})))),p.createElement(C.default,{style:Os.strengthCard},p.createElement(_l.c.Icon,{icon:"weather-windy",style:Os.icon}),p.createElement(Yl.a,{value:null==m?void 0:m.toString(),onBlur:function(){return a("speed",Number(m))},onChangeText:function(e){if(/\d/.test(e)){var n=e.match(/\d+/)||[m],t=H()(n,1)[0];f(t)}else e||f("")},style:Os.textField,keyboardType:"numeric"})),p.createElement(C.default,{style:Os.directionCard},p.createElement(_l.c.Icon,{icon:"compass",style:Os.icon}),p.createElement(Yl.a,{value:null==h?void 0:h.toString(),onBlur:function(){return a("direction",Number(h))},onChangeText:function(e){if(/\d/.test(e)){var n=e.match(/\d+/)||[h],t=H()(n,1)[0];b(t)}else e||b("")},style:Os.textField,keyboardType:"numeric"}))))}var Cs={height:60,flexDirection:"row",width:350/3},Os=F.a.create({altitudeOption:{minWidth:50,flexGrow:1,alignItems:"center",justifyContent:"center",textAlignVertical:"center",lineHeight:20,fontSize:20,alignSelf:"center"},card:{marginVertical:8,marginHorizontal:18,width:350,alignSelf:"center",borderRadius:10},icon:{width:20},altitudeCard:ws(ws({},Cs),{},{borderTopLeftRadius:10,borderBottomLeftRadius:10,overflow:"hidden"}),strengthCard:ws({},Cs),directionCard:ws(ws({},Cs),{},{borderTopRightRadius:10,borderBottomRightRadius:10,overflow:"hidden"}),textField:{flex:1,flexGrow:1,borderTopLeftRadius:0,borderTopRightRadius:0,width:"100%",minWidth:80},row:{flexGrow:1,display:"flex",flexWrap:"nowrap",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",paddingHorizontal:0,paddingVertical:0,marginVertical:16,marginTop:0,marginBottom:0}});function zs(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Is(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?zs(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zs(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ts(e){var n,t,r,a,l=e.variant,i=e.onPressJumpRun,s=Un((function(e){return e.forms.weather})),u=$n(),c=s.fields.winds.value,d=Object(Dl.b)(),m=p.useState((null==(n=s.fields)||null==(t=n.temperature)?void 0:t.value)||0),f=H()(m,2),g=f[0],v=f[1],h=p.useState((null==(r=s.fields)||null==(a=r.jumpRun)?void 0:a.value)||0),b=H()(h,2),y=b[0],E=b[1];return p.useEffect((function(){s.fields.jumpRun.value!==y&&E(s.fields.jumpRun.value)}),[E,s.fields.jumpRun.value]),p.useEffect((function(){s.fields.temperature.value!==g&&v(s.fields.temperature.value)}),[s.fields.jumpRun.value,s.fields.temperature.value,v]),p.createElement(Es.a,{behavior:"height",style:Ps.content},p.createElement(C.default,{style:Ps.row},p.createElement(X.a,{style:[Ps.headerTemperature,{color:"light"===l?"white":"black"}]},"Temperature"),p.createElement(X.a,{style:[Ps.headerJumprun,{color:"light"===l?"white":"black"}]},"Jump run")),p.createElement(C.default,{style:Ps.altitudeTempRow},p.createElement(Il.a,{style:[Ps.temperatureCard,{backgroundColor:d.colors.surface}],elevation:3},p.createElement(Il.a.Content,{style:Ps.cardContent},p.createElement(_l.c.Icon,{icon:"thermometer",style:{width:20}}),p.createElement(xs.a,{value:null==g?void 0:g.toString(),onBlur:function(){return u(Dn.forms.weather.setField(["temperature",Number(g)]))},onChangeText:function(e){if(/\d/.test(e)){var n=e.match(/^\-?\d+/)||[g],t=H()(n,1)[0];v(Number(t))}},style:[Ps.textField,{color:d.colors.onSurface}],keyboardType:"numeric"}))),p.createElement(Il.a,{style:Ps.jumpRunCard,elevation:3},p.createElement(Il.a.Content,{style:[Ps.cardContent,{backgroundColor:d.colors.surface}]},p.createElement(_l.c.Icon,{icon:"compass",style:{width:20}}),p.createElement(xs.a,{value:null==y?void 0:y.toString(),onBlur:function(){return u(Dn.forms.weather.setField(["jumpRun",Number(y)]))},onChangeText:function(e){if(/\d/.test(e)){var n=e.match(/\d+/)||[y],t=H()(n,1)[0];E(Number(t))}},keyboardType:"numeric",style:[Ps.textField,{color:d.colors.onSurface}]}),p.createElement(o.f,{onPress:function(){return null==i?void 0:i()}},p.createElement(_l.c.Icon,{icon:"earth",color:"#40AA40",style:{width:40}}))))),p.createElement(C.default,{style:Ps.row},p.createElement(X.a,{style:[Ps.headerAltitude,{color:"light"===l?"white":"black"}]},"Altitude"),p.createElement(X.a,{style:[Ps.headerSpeed,{color:"light"===l?"white":"black"}]},"Speed"),p.createElement(X.a,{style:[Ps.headerDirection,{color:"light"===l?"white":"black"}]},"Direction")),p.createElement(Hl.a,null),p.createElement(o.a,{data:c,keyExtractor:function(e,n){e.item;return"wind."+n},scrollEnabled:!1,renderItem:function(e){var n=e.item,t=e.index;return p.createElement(Ss,oa()({},n,{key:"wind-input-"+t,onChange:function(e,r){var a=Object(Zl.set)(Gl()(c),t,Is(Is({},n),{},q()({},e,r)));u(Dn.forms.weather.setField(["winds",a]))}}))}}),(null==c?void 0:c.length)<5?p.createElement(o.f,{onPress:function(){return u(Dn.forms.weather.setField(["winds",[].concat(Gl()(c||[]),[{altitude:"0",direction:"0",speed:"0"}])]))}},p.createElement(C.default,{style:{width:"100%",opacity:.5},pointerEvents:"box-only"},p.createElement(Ss,{altitude:"Add",direction:"0",speed:"0",onChange:function(){return null}}))):null)}var Ps=F.a.create({container:{paddingHorizontal:0,alignItems:"center",paddingLeft:0,paddingRight:0},content:{width:"100%",flexDirection:"column",backgroundColor:"transparent"},altitudeTempRow:{paddingHorizontal:32,width:400,alignSelf:"center",backgroundColor:"transparent",flexGrow:1,display:"flex",flexWrap:"nowrap",flexDirection:"row",alignItems:"flex-start",paddingVertical:0,marginVertical:16,marginTop:0,marginBottom:0,justifyContent:"space-between"},textField:Is(Is({},S.a.select({web:{width:"100%"},ios:{flexGrow:1}})),{},{paddingBottom:4,height:60,fontWeight:"bold",fontSize:20}),cardContent:{borderRadius:5,flexGrow:1,display:"flex",flexWrap:"nowrap",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start",paddingHorizontal:0,paddingVertical:0,marginVertical:16,marginTop:0,marginBottom:0},row:{width:400,alignSelf:"center",flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:0,marginVertical:16},headerTemperature:{width:120,color:"white",textAlign:"center",fontWeight:"bold"},headerJumprun:{width:120,color:"white",textAlign:"center",fontWeight:"bold"},jumpRunCard:{width:120,height:60,flexDirection:"row",backgroundColor:"white",borderRadius:8},temperatureCard:{height:60,width:120,flexDirection:"row",backgroundColor:"white",borderRadius:8},headerAltitude:{width:120,color:"white",textAlign:"center",fontWeight:"bold"},headerSpeed:{width:120,color:"white",textAlign:"center",fontWeight:"bold"},headerDirection:{width:120,color:"white",textAlign:"center",fontWeight:"bold"},card:{marginVertical:8,width:360,alignSelf:"center",backgroundColor:"transparent",shadowColor:"transparent"},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:50,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}});var js=F.a.create({container:{paddingHorizontal:0,alignItems:"center",paddingLeft:0,paddingRight:0}}),Ds=function(e){return p.createElement(ps,oa()({style:js.container},e,{title:"Winds Aloft"}),p.createElement(Ts,null))},Fs=t(107);function As(e,n){var t=function(e,n){var t=e.x,r=e.y,a=n.x,o=n.y-r,l=a-t,i=Math.atan2(o,l);return i*=180/Math.PI}({x:e.x,y:e.y},{x:n.x,y:n.y});return t<0&&(t=360+t),t}var Ns=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"];var Rs=t(338),$s=t(174);function Us(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Bs(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Us(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Us(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ls=Cl.a.get("window").width;function Ws(e){var n=p.useState({x:0,y:0,height:0,width:0}),t=H()(n,2),r=t[0],a=t[1],l=1*r.width;l=l>475?475:l;var i=e.latitude,s=e.longitude,u=e.value,c=e.title,d=e.onChange,m=p.useState(!1),f=H()(m,2),g=f[0],v=f[1],h=p.useState(u||0),b=H()(h,2),y=b[0],E=b[1],x=p.useState({x:0,y:0,height:0,width:0,originX:0,originY:0}),k=H()(x,2),w=k[0],S=k[1],O=p.useRef(new Vi.a.Value(y)),z=p.useRef(new Vi.a.Value(0));p.useEffect((function(){g||E(u)}),[g,u]);var I,T=p.useRef(new Vi.a.Value(0)),P=p.useRef(Vi.a.loop(Vi.a.timing(T.current,{duration:3e3,toValue:-400,useNativeDriver:!0}),{resetBeforeIteration:!0})),j=p.useCallback((function(e){T.current.setValue(0),P.current.stop(),P.current.reset();var n=e.nativeEvent,t={x:n.x,y:n.y},r=As({x:w.originX,y:w.originY},t);requestAnimationFrame((function(){return E(r)})),O.current.setValue(r)}),[E,w]),D=p.useCallback((function(e){var n=e.nativeEvent.layout;S(Bs(Bs({},n),{},{originX:n.x+r.width/2,originY:n.y+r.height/2}))}),[r.height,r.width]),F=Object(Rs.a)({x:w.originX,y:w.originY,degrees:y,offsetX:-20,offsetY:-20,radius:l/2});return p.createElement(o.b,{onBegan:function(){v(!0),Vi.a.timing(z.current,{duration:350,toValue:1,useNativeDriver:!0}).start()},onEnded:function(){v(!1),Vi.a.timing(z.current,{duration:350,toValue:0,useNativeDriver:!0}).start(),P.current.start(),requestAnimationFrame((function(){return null==d?void 0:d(y)}))},onGestureEvent:j},p.createElement(C.default,{style:{width:"100%",height:"100%",alignItems:"center",marginTop:50},onLayout:function(e){return a(e.nativeEvent.layout)}},c&&p.createElement(Vi.a.Text,{style:[Vs.title,{marginBottom:4,opacity:z.current.interpolate({inputRange:[0,1],outputRange:[1,0]})}]},c),p.createElement($s.a,{position:{y:0,x:0},coords:{lat:i,lng:s},containerStyle:{position:"relative",top:void 0,left:void 0,maxWidth:500,maxHeight:500},interactive:!1,height:l,width:l,onChange:function(){return null},shape:"round"},p.createElement(Vi.a.View,{onLayout:D,style:[Vs.iconContainer,{width:l,height:l}]},p.createElement(Vi.a.View,{style:{height:l,width:z.current.interpolate({inputRange:[0,1],outputRange:[10,2]}),backgroundColor:"#FF1414",opacity:z.current.interpolate({inputRange:[0,1],outputRange:[.6,1]}),transform:[{rotate:O.current.interpolate({inputRange:[0,360],outputRange:["0deg","360deg"]})}]}})),null!=r&&r.width?p.createElement(Vi.a.View,{style:[{position:"absolute",width:40,height:40,top:F.y,left:F.x,zIndex:100,opacity:T.current.interpolate({inputRange:[-400,-200,400],outputRange:[0,1,0]}),transform:[{rotate:O.current.interpolate({inputRange:[0,360],outputRange:["0deg","360deg"]})},{translateY:T.current}]}]},p.createElement(ia.a,{name:"airplane",size:40,color:"#ffffff"})):null,p.createElement(Vi.a.Text,{style:[Vs.degreeLabel,{opacity:z.current,top:l/2-60,left:l/2-100}]},Math.round(y))),p.createElement(Vi.a.Text,{style:[Vs.bottomDegreeLabel,{opacity:z.current.interpolate({inputRange:[0,1],outputRange:[1,0]})}]},Math.round(y),"\xb0 (",(I=y,Ns[Math.round(I/22.5)]),")")))}var Vs=F.a.create({container:{paddingHorizontal:0,alignItems:"center",paddingLeft:0,paddingRight:0},title:{fontSize:50,fontWeight:"bold",color:"white",left:0,width:"100%",paddingBottom:40,textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2}},degreeLabel:{width:200,height:120,textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2},fontSize:100,color:"white",position:"absolute"},bottomDegreeLabel:{fontSize:50,paddingBottom:16,fontWeight:"bold",color:"white",position:"absolute",bottom:50,left:0,top:48,width:"100%",textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2}},content:{width:"100%",flexDirection:"column"},iconContainer:{borderWidth:10,borderRadius:Ls/2,borderStyle:"solid",borderColor:"#222222",alignSelf:"center",alignItems:"center",justifyContent:"center"}});var Ms=F.a.create({container:{paddingHorizontal:0,alignItems:"center",paddingLeft:0,backgroundColor:"blue",paddingRight:0},slider:{width:"100%",marginTop:32},textInput:{height:80,width:200,alignSelf:"center",backgroundColor:"transparent",color:"white",fontSize:60,textAlign:"center",marginBottom:60},content:{width:"100%",flexDirection:"column"},iconContainer:{width:250,height:250,borderRadius:125,borderWidth:15,borderColor:"white",alignSelf:"center",alignItems:"center",justifyContent:"center"},icon:{position:"absolute",top:-75},row:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:0,marginVertical:16},headerAltitude:{flex:.35,color:"white",textAlign:"center",fontWeight:"bold"},headerSpeed:{flex:.3,color:"white",textAlign:"center",fontWeight:"bold"},headerDirection:{flex:.3,color:"white",textAlign:"center",fontWeight:"bold"},card:{padding:8,marginVertical:16},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:50,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),Gs=function(e){var n=Un((function(e){return e.forms.weather})),t=$n(),r=Sl().dropzone,o=p.useState(),l=H()(o,2),i=l[0],s=l[1],u=p.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(Fs.b());case 3:if(e=t.sent,"granted"===e.status){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,a.a.awrap(Fs.a({}));case 9:n=t.sent,s(n.coords),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),null,null,[[0,13]],Promise)}),[]);return p.useEffect((function(){null!=r&&r.lat&&null!=r&&r.lng||u()}),[null==r?void 0:r.lat,null==r?void 0:r.lng,u]),p.createElement(ps,oa()({style:Ms.container},e,{contentStyle:{paddingTop:130}}),p.createElement(C.default,{style:{width:"100%",height:"80%"}},p.createElement(Ws,{value:n.fields.jumpRun.value||0,latitude:(null==r?void 0:r.lat)||(null==i?void 0:i.latitude)||0,longitude:(null==r?void 0:r.lng)||(null==i?void 0:i.longitude)||0,onChange:function(e){return t(Dn.forms.weather.setField(["jumpRun",Math.round(e)]))}})))};var qs=function(){var e=Un((function(e){return e.forms.weather})),n=Un((function(e){return e.global.currentDropzoneId})),t=$n(),r=Object(ts.useNavigation)(),o=ys({onSuccess:function(){return null},onFieldError:function(e,n){return t(Dn.forms.weather.setFieldError([e,n]))},onError:function(e){t(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),l=p.useCallback((function(t,r){var l;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a.a.awrap(o.mutate({id:Number(null==(l=e.original)?void 0:l.id),dropzoneId:n,winds:JSON.stringify(e.fields.winds.value),jumpRun:e.fields.jumpRun.value,temperature:e.fields.temperature.value}));case 2:r(t+1);case 3:case"end":return i.stop()}}),null,null,null,Promise)}),[o,e,n]);return p.createElement(us,null,p.createElement(Ds,{backButtonLabel:"Cancel",nextButtonLabel:"Next",onBack:function(){t(Dn.forms.weather.reset()),t(Dn.forms.weather.setOpen(!1)),r.goBack()},loading:o.loading,onNext:function(e,n){return n(e+1)}}),p.createElement(Gs,{backButtonLabel:"Back",nextButtonLabel:"Next",loading:o.loading,onNext:function(e,n){l(e,n)},onBack:function(e,n){return n(e-1)}}),p.createElement(bs,{title:"Weather conditions saved",subtitle:"You can update these at any time",backButtonLabel:"Back",nextButtonLabel:"Done",onBack:function(e,n){n(e-1)},onNext:function(){t(Dn.forms.weather.reset()),t(Dn.forms.weather.setOpen(!1)),r.goBack()}}))};function _s(){var e,n=Un((function(e){return e.forms.weather})),t=Un((function(e){return e.global.currentDropzoneId})),r=$n(),o=Object(ts.useNavigation)(),l=ys({onSuccess:function(){return null},onFieldError:function(e,n){return r(Dn.forms.weather.setFieldError([e,n]))},onError:function(e){r(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),i=p.useCallback((function(){var e;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,a.a.awrap(l.mutate({id:Number(null==(e=n.original)?void 0:e.id),dropzoneId:t,winds:JSON.stringify(n.fields.winds.value),jumpRun:n.fields.jumpRun.value,temperature:n.fields.temperature.value}));case 2:o.goBack(),r(Dn.notifications.showSnackbar({message:"Weather board updated",variant:"success"}));case 4:case"end":return i.stop()}}),null,null,null,Promise)}),[l,null==(e=n.original)?void 0:e.id,n.fields.winds.value,n.fields.jumpRun.value,n.fields.temperature.value,t,o,r]),s=Sl().dropzone,u=p.useState(),c=H()(u,2),d=c[0],m=c[1],f=p.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(Fs.b());case 3:if(e=t.sent,"granted"===e.status){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,a.a.awrap(Fs.a({}));case 9:n=t.sent,m(n.coords),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),null,null,[[0,13]],Promise)}),[]);return p.useEffect((function(){null!=s&&s.lat&&null!=s&&s.lng||f()}),[null==s?void 0:s.lat,null==s?void 0:s.lng,f]),p.createElement(C.default,{style:F.a.absoluteFill},p.createElement(Ws,{value:n.fields.jumpRun.value||0,latitude:(null==s?void 0:s.lat)||(null==d?void 0:d.latitude)||0,longitude:(null==s?void 0:s.lng)||(null==d?void 0:d.longitude)||0,onChange:function(e){return r(Dn.forms.weather.setField(["jumpRun",Math.round(e)]))}}),p.createElement(Ri.a,{style:Hs.fab,small:!0,icon:"check",loading:l.loading,disabled:l.loading,onPress:function(){return i()},label:"Save"}))}var Hs=F.a.create({fab:{position:"absolute",margin:16,right:0,bottom:0}});function Ys(){var e=Un((function(e){return e.forms.weather})),n=Un((function(e){return e.global})),t=n.theme,r=n.palette,o=Un((function(e){return e.global.currentDropzoneId})),l=$n(),i=Object(ts.useNavigation)(),s=ys({onSuccess:function(){return null},onFieldError:function(e,n){return l(Dn.forms.weather.setFieldError([e,n]))},onError:function(e){l(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),u=p.useCallback((function(){var n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(s.mutate({id:Number(null==(n=e.original)?void 0:n.id),dropzoneId:o,winds:JSON.stringify(e.fields.winds.value),jumpRun:e.fields.jumpRun.value,temperature:e.fields.temperature.value}));case 2:i.goBack(),l(Dn.notifications.showSnackbar({message:"Weather board updated",variant:"success"})),l(Dn.forms.weather.reset()),l(Dn.forms.weather.setOpen(!1));case 6:case"end":return t.stop()}}),null,null,null,Promise)}),[s,e,o,i,l]);return p.createElement(ds,{contentContainerStyle:{backgroundColor:t.colors.background}},p.createElement(Ts,{onPressJumpRun:function(){return i.navigate("JumpRunScreen")},variant:t.dark?"light":void 0}),p.createElement(C.default,{style:Js.buttons,pointerEvents:"box-none"},p.createElement(K.a,{loading:s.loading,mode:"contained",color:r.primary.main,disabled:s.loading,style:[Js.button,{borderRadius:20,height:42,alignItems:"center",justifyContent:"center",marginTop:20}],labelStyle:{color:"white"},onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:u();case 1:case"end":return e.stop()}}),null,null,null,Promise)}},"Save"),p.createElement(K.a,{loading:s.loading,mode:"contained",color:r.primary.main,disabled:s.loading,style:[Js.button,{borderRadius:20,height:42,alignItems:"center",justifyContent:"center",marginTop:20}],labelStyle:{color:"white"},onPress:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:u();case 1:case"end":return e.stop()}}),null,null,null,Promise)}},"Reload conditions from MarkSchulz.net")))}var Js=F.a.create({button:{alignSelf:"center",width:"100%"},buttonBack:{alignSelf:"center",width:"100%",marginHorizontal:48},buttons:{alignSelf:"center",alignItems:"flex-end",flexGrow:1,justifyContent:"flex-end",width:"100%",maxWidth:404,marginBottom:0}}),Qs=t(488),Xs=t(125);function Zs(e){var n=e.action,t=e.title,r=Object(Dl.b)();return p.createElement(C.default,{style:[eu.warning,{backgroundColor:r.colors.onSurface}]},p.createElement(Ei.a,{style:{color:r.colors.surface,flex:.7,flexGrow:2}},t),n?p.createElement(K.a,{onPress:n,style:{flex:.1,flexShrink:1}},"Fix"):null)}function Ks(e){var n=e.credits,t=e.loading,r=e.isCreditSystemEnabled,a=e.isRigSetUp,o=e.isExitWeightDefined,l=e.isMembershipInDate,i=e.isReserveInDate,s=e.isRigInspectionComplete,u=e.onSetupWizard;if(t)return null;if(!o||!a){var c=[o?null:"exit weight",a?null:"equipment"].filter(Boolean);return p.createElement(Zs,{title:"You need to define "+c.join(" and ")+" in your profile",action:function(){return null==u?void 0:u()}})}return l?s?i?!r||n||t?null:p.createElement(Zs,{title:"You'll need to top up on credits before you can manifest"}):p.createElement(Zs,{title:"Your reserve repack is due. You cannot manifest if your repack is out of date."}):p.createElement(Zs,{title:"Your rig must be inspected before you can manifest at this dropzone"}):p.createElement(Zs,{title:"Your membership seems to be out of date"})}var eu=F.a.create({warning:{flexDirection:"row",alignItems:"center",height:56,width:"100%",backgroundColor:"black",justifyContent:"space-between",paddingHorizontal:32}});var nu=function(e){var n,t,r,a,o,l,i=e.navigation,s=e.previous,u=e.scene,c=e.hideWarnings,d=Un((function(e){return e.global})),m=d.palette,f=d.theme,g=$n(),v=Sl(),h=v.currentUser,b=v.loading,y=v.dropzone;return p.createElement(p.Fragment,null,p.createElement(Qs.a.Header,{style:{backgroundColor:f.dark?f.colors.background:f.colors.surface}},s?p.createElement(Qs.a.BackAction,{onPress:i.goBack}):p.createElement(Xs.a,{icon:"menu",size:32,onPress:function(){return i.dispatch(ts.DrawerActions.toggleDrawer())}}),p.createElement(Qs.a.Content,{title:u.descriptor.options.title,titleStyle:{fontWeight:"bold"}}),u.descriptor.options.headerRight?u.descriptor.options.headerRight({tintColor:"white"}):p.createElement(Fl.a,{style:{backgroundColor:m.accent.main},mode:"flat",textStyle:{color:m.surface}},"$"+((null==h?void 0:h.credits)||0))),c?null:p.createElement(Ks,{credits:(null==h?void 0:h.credits)||0,loading:b,isCreditSystemEnabled:!(null==y||!y.isCreditSystemEnabled),isExitWeightDefined:!(null==h||null==(n=h.user)||!n.exitWeight),isMembershipInDate:!(null==h||!h.expiresAt)&&(null==h?void 0:h.expiresAt)>(new Date).getTime()/1e3,isReserveInDate:!(null==h||null==(t=h.user)||null==(r=t.rigs)||!r.some((function(e){var n,t,r=null==y||null==(n=y.currentUser)||null==(t=n.rigInspections)?void 0:t.map((function(n){var t;return(null==n||null==(t=n.rig)?void 0:t.id)===e.id})),a=(e.repackExpiresAt||0)>(new Date).getTime()/1e3;return r&&a}))),isRigInspectionComplete:!(null==h||null==(a=h.rigInspections)||!a.length),isRigSetUp:!(null==h||null==(o=h.user)||null==(l=o.rigs)||!l.length),onSetupWizard:function(){var e,n;(console.log("opening setup wizard"),h)&&(g(Dn.forms.user.setOriginal(h)),null!=h&&null!=(e=h.user)&&null!=(n=e.rigs)&&n.length&&g(Dn.forms.rig.setOriginal(h.user.rigs[0])),i.navigate("UserSetupWizard"))}}))},tu=t(165);var ru=function(){return dn.light};function au(e){var n=e.hasPlanes,t=e.hasTicketTypes,r=(e.isPublic,ru());return p.createElement(Ci,{style:{width:"70%"}},p.createElement(Si,{style:ou.title},"Set up dropzone"),p.createElement(Ci,{style:ou.separator,lightColor:"#eee",darkColor:"rgba(255,255,255,0.1)"}),p.createElement(_l.c.Item,{title:"Create dropzone",left:function(){return p.createElement(_l.c.Icon,{color:r.success,icon:"check"})}}),p.createElement(_l.c.Item,{title:"Add a plane",left:function(){return n?p.createElement(_l.c.Icon,{color:r.success,icon:"check"}):p.createElement(_l.c.Icon,{color:r.error,icon:"close"})}}),p.createElement(_l.c.Item,{title:"Configure jump tickets",left:function(){return t?p.createElement(_l.c.Icon,{color:r.success,icon:"check"}):p.createElement(_l.c.Icon,{color:r.error,icon:"close"})}}))}var ou=F.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}}),lu=t(897);function iu(){return p.createElement(jl.a,{key:"loading-card",containerStyle:{height:160,width:335,margin:16},isLoading:!0,layout:[{key:"header",width:"100%",height:"100%",borderRadius:8}]})}function su(e){var n,t,r=e.load,o=e.onPress,l=$n(),i=Un((function(e){return e.global})),s=i.theme,u=i.palette,c=p.useMemo((function(){return{open:u.accent.main,cancelled:"#ff4444",boarding_call:"#FF8800"}}),[u.accent.main]),d=nl({variables:{id:Number(r.id)},pollInterval:3e4}),m=d.data,f=d.loading,g=d.refetch,v=p.useMemo((function(){return null==m?void 0:m.load}),[null==m?void 0:m.load]),h=Ui({onSuccess:function(){return l(Dn.notifications.showSnackbar({message:"Load #"+(null==v?void 0:v.loadNumber)+" updated",variant:"success"}))},onError:function(e){return l(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),b=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=v&&v.id){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.a.awrap(h.mutate({id:Number(v.id),pilotId:Number(e.id)}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}),[h,null==v?void 0:v.id]),y=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=v&&v.id){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.a.awrap(h.mutate({id:Number(v.id),planeId:Number(e.id)}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}),[null==v?void 0:v.id,h]);if(f)return p.createElement(iu,null);var E=(n={},q()(n,N.Open,"Open"),q()(n,N.BoardingCall,"On call"),q()(n,N.Cancelled,"Cancelled"),q()(n,N.InFlight,"In air"),q()(n,N.Landed,"Landed"),n);return p.createElement(Il.a,{testID:"load-card",style:{margin:16,borderRadius:2,minWidth:300,opacity:["cancelled","landed"].includes((null==v?void 0:v.state)||"")?.5:1},elevation:1,onPress:o},p.createElement(Di.a,{style:{backgroundColor:null!=v&&v.state?c[v.state]:void 0,marginTop:-5,marginRight:-5,color:"white",fontSize:12}},null!=v&&v.state?E[null==v?void 0:v.state]:""),p.createElement(Il.a.Title,{style:{justifyContent:"space-between"},title:"Load #"+(null==v?void 0:v.loadNumber),subtitle:null==v?void 0:v.name,right:function(){return null==v||!v.dispatchAt||Object(lu.a)(new Date,null==v?void 0:v.dispatchAt)?null:p.createElement(Ci,{style:{marginRight:16}},p.createElement(_i,{end:new Date(1e3*(null==v?void 0:v.dispatchAt))}))}}),p.createElement(Il.a.Content,{style:uu.cardContent},p.createElement(Ci,{style:{flexDirection:"row",flexWrap:"nowrap",backgroundColor:"transparent"}},p.createElement(Bl,{value:null==v?void 0:v.plane,small:!0,color:s.colors.onSurface,onSelect:function(e){var n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(((null==v?void 0:v.occupiedSlots)||0)>(e.maxSlots||0))){t.next=5;break}n=((null==v?void 0:v.occupiedSlots)||0)-(e.maxSlots||0),l(Dn.notifications.showSnackbar({message:"You need to take "+n+" people off the load to fit on this plane",variant:"info"})),t.next=8;break;case 5:return t.next=7,a.a.awrap(y(e));case 7:g();case 8:case"end":return t.stop()}}),null,null,null,Promise)}}),p.createElement(Ul,{color:s.colors.onSurface,value:null==v?void 0:v.pilot,onSelect:b,small:!0}),p.createElement(Fl.a,{mode:"outlined",icon:"parachute",style:{marginHorizontal:4,backgroundColor:"transparent",height:25,alignItems:"center",borderColor:s.colors.onSurface},textStyle:{color:s.colors.onSurface,fontSize:12}},(null==v?void 0:v.occupiedSlots)||0," / ",null==v||null==(t=v.plane)?void 0:t.maxSlots))))}var uu=F.a.create({cardContent:{marginVertical:8,overflow:"hidden",flexDirection:"row"},smallChip:{height:25,margin:4,alignItems:"center"},smallChipText:{fontSize:12}}),cu=t(47),du=t(489),mu=t(548),fu=t(281);function pu(e){var n=e.children,t=e.rightAction,r=e.disabled,a=p.useRef();return p.createElement(fu.a,{ref:a,enabled:!r,renderRightActions:function(e,n){var r=n.interpolate({inputRange:[-100,0],outputRange:[1,0]}),l=n.interpolate({inputRange:[-150,0],outputRange:[0,10]});return p.createElement(o.f,{onPress:function(){var e;null==t||t.onPress(),null==a||null==(e=a.current)||e.close()}},p.createElement(Vi.a.View,{style:{flexGrow:1,backgroundColor:null==t?void 0:t.backgroundColor,justifyContent:"center",height:"100%",width:75,transform:[{translateX:l}]}},p.createElement(Vi.a.Text,{style:{color:"white",paddingHorizontal:10,fontWeight:"600",transform:[{scale:r}]}},null==t?void 0:t.label)))},useNativeAnimations:!0},n)}function gu(e){var n,t=e.load,r=e.onManifest,o=e.onManifestGroup,l=e.controlsVisible,i=e.onSlotGroupPress,s=e.onSlotPress,u=Un((function(e){return e.global})),c=$n(),d=p.useState(!1),m=H()(d,2),f=m[0],g=m[1],v=p.useState(!1),h=H()(v,2),b=h[0],E=h[1],x=nl({variables:{id:Number(t.id)},onError:console.error}),k=x.data,w=x.loading,S=x.refetch,C=p.useMemo((function(){return null==k?void 0:k.load}),[null==k?void 0:k.load]),O=Sl().currentUser,z=Ui({onSuccess:function(){return c(Dn.notifications.showSnackbar({message:"Load #"+(null==C?void 0:C.loadNumber)+" updated",variant:"success"}))},onError:function(e){return c(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),I=Zi({onSuccess:function(e){var n,t,r;return c(Dn.notifications.showSnackbar({message:((null==(n=e.slot)||null==(t=n.dropzoneUser)||null==(r=t.user)?void 0:r.name)||"User")+" has been taken off load #"+(null==C?void 0:C.loadNumber),variant:"success"}))},onError:function(e){return c(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),T=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.a.awrap(I.mutate({id:Number(e.id)}));case 2:case"end":return n.stop()}}),null,null,null,Promise)}),[I]),P=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=C&&C.id){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.a.awrap(z.mutate({id:Number(C.id),pilotId:Number(e.id)}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}),[z,null==C?void 0:C.id]),j=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=C&&C.id){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.a.awrap(z.mutate({id:Number(C.id),gcaId:Number(e.id)}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}),[z,null==C?void 0:C.id]),D=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=C&&C.id){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.a.awrap(z.mutate({id:Number(C.id),planeId:Number(e.id)}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}),[null==C?void 0:C.id,z]),F=p.useCallback((function(e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=C&&C.id){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.a.awrap(z.mutate({id:Number(C.id),loadMasterId:Number(e.id)}));case 4:case"end":return n.stop()}}),null,null,null,Promise)}),[null==C?void 0:C.id,z]),A=p.useCallback((function(e){var n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=C&&C.id){t.next=2;break}return t.abrupt("return");case 2:return n=e?Object($i.a)(new Date,e).getTime()/1e3:null,t.next=5,a.a.awrap(z.mutate({id:Number(C.id),dispatchAt:n?Math.ceil(n):null}));case 5:case"end":return t.stop()}}),null,null,null,Promise)}),[null==C?void 0:C.id,z]),N=p.useCallback((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=C&&C.id){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.a.awrap(z.mutate({id:Number(C.id),hasLanded:!0}));case 4:case"end":return e.stop()}}),null,null,null,Promise)}),[null==C?void 0:C.id,z]),R=Object(ts.useNavigation)(),$=Nl(B.UpdateLoad),U=Nl(B.UpdateSlot),L=Nl(B.UpdateUserSlot),W=Nl(B.DeleteSlot),V=Nl(B.DeleteUserSlot),M=Nl(B.CreateSlot),G=Nl(B.CreateUserSlot),q=Nl(B.CreateUserSlotWithSelf),_=M&&(null==C?void 0:C.isOpen)&&!(null!=C&&C.isFull);p.useEffect((function(){null!=C&&C.maxSlots&&(null==C?void 0:C.maxSlots)<5&&g(!0)}),[null==C?void 0:C.maxSlots]);var Y=l&&(G||q)&&!(null!=C&&C.hasLanded)&&(!(null!=C&&C.dispatchAt)||C.dispatchAt>(new Date).getTime()/1e3);return w?p.createElement(iu,null):p.createElement(Il.a,{testID:"load-card",style:{margin:16,opacity:null!=C&&C.hasLanded?.5:1},elevation:3},p.createElement(Il.a.Title,{style:{justifyContent:"space-between"},title:p.createElement(Ci,{style:{width:"100%",flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"transparent"}},p.createElement(cu.a,{testID:"title"},"Load "+((null==C?void 0:C.loadNumber)||0)),p.createElement(Ci,{style:{flexGrow:1}}),Y&&p.createElement(Xs.a,{icon:"account-group",testID:"manifest-group-button",onPress:function(){c(Dn.forms.manifestGroup.reset()),c(Dn.forms.manifestGroup.setField(["load",C])),q&&!G&&O&&(c(Dn.screens.manifest.setSelected([O])),c(Dn.forms.manifestGroup.setDropzoneUsers([O]))),o&&o()}})),subtitle:null==C?void 0:C.name}),p.createElement(y.a,{visible:w||z.loading||I.loading,color:u.theme.colors.accent}),p.createElement(Il.a.Content,{style:{marginVertical:8,height:f||!l?void 0:300,overflow:"hidden"}},p.createElement(Ci,{style:{flexDirection:"row",backgroundColor:"transparent"}},p.createElement(Ll.a,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:{backgroundColor:"transparent"}},p.createElement(Bl,{value:null==C?void 0:C.plane,onSelect:function(e){var n,t,r;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!(((null==C||null==(n=C.slots)?void 0:n.length)||0)>(e.maxSlots||0))){o.next=5;break}r=((null==C||null==(t=C.slots)?void 0:t.length)||0)-(e.maxSlots||0),c(Dn.notifications.showSnackbar({message:"You need to take "+r+" people off the load to fit on this plane",variant:"info"})),o.next=8;break;case 5:return o.next=7,a.a.awrap(D(e));case 7:S();case 8:case"end":return o.stop()}}),null,null,null,Promise)}}),p.createElement(Rl,{value:null==C?void 0:C.gca,onSelect:j}),p.createElement(Ul,{value:null==C?void 0:C.pilot,onSelect:P}),p.createElement($l,{value:null==C?void 0:C.loadMaster,slots:(null==C?void 0:C.slots)||[],onSelect:F}))),p.createElement(du.a,null,p.createElement(du.a.Header,{style:{width:"100%"}},p.createElement(du.a.Title,null,"Name"),p.createElement(du.a.Title,{numeric:!0},"Jump type"),p.createElement(du.a.Title,{numeric:!0},"Altitude")),null==C||null==(n=C.slots)?void 0:n.map((function(e){var n,t,r,a,o,l,u,c,d=null==C||null==(n=C.slots)?void 0:n.filter((function(n){var t=n.groupNumber;return t&&t===e.groupNumber})),m=(null==e||null==(t=e.dropzoneUser)?void 0:t.id)===(null==O?void 0:O.id);return p.createElement(pu,{disabled:m&&!W||!m&&!V,key:"slot-"+e.id,rightAction:{label:"Delete",backgroundColor:"red",onPress:function(){return T(e)}}},p.createElement(du.a.Row,{testID:"slot-row",disabled:!(null==C||!C.hasLanded),onPress:function(){var n;(null==(n=e.dropzoneUser)?void 0:n.id)===(null==O?void 0:O.id)?U&&(null!=d&&d.length?i(d):s(e)):L&&(null!=d&&d.length?i(d):s(e))},pointerEvents:"none"},p.createElement(du.a.Cell,null,p.createElement(Ei.a,{style:hu.slotText},null==e||null==(r=e.dropzoneUser)||null==(a=r.user)?void 0:a.name)),p.createElement(du.a.Cell,{numeric:!0},p.createElement(Ei.a,{style:hu.slotText},null==e||null==(o=e.jumpType)?void 0:o.name)),p.createElement(du.a.Cell,{numeric:!0},p.createElement(Ei.a,{style:hu.slotText},((null==e||null==(l=e.ticketType)?void 0:l.altitude)||14e3)/1e3,"k"))),(null==e||null==(u=e.ticketType)?void 0:u.isTandem)&&p.createElement(du.a.Row,{testID:"slot-row",disabled:!(null==C||!C.hasLanded),pointerEvents:"none"},p.createElement(du.a.Cell,null,p.createElement(Ei.a,{style:hu.slotText},null==e?void 0:e.passengerName)),p.createElement(du.a.Cell,{numeric:!0},p.createElement(Ei.a,{style:hu.slotText},"Passenger")),p.createElement(du.a.Cell,{numeric:!0},p.createElement(Ei.a,{style:hu.slotText},((null==e||null==(c=e.ticketType)?void 0:c.altitude)||14e3)/1e3,"k"))))})),Array.from({length:(null==C?void 0:C.availableSlots)||0},(function(e,n){return n})).map((function(e){return p.createElement(du.a.Row,{key:(null==C?void 0:C.id)+"-empty-slot-"+e,testID:"slot-row",onPress:function(){return R.navigate("LoadScreen",{load:C})}},p.createElement(du.a.Cell,null,p.createElement(Ei.a,{style:hu.slotText},"- Available -")),p.createElement(du.a.Cell,{numeric:!0},"-"),p.createElement(du.a.Cell,{numeric:!0},"-"))})))),!(null==C||!C.dispatchAt)&&(null==C?void 0:C.dispatchAt)>(new Date).getTime()/1e3&&p.createElement(Ci,{style:{flex:1,backgroundColor:"black",padding:8}},p.createElement(Ei.a,{style:{color:"#FFFFFF"}},"Take-off in "+Object(mu.a)(new Date,1e3*(null==C?void 0:C.dispatchAt))+" min")),l?p.createElement(Il.a.Actions,null,null!=C&&C.maxSlots&&(null==C?void 0:C.maxSlots)<5?null:p.createElement(K.a,{onPress:function(){return g(!f)},testID:f?"show-less":"show-more"},f?"Show less":"Show more"),p.createElement(Ci,{style:{flexGrow:1}}),!$||null!=C&&C.hasLanded?null:null!=C&&C.dispatchAt?p.createElement(K.a,{mode:"outlined",onPress:function(){return A(null)},testID:"dispatch-cancel"},"Cancel"):p.createElement(Al.a,{onDismiss:function(){return E(!1)},visible:b,anchor:p.createElement(K.a,{mode:"outlined",onPress:function(){return E(!0)},testID:"dispatch-button"},"Dispatch")},p.createElement(Al.a.Item,{testID:"dispatch-call",onPress:function(){E(!1),A(20)},title:"20 minute call"}),p.createElement(Al.a.Item,{testID:"dispatch-call",onPress:function(){E(!1),A(15)},title:"15 minute call"}),p.createElement(Al.a.Item,{testID:"dispatch-call",onPress:function(){E(!1),A(10)},title:"10 minute call"}),p.createElement(Al.a.Item,{onPress:function(){E(!1),A(5)},title:"5 minute call"})),null!=C&&C.hasLanded?null:null!=C&&C.dispatchAt&&C.dispatchAt<(new Date).getTime()/1e3&&$?p.createElement(K.a,{style:{marginLeft:8},mode:"contained",onPress:function(){var e,n;return null!=C&&null!=(e=C.loadMaster)&&e.id?null!=C&&null!=(n=C.pilot)&&n.id?N():c(Dn.notifications.showSnackbar({message:"You must select a pilot before this load can be finalized",variant:"info"})):c(Dn.notifications.showSnackbar({message:"You must select a load master before this load can be finalized",variant:"info"}))}},"Mark as landed"):p.createElement(K.a,{style:{marginLeft:8},mode:"contained",testID:"manifest-button",onPress:function(){return r()},disabled:!_||Boolean((null==C?void 0:C.dispatchAt)&&C.dispatchAt<(new Date).getTime()/1e3)},"Manifest")):null)}var vu,hu=F.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",marginVertical:8},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},slotText:{fontSize:12},fab:{position:"absolute",margin:16,right:0,bottom:0}}),bu=El(Object(fa.a)(vu||(vu=ma()(["\n  mutation CreateLoad(\n    $name: String\n    $pilotId: Int\n    $gcaId: Int\n    $maxSlots: Int!\n    $planeId: Int\n    $isOpen: Boolean\n  ) {\n    createLoad(\n      input: {\n        attributes: {\n          name: $name\n          pilotId: $pilotId\n          gcaId: $gcaId\n          maxSlots: $maxSlots\n          planeId: $planeId\n          isOpen: $isOpen\n        }\n      }\n    ) {\n      load {\n        id\n        name\n        loadNumber\n        occupiedSlots\n        availableSlots\n        maxSlots\n        pilot {\n          id\n          user {\n            id\n            name\n          }\n        }\n        gca {\n          id\n          user {\n            id\n            name\n          }\n        }\n        maxSlots\n        isOpen\n      }\n      fieldErrors {\n        field\n        message\n      }\n      errors\n    }\n  }\n"]))),{getPayload:function(e){return e.createLoad},validates:{maxSlots:[vl("lease specify amount of allowed jumpers"),bl("Please enter a valid number")],planeId:[vl("What plane is flying this load?")],gcaId:[vl("You must have a GCA for this load")]},fieldErrorMap:{planeId:"plane",gcaId:"gca"}}),yu=Cn.actions;function Eu(e){var n,t,r,a=e.label,o=e.requiredPermissions,l=e.icon,i=e.value,s=e.onLoadingStateChanged,u=e.onSelect,c=Un((function(e){return e.global})).currentDropzoneId,d=Bo({variables:{dropzoneId:Number(c),permissions:o}}),m=d.data,f=d.loading;p.useEffect((function(){null==s||s(f)}),[f,s]);var g=p.useCallback((function(e){var n=H()(e,1)[0];return n?u(n):null}),[u]),v=p.useCallback((function(e){return null==e?void 0:e.user.name}),[]),h=p.useCallback((function(e){return e.id===(null==i?void 0:i.id)}),[null==i?void 0:i.id]),b=p.useMemo((function(){return[i].filter(Boolean)}),[i]);return f?p.createElement(ei,null):p.createElement(p.Fragment,null,p.createElement(_l.c.Subheader,null,a),p.createElement(Kl,{autoSelectFirst:!0,icon:l||"account",items:Object(Zl.uniqBy)((null==m||null==(n=m.dropzone)||null==(t=n.dropzoneUsers)||null==(r=t.edges)?void 0:r.map((function(e){return null==e?void 0:e.node})))||[],"id"),selected:b,isSelected:h,renderItemLabel:v,onChangeSelected:g}))}function xu(e){var n=e.value,t=e.onSelect,r=e.onLoadingStateChanged,a=Un((function(e){return e.global})).currentDropzoneId,o=rl({variables:{dropzoneId:Number(a)}}),l=o.data,i=o.loading;return p.useEffect((function(){null==r||r(i)}),[i,r]),i?p.createElement(ei,null):p.createElement(p.Fragment,null,p.createElement(_l.c.Subheader,null,"Aircraft"),p.createElement(Kl,{autoSelectFirst:!0,items:Object(Zl.uniqBy)(Gl()((null==l?void 0:l.planes)||[]),(function(e){return e.id}))||[],selected:[n].filter(Boolean),renderItemLabel:function(e){return(null==e?void 0:e.name)||""},isDisabled:function(e){return!1},onChangeSelected:function(e){var n=H()(e,1)[0];return n?t(n):null}}))}function ku(){var e,n,t=Un((function(e){return e.forms.load})),r=$n();return p.createElement(p.Fragment,null,p.createElement(Yl.a,{style:wu.field,mode:"outlined",label:"Name",error:!!t.fields.name.error,placeholder:"Optional",value:t.fields.name.value||"",onChangeText:function(e){return r(Dn.forms.load.setField(["name",e]))}}),p.createElement(ql.a,{type:t.fields.name.error?"error":"info"},t.fields.name.error||"e.g Starcrest load, Tandem load"),p.createElement(Yl.a,{style:wu.field,mode:"outlined",label:"Slots",error:!!t.fields.maxSlots.error,value:null==(e=t.fields.maxSlots)||null==(n=e.value)?void 0:n.toString(),onChangeText:function(e){return r(Dn.forms.load.setField(["maxSlots",Number(e)]))}}),p.createElement(ql.a,{type:t.fields.maxSlots.error?"error":"info"},t.fields.maxSlots.error||""),p.createElement(C.default,{style:{width:"100%"}},p.createElement(xu,{value:t.fields.plane.value,onSelect:function(e){r(Dn.forms.load.setField(["plane",e])),r(Dn.forms.load.setField(["maxSlots",e.maxSlots]))}}),p.createElement(ql.a,{type:t.fields.plane.error?"error":"info"},t.fields.plane.error||""),p.createElement(Eu,{label:"GCA",onSelect:function(e){return r(Dn.forms.load.setField(["gca",e]))},value:t.fields.gca.value||null,requiredPermissions:[B.ActAsGca]}),p.createElement(ql.a,{type:t.fields.gca.error?"error":"info"},t.fields.gca.error||""),p.createElement(Eu,{label:"Pilot",onSelect:function(e){return r(Dn.forms.load.setField(["pilot",e]))},value:t.fields.pilot.value||null,requiredPermissions:[B.ActAsPilot]}),p.createElement(ql.a,{type:t.fields.pilot.error?"error":"info"},t.fields.pilot.error||""),p.createElement(Hl.a,{style:{marginVertical:8}}),p.createElement(bi.a.Item,{label:"Allow public manifesting",status:t.fields.isOpen.value?"checked":"unchecked",onPress:function(){return r(Dn.forms.load.setField(["isOpen",!t.fields.isOpen.value]))}})))}var wu=F.a.create({fields:{flex:1,width:"100%"},field:{marginBottom:8,width:"100%"}});function Su(e){var n=e.buttonLabel,t=e.buttonAction,r=e.title,a=e.loading,l=e.open,i=e.children,s=Un((function(e){return e.global}));return p.createElement(Wl.a,null,p.createElement(Vl.a,{visible:!!l,dismissable:!1,style:{maxWidth:500,alignSelf:"center"}},p.createElement(y.a,{indeterminate:!0,visible:a,color:s.theme.colors.accent}),p.createElement(Vl.a.Title,null,r),p.createElement(Vl.a.Content,{pointerEvents:"box-none"},p.createElement(Vl.a.ScrollArea,null,p.createElement(o.c,null,i))),p.createElement(Vl.a.Actions,{style:{justifyContent:"flex-end"}},p.createElement(K.a,{onPress:function(){e.onClose()}},"Cancel"),p.createElement(K.a,{onPress:t},n))))}function Cu(e){var n,t,r,a=e.open,o=e.onClose,l=e.onSuccess,i=Un((function(e){return e.forms.load})),s=Un((function(e){return e.global})).currentDropzoneId,u=$n(),c=bu({onSuccess:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){var n;u(yu.showSnackbar({message:"Load "+(null==e||null==(n=e.load)?void 0:n.name)+" created",variant:"success"})),null!=e&&e.load&&l(null==e?void 0:e.load),u(Dn.forms.load.reset()),requestAnimationFrame((function(){return u(Dn.forms.load.setOpen(!1))}))})),onError:function(e){return u(Dn.notifications.showSnackbar({message:e,variant:"error"}))},onFieldError:function(e,n){return u(Dn.forms.load.setFieldError([e,n]))}}),d=p.useMemo((function(){return["30%",650]}),[]),m=p.useCallback((function(){var e,n,t,r={isOpen:!!i.fields.isOpen.value,name:i.fields.name.value,dropzoneId:s,maxSlots:i.fields.maxSlots.value||null,planeId:Number(null==(e=i.fields.plane.value)?void 0:e.id)||null,gcaId:Number(null==(n=i.fields.gca.value)?void 0:n.id)||null,pilotId:Number(null==(t=i.fields.pilot.value)?void 0:t.id)||null};c.mutate(r)}),[c,s,null==(n=i.fields.gca.value)?void 0:n.id,i.fields.isOpen.value,i.fields.maxSlots.value,i.fields.name.value,null==(t=i.fields.pilot.value)?void 0:t.id,null==(r=i.fields.plane.value)?void 0:r.id]);return p.createElement(Su,{open:a,onClose:o,buttonAction:m,buttonLabel:"Create",snapPoints:d,loading:c.loading,title:"New Load"},p.createElement(ku,null))}var Ou=t(898),zu=t(62),Iu=t(226),Tu=t(339),Pu=t.n(Tu),ju=t(340),Du=t.n(ju),Fu=t(549);function Au(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Nu(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Au(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Au(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ru(){var e,n,t,r,a,o,l=Sl(),i=l.dropzone,s=l.loading,u=l.called,c=$n(),d=Object(ts.useNavigation)(),m=p.useState(!1),f=H()(m,2),g=f[0],v=f[1],h=p.useRef(new Vi.a.Value(0)),b=Object(Dl.b)(),y=null==i?void 0:i.currentConditions,E=null!=i&&null!=(e=i.currentConditions)&&e.createdAt?new Date(1e3*(null==i||null==(n=i.currentConditions)?void 0:n.createdAt)):new Date,x=(null==i||null==(t=i.currentConditions)?void 0:t.jumpRun)||0,k=(null==i||null==(r=i.currentConditions)?void 0:r.temperature)||0,w=Nl(B.UpdateWeatherConditions),S=(null==y?void 0:y.id)&&(null==y||null==(a=y.winds)?void 0:a.length)&&(null==y?void 0:y.jumpRun);p.useEffect((function(){g?Vi.a.timing(h.current,{toValue:1,duration:300,easing:zu.a.inOut(zu.a.ease),useNativeDriver:!1}).start():Vi.a.timing(h.current,{toValue:0,duration:300,easing:zu.a.inOut(zu.a.ease),useNativeDriver:!1}).start()}),[g]);var O=p.useCallback((function(){w&&null!=i&&i.currentConditions&&(c(Dn.forms.weather.setOpen(null==i?void 0:i.currentConditions)),d.navigate("WindScreen"))}),[w,c,null==i?void 0:i.currentConditions,d]),z=p.useCallback((function(){null!=i&&i.currentConditions&&w&&(c(Dn.forms.weather.setOpen(i.currentConditions)),d.navigate("JumpRunScreen"))}),[w,c,null==i?void 0:i.currentConditions,d]),I=b.dark?Du.a:Pu.a;return(!s||null!=i&&i.currentConditions)&&u?p.createElement(Vi.a.View,{style:{height:h.current.interpolate({inputRange:[0,1],outputRange:[200,300]})}},p.createElement(Il.a,{style:$u.card,elevation:3,onPress:function(){return v(!g)},onLongPress:O},p.createElement(tu.a,{source:I,style:Nu(Nu({},F.a.absoluteFillObject),{},{opacity:.75}),resizeMode:"cover"},p.createElement(Il.a.Content,{style:{alignItems:"center",justifyContent:"center",flexGrow:1}},S?p.createElement(p.Fragment,null,p.createElement(C.default,{style:$u.top},p.createElement(C.default,{style:$u.cell},p.createElement(Ou.a,{name:"calendar",color:"#ffffff",size:20,style:{marginRight:8}}),p.createElement(X.a,{style:$u.date},Object(Iu.a)(E,"LLL do, yy"))),p.createElement(C.default,{style:[$u.cell,{justifyContent:"flex-end",alignSelf:"flex-end"}]},p.createElement(Ou.a,{name:"thermometer",color:"#ffffff",size:20,style:{marginRight:8}}),p.createElement(X.a,{style:$u.temperature},k||"?"),p.createElement(ia.a,{name:"temperature-celsius",color:"#ffffff",size:20}))),p.createElement(C.default,{style:$u.bottom},p.createElement(Vi.a.View,{style:[$u.windboard,{transform:[{translateY:h.current.interpolate({inputRange:[0,1],outputRange:[0,-80],easing:zu.a.inOut(zu.a.ease)})}]}]},p.createElement(C.default,{style:$u.row},p.createElement(C.default,{style:$u.cell},p.createElement(X.a,{style:$u.header},"Altitude")),p.createElement(C.default,{style:$u.cell},p.createElement(X.a,{style:$u.header},"Wind")),p.createElement(C.default,{style:$u.cell},p.createElement(X.a,{style:$u.header},"Direction"))),Object(Zl.orderBy)((null==i||null==(o=i.currentConditions)?void 0:o.winds)||[],(function(e){return Number(e.altitude)}),"desc").map((function(e){var n=e.speed,t=e.direction,r=e.altitude;return p.createElement(p.Fragment,{key:"wind-at-"+r},p.createElement(Hl.a,{style:{width:"100%",backgroundColor:"white"}}),p.createElement(C.default,{style:$u.row},p.createElement(C.default,{style:$u.cell},p.createElement(X.a,{style:$u.value},r)),p.createElement(C.default,{style:$u.cell},p.createElement(X.a,{style:$u.value},n)),p.createElement(C.default,{style:[$u.cell,{justifyContent:"center"}]},p.createElement(X.a,{style:$u.value},t),p.createElement(Ou.a,{name:"long-arrow-down",size:14,style:t&&/\d+/.test(t)&&Number(t)<361?{transform:[{rotate:t+"deg"}],marginLeft:4}:{marginLeft:4}}))))}))),p.createElement(C.default,{style:$u.jumpRun,pointerEvents:"box-none"},p.createElement(X.a,{style:[$u.header,{textAlign:"center"}]},"Jump run ",x,"\xb0"),p.createElement(xt.a,{style:{width:"100%",height:"100%"},disabled:!w,onLongPress:z,onPress:O},p.createElement(Fu.a,{jumpRun:x,lat:null==i?void 0:i.lat,lng:null==i?void 0:i.lng}))))):p.createElement(C.default,{style:$u.noData},p.createElement(X.a,{style:$u.noDataLabel},"No weather data")))))):p.createElement(jl.a,{containerStyle:$u.card,isLoading:!0,layout:[{key:"root",height:200,width:"100%"}]})}var $u=F.a.create({card:{flexGrow:1,borderRadius:10,marginBottom:30,marginHorizontal:16,overflow:"hidden",backgroundColor:"transparent"},date:{flex:1,fontSize:20,color:"white",textShadowOffset:{width:1,height:1},textShadowRadius:5,textShadowColor:"rgba(15, 15, 15, 0.5)"},temperature:{fontSize:24,lineHeight:24,color:"white",justifyContent:"flex-end",textShadowOffset:{width:1,height:1},textShadowRadius:5,textShadowColor:"rgba(15, 15, 15, 0.5)"},label:{color:"white",fontWeight:"bold"},value:{color:"#ffffff",textShadowOffset:{width:2,height:2},textShadowRadius:10,textShadowColor:"rgba(0, 0, 0, 0.75)"},row:{alignItems:"center",justifyContent:"space-evenly",height:20,width:"100%",flexDirection:"row"},cell:{flex:1,color:"white",flexDirection:"row"},header:{fontWeight:"bold",color:"#ffffff",textShadowOffset:{width:1,height:1},textShadowRadius:10,textShadowColor:"rgba(0, 0, 0, 0.5)"},noData:{alignItems:"center",justifyContent:"center",flexGrow:1,textAlign:"center",alignSelf:"center",height:"100%"},noDataLabel:{color:"#ffffff",textShadowOffset:{width:2,height:2},textShadowRadius:10,textShadowColor:"rgba(0, 0, 0, 0.75)",fontSize:22},top:{marginTop:16,justifyContent:"space-between",alignItems:"center",flexDirection:"row",width:"100%"},bottom:{flexDirection:"row",width:"100%",justifyContent:"space-between",alignItems:"flex-end",flexGrow:1,height:105,marginTop:32,paddingBottom:20},windboard:{width:200,height:105,flexDirection:"column"},jumpRun:{width:94,height:94,marginBottom:8,flexDirection:"column",alignItems:"flex-end"}});function Uu(){return p.createElement(jl.a,{containerStyle:{height:300,maxWidth:535,paddingHorizontal:16},isLoading:!0,layout:[{key:"header",width:"100%",height:"100%",borderRadius:8}]})}function Bu(){var e,n,t,r,a,l,i,s=Un((function(e){return e.global})),u=Un((function(e){return e.forms})),c=Un((function(e){return e.screens.manifest})),d=Un((function(e){return e.screens.dropzoneWizard})),m=$n(),f=p.useState(!1),g=H()(f,2),v=g[0],h=g[1],b=p.useState(!1),E=H()(b,1)[0],x=Sl(),k=x.dropzone,w=x.currentUser,S=x.loading,C=x.refetch,O=x.fetchMore,z=Object(Tl.useNavigation)(),I=Object(Tl.useIsFocused)();p.useEffect((function(){if(k&&I){var e,n,t=function(e){var n,t,r,a,o,l=(n={},q()(n,se.Name,!1),q()(n,se.Federation,!1),q()(n,se.Location,!1),q()(n,se.Aircraft,!1),q()(n,se.Tickets,!1),q()(n,se.Branding,!1),n);return null!=e&&null!=(t=e.ticketTypes)&&t.length?l[se.Tickets]=!0:o=se.Tickets,null!=(r=e.planes)&&r.length?l[se.Aircraft]=!0:o=se.Aircraft,null!=e&&e.primaryColor?l[se.Branding]=!0:o=se.Branding,e.lat&&e.lng?l[se.Location]=!0:o=se.Location,null!=(a=e.federation)&&a.id?l[se.Federation]=!0:o=se.Federation,e.name?l[se.Name]=!0:o=se.Name,!!Object.values(l).some((function(e){return!e}))&&o}(k);if(console.log({dropzoneWizardIndex:t}),t)m(Dn.screens.dropzoneWizard.setIndex(t)),m(Dn.forms.dropzone.setOriginal(k)),null!=k&&null!=(e=k.planes)&&e.length&&m(Dn.forms.plane.setOriginal(k.planes[0])),null!=k&&null!=(n=k.ticketTypes)&&n.length&&m(Dn.forms.ticketType.setOriginal(k.ticketTypes[0])),z.navigate("DropzoneSetupScreen")}}),[m,k,I,z,d.completed,E]),p.useEffect((function(){I&&null!=k&&k.name&&z.setOptions({title:k.name})}),[I,null==k?void 0:k.name,z]),p.useEffect((function(){I&&C()}),[I,C]);var T=!(null==k||null==(e=k.planes)||!e.length),P=!(null==k||null==(n=k.ticketTypes)||!n.length),j=!(null==k||!k.isPublic),D=T&&P;p.useEffect((function(){var e,n,t,r;null!=k&&k.primaryColor&&(null==k?void 0:k.primaryColor)!==(null==(e=s.theme)||null==(n=e.colors)?void 0:n.primary)&&m(Dn.global.setPrimaryColor(k.primaryColor)),null!=k&&k.secondaryColor&&(null==k?void 0:k.secondaryColor)!==(null==(t=s.theme)||null==(r=t.colors)?void 0:r.accent)&&m(Dn.global.setPrimaryColor(k.secondaryColor))}),[m,null==k?void 0:k.primaryColor,null==k?void 0:k.secondaryColor,null==(t=s.theme)||null==(r=t.colors)?void 0:r.accent,null==(a=s.theme)||null==(l=a.colors)?void 0:l.primary]);var F=Nl(B.CreateLoad),A=p.useCallback((function(e){return null!=w&&w.hasLicense?null!=w&&w.hasMembership?null!=w&&w.hasRigInspection?null!=w&&w.hasReserveInDate?null!=w&&w.hasExitWeight?null!=w&&w.hasCredits?(m(Dn.forms.manifest.setOpen(!0)),m(Dn.forms.manifest.setField(["dropzoneUser",w])),m(Dn.forms.manifest.setField(["load",e])),null):m(Dn.notifications.showSnackbar({message:"You have no credits on your account",variant:"info"})):m(Dn.notifications.showSnackbar({message:"Update your exit weight on your profile before manifesting",variant:"info"})):m(Dn.notifications.showSnackbar({message:"Your rig needs a reserve repack",variant:"info"})):m(Dn.notifications.showSnackbar({message:"Your rig needs to be inspected before manifesting",variant:"info"})):m(Dn.notifications.showSnackbar({message:"Your membership is out of date",variant:"info"})):m(Dn.notifications.showSnackbar({message:"You need to select a license on your user profile",variant:"info"}))}),[w,m]),N=Object(zl.a)().width,R=32+("cards"===c.display?338:550);R=R>N?N-32:R;var $=Math.floor(N/R)||1,U=R*$,L=(null==k||null==(i=k.loads)?void 0:i.edges)||[],W=!(null!=L&&L.length)&&S,V=Object(Dl.b)();return p.createElement(Ci,{style:{flex:1}},p.createElement(y.a,{visible:S,indeterminate:!0,color:s.theme.colors.accent}),p.createElement(Ci,{style:Lu.container},W||D?p.createElement(Ci,{style:{width:"100%",flex:1,height:Cl.a.get("window").height,backgroundColor:V.colors.background}},(null==k?void 0:k.banner)&&p.createElement(tu.a,{source:{uri:k.banner},style:{position:"absolute",top:-8,left:0,width:"100%",height:340},resizeMode:"cover"}),p.createElement(o.a,{ListHeaderComponent:function(){return p.createElement(Ru,null)},ListEmptyComponent:function(){return p.createElement(Oi,{title:"No loads so far today",subtitle:"How's the weather?"})},style:{paddingTop:35,flex:1,height:Cl.a.get("window").height},testID:"loads",keyExtractor:function(e,n){var t,r=e.item;return"load-small-"+((null==r||null==(t=r.node)?void 0:t.id)||n)},key:"loads-columns-"+$,contentContainerStyle:{width:U,alignSelf:"center",paddingBottom:100},numColumns:$,data:W?[1,1,1,1,1]:L,refreshControl:p.createElement(Ol.a,{refreshing:S,onRefresh:function(){return O({})}}),renderItem:function(e){var n=e.item,t=e.index;return 1===n?"list"===c.display?p.createElement(Uu,{key:"loading-card-"+t}):p.createElement(iu,{key:"loading-card-"+t}):"list"===c.display?p.createElement(gu,{controlsVisible:!1,key:"load-"+n.node.id,load:n.node,onSlotPress:function(e){null!=n&&n.node&&(m(Dn.forms.manifest.setOpen(e)),m(Dn.forms.manifest.setField(["load",n.node])))},onSlotGroupPress:function(e){m(Dn.forms.manifestGroup.reset()),m(Dn.forms.manifestGroup.setFromSlots({load:n.node,slots:e})),m(Dn.forms.manifestGroup.setField(["load",n.node])),z.navigate("ManifestGroupScreen")},onManifest:function(){A(n.node)},onManifestGroup:function(){m(Dn.forms.manifestGroup.reset()),m(Dn.forms.manifestGroup.setOpen(!0)),m(Dn.forms.manifestGroup.setField(["load",n.node]))}}):p.createElement(su,{key:"load-"+n.node.id,load:n.node,onPress:function(){return z.navigate("LoadScreen",{load:n.node})}})}})):p.createElement(au,{hasPlanes:T,hasTicketTypes:P,isPublic:j}),F&&D&&p.createElement(Ri.a,{style:Lu.fab,small:!0,icon:"plus",onPress:function(){return m(Dn.forms.load.setOpen(!0))},label:"New load"})),p.createElement(Ci,{style:Lu.header},p.createElement(Al.a,{anchor:p.createElement(Xs.a,{icon:"cog-outline",onPress:function(){return h(!0)}}),visible:v,onDismiss:function(){return h(!1)}},p.createElement(Al.a.Item,{title:"Show expanded cards",titleStyle:{fontWeight:"cards"===c.display?"normal":"bold"},onPress:function(){m(Dn.screens.manifest.setDisplayStyle("list")),h(!1)}}),p.createElement(Al.a.Item,{title:"Show compact cards",titleStyle:{fontWeight:"list"===c.display?"normal":"bold"},onPress:function(){m(Dn.screens.manifest.setDisplayStyle("cards")),h(!1)}}))),p.createElement(Cu,{onSuccess:function(){m(Dn.forms.load.setOpen(!1)),C()},open:u.load.open,onClose:function(){return m(Dn.forms.load.setOpen(!1))}}))}var Lu=F.a.create({container:{flex:1,alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fab:{position:"absolute",margin:16,right:0,bottom:0},header:{alignItems:"flex-start",justifyContent:"flex-end",flexDirection:"row",padding:0,width:"100%",position:"absolute",top:0,backgroundColor:"transparent"}});function Wu(e){var n,t,r,o,l,i,s,u,c,d,m,f=e.onSuccess,g=$n(),v=Un((function(e){return e.forms.manifestGroup})),h=Un((function(e){return e.global})),b=yo(),E=H()(b,2),x=E[0],k=E[1],w=Object(Tl.useNavigation)(),S=p.useCallback((function(){var e,n,t=!1;return null!=(e=v.fields.jumpType.value)&&e.id||(t=!0,g(Dn.forms.manifestGroup.setFieldError(["jumpType","You must specify the type of jump"]))),null!=(n=v.fields.ticketType.value)&&n.id||(t=!0,g(Dn.forms.manifestGroup.setFieldError(["ticketType","You must select a ticket type to manifest"]))),!t}),[g,null==(n=v.fields.jumpType.value)?void 0:n.id,null==(t=v.fields.ticketType.value)?void 0:t.id]),C=p.useCallback((function(){var e,n,t,r,o,l,i,s,u,c,d,m,p,h,b,y,E,k;return a.a.async((function(C){for(;;)switch(C.prev=C.next){case 0:if(S()&&null!=(e=v.fields.users.value)&&e.length){C.next=2;break}return C.abrupt("return");case 2:return C.prev=2,C.next=5,a.a.awrap(x({variables:{jumpTypeId:Number(null==(n=v.fields.jumpType.value)?void 0:n.id),ticketTypeId:Number(null==(t=v.fields.ticketType.value)?void 0:t.id),extraIds:null==(r=v.fields.extras)||null==(o=r.value)?void 0:o.map((function(e){var n=e.id;return Number(n)})),loadId:Number(null==(l=v.fields.load.value)?void 0:l.id),userGroup:v.fields.users.value.map((function(e){return Object(Zl.omit)(e,["rig"])}))}}));case 5:if(y=C.sent,null==(i=y.data)||null==(s=i.createSlots)||null==(u=s.fieldErrors)||u.map((function(e){var n=e.field,t=e.message;switch(n){case"jump_type":return g(Dn.forms.manifestGroup.setFieldError(["jumpType",t]));case"load":return g(Dn.forms.manifestGroup.setFieldError(["load",t]));case"credits":case"extras":case"extra_ids":return g(Dn.forms.manifestGroup.setFieldError(["extras",t]));case"ticket_type":return g(Dn.forms.manifestGroup.setFieldError(["ticketType",t]));default:return null}})),null==y||null==(c=y.data)||null==(d=c.createSlots)||null==(m=d.errors)||!m.length){C.next=10;break}return g(Dn.notifications.showSnackbar({message:null==y||null==(E=y.data)||null==(k=E.createSlots)?void 0:k.errors[0],variant:"error"})),C.abrupt("return");case 10:null!=(p=y.data)&&null!=(h=p.createSlots)&&null!=(b=h.fieldErrors)&&b.length||(null==f||f(),w.navigate("Manifest",{screen:"DropzoneScreen"})),C.next=16;break;case 13:C.prev=13,C.t0=C.catch(2),g(Dn.notifications.showSnackbar({message:C.t0.message,variant:"error"}));case 16:case"end":return C.stop()}}),null,null,[[2,13]],Promise)}),[g,x,w,f,null==(r=v.fields.extras)?void 0:r.value,null==(o=v.fields.jumpType.value)?void 0:o.id,null==(l=v.fields.load.value)?void 0:l.id,null==(i=v.fields.ticketType.value)?void 0:i.id,v.fields.users.value,S]);return p.createElement(ds,null,p.createElement(y.a,{indeterminate:!0,visible:k.loading,color:h.theme.colors.accent}),p.createElement(Il.a.Title,{title:"Manifest "+(null==v||null==(s=v.fields)||null==(u=s.users)||null==(c=u.value)?void 0:c.length)+" jumpers on Load #"+(null==(d=v.fields.load)||null==(m=d.value)?void 0:m.loadNumber)}),p.createElement(gi,null),p.createElement(K.a,{mode:"contained",style:{width:"100%",marginVertical:16},onPress:function(){return C()},loading:k.loading},"Save"))}function Vu(){var e,n,t,r,a,o,l=Un((function(e){return e.global})),i=Un((function(e){return e.screens.manifest})),s=$n(),u=Bo({variables:{dropzoneId:Number(l.currentDropzoneId),search:i.searchText}}),c=u.data,d=u.loading,m=Object(Tl.useNavigation)(),f=Object(Tl.useIsFocused)();return p.useEffect((function(){i.isSearchVisible&&s(Dn.screens.manifest.setSearchVisible(!1))}),[s,f,i.isSearchVisible]),p.createElement(p.Fragment,null,p.createElement(y.a,{indeterminate:!0,color:l.theme.colors.accent,visible:d}),p.createElement(ds,{contentContainerStyle:{paddingHorizontal:0}},!(null!=c&&null!=(e=c.dropzone)&&null!=(n=e.dropzoneUsers)&&null!=(t=n.edges)&&t.length)&&p.createElement(Oi,{title:"No users",subtitle:""}),null==c||null==(r=c.dropzone)||null==(a=r.dropzoneUsers)||null==(o=a.edges)?void 0:o.map((function(e){var n,t,r,a,o;return p.createElement(p.Fragment,null,p.createElement(_l.c.Item,{style:{width:"100%"},key:"user-"+(null==e||null==(n=e.node)?void 0:n.id),title:null==e||null==(t=e.node)?void 0:t.user.name,description:null==e||null==(r=e.node)||null==(a=r.role)?void 0:a.name,left:function(){var n,t,r;return null!=e&&null!=(n=e.node)&&null!=(t=n.user)&&t.image?p.createElement(_l.a.Image,{source:{uri:null==e||null==(r=e.node)?void 0:r.user.image},style:{alignSelf:"center",marginHorizontal:12},size:32}):p.createElement(_l.c.Icon,{icon:"account"})},right:function(){var n,t;return p.createElement(bi.a.Android,{status:null!=(n=i.selectedUsers)&&n.map((function(e){return e.id})).includes((null==e||null==(t=e.node)?void 0:t.id)||"")?"checked":"unchecked"})},onPress:function(){var n,t;return s(Dn.screens.manifest.setSelected(null!=(n=i.selectedUsers)&&n.find((function(n){var t;return n.id===""+(null==e||null==(t=e.node)?void 0:t.id)}))?null==(t=i.selectedUsers)?void 0:t.filter((function(n){var t;return n.id!==""+(null==e||null==(t=e.node)?void 0:t.id)})):[].concat(Gl()(i.selectedUsers),[null==e?void 0:e.node])))}}),p.createElement(Hl.a,{style:{width:"100%"},key:"divider-"+(null==e||null==(o=e.node)?void 0:o.id)}))}))),p.createElement(Ri.a,{style:Mu.fab,small:!0,visible:i.selectedUsers.length>0,icon:"check",onPress:function(){s(Dn.forms.manifestGroup.setDropzoneUsers(i.selectedUsers)),m.setParams({select:!1}),s(Dn.screens.manifest.setSearchVisible(!1)),s(Dn.screens.manifest.setSelected([])),m.navigate("ManifestGroupScreen")},label:"Next"}))}var Mu=F.a.create({container:{flex:1},fab:{position:"absolute",margin:16,right:0,bottom:0},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}}),Gu=t(166),qu=t(180),_u=t(156),Hu=t(348),Yu=t(899);var Ju=F.a.create({chip:{height:24,marginLeft:8,alignItems:"center",justifyContent:"center",backgroundColor:"transparent",borderColor:"white",width:"auto"},innerChip:{flexDirection:"row",alignItems:"center",height:30}}),Qu=function(e){var n,t,r=e.type,a=e.selected,o=e.disabled,l=e.onPress,i=Un((function(e){return e.global})).palette,s=(n={},q()(n,B.ActAsDzso,"shield-cross"),q()(n,B.ActAsGca,"radio-handheld"),q()(n,B.ActAsLoadMaster,"shield-account"),q()(n,B.ActAsPilot,"shield-airplane"),q()(n,B.ActAsRigInspector,"shield-search"),n)[r],u=(t={},q()(t,B.ActAsDzso,"DZSO"),q()(t,B.ActAsGca,"GCA"),q()(t,B.ActAsLoadMaster,"Load Master"),q()(t,B.ActAsPilot,"Pilot"),q()(t,B.ActAsRigInspector,"Rig Inspector"),t)[r];return p.createElement(Fl.a,{mode:a?"outlined":"flat",style:[Ju.chip,{borderColor:i.primary.dark},a?void 0:{opacity:.5}].filter(Boolean),disabled:o,onPress:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){return null==l?void 0:l()}))},p.createElement(C.default,{style:Ju.innerChip},p.createElement(C.default,{style:{marginRight:8}},p.createElement(ia.a,{name:a?"check":s,color:i.primary.dark,size:18})),p.createElement(X.a,{style:{color:i.primary.dark}},u)))};function Xu(e){var n=e.onError,t=e.onFieldError,r=e.onSuccess;return{onCompleted:function(e){var a,o,l,i,s,u,c=Object.values(e),d=H()(c,1)[0];null!=d&&null!=(a=d.errors)&&a.length&&(null==d||null==(s=d.errors)||s.filter(Boolean).forEach((function(e){return null==n?void 0:n(e)})));null!=d&&null!=(o=d.fieldErrors)&&o.length&&(null==d||null==(u=d.fieldErrors)||u.forEach((function(e){return null==t?void 0:t(null==e?void 0:e.field,null==e?void 0:e.message)})));null!=d&&null!=(l=d.fieldErrors)&&l.length||null!=d&&null!=(i=d.errors)&&i.length||null==r||r(e)}}}function Zu(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ku(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Zu(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zu(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ec(e){var n=e.permissions,t=e.dropzoneUser,r=Un((function(e){return e.global})),l=$n(),i=Nl(B.GrantPermission),s=function(e){var n=ba(ba({},ya),e);return pa.a(ko,n)}(Ku(Ku({},Xu({onSuccess:function(e){l(Dn.notifications.showSnackbar({message:"Permission revoked"}))},onError:function(e){l(Dn.notifications.showSnackbar({message:e,variant:"error"}))}})),{},{refetchQueries:[{query:No,variables:{dropzoneId:r.currentDropzoneId,earliestTimestamp:Object(ca.a)(new Date).getTime()/1e3}},{query:Wo,variables:{dropzoneId:r.currentDropzoneId,dropzoneUserId:Number(t.id)}}],update:function(e,n,o){var l,i,s,u,c;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return n.data,s=o.variables,u=e.readQuery({query:Uo,variables:{permissions:[null==s?void 0:s.permissionName].filter(Boolean),dropzoneId:Number(r.currentDropzoneId)}}),c=((null==u||null==(l=u.dropzone)||null==(i=l.dropzoneUsers)?void 0:i.edges)||[]).filter((function(e){var n;return(null==e||null==(n=e.node)?void 0:n.id)!==(null==t?void 0:t.id)})),e.writeQuery({query:Uo,variables:{permissions:[null==s?void 0:s.permissionName].filter(Boolean),dropzoneId:Number(r.currentDropzoneId)},data:Ku(Ku({},u),{},{dropzone:Ku(Ku({},null==u?void 0:u.dropzone),{},{id:""+r.currentDropzoneId,dropzoneUsers:{edges:c}})})}),a.abrupt("return",{data:Ku(Ku({},u),{},{dropzone:Ku(Ku({},null==u?void 0:u.dropzone),{},{dropzoneUsers:{edges:c}})})});case 6:case"end":return a.stop()}}),null,null,null,Promise)}})),u=H()(s,1)[0],c=function(e){var n=ba(ba({},ya),e);return pa.a(po,n)}(Ku(Ku({},Xu({onSuccess:function(e){l(Dn.notifications.showSnackbar({message:"Permission granted"}))},onError:function(e){l(Dn.notifications.showSnackbar({message:e,variant:"error"}))}})),{},{refetchQueries:[{query:No,variables:{dropzoneId:r.currentDropzoneId,earliestTimestamp:Object(ca.a)(new Date).getTime()/1e3}},{query:Wo,variables:{dropzoneId:r.currentDropzoneId,dropzoneUserId:Number(t.id)}}],update:function(e,n,o){var l,i,s,u,c,d,m,f,p,g,v,h,b,y;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return f=n.data,p=o.variables,g=e.readQuery({query:Uo,variables:{permissions:[null==p?void 0:p.permissionName].filter(Boolean),dropzoneId:Number(r.currentDropzoneId)}}),v=(null==g||null==(l=g.dropzone)||null==(i=l.dropzoneUsers)?void 0:i.edges)||[],h=!!v.find((function(e){var n;return(null==e||null==(n=e.node)?void 0:n.id)===(null==t?void 0:t.id)})),b=h?Gl()(((null==g||null==(s=g.dropzone)||null==(u=s.dropzoneUsers)?void 0:u.edges)||[]).map((function(e){var n,r;return(null==e||null==(n=e.node)?void 0:n.id)!==(null==t?void 0:t.id)?e:Ku(Ku({},e),{},{node:Ku(Ku({},null==e?void 0:e.node),null==f||null==(r=f.grantPermission)?void 0:r.dropzoneUser)})}))):[].concat(Gl()((null==g||null==(c=g.dropzone)||null==(d=c.dropzoneUsers)?void 0:d.edges)||[]),[{node:null==f||null==(m=f.grantPermission)?void 0:m.dropzoneUser}]),y=Ku(Ku({},g),{},{dropzone:Ku(Ku({},null==g?void 0:g.dropzone),{},{dropzoneUsers:{edges:b}})}),e.writeQuery({query:al,variables:{dropzoneId:Number(r.currentDropzoneId),permissions:[null==p?void 0:p.permissionName]},data:y}),a.abrupt("return",{data:y});case 9:case"end":return a.stop()}}),null,null,null,Promise)}})),d=H()(c,1)[0],m=(null==n?void 0:n.filter((function(e){return/^actAs/.test(e)})))||[];return p.createElement(o.c,{horizontal:!0,style:{width:"100%"},showsHorizontalScrollIndicator:!1,contentContainerStyle:nc.content},[B.ActAsPilot,B.ActAsDzso,B.ActAsGca,B.ActAsRigInspector,B.ActAsLoadMaster].map((function(e){return function(e){return i||m.includes(e)}(e)?p.createElement(Qu,{type:e,selected:m.includes(e),onPress:function(){return i?m.includes(e)?u({variables:{permissionName:e,dropzoneUserId:Number(null==t?void 0:t.id)}}):d({variables:{permissionName:e,dropzoneUserId:Number(null==t?void 0:t.id)}}):null}}):null})))}var nc=F.a.create({content:{flexGrow:1,paddingVertical:12,justifyContent:"space-evenly"}}),tc=t(552),rc=t.n(tc);t(854);function ac(e){var n=e.disabled,t=e.label,r=e.timestamp,a=e.onChange,o=p.useState(!1),l=H()(o,2),i=l[0],s=l[1];return p.createElement(p.Fragment,null,p.createElement(Al.a,{onDismiss:function(){return s(!1)},visible:i,anchor:p.createElement(_l.c.Item,{onPress:function(){return s(!0)},disabled:!!n,title:t,description:r?Object(Iu.a)(1e3*r,"yyyy/MM/dd"):"No date selected",left:function(){return p.createElement(_l.c.Icon,{icon:"calendar"})}})},p.createElement(rc.a,{selectedDays:r?[new Date(1e3*r)]:[],onDayClick:function(e){a(e.getTime()/1e3),s(!1)}})))}function oc(e){var n,t,r,a,o=e.onSelect,l=e.disabled,i=e.required,s=e.value,u=p.useState(!1),c=H()(u,2),d=c[0],m=c[1],f=Un((function(e){return e.global})).currentDropzoneId,g=sl({variables:{dropzoneId:Number(f),selectable:!0}}).data;return p.createElement(p.Fragment,null,p.createElement(_l.c.Subheader,{style:{paddingLeft:0}},"Access level"),p.createElement(Al.a,{onDismiss:function(){return m(!1)},visible:!l&&d,anchor:p.createElement(_l.c.Item,{left:function(){return p.createElement(_l.c.Icon,{icon:"lock"})},onPress:l?void 0:function(){m(!0)},title:(null==s||null==(n=s.name)||null==(t=n.replace("_"," "))?void 0:t.toUpperCase())||"Access level",description:i?null:"Optional"})},null==g||null==(r=g.dropzone)||null==(a=r.roles)?void 0:a.map((function(e){var n;return p.createElement(Al.a.Item,{onPress:function(){m(!1),o(e)},title:(null==(n=e.name)?void 0:n.replace("_"," ").toUpperCase())||"-"})}))))}function lc(){var e=Un((function(e){return e.forms.dropzoneUser})),n=$n(),t=Nl(B.GrantPermission);return p.createElement(p.Fragment,null,p.createElement(oc,{value:e.fields.role.value,onSelect:function(e){return n(Dn.forms.dropzoneUser.setField(["role",e]))},disabled:!t,required:!0}),p.createElement(ql.a,{type:e.fields.role.error?"error":"info"},e.fields.role.error),p.createElement(_l.c.Subheader,{style:{paddingLeft:0}},"Financial"),p.createElement(ac,{timestamp:e.fields.expiresAt.value||(new Date).getTime()/1e3,onChange:function(e){return n(Dn.forms.dropzoneUser.setField(["expiresAt",e]))},label:"Membership expires"}),p.createElement(ql.a,{type:e.fields.expiresAt.error?"error":"info"},e.fields.expiresAt.error))}function ic(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function sc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ic(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ic(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function uc(e){var n,t,r,o,l=e.open,i=$n(),s=Un((function(e){return e.forms.dropzoneUser})),u=Un((function(e){return e.global})),c=Object(Yu.a)(),d=p.useCallback((function(){return s.original?c.readFragment({fragment:La,fragmentName:"dropzoneUserProfile",id:c.cache.identify(s.original)}):null}),[c,s.original]),m=function(e){var n=ba(ba({},ya),e);return pa.a(So,n)}(),f=H()(m,2),g=f[0],v=f[1],h=p.useCallback((function(){var e=!1;return s.fields.role.value||(e=!0,i(Dn.forms.dropzoneUser.setFieldError(["role","User must have an access level"]))),s.fields.expiresAt.value||(e=!0,i(Dn.forms.dropzoneUser.setFieldError(["expiresAt","Membership expiry must be set"]))),!e}),[i,s.fields.expiresAt.value,s.fields.role.value]),b=p.useCallback((function(){var n,t,r,o,l,u,c,d,m,f;return a.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(h()){p.next=2;break}return p.abrupt("return");case 2:return p.prev=2,p.next=5,a.a.awrap(g({variables:sc(sc({},null!=(n=s.original)&&n.id?{id:null==(t=s.original)?void 0:t.id}:{}),{},{userRoleId:Number(null==(r=s.fields.role.value)?void 0:r.id),expiresAt:s.fields.expiresAt.value,dropzoneUserId:Number(null==(o=s.original)?void 0:o.id)})}));case 5:if(m=p.sent,null==(f=null==(l=m.data)?void 0:l.updateDropzoneUser)||null==(u=f.fieldErrors)||u.map((function(e){var n=e.field,t=e.message;switch(n){case"user_role":return i(Dn.forms.dropzoneUser.setFieldError(["role",t]));case"expires_at":return i(Dn.forms.dropzoneUser.setFieldError(["expiresAt",t]));default:return null}})),null==f||null==(c=f.errors)||!c.length){p.next=11;break}return i(Dn.notifications.showSnackbar({message:null==f?void 0:f.errors[0],variant:"error"})),p.abrupt("return");case 11:null!=f&&null!=(d=f.fieldErrors)&&d.length||null==f||!f.dropzoneUser?console.error(null==f?void 0:f.fieldErrors):e.onSuccess(f.dropzoneUser),p.next=17;break;case 14:p.prev=14,p.t0=p.catch(2),i(Dn.notifications.showSnackbar({message:p.t0.message,variant:"error"}));case 17:case"end":return p.stop()}}),null,null,[[2,14]],Promise)}),[i,g,e,s.fields.expiresAt.value,null==(n=s.fields.role.value)?void 0:n.id,null==(t=s.original)?void 0:t.id,h]);return p.createElement(Wl.a,null,p.createElement(Vl.a,{visible:!!l},p.createElement(y.a,{indeterminate:!0,visible:v.loading,color:u.theme.colors.accent}),p.createElement(Vl.a.Title,null,(null!=s&&null!=(r=s.original)&&r.id?"Edit":"New")+" dropzone user"),p.createElement(Vl.a.Content,null,p.createElement(lc,null),s.original&&d()?p.createElement(p.Fragment,null,p.createElement(_l.c.Subheader,{style:{paddingLeft:0}},"Acting permissions"),p.createElement(ec,{dropzoneUser:d(),permissions:null==(o=d().permissions)?void 0:o.filter((function(e){return/^actAs/.test(e)}))})):null),p.createElement(Vl.a.Actions,{style:{justifyContent:"flex-end"}},p.createElement(K.a,{onPress:function(){i(Dn.forms.dropzoneUser.reset()),e.onClose()}},"Cancel"),p.createElement(K.a,{onPress:b},"Save"))))}function cc(){var e,n,t,r,a=Un((function(e){return e.forms.credits})),o=$n(),l=(null==(e=a.original)?void 0:e.credits)||0,i=a.fields.amount.value||0,s=a.fields.transactionType.value===V.Deposit?i+l:i-l;return p.createElement(p.Fragment,null,p.createElement(Yl.a,{style:mc.field,mode:"outlined",label:"Message",error:!!a.fields.message.error,value:(null==(n=a.fields.message.value)?void 0:n.toString())||"",onChangeText:function(e){return o(Dn.forms.credits.setField(["message",e]))}}),p.createElement(ql.a,{type:a.fields.message.error?"error":"info"},a.fields.message.error||""),"deposit"===a.fields.transactionType.value?p.createElement(C.default,null,p.createElement(Ql,{label:"Add amount",error:!!a.fields.amount.error,value:a.fields.amount.value,onChangeText:function(e){return o(Dn.forms.credits.setField(["amount",e]))}}),p.createElement(ql.a,{type:a.fields.amount.error?"error":"info"},a.fields.amount.error||""),p.createElement(Hl.a,null),p.createElement(du.a,null,p.createElement(du.a.Row,null,p.createElement(du.a.Title,null,"Current balance"),p.createElement(du.a.Cell,{numeric:!0},"$"+((null==(t=a.original)?void 0:t.credits)||0))),p.createElement(du.a.Row,null,p.createElement(du.a.Title,null,"Deposit"),p.createElement(du.a.Cell,{numeric:!0},"+$"+(a.fields.amount.value||0))),p.createElement(du.a.Row,null,p.createElement(du.a.Title,null,p.createElement(X.a,{style:{fontWeight:"bold"}},"New total")),p.createElement(du.a.Cell,{numeric:!0},(s<0?"-":"")+"$"+(s<0?-1*s:s))))):p.createElement(C.default,null,p.createElement(Ql,{label:"Withdraw amount",error:!!a.fields.amount.error,value:a.fields.amount.value,onChangeText:function(e){return o(Dn.forms.credits.setField(["amount",e]))}}),p.createElement(ql.a,{type:a.fields.amount.error?"error":"info"},a.fields.amount.error||""),p.createElement(Hl.a,null),p.createElement(du.a,null,p.createElement(du.a.Row,null,p.createElement(du.a.Title,null,"Current balance"),p.createElement(du.a.Cell,{numeric:!0},"$"+((null==(r=a.original)?void 0:r.credits)||0))),p.createElement(du.a.Row,null,p.createElement(du.a.Title,null,"Withdraw"),p.createElement(du.a.Cell,{numeric:!0},"-$"+(a.fields.amount.value||0))),p.createElement(du.a.Row,null,p.createElement(du.a.Title,null,p.createElement(X.a,{style:{fontWeight:"bold"}},"New total")),p.createElement(du.a.Cell,{numeric:!0},(s<0?"-":"")+"$"+(s<0?-1*s:s))))))}var dc,mc=F.a.create({fields:{flex:1},field:{marginBottom:8}});function fc(e){var n=e.open,t=e.onClose,r=e.dropzoneUser,o=$n(),l=Un((function(e){return e.forms.credits})),i=Un((function(e){return e.global})),s=function(e){var n=ba(ba({},ya),e);return pa.a(io,n)}(),u=H()(s,2),c=u[0],d=u[1],m=Un((function(e){return e.global})),f=p.useCallback((function(){var e=!1;return l.fields.amount.value||(e=!0,o(Dn.forms.credits.setFieldError(["amount","You must specify an amount"]))),!e}),[o,l.fields.amount.value]),g=p.useCallback((function(){var n,t,i,s,u,d,p,g,v;return a.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(f()){h.next=2;break}return h.abrupt("return");case 2:if(null!=r&&r.id&&null!==l.fields.amount.value&&m.currentDropzoneId){h.next=4;break}return h.abrupt("return");case 4:return h.prev=4,h.next=7,a.a.awrap(c({variables:{amount:l.fields.amount.value,title:l.fields.message.value||(l.fields.transactionType.value===V.Deposit?"Added funds":"Withdrew funds"),seller:l.fields.transactionType.value!==V.Deposit?{type:M.Dropzone,id:""+m.currentDropzoneId}:{type:M.DropzoneUser,id:r.id},buyer:l.fields.transactionType.value===V.Deposit?{type:M.Dropzone,id:""+m.currentDropzoneId}:{type:M.DropzoneUser,id:r.id},dropzoneId:Number(m.currentDropzoneId)}}));case 7:if(p=h.sent,null==(g=p.data)||null==(n=g.createOrder)||null==(t=n.fieldErrors)||t.map((function(e){var n=e.field,t=e.message;switch(n){case"amount":return o(Dn.forms.credits.setFieldError(["amount",t]));case"message":return o(Dn.forms.credits.setFieldError(["message",t]));case"status":return o(Dn.forms.credits.setFieldError(["status",t]));default:return null}})),null==g||null==(i=g.createOrder)||null==(s=i.errors)||!s.length){h.next=13;break}return o(Dn.notifications.showSnackbar({message:null==g||null==(v=g.createOrder)?void 0:v.errors[0],variant:"error"})),h.abrupt("return");case 13:null!=g&&null!=(u=g.createOrder)&&null!=(d=u.fieldErrors)&&d.length||(o(Dn.forms.credits.reset()),e.onSuccess()),h.next=19;break;case 16:h.prev=16,h.t0=h.catch(4),o(Dn.notifications.showSnackbar({message:h.t0.message,variant:"error"}));case 19:case"end":return h.stop()}}),null,null,[[4,16]],Promise)}),[f,null==r?void 0:r.id,l.fields.amount.value,l.fields.message.value,l.fields.transactionType.value,m.currentDropzoneId,c,o,e]);return p.createElement(Wl.a,null,p.createElement(Vl.a,{visible:!!n,style:{maxWidth:500,alignSelf:"center"}},p.createElement(C.default,null,p.createElement(ci.b,{defaultIndex:0,onChangeIndex:function(e){o(Dn.forms.credits.setField(["transactionType",1===e?"withdrawal":"deposit"]))},mode:"fixed"},p.createElement(ci.a,{label:"Deposit",icon:"arrow-up"},p.createElement(C.default,null)),p.createElement(ci.a,{label:"Withdraw",icon:"arrow-down"},p.createElement(C.default,null)))),p.createElement(y.a,{indeterminate:!0,visible:d.loading,color:i.theme.colors.accent}),p.createElement(Vl.a.Content,null,p.createElement(cc,null)),p.createElement(Vl.a.Actions,{style:{justifyContent:"flex-end"}},p.createElement(K.a,{onPress:function(){o(Dn.forms.credits.reset()),t()}},"Cancel"),p.createElement(K.a,{onPress:g},"Save"))))}var pc=El(Object(fa.a)(dc||(dc=ma()(["\n  mutation CreateRig(\n    $make: String\n    $name: String\n    $model: String\n    $serial: String\n    $rigType: String\n    $canopySize: Int\n    $repackExpiresAt: Int\n    $userId: Int\n    $dropzoneId: Int\n  ) {\n    createRig(\n      input: {\n        attributes: {\n          name: $name\n          make: $make\n          model: $model\n          serial: $serial\n          repackExpiresAt: $repackExpiresAt\n          dropzoneId: $dropzoneId\n          userId: $userId\n          canopySize: $canopySize\n          rigType: $rigType\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      rig {\n        id\n        name\n        make\n        model\n        serial\n        canopySize\n        repackExpiresAt\n        packValue\n        maintainedAt\n        rigType\n\n        user {\n          id\n          rigs {\n            id\n            name\n            make\n            model\n            serial\n            canopySize\n            repackExpiresAt\n            packValue\n            maintainedAt\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.createRig},fieldErrorMap:{},validates:{make:[vl("Manufacturer is required")],model:[vl("Model is required")],serial:[vl("Serial number is required")],canopySize:[vl("Canopy size is required"),bl("Canopy size must be a valid number")],repackExpiresAt:[vl("You must set a reserve repack expiry date")]}}),gc=El(Io,{getPayload:function(e){return e.updateRig},fieldErrorMap:{}});function vc(e){var n,t,r=e.showTypeSelect,a=Un((function(e){return e.forms.rig})),o=$n(),l=Nl(B.CreateRig);return p.createElement(C.default,null,p.createElement(Yl.a,{style:hc.field,mode:"outlined",label:"Name",error:!!a.fields.name.error,value:a.fields.name.value||"",onChangeText:function(e){return o(Dn.forms.rig.setField(["name",e]))}}),p.createElement(ql.a,{type:a.fields.name.error?"error":"info"},a.fields.name.error||"You can give your equipment a nickname"),p.createElement(Yl.a,{style:hc.field,mode:"outlined",label:"Make",error:!!a.fields.make.error,value:a.fields.make.value||"",onChangeText:function(e){return o(Dn.forms.rig.setField(["make",e]))}}),p.createElement(ql.a,{type:a.fields.make.error?"error":"info"},a.fields.make.error||"e.g Javelin, Mirage"),p.createElement(Yl.a,{style:hc.field,mode:"outlined",label:"Model",error:!!a.fields.model.error,value:a.fields.model.value||"",onChangeText:function(e){return o(Dn.forms.rig.setField(["model",e]))}}),p.createElement(ql.a,{type:a.fields.model.error?"error":"info"},a.fields.model.error||"e.g G4.1"),p.createElement(Yl.a,{style:hc.field,mode:"outlined",label:"Serial",error:!!a.fields.serial.error,value:a.fields.serial.value||"",onChangeText:function(e){return o(Dn.forms.rig.setField(["serial",e]))}}),p.createElement(ql.a,{type:a.fields.serial.error?"error":"info"},a.fields.serial.error||""),p.createElement(Yl.a,{style:hc.field,mode:"outlined",label:"Current canopy size",error:!!a.fields.canopySize.error,value:(null==(n=a.fields.canopySize.value)?void 0:n.toString())||"",keyboardType:"number-pad",onChangeText:function(e){return o(Dn.forms.rig.setField(["canopySize",Number(e)]))}}),p.createElement(ql.a,{type:a.fields.canopySize.error?"error":"info"},a.fields.canopySize.error||"Size of canopy in container"),r?p.createElement(Kl,{items:["student","sport","tandem"],renderItemLabel:function(e){return e},isDisabled:function(e){return!l&&"sport"!==e},selected:[(null==(t=a.fields.rigType)?void 0:t.value)||"sport"],onChangeSelected:function(e){var n=H()(e,1)[0];return o(Dn.forms.rig.setField(["rigType",n]))}}):null,p.createElement(ac,{timestamp:a.fields.repackExpiresAt.value||(new Date).getTime()/1e3,onChange:function(e){return o(Dn.forms.rig.setField(["repackExpiresAt",e]))},label:"Reserve repack expiry date"}),p.createElement(ql.a,{type:a.fields.repackExpiresAt.error?"error":"info"},a.fields.repackExpiresAt.error||""))}var hc=F.a.create({fields:{flex:1},field:{marginBottom:8}});function bc(e){var n,t,r=e.open,o=e.dropzoneId,l=e.onClose,i=e.onSuccess,s=e.userId,u=$n(),c=Un((function(e){return e.forms.rig})),d=gc({onSuccess:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return requestAnimationFrame((function(){return i()}))})),onFieldError:function(e,n){return u(Dn.forms.rig.setFieldError([e,n]))},onError:function(e){return u(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),m=pc({onSuccess:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return requestAnimationFrame((function(){return i()}))})),onFieldError:function(e,n){return u(Dn.forms.rig.setFieldError([e,n]))},onError:function(e){return u(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),f=d.loading||m.loading,g=p.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(e=c.original)||!e.id){t.next=5;break}return t.next=3,a.a.awrap(d.mutate({id:Number(null==(n=c.original)?void 0:n.id),name:c.fields.name.value,make:c.fields.make.value,model:c.fields.model.value,serial:c.fields.serial.value,canopySize:c.fields.canopySize.value,rigType:c.fields.rigType.value,repackExpiresAt:c.fields.repackExpiresAt.value,userId:s?Number(s):null,dropzoneId:o?Number(o):null}));case 3:t.next=7;break;case 5:return t.next=7,a.a.awrap(m.mutate({name:c.fields.name.value,make:c.fields.make.value,model:c.fields.model.value,serial:c.fields.serial.value,canopySize:c.fields.canopySize.value,rigType:c.fields.rigType.value,repackExpiresAt:c.fields.repackExpiresAt.value,userId:s?Number(s):null,dropzoneId:o?Number(o):null}));case 7:case"end":return t.stop()}}),null,null,null,Promise)}),[m,o,c.fields.canopySize.value,c.fields.make.value,c.fields.model.value,c.fields.repackExpiresAt.value,c.fields.rigType.value,c.fields.name.value,c.fields.serial.value,null==(n=c.original)?void 0:n.id,d,s]),v=p.useMemo((function(){return[580]}),[]),h=p.useCallback((function(){requestAnimationFrame((function(){l(),u(Dn.forms.rig.reset())}))}),[u,l]);return p.createElement(Su,{title:null!=(t=c.original)&&t.id?"Edit rig":"New rig",open:r,snapPoints:v,onClose:h,buttonAction:g,buttonLabel:"Save",loading:f},p.createElement(vc,{showTypeSelect:!!o}))}function yc(e){var n=e.federationId,t=e.onSelect,r=e.value,a=Ko({variables:{federationId:n}}).data;return p.createElement(p.Fragment,null,p.createElement(_l.c.Subheader,null,"License"),p.createElement(Kl,{autoSelectFirst:!0,icon:"ticket-account",items:(null==a?void 0:a.licenses)||[],selected:[r].filter(Boolean),isSelected:function(e){return e.id===(null==r?void 0:r.id)},renderItemLabel:function(e){return null==e?void 0:e.name},isDisabled:function(){return!1},onChangeSelected:function(e){var n=H()(e,1)[0];return n?t(n):null}}))}function Ec(e){var n,t=e.value,r=e.onSelect,a=p.useState(!1),l=H()(a,2),i=l[0],s=l[1],u=Yo().data;return p.useEffect((function(){var e;1!==(null==u||null==(e=u.federations)?void 0:e.length)||t||r(u.federations[0])}),[null==u?void 0:u.federations,r,t]),p.createElement(p.Fragment,null,p.createElement(_l.c.Subheader,null,"Federation"),p.createElement(Al.a,{onDismiss:function(){return s(!1)},visible:i,anchor:p.createElement(o.f,{onPress:function(){s(!0)}},p.createElement(Yl.a,{mode:"outlined",disabled:!0,style:{minWidth:200},value:(null==t?void 0:t.name)||"Please select federation"}))},null==u||null==(n=u.federations)?void 0:n.map((function(e){return p.createElement(Al.a.Item,{onPress:function(){s(!1),r(e)},title:e.name||"-",key:"federation-select-"+e.id})}))))}function xc(){var e,n,t,r,a,o,l,i,s,u,c,d,m,f,g,v,h,b,y,E,x,k,w,S,O=Un((function(e){return e.forms.user})),z=$n();return p.useEffect((function(){var e;O.original&&(O.fields.exitWeight.value||z(Dn.forms.user.setField(["exitWeight",O.original.exitWeight||"60"])),!O.fields.rigs.value&&null!=(e=O.original)&&e.id&&z(Dn.forms.user.setField(["rigs",O.original.rigs])))}),[z,O.fields.exitWeight.value,O.fields.rigs.value,O.original,null==(e=O.original)?void 0:e.id]),p.createElement(p.Fragment,null,p.createElement(Yl.a,{style:kc.field,mode:"outlined",label:"Name",error:!!O.fields.name.error,value:(null==(n=O.fields.name)||null==(t=n.value)?void 0:t.toString())||"",onChangeText:function(e){return z(Dn.forms.user.setField(["name",e]))}}),p.createElement(ql.a,{type:O.fields.name.error?"error":"info"},O.fields.name.error||" "),p.createElement(Yl.a,{style:kc.field,mode:"outlined",label:"Nickname",error:!!O.fields.nickname.error,value:(null==(r=O.fields.nickname)||null==(a=r.value)?void 0:a.toString())||"",onChangeText:function(e){return z(Dn.forms.user.setField(["nickname",e]))}}),p.createElement(ql.a,{type:O.fields.nickname.error?"error":"info"},O.fields.nickname.error||" "),p.createElement(Yl.a,{style:kc.field,mode:"outlined",label:"Email",error:!!O.fields.email.error,value:(null==(o=O.fields.email)||null==(l=o.value)?void 0:l.toString())||"",onChangeText:function(e){return z(Dn.forms.user.setField(["email",e]))}}),p.createElement(ql.a,{type:O.fields.email.error?"error":"info"},O.fields.email.error||" "),p.createElement(Yl.a,{style:kc.field,mode:"outlined",label:"Phone",error:!!O.fields.phone.error,value:(null==(i=O.fields.phone)||null==(s=i.value)?void 0:s.toString())||"",onChangeText:function(e){return z(Dn.forms.user.setField(["phone",e]))}}),p.createElement(ql.a,{type:O.fields.phone.error?"error":"info"},O.fields.phone.error||""),p.createElement(Ql,{value:O.fields.exitWeight.value?Number(O.fields.exitWeight.value):0,onChangeText:function(e){return z(Dn.forms.user.setField(["exitWeight",e.toString()]))},label:"Exit weight (kg)"}),p.createElement(ql.a,{type:O.fields.exitWeight.error?"error":"info"},O.fields.exitWeight.error||""),p.createElement(Hl.a,null),p.createElement(C.default,{style:{width:"100%"}},p.createElement(Ec,{value:(null==O||null==(u=O.fields)||null==(c=u.license)||null==(d=c.value)?void 0:d.federation)||O.federation.value,onSelect:function(e){return z(Dn.forms.user.setFederation(e))}}),p.createElement(ql.a,{type:O.federation.error?"error":"info"},O.federation.error||""),((null==O||null==(m=O.fields)||null==(f=m.license)||null==(g=f.value)||null==(v=g.federation)?void 0:v.id)||(null==O||null==(h=O.federation)||null==(b=h.value)?void 0:b.id))&&p.createElement(p.Fragment,null,p.createElement(yc,{value:O.fields.license.value,federationId:Number((null==O||null==(y=O.fields)||null==(E=y.license)||null==(x=E.value)||null==(k=x.federation)?void 0:k.id)||(null==(w=O.federation)||null==(S=w.value)?void 0:S.id)),onSelect:function(e){return z(Dn.forms.user.setField(["license",e]))}}),p.createElement(ql.a,{type:O.fields.license.error?"error":"info"},O.fields.license.error||""))))}var kc=F.a.create({fields:{flex:1,width:"100%",paddingTop:32},field:{marginBottom:8,width:"100%"},ticketAddons:{marginBottom:8}});function wc(e){var n,t,r,o,l,i,s,u,c,d=e.open,m=e.onSuccess,f=e.onClose,g=e.dropzoneUserId,v=Un((function(e){return e.global.currentDropzoneId})),h=Un((function(e){return e.forms.user})),b=$n(),y=vo(),E=H()(y,1)[0],x=xl({onSuccess:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){b(Dn.notifications.showSnackbar({message:"Profile has been updated",variant:"success"})),b(Dn.forms.user.setOpen(!1)),m()})),onFieldError:function(e,n){return b(Dn.forms.user.setFieldError([e,n]))},onError:function(e){return b(Dn.notifications.showSnackbar({message:e,variant:"error"}))},mutation:{refetchQueries:[{query:No,variables:{dropzoneId:v,earliestTimestamp:Object(ca.a)(new Date).getTime()/1e3}},{query:Wo,variables:{dropzoneId:v,dropzoneUserId:g}}]}}),k=p.useCallback((function(){var e,n,t,r,o,l,i,s,u,c,d,m,f,p,g,v,b,y;return a.a.async((function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,a.a.awrap(x.mutate({id:Number(null==(e=h.original)?void 0:e.id),name:h.fields.name.value,licenseId:null!=(n=h.fields.license.value)&&n.id?Number(null==(t=h.fields.license.value)?void 0:t.id):null,phone:h.fields.phone.value,exitWeight:parseFloat((null==(r=h.fields.exitWeight)?void 0:r.value)||"50"),email:h.fields.email.value}));case 2:if(m=null==(o=h.original)||null==(l=o.userFederations)?void 0:l.find((function(e){var n,t;return e.federation.slug===(null==(n=h.fields.license.value)||null==(t=n.federation)?void 0:t.slug)})),!(null!=(i=h.fields.license.value)&&i.id&&(null==m||null==(s=m.license)?void 0:s.id)!==(null==(u=h.fields.license.value)?void 0:u.id)||null!=(c=h.fields.apfNumber)&&c.value&&(null==(d=h.fields.apfNumber)?void 0:d.value)!==(null==m?void 0:m.uid))){k.next=6;break}return k.next=6,a.a.awrap(E({variables:{federationId:Number(null==(f=h.fields.license.value)||null==(p=f.federation)?void 0:p.id),uid:null==(g=h.fields)||null==(v=g.apfNumber)?void 0:v.value,licenseId:null!=(b=h.fields.license.value)&&b.id?Number(null==(y=h.fields.license.value)?void 0:y.id):null}}));case 6:case"end":return k.stop()}}),null,null,null,Promise)}),[E,x,null==(n=h.fields.apfNumber)?void 0:n.value,h.fields.email.value,null==(t=h.fields.exitWeight)?void 0:t.value,null==(r=h.fields.license.value)||null==(o=r.federation)?void 0:o.id,null==(l=h.fields.license.value)||null==(i=l.federation)?void 0:i.slug,null==(s=h.fields.license.value)?void 0:s.id,h.fields.name.value,h.fields.phone.value,null==(u=h.original)?void 0:u.id,null==(c=h.original)?void 0:c.userFederations]),w=p.useMemo((function(){return[740]}),[]);return p.createElement(Su,{title:"Update information",open:d,snapPoints:w,loading:x.loading,onClose:f,buttonAction:k,buttonLabel:"Save"},p.createElement(xc,null))}function Sc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Cc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Sc(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Oc,zc=t(900),Ic=t(922),Tc=t(564),Pc=t(61),jc=t(290),Dc=t(553),Fc=t.n(Dc),Ac=(Oc={},q()(Oc,B.ActAsLoadMaster,"LM"),q()(Oc,B.ActAsPilot,"Pilot"),q()(Oc,B.ActAsRigInspector,"Rig.Insp"),q()(Oc,B.ActAsGca,"GCA"),q()(Oc,B.ActAsDzso,"DZSO"),Oc);function Nc(e){var n,t,r,a,o,l,i,s=e.dropzoneUser,u=e.variant,c=e.children,d=e.onPressAvatar,m=Un((function(e){return e.global})),f=m.theme,g=m.palette,v=p.useState(!1),h=H()(v,2),b=h[0],y=h[1],E=Nl(B.UpdateUser),x=$n(),k="light"===u?f.colors.surface:f.colors.onSurface,w=un()(f.colors.primary).darken(.3).hex(),S=((null==s||null==(n=s.permissions)?void 0:n.filter((function(e){return/^actAs/.test(e)})))||[]).map((function(e){return Ac[e]}));return p.createElement(C.default,{style:[Rc.container,{backgroundColor:f.colors.surface}]},p.createElement(C.default,{style:Rc.avatarContainer},p.createElement(C.default,{style:{flex:1/3,alignItems:"center",justifyContent:"center"}},p.createElement(Pc.a,{onPress:d},null!=s&&null!=(t=s.user)&&t.image?p.createElement(_l.a.Image,{size:80,source:{uri:null==s?void 0:s.user.image},style:{backgroundColor:g.primary.light}}):p.createElement(_l.a.Icon,{size:80,icon:"account"}))),p.createElement(C.default,{style:Rc.titleContainer},p.createElement(Al.a,{onDismiss:function(){return y(!1)},visible:b,anchor:p.createElement(Pc.a,{onPress:function(){return y(!0)}},p.createElement(yi.a,{style:[Rc.title,{color:w,fontSize:26}]},null==s||null==(r=s.user)?void 0:r.name))},p.createElement(Al.a.Item,{onPress:function(){y(!1),null!=s&&s.user.email&&Object(ht.b)("mail:"+(null==s?void 0:s.user.email))},icon:"email",title:null==s||null==(a=s.user)?void 0:a.email}),p.createElement(Al.a.Item,{onPress:function(){y(!1),null!=s&&s.user.email&&Object(ht.b)("tel:"+(null==s?void 0:s.user.phone))},icon:"phone",title:null==s||null==(o=s.user)?void 0:o.phone}),p.createElement(Al.a.Item,{onPress:function(){y(!1),E&&s&&x(Dn.forms.dropzoneUser.setOpen(s))},icon:"card-account-details-star-outline",title:null!=s&&s.expiresAt?Object(Iu.a)(1e3*((null==s?void 0:s.expiresAt)||0),"yyyy/MM/dd"):"Not a member"})),p.createElement(Hl.a,{style:{width:"100%"}}),p.createElement(Ei.a,{style:[Rc.paragraph,{fontWeight:"bold",fontSize:14,paddingLeft:4,color:k}]},null==s||null==(l=s.role)||null==(i=l.name)?void 0:i.replace("_"," ").toUpperCase(),S.length?p.createElement(jc.a,{style:{marginTop:4}}," "+S.map(Fc.a).join(", ")):null))),c)}var Rc=F.a.create({container:{width:"100%",paddingTop:16},actions:{position:"absolute",top:0,right:8,flexDirection:"row",justifyContent:"flex-end"},avatarContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:32,paddingTop:16,marginBottom:16},titleContainer:{paddingLeft:32,paddingTop:16,flex:2/3,alignItems:"flex-start",justifyContent:"center"},title:{color:"white"},paragraph:{color:"white"}});function $c(e){var n=e.items,t=e.style,r=1/n.length,a=Object(Dl.b)();return p.createElement(p.Fragment,null,p.createElement(Hl.a,{style:[Uc.divider]}),p.createElement(C.default,{style:F.a.flatten([Uc.container,t])},n.map((function(e,t){return p.createElement(p.Fragment,null,p.createElement(C.default,{style:{flex:r},key:"info-grid-"+t},p.createElement(_l.c.Item,{titleStyle:[Uc.title,{alignSelf:"center",justifyContent:"center",color:a.colors.text,fontWeight:!1!==e.bold?"bold":void 0}],style:{paddingTop:15},title:e.value,descriptionStyle:[Uc.description,{color:a.colors.text}],description:e.title,onPress:e.onPress})),t===n.length-1?null:p.createElement(Hl.a,{key:"info-grid-divider-"+t,style:[Uc.verticalDivider]}))}))))}var Uc=F.a.create({container:{width:"100%",flexDirection:"row"},divider:{height:F.a.hairlineWidth,width:"100%"},verticalDivider:{width:F.a.hairlineWidth,height:"100%"},title:{textAlign:"center",color:"white"},description:{textAlign:"center",color:"white"}});function Bc(e){var n,t=e.slot,r=e.onPress,a=Object(Dl.b)();return p.createElement(xt.a,{onPress:r,style:{width:"100%"}},p.createElement(Il.a,{style:Lc.transaction},p.createElement(Il.a.Content,{style:Lc.transactionContent},p.createElement(_l.c.Item,{description:"on Load #"+t.load.loadNumber,title:null==(n=t.jumpType)?void 0:n.name,style:{width:"100%"},titleStyle:Lc.transactionTitle,descriptionStyle:Lc.transactionDescription,right:function(){var e;return p.createElement(C.default,{style:{width:180,alignItems:"center",justifyContent:"flex-end",flexDirection:"row"}},p.createElement(X.a,{style:[Lc.jumpType,{color:a.colors.onSurface}]},"-$",null==(e=t.cost)?void 0:e.toFixed(2)))},left:function(){return p.createElement(C.default,{style:{width:100,alignItems:"center",flexDirection:"row",justifyContent:"center"}},p.createElement(_l.a.Icon,{icon:"parachute-outline",size:48,style:{alignSelf:"center",marginHorizontal:12}}))}}))))}var Lc=F.a.create({avatarIcon:{},transactionTitle:{paddingLeft:0,fontSize:16,fontWeight:"500",marginBottom:6,flexGrow:1},jumpType:{fontSize:16,fontFamily:"Roboto_400Regular",fontWeight:"400",textAlign:"center",alignSelf:"center"},transactionDescription:{paddingLeft:0,flexGrow:1,minWidth:150},transactionContent:{paddingLeft:0,paddingRight:4,paddingTop:8,paddingBottom:8},transaction:{margin:0,marginBottom:0,marginVertical:0,borderRadius:2,width:"100%"}}),Wc=t(287);function Vc(e){var n,t=e.dropzoneUser,r=Sl().currentUser,o=p.useState(!1),l=H()(o,2),i=l[0],s=l[1],u=$n(),c=Object(Tl.useNavigation)(),d=p.useCallback((function(){var e,n;t&&(u(Dn.forms.user.setOriginal(t)),null!=t&&null!=(e=t.user)&&null!=(n=e.rigs)&&n.length&&u(Dn.forms.rig.setOriginal(t.user.rigs[0])),c.navigate("UserSetupWizard"))}),[u,t,c]),m=p.useCallback((function(){t&&u(Dn.forms.dropzoneUser.setOpen(t))}),[u,t]),f=p.useCallback((function(){null!=t&&t.id&&c.navigate("TransactionsScreen",{userId:null==t?void 0:t.id})}),[null==t?void 0:t.id,c]),g=p.useCallback((function(){null!=t&&t.id&&c.navigate("EquipmentScreen",{userId:null==t?void 0:t.id})}),[null==t?void 0:t.id,c]),v=p.useCallback((function(){t&&u(Dn.forms.credits.setOpen(t))}),[u,t]),h=p.useCallback((function(){null!=t&&t.user&&u(Dn.forms.user.setOpen(t))}),[u,t]),b=p.useMemo((function(){return(null==r?void 0:r.id)===(null==t?void 0:t.id)}),[null==r?void 0:r.id,null==t?void 0:t.id]),y=Nl(B.CreateUserTransaction),E=Nl(B.ReadUserTransactions),x=Nl(B.UpdateUser),k=Nl(B.DeleteUser),w=function(e){var n=ba(ba({},ya),e);return pa.a(ao,n)}(),S=H()(w,1)[0],C=p.useCallback((function(){var e;Wc.a.alert(b?"Delete My Account":"Delete "+(null==t||null==(e=t.user)?void 0:e.name),b?"Are you sure you want to delete your account? You will be logged out":"Are you sure you want to delete this user ? ",[{style:"cancel",text:"Cancel",onPress:function(){return null}},{style:"destructive",text:"Yes, delete",onPress:function(){var e,n,r,o,l,i,s;return a.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,a.a.awrap(S({variables:{id:Number(null==t?void 0:t.id)},refetchQueries:[Uo]}));case 3:l=d.sent,null==(i=l.data)||null==(e=i.deleteUser)||null==(n=e.errors)||n.forEach((function(e){u(Dn.notifications.showSnackbar({message:e,variant:"success"}))})),null!=i&&null!=(r=i.deleteUser)&&null!=(o=r.dropzoneUser)&&o.id&&u(Dn.notifications.showSnackbar({message:(null==t||null==(s=t.user)?void 0:s.name)+" has been removed",variant:"success"})),c.goBack(),d.next=13;break;case 10:d.prev=10,d.t0=d.catch(0),console.log(d.t0);case 13:case"end":return d.stop()}}),null,null,[[0,10]],Promise)}}])}),[S,u,null==t?void 0:t.id,null==t||null==(n=t.user)?void 0:n.name,b,c]),O=p.useMemo((function(){return[b&&x?{icon:"pencil",label:"Edit",onPress:h}:null,{icon:"account-convert",label:"Setup Wizard",color:cn,onPress:d},x?{icon:"lock",label:"Access & Membership",color:"#FF8800",onPress:m}:null,y?{icon:"cash-plus",label:"Add Funds",color:"#00C851",onPress:v}:null,b||E?{icon:"account-cash",label:"Manage Transactions",onPress:f}:null,{icon:"parachute",label:"Manage Equipment",onPress:g},k?{icon:"account-off",label:"Delete user",onPress:C,color:"#ff4444"}:null].filter(Boolean)}),[y,k,x,E,b,m,v,h,g,d,f,C]);return p.createElement(Ri.a.Group,{testID:"user-profile-fab",open:i,visible:!(null==t||!t.id),icon:i?"close":"account-edit",fabStyle:{marginLeft:16,marginBottom:16},onStateChange:function(e){var n=e.open;return s(n)},actions:O},"Manage")}function Mc(){var e,n,t,r,o,l,i=Un((function(e){return e.global})),s=Un((function(e){return e.forms})),u=$n(),c=Object(Tl.useNavigation)(),d=Sl().currentUser,m=Object(Tl.useRoute)(),f=function(e){var n,t,r=Un((function(e){return e.global.currentDropzoneId})),a=Vo({variables:{dropzoneId:Number(r),dropzoneUserId:e},fetchPolicy:"cache-and-network"});return Cc(Cc({},a),{},{dropzoneUser:null==a||null==(n=a.data)||null==(t=n.dropzone)?void 0:t.dropzoneUser})}(Number(m.params.userId)||Number(null==d?void 0:d.id)),g=f.dropzoneUser,v=f.loading,h=f.refetch,b=Object(Tl.useIsFocused)();p.useEffect((function(){return c.setOptions({title:"Profile"})}),[c]),p.useEffect((function(){b&&h()}),[b,h]);var E=function(e){var n=ba(ba({},ya),e);return pa.a(Fo,n)}(),x=H()(E,1)[0];p.useEffect((function(){!function(){var e;a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("web"===S.a.OS){n.next=6;break}return n.next=3,a.a.awrap(qu.b());case 3:e=n.sent,"granted"!==e.status&&console.error("Sorry, we need camera roll permissions to make this work!");case 6:case"end":return n.stop()}}),null,null,null,Promise)}()}),[]);var k=p.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(qu.a({mediaTypes:_u.a.Images,allowsEditing:!0,aspect:[4,3],quality:.1,base64:!0}));case 3:return n=t.sent,t.next=6,a.a.awrap(x({variables:{id:Number(null==g||null==(e=g.user)?void 0:e.id),image:"data:image/jpeg;base64,"+n.base64}}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),null,null,[[0,8]],Promise)}),[null==g||null==(e=g.user)?void 0:e.id,x]),w=Nl(B.CreateUserTransaction),O=p.useCallback((function(){return u(Dn.forms.rig.setOpen(!1))}),[u]),z=p.useCallback((function(){u(Dn.forms.user.setOpen(!1))}),[u]);return p.createElement(p.Fragment,null,p.createElement(C.default,{style:F.a.absoluteFill},v&&p.createElement(y.a,{color:i.theme.colors.accent,indeterminate:!0,visible:v}),p.createElement(ds,{style:{backgroundColor:i.theme.colors.background},contentContainerStyle:[qc.content,{backgroundColor:"transparent"}],refreshControl:p.createElement(Ol.a,{refreshing:v,onRefresh:function(){return h()}})},p.createElement(C.default,{style:qc.wrappingHeader},p.createElement(C.default,{style:{width:"100%"}},g?p.createElement(Nc,{dropzoneUser:g,onPressAvatar:k},p.createElement($c,{style:{height:80},items:[{title:"Funds",value:"$"+((null==g?void 0:g.credits)||0),onPress:function(){g&&w&&u(Dn.forms.credits.setOpen(g))}},{title:"License",value:""+((null==g||null==(n=g.license)?void 0:n.name)||"-")},{title:"Exit weight",value:Math.round(Number(null==g||null==(t=g.user)?void 0:t.exitWeight)).toString()||"-"}]}),p.createElement(Hl.a,{style:qc.divider})):p.createElement(jl.a,{key:"profile-header",containerStyle:{height:256,width:"100%"},isLoading:!0,layout:[{key:"header",width:"100%",height:"100%",borderRadius:8}]}))),p.createElement(C.default,{style:{width:"100%"}},p.createElement(Il.a,{style:{marginHorizontal:0},elevation:1},p.createElement(Gu.a,{sections:Object(Zl.map)(Object(Zl.groupBy)(null==g||null==(r=g.slots)?void 0:r.edges,(function(e){var n;return Object(ca.a)(1e3*((null==e||null==(n=e.node)?void 0:n.createdAt)||0)).toISOString()})),(function(e,n){var t=Object(zc.a)(n);return{title:Object(Ic.a)(new Date,t)>7?Object(Iu.a)(t,"dd MMM, yyyy"):Object(Tc.a)(t,new Date,{addSuffix:!0,locale:Hu.a}),data:e}})),renderSectionHeader:function(e){var n=e.section.title;return p.createElement(_l.c.Subheader,{style:{marginVertical:16}},n)},style:{flex:1,paddingTop:0},data:(null==g||null==(o=g.orders)?void 0:o.edges)||[],refreshing:!1,onRefresh:h,renderItem:function(e){var n=e.item;return null!=n&&n.node?p.createElement(Bc,{slot:n.node,onPress:function(){var e;c.navigate("LoadScreen",{load:null==(e=n.node)?void 0:e.load})}}):null}})))),p.createElement(bc,{onClose:O,onSuccess:function(){return requestAnimationFrame((function(){return u(Dn.forms.rig.setOpen(!1))}))},open:s.rig.open,userId:Number(null==g||null==(l=g.user)?void 0:l.id)}),p.createElement(uc,{onClose:function(){return u(Dn.forms.dropzoneUser.setOpen(!1))},onSuccess:function(e){u(Dn.forms.dropzoneUser.setOpen(!1)),(null==d?void 0:d.id)===(null==g?void 0:g.id)&&(u(Dn.global.setUser(e.user)),h())},open:s.dropzoneUser.open}),p.createElement(fc,{onClose:function(){return u(Dn.forms.credits.setOpen(!1))},onSuccess:function(){return u(Dn.forms.credits.setOpen(!1))},open:s.credits.open,dropzoneUser:g||void 0}),p.createElement(wc,{dropzoneUserId:Number(null==g?void 0:g.id),onClose:z,onSuccess:function(){u(Dn.forms.user.setOpen(!1))},open:s.user.open})),p.createElement(Vc,{dropzoneUser:g}))}var Gc,qc=F.a.create({container:{flex:1},content:{flexGrow:1,paddingBottom:56,paddingHorizontal:0},wrappingHeader:{width:"100%",flexDirection:"row",flexWrap:"wrap"},wrappingHeaderItem:{},divider:{height:1,width:"100%"},chip:{margin:1,backgroundColor:"transparent",minHeight:23,borderWidth:0,justifyContent:"center",alignItems:"center",display:"flex"},chipTitle:{color:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,lineHeight:24,textAlignVertical:"center"}});function _c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Hc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_c(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Yc=Object(fa.a)(Gc||(Gc=ma()(["\n  query QueryNotifications($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n\n      currentUser {\n        id\n\n        notifications {\n          edges {\n            node {\n              id\n              message\n              notificationType\n              createdAt\n              sentBy {\n                id\n                user {\n                  id\n                  name\n                }\n              }\n\n              resource {\n                ... on Load {\n                  id\n                  loadNumber\n                  dispatchAt\n                  state\n                }\n                ... on Transaction {\n                  id\n                  amount\n                  message\n                  status\n                }\n\n                ... on Slot {\n                  id\n                  load {\n                    id\n                    loadNumber\n                    dispatchAt\n                    state\n                  }\n                }\n\n                ... on Rig {\n                  id\n                  user {\n                    id\n                    name\n                  }\n                  rigInspections(dropzoneId: $dropzoneId) {\n                    id\n                    createdAt\n                    inspectedBy {\n                      id\n                      user {\n                        id\n                        name\n                      }\n                    }\n                  }\n                }\n\n                ... on RigInspection {\n                  id\n                  createdAt\n                  inspectedBy {\n                    id\n                    user {\n                      id\n                      name\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"])));var Jc=t(901);function Qc(e){var n=e.title,t=e.description,r=e.icon,a=e.timestamp,o=e.onPress,l=Un((function(e){return e.global})),i=l.theme,s=l.palette;return p.createElement(xt.a,{onPress:o},p.createElement(Il.a,{style:Xc.notification,elevation:3},p.createElement(Il.a.Content,{style:Xc.notificationContent},p.createElement(_l.c.Item,{title:n,description:t,style:{width:"100%"},titleStyle:Xc.notificationTitle,descriptionStyle:Xc.notificationDescription,left:function(){return p.createElement(_l.a.Icon,{size:55,icon:r,color:i.dark?i.colors.text:s.accent.light,style:Xc.avatarIcon})}}),p.createElement(jc.a,{style:Xc.timestamp},Object(Jc.a)(1e3*a,{addSuffix:!0})))))}var Xc=F.a.create({avatarIcon:{backgroundColor:"transparent",alignSelf:"center",marginHorizontal:12},notificationTitle:{paddingLeft:4,fontSize:12,fontWeight:"600",marginBottom:4},notificationDescription:{paddingLeft:4},notificationContent:{paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0},notification:{margin:0,paddingVertical:8,marginVertical:0,borderRadius:2,width:"100%"},timestamp:{position:"absolute",top:4,right:8}});function Zc(e){var n=e.notification,t=Object(ts.useNavigation)();return p.createElement(Qc,{title:"Manifest",description:n.message,timestamp:n.createdAt,icon:"airplane",onPress:function(){return t.navigate("Manifest",{screen:"LoadScreen",initial:!1,params:{load:n.resource.load}})}})}function Kc(e){var n=e.notification,t=Object(ts.useNavigation)();return p.createElement(Qc,{title:"Load #"+n.resource.loadNumber+" boarding call",description:n.message,timestamp:n.createdAt,icon:"airplane-takeoff",onPress:function(){return t.navigate("Manifest",{screen:"LoadScreen",initial:!1,params:{load:n.resource}})}})}function ed(e){switch(e){case"paid":return"cash";case"refunded":return"cash-refund";case"deposit":return"bank-transfer-in";case"withdrawal":return"bank-transfer-out";default:return"cash"}}function nd(e){var n,t=e.notification;return p.createElement(Qc,{title:Object(Zl.capitalize)(t.resource.status||""),description:t.message,timestamp:t.createdAt,icon:ed(null==(n=t.resource)?void 0:n.status),onPress:function(){return null}})}function td(e){var n=e.notification,t=Object(ts.useNavigation)();return p.createElement(Qc,{title:"rig_inspection_requested"===n.notificationType?"Rig inspection required":"Rig inspection completed",description:n.message,timestamp:n.createdAt,icon:"rig_inspection_requested"===n.notificationType?"eye":"parachute",onPress:function(){var e;return"rig_inspection_requested"===n.notificationType?t.navigate("RigInspectionScreen",{rig:n.resource.id,dropzoneUserId:null==(e=n.resource.user)?void 0:e.id}):t.navigate("Manifest",{screen:"Profile",params:{screen:"ProfileScreen"}})}})}function rd(e){var n=e.notification;return p.createElement(Qc,{title:"permission_granted"===n.notificationType?"Permission granted":"Permission revoked",description:n.message,timestamp:n.createdAt,icon:"permission_granted"===n.notificationType?"lock-open":"lock-alert",onPress:function(){return null}})}function ad(e){var n=e.notification;return p.createElement(Qc,{title:"Publication requested",description:n.message,timestamp:n.createdAt,icon:"progress-upload"})}function od(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ld(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?od(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):od(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function id(){var e,n=Un((function(e){return e.global})),t=function(){var e,n,t=Un((function(e){return e.global.currentDropzoneId})),r=Object(ga.a)(Yc,{variables:{dropzoneId:t},pollInterval:3e4});return Hc(Hc({},r),{},{notifications:null==r||null==(e=r.data)||null==(n=e.dropzone)?void 0:n.currentUser.notifications})}(),r=t.notifications,a=t.loading,l=t.refetch,i=Object(Tl.useIsFocused)();return p.useEffect((function(){i&&l()}),[i,l]),p.createElement(p.Fragment,null,a&&p.createElement(y.a,{color:n.theme.colors.accent,indeterminate:!0,visible:a}),null!=r&&null!=(e=r.edges)&&e.length?null:p.createElement(C.default,{style:sd.empty},p.createElement(Oi,{title:"No notifications",subtitle:"Notifications will show up here"})),p.createElement(o.a,{data:null==r?void 0:r.edges,numColumns:1,style:{flex:1},renderItem:function(e){var n,t=e.item;switch(null==t||null==(n=t.node)?void 0:n.notificationType){case $.BoardingCall:return p.createElement(Kc,{key:t.node.id,notification:t.node});case $.UserManifested:return p.createElement(Zc,{key:t.node.id,notification:t.node});case $.CreditsUpdated:return p.createElement(nd,{key:t.node.id,notification:t.node});case $.RigInspectionRequested:case $.RigInspectionCompleted:return p.createElement(td,{key:t.node.id,notification:t.node});case $.PermissionGranted:case $.PermissionRevoked:return p.createElement(rd,{key:t.node.id,notification:t.node});case $.PublicationRequested:return p.createElement(ad,{key:t.node.id,notification:t.node});default:return null}}}))}var sd=F.a.create({content:{flexGrow:1,paddingBottom:56,alignItems:"center",paddingHorizontal:4},divider:{height:1,width:"100%"},empty:ld(ld({},F.a.absoluteFillObject),{},{flexGrow:1,flex:1,alignSelf:"center",alignItems:"center",justifyContent:"center"})}),ud=t(554),cd=t.n(ud),dd=["name","image","source"];function md(e){var n=e.name,t=e.image,r=(e.source,J()(e,dd)),a=null==n?void 0:n.split(/\s/g).map((function(e){return cd()(e)})).join("");return t?p.createElement(_l.a.Image,oa()({source:{uri:t},style:{alignSelf:"center",marginHorizontal:12},size:32},r)):p.createElement(_l.a.Text,oa()({label:a},r))}function fd(e){var n,t,r,a,o,l=e.order,i=e.dropzoneUser,s=e.showAvatar,u=e.onPress,c=Object(Dl.b)(),d="DropzoneUser"===(null==(n=l.buyer)?void 0:n.__typename)&&(null==(t=l.buyer)?void 0:t.id)===(null==i?void 0:i.id),m=d===(null==i?void 0:i.id)?"cash-minus":"cash-plus";return p.createElement(xt.a,{onPress:u},p.createElement(Il.a,{style:pd.order},p.createElement(Il.a.Content,{style:pd.orderContent},p.createElement(_l.c.Item,{title:(null==l||null==(r=l.seller)||null==(a=r.user)?void 0:a.name)||(null==l||null==(o=l.seller)?void 0:o.name),style:{width:"100%"},titleStyle:pd.orderTitle,description:l.title||null,descriptionStyle:pd.orderDescription,right:function(){return p.createElement(X.a,{style:{fontSize:16,fontFamily:"Roboto_400Regular",fontWeight:"400",textAlign:"center",alignSelf:"center",color:c.colors.onSurface}},(d?"-$":"$")+l.amount.toFixed(2))},left:function(){var e,n,t,r;return p.createElement(C.default,{style:{alignItems:"center",flexDirection:"row"}},s?p.createElement(md,{style:{alignSelf:"center",marginHorizontal:12},size:60,name:(null==l||null==(e=l.seller)||null==(n=e.user)?void 0:n.name)||(null==l?void 0:l.seller).name||"",image:(null==(t=(null==l?void 0:l.seller).user)?void 0:t.image)||(null==l?void 0:l.seller).banner||void 0}):p.createElement(ia.a,{color:"__typename"in l.buyer&&"DropzoneUser"===l.buyer.__typename&&(null==(r=l.buyer)?void 0:r.id)===(null==i?void 0:i.id)?"#FF1414":"#00C851",name:m,size:36,style:{marginHorizontal:16}}))}}))))}var pd=F.a.create({avatarIcon:{},orderTitle:{paddingLeft:0,fontSize:16,fontWeight:"500",marginBottom:6},orderDescription:{paddingLeft:0},orderContent:{paddingLeft:0,paddingRight:4,paddingTop:8,paddingBottom:8},order:{marginHorizontal:0,marginVertical:F.a.hairlineWidth,width:"100%"}});function gd(){var e,n,t,r,a,o=Un((function(e){return e.global})),l=Un((function(e){return e.forms})),i=$n(),s=Sl().currentUser,u=Object(Tl.useRoute)(),c=Vo({variables:{dropzoneId:Number(o.currentDropzoneId),dropzoneUserId:Number(null==u||null==(e=u.params)?void 0:e.userId)||Number(null==s?void 0:s.id)}}),d=c.data,m=c.loading,f=c.refetch,g=p.useMemo((function(){var e;return null==d||null==(e=d.dropzone)?void 0:e.dropzoneUser}),[null==d||null==(n=d.dropzone)?void 0:n.dropzoneUser]),v=Object(Tl.useIsFocused)(),h=Object(Tl.useNavigation)();return p.useEffect((function(){var e;if(null!=g&&null!=(e=g.user)&&e.name&&(null==g?void 0:g.id)!==(null==s?void 0:s.id)){var n,t=null==(n=g.user)?void 0:n.name.split(/\s/),r=H()(t,1)[0];h.setOptions({title:r+"'s Transactions"})}else h.setOptions({title:"Your Transactions"})}),[null==s?void 0:s.id,null==g?void 0:g.id,null==g||null==(t=g.user)?void 0:t.name,h]),p.useEffect((function(){v&&f()}),[v,f]),p.createElement(C.default,{style:{flexGrow:1,backgroundColor:o.theme.colors.surface}},m&&p.createElement(y.a,{color:o.theme.colors.accent,indeterminate:!0,visible:m}),p.createElement(Gu.a,{sections:Object(Zl.map)(Object(Zl.groupBy)(null==g||null==(r=g.orders)?void 0:r.edges,(function(e){var n;return Object(ca.a)(1e3*((null==e||null==(n=e.node)?void 0:n.createdAt)||0)).toISOString()})),(function(e,n){var t=Object(zc.a)(n);return{title:Object(Ic.a)(new Date,t)>7?Object(Iu.a)(t,"dd MMM, yyyy"):Object(Tc.a)(t,new Date,{addSuffix:!0,locale:Hu.a}),data:e}})),renderSectionHeader:function(e){var n=e.section.title;return p.createElement(_l.c.Subheader,null,n)},style:vd.flatList,data:(null==g||null==(a=g.orders)?void 0:a.edges)||[],refreshing:!1,onRefresh:f,renderItem:function(e){var n=e.item;return p.createElement(fd,{showAvatar:!0,onPress:function(){return h.navigate("OrderScreen",{order:null==n?void 0:n.node})},order:null==n?void 0:n.node,dropzoneUser:g})}}),p.createElement(fc,{onClose:function(){return i(Dn.forms.credits.setOpen(!1))},onSuccess:function(){return i(Dn.forms.credits.setOpen(!1))},open:l.credits.open,dropzoneUser:g||void 0}))}var vd=F.a.create({flatList:{flex:1,paddingTop:0}});function hd(e){var n,t,r,o,l,i,s,u=e.rig,c=e.rigInspection,d=e.dropzoneUser,m=e.onSuccessfulImageUpload,f=e.onPress,g=p.useState(!1),v=H()(g,2),h=v[0],b=v[1],E=Un((function(e){return e.global.theme.colors})).accent,x=$n(),k=Sl().currentUser,w=gc({onSuccess:function(){b(!1),null==m||m(),x(Dn.notifications.showSnackbar({message:"Image uploaded",variant:"success"}))},onError:function(e){console.log(e),b(!1),x(Dn.notifications.showSnackbar({message:"Upload failed",variant:"error"}))}}),O=p.useState(!1),z=H()(O,2),I=z[0],T=z[1];p.useEffect((function(){!function(){var e;a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("web"===S.a.OS){n.next=6;break}return n.next=3,a.a.awrap(qu.b());case 3:e=n.sent,"granted"!==e.status&&console.error("Sorry, we need camera roll permissions to make this work!");case 6:case"end":return n.stop()}}),null,null,null,Promise)}()}),[]);var P=p.useCallback((function(){var e;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap(qu.a({mediaTypes:_u.a.Images,allowsEditing:!0,aspect:[4,3],quality:.1,base64:!0}));case 3:return e=n.sent,b(!0),n.next=7,a.a.awrap(w.mutate({id:Number(null==u?void 0:u.id),packingCard:"data:image/jpeg;base64,"+e.base64}));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),null,null,[[0,9]],Promise)}),[null==u?void 0:u.id,w]),j=Nl(B.UpdateDropzoneRig),D=Object(Tl.useNavigation)(),F=(null==k||null==(n=k.user)?void 0:n.id)===(null==(t=u.user)?void 0:t.id)||(null==u||null==(r=u.dropzone)?void 0:r.id)&&j,A=Object(Dl.b)();return p.createElement(Il.a,{onPress:f,style:{marginVertical:16}},p.createElement(y.a,{visible:h,indeterminate:!0,color:E}),p.createElement(Il.a.Title,{title:u.name||u.make+" "+u.model}),p.createElement(Il.a.Content,null,p.createElement(C.default,{style:bd.content},p.createElement(C.default,{style:bd.left},p.createElement(_l.a.Icon,{icon:"parachute",size:70,style:{backgroundColor:A.dark?A.colors.surface:A.colors.primary}})),p.createElement(C.default,{style:bd.right},p.createElement(C.default,{style:bd.textRow},p.createElement(X.a,{style:[bd.label,{color:A.colors.onSurface}]},"Container"),p.createElement(X.a,{style:[bd.description,{color:A.colors.onSurface}]},u.make," ",u.model)),p.createElement(C.default,{style:bd.textRow},p.createElement(X.a,{style:[bd.label,{color:A.colors.onSurface}]},"Main canopy size"),p.createElement(X.a,{style:[bd.description,{color:A.colors.onSurface}]},u.canopySize)),p.createElement(C.default,{style:bd.textRow},p.createElement(X.a,{style:[bd.label,{color:A.colors.onSurface}]},"Repack expiry date"),p.createElement(X.a,{style:[bd.description,{color:A.colors.onSurface}]},u.repackExpiresAt?Object(Iu.a)(1e3*u.repackExpiresAt,"yyyy/MM/dd"):"N/A")))),p.createElement(C.default,{style:{flexDirection:"row",marginTop:8}})),p.createElement(Il.a.Actions,{style:{justifyContent:"flex-end"},pointerEvents:"box-none"},p.createElement(Al.a,{onDismiss:function(){return T(!1)},visible:I,style:{marginTop:12},anchor:p.createElement(Fl.a,{mode:"outlined",icon:"camera",style:{height:24,alignItems:"center"},onPress:function(){F?T(!0):null!=u&&u.packingCard&&x(Dn.imageViewer.setOpen(u.packingCard))}},u.packingCard?"Packing card":"No packing card")},p.createElement(Al.a.Item,{title:"Upload new",icon:"camera",style:{paddingVertical:0},onPress:function(){P(),T(!1)}}),u.packingCard?p.createElement(p.Fragment,null,p.createElement(Hl.a,null),p.createElement(Al.a.Item,{title:"View",icon:"eye",style:{paddingVertical:0},onPress:function(){T(!1),u.packingCard&&x(Dn.imageViewer.setOpen(u.packingCard))}})):null),p.createElement(Fl.a,{mode:"outlined",style:[bd.chip,{backgroundColor:null!=c&&null!=(o=c.inspectedBy)&&null!=(l=o.user)&&l.name?"#00C851":"#ff4444"}],onPress:function(){D.navigate("RigInspectionScreen",{rig:u,dropzoneUserId:Number(null==d?void 0:d.id)})}},p.createElement(C.default,{style:bd.innerChip},p.createElement(C.default,{style:{marginRight:8}},p.createElement(ia.a,{name:"eye-check-outline",color:"#FFFFFF",size:18})),p.createElement(X.a,{style:{color:"white"}},(null==c||null==(i=c.inspectedBy)||null==(s=i.user)?void 0:s.name)||"Not inspected")))))}var bd=F.a.create({content:{flexDirection:"row",alignItems:"center"},chip:{height:24,marginLeft:8,alignItems:"center",justifyContent:"center"},innerChip:{flexDirection:"row",alignItems:"center",height:30,justifyContent:"space-between",flex:1},left:{flex:.25},right:{flex:.75},textRow:{flexDirection:"row",alignItems:"center"},label:{fontWeight:"500",width:130,textAlign:"left",marginRight:16,marginVertical:4},description:{fontWeight:"normal",flexGrow:1}});function yd(){var e,n,t,r,a,l=Un((function(e){return e.global})),i=Un((function(e){return e.forms})),s=$n(),u=Sl().currentUser,c=Object(Tl.useNavigation)(),d=Object(Tl.useRoute)(),m=Vo({variables:{dropzoneId:Number(l.currentDropzoneId),dropzoneUserId:Number(null==d||null==(e=d.params)?void 0:e.userId)||Number(null==u?void 0:u.id)}}),f=m.data,g=m.loading,v=m.refetch,h=p.useMemo((function(){var e;return null==f||null==(e=f.dropzone)?void 0:e.dropzoneUser}),[null==f||null==(n=f.dropzone)?void 0:n.dropzoneUser]),b=Object(Tl.useIsFocused)();p.useEffect((function(){b&&v()}),[b,v]),p.useEffect((function(){var e;if(null!=h&&null!=(e=h.user)&&e.name&&(null==h?void 0:h.id)!==(null==u?void 0:u.id)){var n,t=null==(n=h.user)?void 0:n.name.split(/\s/),r=H()(t,1)[0];c.setOptions({title:r+"'s Equipment"})}else c.setOptions({title:"Your Equipment"})}),[null==u?void 0:u.id,null==h?void 0:h.id,null==h||null==(t=h.user)?void 0:t.name,c]);var y=Nl(B.UpdateUser);return p.createElement(p.Fragment,null,p.createElement(o.a,{data:(null==h||null==(r=h.user)?void 0:r.rigs)||[],numColumns:1,style:{flex:1},refreshing:g,contentContainerStyle:{padding:16},renderItem:function(e){var n,t=e.item;return p.createElement(hd,{dropzoneUser:h,onSuccessfulImageUpload:v,rig:t,rigInspection:null==h||null==(n=h.rigInspections)?void 0:n.find((function(e){var n;return(null==(n=e.rig)?void 0:n.id)===t.id&&e.isOk})),onPress:function(){s(Dn.forms.rig.setOpen(t))}})}}),p.createElement(Ri.a,{style:Ed.fab,visible:y,small:!0,icon:"plus",onPress:function(){return s(Dn.forms.rig.setOpen(!0))},label:"Add rig"}),p.createElement(bc,{onClose:function(){return s(Dn.forms.rig.setOpen(!1))},onSuccess:function(){return requestAnimationFrame((function(){return s(Dn.forms.rig.setOpen(!1))}))},open:i.rig.open,userId:Number(null==h||null==(a=h.user)?void 0:a.id)}))}var Ed=F.a.create({container:{flex:1},content:{flexGrow:1,paddingBottom:56,paddingHorizontal:0},fab:{position:"absolute",margin:16,right:0,bottom:0},divider:{height:1,width:"100%"},chip:{margin:1,backgroundColor:"transparent",minHeight:23,borderWidth:0,justifyContent:"center",alignItems:"center",display:"flex"},chipTitle:{color:"white",display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,lineHeight:24,textAlignVertical:"center"}});function xd(){var e=Object(Tl.useNavigation)(),n=Sl().data,t=Object(Dl.b)(),r=Nl(B.UpdateDropzone),a=Nl(B.UpdateFormTemplate);return p.createElement(ds,null,p.createElement(_l.c.Section,{title:"Dropzone",style:{width:"100%"}},r?p.createElement(_l.c.Item,{title:"Configuration",onPress:function(){return e.navigate("UpdateDropzoneScreen",{dropzone:null==n?void 0:n.dropzone})},left:function(){return p.createElement(_l.c.Icon,{color:t.colors.text,icon:"information-outline"})},description:"Set up name, branding and other settings"}):null,p.createElement(_l.c.Item,{title:"Permissions",left:function(){return p.createElement(_l.c.Icon,{color:t.colors.text,icon:"lock"})},onPress:function(){return e.navigate("DropzonePermissionScreen")}}),p.createElement(_l.c.Item,{title:"Aircrafts",onPress:function(){return e.navigate("PlanesScreen")},left:function(){return p.createElement(_l.c.Icon,{color:t.colors.text,icon:"airplane"})}}),p.createElement(_l.c.Item,{title:"Rigs",left:function(){return p.createElement(_l.c.Icon,{color:t.colors.text,icon:"parachute"})},description:"Dropzone rigs, e.g tandems and student rigs",onPress:function(){return e.navigate("DropzoneRigsScreen")}}),p.createElement(_l.c.Item,{disabled:!a,title:"Rig Inspection Template",left:function(){return p.createElement(_l.c.Icon,{color:t.colors.text,icon:"check"})},onPress:function(){return e.navigate("RigInspectionTemplateScreen")}}),p.createElement(_l.c.Item,{title:"Master Log",left:function(){return p.createElement(_l.c.Icon,{color:t.colors.text,icon:"parachute"})},description:"View historic data for daily operations",onPress:function(){return e.navigate("DropzoneMasterLogScreen")}})),p.createElement(_l.c.Section,{title:"Tickets",style:{width:"100%"}},p.createElement(_l.c.Item,{title:"Ticket types",onPress:function(){return e.navigate("TicketTypesScreen")},left:function(){return p.createElement(_l.c.Icon,{color:t.colors.text,icon:"ticket"})},description:"Manage ticket prices and accessibility"}),p.createElement(_l.c.Item,{title:"Ticket add-ons",onPress:function(){return e.navigate("ExtrasScreen")},left:function(){return p.createElement(_l.c.Icon,{color:t.colors.text,icon:"plus"})},description:"Supplementary tickets like coach, camera, night jumpi"})))}var kd,wd=t(475),Sd=El(Object(fa.a)(kd||(kd=ma()(["\n  mutation CreateTicketType(\n    $name: String\n    $cost: Float\n    $dropzoneId: Int!\n    $altitude: Int\n    $allowManifestingSelf: Boolean\n    $isTandem: Boolean\n    $extraIds: [Int!]\n  ) {\n    createTicketType(\n      input: {\n        attributes: {\n          name: $name\n          cost: $cost\n          dropzoneId: $dropzoneId\n          altitude: $altitude\n          allowManifestingSelf: $allowManifestingSelf\n          isTandem: $isTandem\n          extraIds: $extraIds\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      ticketType {\n        id\n        name\n        altitude\n        cost\n        allowManifestingSelf\n        extras {\n          id\n          name\n          cost\n        }\n\n        dropzone {\n          id\n\n          ticketTypes {\n            id\n            name\n            altitude\n            cost\n            allowManifestingSelf\n            extras {\n              id\n              name\n              cost\n            }\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.createTicketType},fieldErrorMap:{extraIds:"extras"},validates:{name:[vl("Tickets must have names")],cost:[vl("Tickets must have a price")],altitude:[vl("Altitude must be specified"),bl("Altitude must be a number")]}}),Cd=El(Do,{getPayload:function(e){return e.updateTicketType},fieldErrorMap:{id:"original",extraIds:"extras"}}),Od={14e3:"Height",4e3:"Hop n Pop"};function zd(){var e,n,t,r,a,o=Un((function(e){return e.forms.ticketType})),l=$n(),i=Sl(),s=p.useState(!1),u=H()(s,2),c=u[0],d=u[1],m=_o({variables:{dropzoneId:Number(null==i||null==(e=i.dropzone)?void 0:e.id)}}).data;return p.createElement(p.Fragment,null,p.createElement(Yl.a,{style:Id.field,mode:"outlined",label:"Name",error:!!o.fields.name.error,value:o.fields.name.value||"",onChangeText:function(e){return l(Dn.forms.ticketType.setField(["name",e]))}}),p.createElement(ql.a,{type:o.fields.name.error?"error":"info"},o.fields.name.error||"Name of the ticket users will see"),p.createElement(Yl.a,{style:Id.field,mode:"outlined",label:"Price",error:!!o.fields.cost.error,value:null==(n=o.fields.cost)||null==(t=n.value)?void 0:t.toString(),onChangeText:function(e){return l(Dn.forms.ticketType.setField(["cost",Number(e)]))}}),p.createElement(ql.a,{type:o.fields.cost.error?"error":"info"},o.fields.cost.error||"Base cost without extra ticket addons"),p.createElement(C.default,{style:{width:"100%"}},p.createElement(Al.a,{onDismiss:function(){return d(!1)},visible:c,style:{position:"absolute",right:"10%",left:"10%",flex:1},anchor:p.createElement(_l.c.Item,{onPress:function(){d(!0)},title:o.fields.altitude.value&&o.fields.altitude.value.toString()in Od?Od[o.fields.altitude.value.toString()]:"Custom",style:{width:"100%",flex:1},right:function(){return p.createElement(_l.c.Icon,{icon:o.fields.altitude.value&&o.fields.altitude.value.toString()in Od?Od[o.fields.altitude.value.toString()]:"pencil-plus"})}})},p.createElement(_l.c.Item,{onPress:function(){l(Dn.forms.ticketType.setField(["altitude",4e3])),d(!1)},title:"Hop n Pop",right:function(){return p.createElement(_l.c.Icon,{icon:"parachute"})}}),p.createElement(_l.c.Item,{onPress:function(){l(Dn.forms.ticketType.setField(["altitude",14e3])),d(!1)},title:"Height",right:function(){return p.createElement(_l.c.Icon,{icon:"airplane-takeoff"})}}),p.createElement(_l.c.Item,{onPress:function(){l(Dn.forms.ticketType.setField(["altitude",7e3])),d(!1)},title:"Other",right:function(){return p.createElement(_l.c.Icon,{icon:"parachute"})}})),(!o.fields.altitude.value||![4e3,14e3].includes(o.fields.altitude.value))&&p.createElement(Yl.a,{style:Id.field,mode:"outlined",label:"Custom altitude",error:!!o.fields.altitude.error,value:null==(r=o.fields.altitude)||null==(a=r.value)?void 0:a.toString(),onChangeText:function(e){return l(Dn.forms.ticketType.setField(["altitude",Number(e)]))}}),p.createElement(bi.a.Item,{label:"Tandem",style:{width:"100%"},status:o.fields.isTandem.value?"checked":"unchecked",onPress:function(){return l(Dn.forms.ticketType.setField(["isTandem",!o.fields.isTandem.value]))}}),p.createElement(ql.a,{type:o.fields.isTandem.error?"error":"info"},o.fields.isTandem.error||"Allow also manifesting a passenger when using this ticket type"),p.createElement(bi.a.Item,{label:"Public manifesting",style:{width:"100%"},status:o.fields.allowManifestingSelf.value?"checked":"unchecked",onPress:function(){return l(Dn.forms.ticketType.setField(["allowManifestingSelf",!o.fields.allowManifestingSelf.value]))}}),p.createElement(ql.a,{type:o.fields.allowManifestingSelf.error?"error":"info"},o.fields.allowManifestingSelf.error||"Allow users to manifest themselves with this ticket"),p.createElement(Hl.a,null),p.createElement(_l.c.Subheader,null,"Enabled ticket add-ons"),null==m?void 0:m.extras.map((function(e){var n;return p.createElement(bi.a.Item,{key:"extra-"+e.id,label:e.name||"",status:null!=(n=o.fields.extras.value)&&n.map((function(e){return e.id})).includes(e.id)?"checked":"unchecked",onPress:function(){var n,t,r;return l(Dn.forms.ticketType.setField(["extras",null!=(n=o.fields.extras.value)&&n.map((function(e){return e.id})).includes(e.id)?null==(t=o.fields.extras.value)?void 0:t.filter((function(n){return n.id!==e.id})):[].concat(Gl()(null==(r=o.fields.extras)?void 0:r.value),[e])]))}})}))))}var Id=F.a.create({field:{marginBottom:8,width:"100%"}});function Td(e){var n,t,r,o,l=e.open,i=e.onClose,s=Un((function(e){return e.forms.ticketType})),u=$n(),c=Sl(),d=Sd({onSuccess:function(e){u(Dn.notifications.showSnackbar({message:"Saved",variant:"success"})),u(Dn.forms.ticketType.reset()),i()},onFieldError:function(e,n){return u(Dn.forms.ticketType.setFieldError([e,n]))},onError:function(e){return u(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),m=Cd({onSuccess:function(e){return requestAnimationFrame((function(){u(Dn.notifications.showSnackbar({message:"Saved",variant:"success"})),u(Dn.forms.ticketType.reset()),i()}))},onFieldError:function(e,n){return u(Dn.forms.ticketType.setFieldError([e,n]))},onError:function(e){return u(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),f=Object(Tl.useIsFocused)();p.useEffect((function(){f&&u(Dn.forms.ticketType.reset())}),[u,f]);var g=p.useCallback((function(){var e,n,t,r,o,l,i;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(null==(e=s.original)||!e.id){u.next=5;break}return u.next=3,a.a.awrap(m.mutate({id:Number(null==(n=s.original)?void 0:n.id),name:s.fields.name.value,cost:s.fields.cost.value,altitude:s.fields.altitude.value,allowManifestingSelf:s.fields.allowManifestingSelf.value,extraIds:null==(t=s.fields.extras)||null==(r=t.value)?void 0:r.map((function(e){var n=e.id;return Number(n)})),isTandem:!!s.fields.isTandem.value}));case 3:u.next=7;break;case 5:return u.next=7,a.a.awrap(d.mutate({dropzoneId:Number(null==c||null==(o=c.dropzone)?void 0:o.id),name:s.fields.name.value,cost:s.fields.cost.value,altitude:s.fields.altitude.value,allowManifestingSelf:s.fields.allowManifestingSelf.value,extraIds:null==(l=s.fields.extras)||null==(i=l.value)?void 0:i.map((function(e){var n=e.id;return Number(n)})),isTandem:!!s.fields.isTandem.value}));case 7:case"end":return u.stop()}}),null,null,null,Promise)}),[d,null==c||null==(n=c.dropzone)?void 0:n.id,s.fields.allowManifestingSelf.value,s.fields.altitude.value,s.fields.cost.value,null==(t=s.fields.extras)?void 0:t.value,s.fields.isTandem.value,s.fields.name.value,null==(r=s.original)?void 0:r.id,m]),v=p.useMemo((function(){return[550,650]}),[]);return p.createElement(Su,{title:null!=(o=s.original)&&o.id?"Edit ticket":"New ticket",open:l,snapPoints:v,onClose:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){i()})),loading:d.loading||m.loading,buttonAction:g,buttonLabel:"Save"},p.createElement(zd,null))}function Pd(){var e,n=Un((function(e){return e.global})),t=Un((function(e){return e.forms.ticketType})),r=$n(),o=dl({variables:{dropzoneId:Number(n.currentDropzoneId)}}),l=o.data,i=o.loading,s=o.refetch,u=Object(Tl.useRoute)(),c=Object(Tl.useIsFocused)();p.useEffect((function(){c&&s()}),[c,s]);var d=function(e){var n=ba(ba({},ya),e);return pa.a(Do,n)}(),m=H()(d,1)[0],f=function(e){var n=ba(ba({},ya),e);return pa.a(ro,n)}(),g=H()(f,1)[0];p.useEffect((function(){"TicketTypesScreen"===u.name&&s()}),[s,u.name]);var v=Nl(B.CreateTicketType);return p.createElement(ds,{style:jd.container,contentContainerStyle:[jd.content,{backgroundColor:"white"}],refreshControl:p.createElement(Ol.a,{refreshing:i,onRefresh:s})},p.createElement(y.a,{visible:i,color:n.theme.colors.accent}),p.createElement(du.a,null,p.createElement(du.a.Header,null,p.createElement(du.a.Title,null,"Name"),p.createElement(du.a.Title,{numeric:!0},"Cost"),p.createElement(du.a.Title,{numeric:!0},"Altitude"),p.createElement(du.a.Title,{numeric:!0},"Public")),null==l||null==(e=l.ticketTypes)?void 0:e.map((function(e){return p.createElement(pu,{rightAction:{label:"Delete",backgroundColor:"red",onPress:function(){var n,t,o,l,i;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.a.awrap(g({variables:{id:Number(e.id)}}));case 2:o=s.sent,null!=(l=o.data)&&null!=(n=l.archiveTicketType)&&null!=(t=n.errors)&&t.length&&r(Dn.notifications.showSnackbar({message:null==l||null==(i=l.archiveTicketType)?void 0:i.errors[0],variant:"error"}));case 5:case"end":return s.stop()}}),null,null,null,Promise)}}},p.createElement(du.a.Row,{onPress:function(){r(Dn.forms.ticketType.setOpen(e))},pointerEvents:"none"},p.createElement(du.a.Cell,null,e.name),p.createElement(du.a.Cell,{numeric:!0},"$",e.cost),p.createElement(du.a.Cell,{numeric:!0},e.altitude),p.createElement(du.a.Cell,{numeric:!0},p.createElement(wd.a,{onValueChange:function(){m({variables:{id:Number(e.id),allowManifestingSelf:!e.allowManifestingSelf}})},value:!!e.allowManifestingSelf}))))}))),p.createElement(Ri.a,{style:jd.fab,small:!0,visible:v,icon:"plus",onPress:function(){return r(Dn.forms.ticketType.setOpen(!0))},label:"New ticket type"}),p.createElement(Td,{open:t.open,onClose:function(){return r(Dn.forms.ticketType.setOpen(!1))}}))}var jd=F.a.create({container:{flex:1,display:"flex"},content:{flexGrow:1},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}}),Dd=El(wo,{getPayload:function(e){return e.updateDropzone},fieldErrorMap:{}}),Fd=t(92),Ad=t(902),Nd=t(566),Rd=t(157),$d=t.n(Rd);function Ud(e){var n=e.value,t=e.onChange,r=e.open,a=e.onClose,o=p.useRef();return p.createElement(Wl.a,null,p.createElement(Vl.a,{visible:!!r,onDismiss:function(){return a()}},p.createElement(Vl.a.Title,null,"Custom color"),p.createElement(Vl.a.Content,{style:{padding:20,height:400}},p.createElement(Nd.a,{style:{flex:1},sliderComponent:$d.a,defaultColor:n,hideSliders:!0,ref:o})),p.createElement(Vl.a.Actions,null,p.createElement(K.a,{onPress:function(){return a()}},"Cancel"),p.createElement(K.a,{onPress:function(){var e;o.current&&t(null==(e=o.current)?void 0:e.getColor())}},"Save"))))}var Bd=["#000000","#FF1414","#D6116B","#B70E97","#6718AC","#1E47AB","#11839E","#0DA583","#10C626","#92EA12","#FF8B14","#FFB214"];var Ld=F.a.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16,height:200},title:{color:"white",fontSize:24,fontWeight:"bold",marginBottom:10,textAlign:"center"},colorBox:{height:25,width:25,margin:5,alignItems:"center",justifyContent:"center"}}),Wd=function(e){var n=e.value,t=e.title,r=e.helperText,a=e.onChange,o=e.error,l=!Bd.includes(n),i=p.useState(!1),s=H()(i,2),u=s[0],c=s[1];return p.createElement(p.Fragment,null,p.createElement(Ud,{open:u,value:n,onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){a(e),c(!1)})),onClose:function(){return c(!1)}}),p.createElement(Il.a,{style:Ld.card},p.createElement(_l.c.Subheader,null,t),p.createElement(Il.a.Content,{style:{flexDirection:"row",flexWrap:"wrap"}},Bd.map((function(e){return p.createElement(Pc.a,{onPress:function(){return a(e)}},p.createElement(Fd.a,{style:[Ld.colorBox,{flexDirection:"row"},e===n?{borderWidth:2,borderColor:"black"}:{}]},p.createElement(C.default,{style:{height:"100%",width:"33%",backgroundColor:un()(e).lighten(.6).hex()}}),p.createElement(C.default,{style:{height:"100%",width:"33%",backgroundColor:e}}),p.createElement(C.default,{style:{height:"100%",width:"33%",backgroundColor:un()(e).darken(.3).hex()}})))})),p.createElement(Pc.a,{onPress:function(){return c(!0)}},p.createElement(Fd.a,{style:[Ld.colorBox,{backgroundColor:l?n:"#FFFFFF"},l?{borderWidth:2,borderColor:"black"}:{}]},p.createElement(Ad.a,{name:"add",size:1})))),p.createElement(ql.a,{type:o?"error":"info"},o||r)))};var Vd=F.a.create({label:{fontWeight:"bold",textAlign:"center",fontSize:16,marginTop:8},previewContainer:{height:200,width:100,borderRadius:5,borderWidth:F.a.hairlineWidth,borderColor:"#CCCCCC",backgroundColor:"#EFEFEF",alignSelf:"center"},previewTabButton:{width:25,height:9,borderRadius:4.5,backgroundColor:"blue",position:"absolute",bottom:4,left:30},previewTabButton2:{width:9,height:9,borderRadius:4.5,backgroundColor:"blue",position:"absolute",bottom:4,left:59},previewTabButton3:{width:9,height:9,borderRadius:4.5,backgroundColor:"blue",position:"absolute",bottom:4,left:70},previewAppBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",top:0,borderTopRightRadius:5,borderTopLeftRadius:5},previewTabBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",bottom:0,borderBottomRightRadius:5,borderBottomLeftRadius:5},previewLoadCard:{width:"96%",borderRadius:2,height:"20%",marginVertical:"2%",marginHorizontal:"2%",backgroundColor:"#FFFFFF",position:"absolute",top:"15%"},previewLoadCard2:{width:"96%",height:"20%",borderRadius:2,backgroundColor:"#FFFFFF",marginVertical:"2%",marginHorizontal:"2%",position:"absolute",top:"37%"},previewLoadCard3:{width:"96%",height:"20%",borderRadius:2,marginVertical:"2%",backgroundColor:"#FFFFFF",marginHorizontal:"2%",position:"absolute",top:"59%"},previewButton:{width:"35%",height:"6%",position:"absolute",bottom:22,right:5,borderRadius:5,backgroundColor:"#DDDDDD"},colorBox:{height:25,width:25,margin:5}}),Md=function(e){var n=e.primaryColor,t=Un((function(e){return e.global})),r=t.theme,a=t.palette;return p.createElement(C.default,null,p.createElement(Fd.a,{style:Vd.previewContainer},p.createElement(C.default,{style:[Vd.previewAppBar,{backgroundColor:r.colors.surface}]}),p.createElement(C.default,{style:[Vd.previewLoadCard]}),p.createElement(C.default,{style:[Vd.previewLoadCard2]}),p.createElement(C.default,{style:[Vd.previewLoadCard3]}),p.createElement(C.default,{style:[Vd.previewButton,{backgroundColor:n}]}),p.createElement(C.default,{style:[Vd.previewTabBar,{backgroundColor:r.colors.surface}]}),p.createElement(C.default,{style:[Vd.previewTabButton,{backgroundColor:a.placeholder}]}),p.createElement(C.default,{style:[Vd.previewTabButton2,{backgroundColor:a.placeholder}]}),p.createElement(C.default,{style:[Vd.previewTabButton3,{backgroundColor:a.placeholder}]})),p.createElement(X.a,{style:Vd.label},"Phone"))};var Gd=F.a.create({label:{fontWeight:"bold",textAlign:"center",fontSize:16,marginTop:8},previewContainer:{height:100,width:170,borderRadius:5,borderWidth:F.a.hairlineWidth,borderColor:"#CCCCCC",alignSelf:"center"},previewAppBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",top:0,borderTopRightRadius:5,borderTopLeftRadius:5},previewTabButton:{width:15,height:5,borderRadius:3,backgroundColor:"blue",position:"absolute",bottom:2,left:20},previewTabButton2:{width:5,height:5,borderRadius:3,backgroundColor:"blue",position:"absolute",bottom:2,left:38},previewTabButton3:{width:5,height:5,borderRadius:3,backgroundColor:"blue",position:"absolute",bottom:2,left:45},previewTabBar:{width:"100%",height:"8.5%",backgroundColor:"#DDDDDD",position:"absolute",bottom:0,borderBottomRightRadius:5,borderBottomLeftRadius:5},previewLoadCard:{width:"30%",height:"60%",marginVertical:"2%",backgroundColor:"#FFFFFF",position:"absolute",top:"15%",left:"2%"},previewLoadCard2:{width:"30%",height:"60%",backgroundColor:"#FFFFFF",marginVertical:"2%",position:"absolute",top:"15%",left:"35%"},previewLoadCard3:{width:"30%",height:"60%",marginVertical:"2%",backgroundColor:"#FFFFFF",position:"absolute",top:"15%",left:"68%"},previewButton:{width:"12%",height:"6%",position:"absolute",bottom:15,right:8,borderRadius:5,backgroundColor:"#DDDDDD"},colorBox:{height:25,width:25,margin:5}}),qd=function(e){var n=e.primaryColor,t=Un((function(e){return e.global})).palette;return p.createElement(C.default,null,p.createElement(Fd.a,{style:[Gd.previewContainer,{backgroundColor:"#EFEFEF"}]},p.createElement(C.default,{style:[Gd.previewAppBar,{backgroundColor:"#FFFFFF"}]}),p.createElement(C.default,{style:[Gd.previewLoadCard]}),p.createElement(C.default,{style:[Gd.previewLoadCard2]}),p.createElement(C.default,{style:[Gd.previewLoadCard3]}),p.createElement(C.default,{style:[Gd.previewButton,{backgroundColor:n}]}),p.createElement(C.default,{style:[Gd.previewTabBar,{backgroundColor:"#FFFFFF"}]}),p.createElement(C.default,{style:[Gd.previewTabButton,{backgroundColor:t.placeholder}]}),p.createElement(C.default,{style:[Gd.previewTabButton2,{backgroundColor:t.placeholder}]}),p.createElement(C.default,{style:[Gd.previewTabButton3,{backgroundColor:t.placeholder}]})),p.createElement(X.a,{style:Gd.label},"Web"))};function _d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Hd(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_d(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Yd=F.a.create({container:{paddingHorizontal:48,alignItems:"center",backgroundColor:"transparent"},title:{position:"absolute",fontSize:30,top:140,fontWeight:"bold",color:"white",left:0,paddingLeft:10,width:"100%",paddingBottom:40,textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2}},markerFixed:Hd(Hd({},F.a.absoluteFillObject),{},{justifyContent:"center",alignItems:"center",flexDirection:"column"}),content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:0,paddingVertical:16,marginVertical:16,width:"100%"},myLocation:{position:"absolute",bottom:30,right:30,backgroundColor:"white",borderRadius:50,padding:8}}),Jd=function(e){var n=e.markerSize,t=e.labelSize,r=e.value,o=p.useState(),l=H()(o,2),i=l[0],s=l[1],u=p.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(Fs.b());case 3:if(e=t.sent,"granted"===e.status){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,a.a.awrap(Fs.a({}));case 9:n=t.sent,console.log("user location",n.coords),s({lat:n.coords.latitude,lng:n.coords.longitude}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),null,null,[[0,14]],Promise)}),[]);p.useEffect((function(){null!==r.lng&&null!=r.lng||u()}),[u,r.lng]);var c=p.useRef(new Vi.a.Value(0)),d=r.lng&&r.lng?{lat:r.lat,lng:r.lng}:void 0,m=p.useState(!1),f=H()(m,2),g=f[0],v=f[1],h=p.useRef(Vi.a.timing(c.current,{duration:100,toValue:0,useNativeDriver:!0})),b=p.useRef(Vi.a.timing(c.current,{duration:100,toValue:1,useNativeDriver:!0})),y=p.useCallback((function(e){v(!0),(e?b:h).current.start((function(){return v(!1)}))}),[]),E=p.useState(!1),x=H()(E,2),k=x[0],w=x[1];return p.createElement($s.a,{position:{x:0,y:0},width:"100%",height:"100%",mapStyle:Hd(Hd({},F.a.absoluteFillObject),{},{marginTop:-50}),coords:d,center:i||d,onDragStart:function(){g||(y(!1),w(!0))},onDragEnd:function(n){var t,r;null==(t=h.current)||t.stop(),null==(r=b.current)||r.stop(),v(!1),y(!0),y(!0),w(!1),e.onChange({longitude:n.lng,latitude:n.lat})},interactive:!0},d?p.createElement(C.default,{style:Yd.markerFixed,pointerEvents:"none"},p.createElement(ia.a,{pointerEvents:"none",size:n||60,style:{color:"#ffffff",textShadowColor:"rgba(14,14,14,0.8)",textShadowOffset:{width:5,height:5},textShadowRadius:10,zIndex:10},name:k?"map-marker":"map-marker-check-outline"}),p.createElement(Vi.a.Text,{style:{fontSize:t||30,position:"absolute",bottom:"30%",width:"100%",opacity:c.current,textAlign:"center",color:"#ffffff",textShadowColor:"rgba(14,14,14,0.8)",textShadowOffset:{width:3,height:3},textShadowRadius:10}},d.lat.toFixed(5),",",d.lng.toFixed(5))):null,p.createElement(xt.a,{style:Yd.myLocation,onPress:function(){u()}},p.createElement(Ad.a,{name:"my-location",size:20})))};function Qd(e){var n,t,r,o,l,i,s,u=e.loading,c=Un((function(e){return e.forms.dropzone})),d=$n(),m=Yo(),f=m.data,g=m.loading,v=Sl().currentUser,h=Object(Dl.b)();p.useEffect((function(){var e,n;null==f||null==(e=f.federations)||!e.length||null!=(n=c.fields.federation)&&n.value||d(Dn.forms.dropzone.setField(["federation",f.federations[0]]))}),[null==f?void 0:f.federations,d,null==(n=c.fields.federation)?void 0:n.value]);var b=p.useCallback((function(){var e;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap(qu.a({mediaTypes:_u.a.Images,allowsEditing:!0,aspect:[4,3],quality:.1,base64:!0}));case 3:e=n.sent,d(Dn.forms.dropzone.setField(["banner","data:image/jpeg;base64,"+e.base64])),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]],Promise)}),[d]),y=h.dark?Du.a:Pu.a;return p.createElement(p.Fragment,null,p.createElement(jl.a,{isLoading:g||u,containerStyle:Xd.skeletonCard,layout:[{key:"box",height:300,width:"100%"}]},p.createElement(Il.a,{style:Xd.card},p.createElement(Il.a.Title,{title:"Banner"}),p.createElement(Il.a.Cover,{source:c.fields.banner.value?{uri:c.fields.banner.value}:y,resizeMode:"cover",style:{width:"100%"}}),p.createElement(Il.a.Content,{style:{paddingLeft:0,paddingRight:0}},p.createElement(ql.a,{type:"info"},"Your banner is displayed on the weather board and on the dropzone selection screen")),p.createElement(Il.a.Actions,{style:{justifyContent:"flex-end"}},p.createElement(K.a,{onPress:b},"Upload")))),p.createElement(jl.a,{isLoading:g||u,containerStyle:Xd.skeletonCard,layout:[{key:"box",height:300,width:"100%"}]},p.createElement(Il.a,{style:Xd.card},p.createElement(_l.c.Subheader,null,"Name"),p.createElement(Yl.a,{mode:"outlined",error:!!c.fields.name.error,value:c.fields.name.value||"",onChangeText:function(e){return d(Dn.forms.dropzone.setField(["name",e]))}}),p.createElement(ql.a,{type:"error"},c.fields.name.error||""),p.createElement(Ec,{value:c.fields.federation.value,onSelect:function(e){return d(Dn.forms.dropzone.setField(["federation",e]))}}),p.createElement(ql.a,{type:c.fields.federation.error?"error":"info"},c.fields.federation.error||""))),p.createElement(jl.a,{isLoading:g||u,containerStyle:Xd.skeletonCard,layout:[{key:"box",height:300,width:"100%"}]},p.createElement(Il.a,{style:[Xd.card,{height:500,paddingHorizontal:0}]},p.createElement(_l.c.Subheader,null,"Location"),p.createElement(Il.a.Content,{style:{marginTop:50,paddingBottom:50,paddingLeft:0,paddingRight:0,flexGrow:1}},p.createElement(Jd,{value:c.fields.lat.value&&c.fields.lng.value?{lat:c.fields.lat.value,lng:c.fields.lng.value}:void 0,onChange:function(e){d(Dn.forms.dropzone.setField(["lat",e.latitude])),d(Dn.forms.dropzone.setField(["lng",e.longitude]))}})))),p.createElement(jl.a,{isLoading:g||u,containerStyle:Xd.skeletonCard,layout:[{key:"box",height:300,width:"100%"}]},p.createElement(Il.a,{style:Xd.card},p.createElement(Il.a.Title,{title:"Branding"}),p.createElement(Il.a.Content,{style:{flexDirection:"row",justifyContent:"space-evenly",alignItems:"flex-end",width:"100%"}},p.createElement(Md,{primaryColor:c.fields.primaryColor.value||"#000000"}),p.createElement(qd,{primaryColor:c.fields.primaryColor.value||"#000000"})))),p.createElement(jl.a,{isLoading:g||u,containerStyle:Xd.skeletonCardColorPicker,layout:[{key:"box",height:200,width:"100%"}]},p.createElement(Wd,{title:"Primary color",helperText:"Primary color is used for elements like the title bar and the tab bar",error:c.fields.primaryColor.error||null,onChange:function(e){d(Dn.forms.dropzone.setField(["primaryColor",e])),d(Dn.global.setPrimaryColor(e))},value:c.fields.primaryColor.value||"#000000"})),p.createElement(jl.a,{isLoading:g||u,containerStyle:Xd.skeletonCardCheckbox,layout:[{key:"box",height:150,width:"100%"}]},p.createElement(Il.a,{style:Xd.card},p.createElement(_l.c.Item,{descriptionNumberOfLines:10,title:"Use credit system",description:"Users will be charged credits when a load is marked as landed and can't manifest with insufficient funds.",onPress:function(){return d(Dn.forms.dropzone.setField(["isCreditSystemEnabled",!c.fields.isCreditSystemEnabled.value]))},left:function(){return p.createElement(bi.a,{onPress:function(){return d(Dn.forms.dropzone.setField(["isCreditSystemEnabled",!c.fields.isCreditSystemEnabled.value]))},status:c.fields.isCreditSystemEnabled.value?"checked":"unchecked"})}}))),p.createElement(jl.a,{isLoading:g||u,containerStyle:Xd.skeletonCardCheckbox,layout:[{key:"box",height:150,width:"100%"}]},p.createElement(Il.a,{style:Xd.card},p.createElement(_l.c.Item,{title:null==c||null==(t=c.original)||!t.requestPublication||null!=(r=c.original)&&r.isPublic?"Request Publication":"Awaiting review",description:null==c||null==(o=c.original)||!o.requestPublication||null!=(l=c.original)&&l.isPublic?"Your dropzone will not be visible to other users until it is published. You can request a review to publish your dropzone, and may be contacted for verification on the email or phone number on your profile.":"You will be contacted to verify the legitimacy of your dropzone before your dropzone is publicly available. This is to prevent illegitimate actors on the platform. Thank you for your patience and understanding.",descriptionNumberOfLines:10,onPress:function(){var e,n;(d(Dn.forms.dropzone.setField(["requestPublication",!(null!=(e=c.fields.requestPublication)&&e.value)])),c.fields.isPublic)&&d(Dn.forms.dropzone.setField(["isPublic",!(null!=(n=c.fields.isPublic)&&n.value)]))},left:function(e){var n,t,r,a,o,l={icon:void 0,color:void 0};return null!=(n=c.fields.requestPublication)&&n.value&&(l.icon="upload"),null!=(t=c.original)&&t.requestPublication&&null!=(r=c.fields.requestPublication)&&r.value&&(l.color="#FF8800",l.icon="progress-upload"),null!=(a=c.original)&&a.isPublic&&null!=(o=c.fields)&&o.isPublic.value&&(l.icon="check"),l.icon?p.createElement(_l.c.Icon,oa()({},e,l)):p.createElement(C.default,{style:{width:56,height:56}})}}),"administrator"===(null==v||null==(i=v.user)?void 0:i.moderationRole)&&null!=c&&null!=(s=c.original)&&s.requestPublication?p.createElement(Il.a.Actions,null,p.createElement(K.a,{onPress:function(){return d(Dn.forms.dropzone.setField(["isPublic",!1]))}},"Decline"),p.createElement(K.a,{onPress:function(){return d(Dn.forms.dropzone.setField(["isPublic",!0]))}},"Accept")):null)))}var Xd=F.a.create({skeletonCard:{marginVertical:16,width:"100%"},skeletonCardColorPicker:{marginVertical:16,minHeight:200,width:"100%"},skeletonCardCheckbox:{minHeight:116,marginVertical:16,width:"100%"},card:{padding:16,width:"100%"},fields:{flexGrow:1,display:"flex",width:"100%"},field:{marginBottom:8,width:"100%"},subheader:{paddingLeft:0}});function Zd(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Kd(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Zd(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zd(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function em(){var e,n=Un((function(e){return e.forms.dropzone})),t=Un((function(e){return e.global})),r=$n(),o=Object(Tl.useRoute)().params.dropzone,l=Object(Tl.useNavigation)(),i=Sl(),s=i.data,u=i.currentUser,c=i.loading;p.useEffect((function(){var e;null!=s&&null!=(e=s.dropzone)&&e.id&&r(Dn.forms.dropzone.setOpen(s.dropzone))}),[null==s?void 0:s.dropzone,null==s||null==(e=s.dropzone)?void 0:e.id,r]);var d=Dd({onError:function(e){return r(Dn.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){var n;null!=e&&null!=(n=e.dropzone)&&n.id&&(r(Dn.global.setDropzone(Kd(Kd({},t.currentDropzone||{}),null==e?void 0:e.dropzone))),r(Dn.notifications.showSnackbar({message:"Your settings have been saved",variant:"success"})),l.goBack())}}),m=p.useCallback((function(){var e,t,l,i,s,c,m,f,p,g,v,h,b,y,E,x,k;return a.a.async((function(w){for(;;)switch(w.prev=w.next){case 0:if(l=!1,i=n.fields,s=i.name,c=i.banner,m=i.federation,f=i.lat,p=i.lng,g=i.primaryColor,v=i.secondaryColor,h=i.isCreditSystemEnabled,b=i.requestPublication,y=i.isPublic,(null==(e=s.value)||!e.length||(null==(t=s.value)?void 0:t.length)<3)&&(l=!0,r(Dn.forms.dropzone.setFieldError(["name","Name is too short"]))),l){w.next=15;break}return w.prev=4,w.next=7,a.a.awrap(d.mutate({id:Number(null==o?void 0:o.id),name:s.value,lat:f.value,lng:p.value,banner:c.value||null,primaryColor:g.value,secondaryColor:v.value,federationId:Number(null==m||null==(E=m.value)?void 0:E.id),isCreditSystemEnabled:!!h,isPublic:void 0!==(null==y?void 0:y.value)&&null!=u&&u.user.moderationRole&&"user"!==(null==u?void 0:u.user.moderationRole)?!(null==y||!y.value):null,requestPublication:!(null==b||!b.value)}));case 7:return null==(k=w.sent)||null==(x=k.fieldErrors)||x.map((function(e){var n=e.field,t=e.message;switch(n){case"federation":case"federation_id":return r(Dn.forms.dropzone.setFieldError(["federation",t]));case"banner":return r(Dn.forms.dropzone.setFieldError(["banner",t]));case"primary_color":return r(Dn.forms.dropzone.setFieldError(["primaryColor",t]));case"secondary_color":return r(Dn.forms.dropzone.setFieldError(["secondaryColor",t]));case"is_credit_system_enabled":return r(Dn.forms.dropzone.setFieldError(["isCreditSystemEnabled",t]));case"name":return r(Dn.forms.dropzone.setFieldError(["name",t]));case"is_public":return r(Dn.forms.dropzone.setFieldError(["isPublic",t]));default:return null}})),w.abrupt("return",null);case 12:w.prev=12,w.t0=w.catch(4),r(Dn.notifications.showSnackbar({message:w.t0.message,variant:"error"}));case 15:return w.abrupt("return",null);case 16:case"end":return w.stop()}}),null,null,[[4,12]],Promise)}),[n.fields,r,d,null==o?void 0:o.id,null==u?void 0:u.user.moderationRole]);return p.createElement(p.Fragment,null,p.createElement(y.a,{indeterminate:!0,color:t.theme.colors.accent,visible:c}),p.createElement(ds,{style:{backgroundColor:"#f4f5f5"},contentContainerStyle:nm.content},p.createElement(Qd,{loading:c}),p.createElement(Ci,{style:nm.fields},p.createElement(K.a,{mode:"contained",disabled:d.loading,onPress:m,loading:d.loading},"Save"))))}var nm=F.a.create({container:{flex:1,backgroundColor:"white",display:"flex"},content:{display:"flex",flexGrow:1,alignSelf:"center",alignItems:"center",width:"100%",maxWidth:500,padding:48},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fields:{width:"100%",marginBottom:16},field:{marginBottom:8}});function tm(){var e,n,t,r,a,o=Un((function(e){return e.forms.plane})),l=$n();return p.createElement(p.Fragment,null,p.createElement(Yl.a,{style:rm.field,mode:"outlined",label:"Name",error:!!o.fields.name.error,value:(null==(e=o.fields.name)?void 0:e.value)||"",onChangeText:function(e){return l(Dn.forms.plane.setField(["name",e]))}}),p.createElement(ql.a,{type:o.fields.name.error?"error":"info"},o.fields.name.error||""),p.createElement(Yl.a,{style:rm.field,mode:"outlined",label:"Registration",error:!!o.fields.registration.error,value:(null==(n=o.fields.registration)?void 0:n.value)||"",onChangeText:function(e){return l(Dn.forms.plane.setField(["registration",e]))}}),p.createElement(ql.a,{type:o.fields.registration.error?"error":"info"},o.fields.registration.error||""),p.createElement(Yl.a,{style:rm.field,mode:"outlined",label:"Min slots",error:!!o.fields.minSlots.error,value:null==(t=o.fields.minSlots.value)?void 0:t.toString(),keyboardType:"number-pad",onChangeText:function(e){return l(Dn.forms.plane.setField(["minSlots",Number(e)]))}}),p.createElement(ql.a,{type:o.fields.minSlots.error?"error":"info"},o.fields.minSlots.error||"Minimum tickets required to send it"),p.createElement(Yl.a,{style:rm.field,mode:"outlined",label:"Max slots",error:!!o.fields.maxSlots.error,value:(null==(r=o.fields.maxSlots)||null==(a=r.value)?void 0:a.toString())||"",keyboardType:"number-pad",onChangeText:function(e){return l(Dn.forms.plane.setField(["maxSlots",Number(e)]))}}),p.createElement(ql.a,{type:o.fields.maxSlots.error?"error":"info"},o.fields.maxSlots.error||"Maximum amount of jumpers who can be manifested on one load"))}var rm=F.a.create({fields:{width:"100%",flex:1},field:{width:"100%",marginBottom:8}});function am(e){var n,t,r,o,l=e.open,i=e.onClose,s=Sl(),u=Un((function(e){return e.forms.plane})),c=$n(),d=function(e){var n=ba(ba({},ya),e);return pa.a(so,n)}(),m=H()(d,2),f=m[0],g=m[1],v=function(e){var n=ba(ba({},ya),e);return pa.a(zo,n)}(),h=H()(v,2),b=h[0],y=h[1],E=p.useCallback((function(){var e=!1;return(u.fields.name.value||"").length<3&&(e=!0,c(Dn.forms.plane.setFieldError(["name","Name is too short"]))),(u.fields.registration.value||"").length<3&&(e=!0,c(Dn.forms.plane.setFieldError(["registration","Registration is too short"]))),u.fields.maxSlots.value||(e=!0,c(Dn.forms.plane.setFieldError(["maxSlots","Max slots must be specified"]))),!e}),[c,u.fields.maxSlots.value,u.fields.name.value,u.fields.registration.value]),x=p.useCallback((function(){var e,n,t,r,o,l,s,d,m,f,p,g;return a.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(e=u.fields,n=e.name,t=e.registration,r=e.maxSlots,o=e.minSlots,!E()){v.next=17;break}return v.prev=2,v.next=5,a.a.awrap(b({variables:{id:Number(null==(l=u.original)?void 0:l.id),name:n.value||"",registration:t.value||"",minSlots:o.value||0,maxSlots:r.value||0}}));case 5:if(f=v.sent,null==(p=null==f||null==(s=f.data)?void 0:s.updatePlane)||null==(d=p.fieldErrors)||!d.length){v.next=10;break}return p.fieldErrors.forEach((function(e){var n=e.field,t=e.message;switch(n){case"max_slots":return c(Dn.forms.plane.setFieldError(["maxSlots",t]));case"name":return c(Dn.forms.plane.setFieldError(["name",t]));case"min_slots":return c(Dn.forms.plane.setFieldError(["minSlots",t]));case"registration":return c(Dn.forms.plane.setFieldError(["registration",t]));default:return null}})),v.abrupt("return");case 10:null!=p&&null!=(m=p.errors)&&m.length&&p.errors.forEach((function(e){return c(Dn.notifications.showSnackbar({message:e,variant:"error"}))})),null!=p&&p.plane&&(g=null==p?void 0:p.plane,c(Dn.notifications.showSnackbar({message:"Added plane "+g.name,variant:"success"})),i(),c(Dn.forms.plane.reset())),v.next=17;break;case 14:v.prev=14,v.t0=v.catch(2),c(Dn.notifications.showSnackbar({message:v.t0.message,variant:"error"}));case 17:case"end":return v.stop()}}),null,null,[[2,14]],Promise)}),[c,b,i,u.fields,null==(n=u.original)?void 0:n.id,E]),k=p.useCallback((function(){var e,n,t,r,o,l,d,m,p,g,v,h;return a.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(e=u.fields,n=e.name,t=e.registration,r=e.maxSlots,o=e.minSlots,!E()){b.next=17;break}return b.prev=2,b.next=5,a.a.awrap(f({variables:{dropzoneId:Number(null==s||null==(l=s.dropzone)?void 0:l.id),name:n.value||"",registration:t.value||"",minSlots:o.value||0,maxSlots:r.value||0}}));case 5:if(g=b.sent,null==(v=null==g||null==(d=g.data)?void 0:d.createPlane)||null==(m=v.fieldErrors)||!m.length){b.next=10;break}return v.fieldErrors.forEach((function(e){var n=e.field,t=e.message;switch(n){case"max_slots":return c(Dn.forms.plane.setFieldError(["maxSlots",t]));case"name":return c(Dn.forms.plane.setFieldError(["name",t]));case"min_slots":return c(Dn.forms.plane.setFieldError(["minSlots",t]));case"registration":return c(Dn.forms.plane.setFieldError(["registration",t]));default:return null}})),b.abrupt("return");case 10:null!=v&&null!=(p=v.errors)&&p.length&&v.errors.forEach((function(e){return c(Dn.notifications.showSnackbar({message:e,variant:"error"}))})),null!=v&&v.plane&&(h=null==v?void 0:v.plane,c(Dn.notifications.showSnackbar({message:"Added plane "+h.name,variant:"success"})),i(),c(Dn.forms.plane.reset())),b.next=17;break;case 14:b.prev=14,b.t0=b.catch(2),c(Dn.notifications.showSnackbar({message:b.t0.message,variant:"error"}));case 17:case"end":return b.stop()}}),null,null,[[2,14]],Promise)}),[null==s||null==(t=s.dropzone)?void 0:t.id,c,f,i,u.fields,E]),w=p.useMemo((function(){var e;return null!=(e=u.original)&&e.id?x:k}),[k,x,null==(r=u.original)?void 0:r.id]),S=p.useMemo((function(){return[580,"80%"]}),[]),C=p.useCallback((function(){i(),c(Dn.forms.plane.reset())}),[c,i]);return p.createElement(Su,{title:null!=(o=u.original)&&o.id?"Edit aircraft":"New aircraft",open:l,snapPoints:S,buttonLabel:"Save",buttonAction:w,loading:g.loading||y.loading,onClose:C},p.createElement(tm,null))}function om(){var e,n,t,r=Un((function(e){return e.global})),o=Un((function(e){return e.forms.plane})),l=rl({variables:{dropzoneId:Number(r.currentDropzoneId)}}),i=l.data,s=l.loading,u=l.refetch,c=function(e){var n=ba(ba({},ya),e);return pa.a(to,n)}(),d=H()(c,1)[0],m=$n(),f=Object(Tl.useIsFocused)();p.useEffect((function(){f&&u()}),[f,u]);var g=Nl(B.DeletePlane),v=Nl(B.CreatePlane);return p.createElement(p.Fragment,null,p.createElement(ds,{refreshControl:p.createElement(Ol.a,{refreshing:s,onRefresh:u})},p.createElement(y.a,{visible:s,color:r.theme.colors.accent}),null!=i&&null!=(e=i.planes)&&e.length?null:p.createElement(Oi,{title:"No planes?",subtitle:"You need to have at least one plane to manifest loads"}),null!=i&&null!=(n=i.planes)&&n.length?p.createElement(du.a,null,p.createElement(du.a.Header,null,p.createElement(du.a.Title,null,"Name"),p.createElement(du.a.Title,{numeric:!0},"Registration"),p.createElement(du.a.Title,{numeric:!0},"Slots")),null==i||null==(t=i.planes)?void 0:t.map((function(e){return p.createElement(pu,{key:"plane-"+e.id,disabled:!g,rightAction:{label:"Delete",backgroundColor:"red",onPress:function(){var n,t,r,o;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,a.a.awrap(d({variables:{id:Number(e.id)}}));case 2:r=l.sent,null!=(o=r.data)&&null!=(n=o.deletePlane)&&null!=(t=n.errors)&&t.length&&m(Dn.notifications.showSnackbar({message:o.deletePlane.errors[0],variant:"error"}));case 5:case"end":return l.stop()}}),null,null,null,Promise)}}},p.createElement(du.a.Row,{pointerEvents:"none",onPress:function(){m(Dn.forms.plane.setOpen(e))}},p.createElement(du.a.Cell,null,e.name),p.createElement(du.a.Cell,{numeric:!0},e.registration),p.createElement(du.a.Cell,{numeric:!0},e.maxSlots)))}))):null,p.createElement(Ri.a,{style:lm.fab,visible:v,small:!0,icon:"plus",onPress:function(){return m(Dn.forms.plane.setOpen(!0))},label:"New plane"})),p.createElement(am,{open:o.open,onClose:function(){return m(Dn.forms.plane.setOpen(!1))}}))}var lm=F.a.create({content:{flexGrow:1},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}});function im(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function sm(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?im(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):im(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function um(e){var n=Nl(B.ActAsRigInspector),t=e.value,r=e.onChange,a=e.config;return null!=a&&a.valueType&&"string"===(null==a?void 0:a.valueType)?p.createElement(C.default,{style:{flex:1}},p.createElement(Yl.a,{mode:"outlined",disabled:!n,style:{marginVertical:8},value:t,onChangeText:function(e){return r(sm(sm({},a),{},{value:e}))},label:a.label||""}),p.createElement(ql.a,{type:"info"},a.description||"No description")):null!=a&&a.valueType&&"boolean"===(null==a?void 0:a.valueType)?p.createElement(_l.c.Item,{title:a.label||"",disabled:!n,description:a.description,style:{marginVertical:8},right:function(){return p.createElement(bi.a.Android,{status:t?"checked":"unchecked"})},onPress:function(){return r(sm(sm({},a),{},{value:!t}))}}):null!=a&&a.valueType&&"integer"===(null==a?void 0:a.valueType)?p.createElement(C.default,{style:{flex:1}},p.createElement(Yl.a,{disabled:!n,value:t,mode:"outlined",onChangeText:function(e){return r(sm(sm({},a),{},{value:e}))},label:a.label||"",keyboardType:"number-pad",style:{marginVertical:8}}),p.createElement(ql.a,{type:"info"},a.description||"No description")):null!=a&&a.valueType&&"date"===(null==a?void 0:a.valueType)?p.createElement(C.default,{style:{flex:1}},p.createElement(ac,{disabled:!n,timestamp:Number(t),onChange:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return r(sm(sm({},a),{},{value:e.toString()}))})),label:a.label||""}),p.createElement(ql.a,{type:"info"},a.description||"No description")):null}function cm(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function dm(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?cm(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cm(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function mm(){var e,n=Un((function(e){return e.forms.rigInspectionTemplate})),t=p.useState(null),r=H()(t,2),a=r[0],o=r[1],l=p.useState(!1),i=H()(l,2),s=i[0],u=i[1],c=$n();return p.createElement(p.Fragment,null,null==(e=n.fields)?void 0:e.map((function(e,t){return p.createElement(p.Fragment,{key:""+e.valueType+t},p.createElement(C.default,{style:{display:"flex",flexDirection:"row",alignItems:"center"}},p.createElement(C.default,{style:{flexGrow:1},onTouchEnd:function(){return o(dm(dm({},e),{},{index:t}))}},p.createElement(um,{config:e,value:(null==e?void 0:e.value)||"",onChange:function(){return null}})),p.createElement(Xs.a,{icon:"delete",onPress:function(){return c(Dn.forms.rigInspectionTemplate.setFields(n.fields.filter((function(e,n){return n!==t}))))}})),p.createElement(Hl.a,null))})),p.createElement(Wl.a,null,p.createElement(Vl.a,{visible:!!a},p.createElement(Vl.a.Title,null,"New field"),p.createElement(Vl.a.Content,null,p.createElement(Yl.a,{label:"Name",mode:"outlined",value:null==a?void 0:a.label,onChangeText:function(e){return o(dm(dm({},a),{},{label:e}))}}),p.createElement(Yl.a,{label:"Description",placeholder:"optional",mode:"outlined",value:null==a?void 0:a.description,onChangeText:function(e){return o(dm(dm({},a),{},{description:e}))}}),p.createElement(bi.a.Item,{label:"This is a required field",mode:"android",onPress:function(){return o(dm(dm({},a),{},{isRequired:!(null!=a&&a.isRequired)}))},status:null!=a&&a.isRequired?"checked":"unchecked"})),p.createElement(Vl.a.Actions,null,p.createElement(K.a,{onPress:function(){return o(null)}},"Cancel"),p.createElement(K.a,{onPress:function(){void 0!==(null==a?void 0:a.index)?c(Dn.forms.rigInspectionTemplate.setFields(n.fields.map((function(e,n){return n===a.index?a:e})))):c(Dn.forms.rigInspectionTemplate.setFields([].concat(Gl()(n.fields),[a]))),o(null)}},"Save"))),p.createElement(Ri.a.Group,{open:s,visible:!0,icon:s?"close":"plus",fabStyle:{marginLeft:16,marginBottom:48},actions:[{icon:"pencil",label:"Text",onPress:function(){return o({valueType:"string"})}},{icon:"calendar",label:"Date",onPress:function(){return o({valueType:"date"})}},{icon:"counter",label:"Number",onPress:function(){return o({valueType:"integer"})}},{icon:"checkbox-marked-circle-outline",label:"Checkbox",onPress:function(){return o({valueType:"boolean"})}}],onStateChange:function(e){var n=e.open;return u(n)}})))}function fm(){var e,n,t,r=Un((function(e){return e.forms.rigInspectionTemplate})),o=Sl(),l=$n(),i=function(e){var n=ba(ba({},ya),e);return ga.a(ol,n)}({variables:{dropzoneId:Number(null==o||null==(e=o.dropzone)?void 0:e.id)}}).data,s=Nl(B.UpdateFormTemplate),u=function(e){var n=ba(ba({},ya),e);return pa.a(Po,n)}(),c=H()(u,2),d=c[0],m=c[1];p.useEffect((function(){var e;null!=i&&null!=(e=i.dropzone)&&e.rigInspectionTemplate&&l(Dn.forms.rigInspectionTemplate.setOpen(i.dropzone.rigInspectionTemplate))}),[null==i?void 0:i.dropzone.rigInspectionTemplate,l]);var f=p.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(d({variables:{formId:Number(null==i||null==(e=i.dropzone.rigInspectionTemplate)?void 0:e.id),dropzoneId:Number(null==i||null==(n=i.dropzone)?void 0:n.id),definition:JSON.stringify(r.fields)}}));case 3:l(Dn.notifications.showSnackbar({message:"Template saved",variant:"success"})),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),l(Dn.notifications.showSnackbar({message:t.t0.message,variant:"error"}));case 9:case"end":return t.stop()}}),null,null,[[0,6]],Promise)}),[d,null==i||null==(n=i.dropzone.rigInspectionTemplate)?void 0:n.id,null==i||null==(t=i.dropzone)?void 0:t.id,r.fields,l]);return p.createElement(ds,null,p.createElement(Il.a,{style:{width:"100%"}},p.createElement(Il.a.Title,{title:"Rig Inspection Form Template"}),p.createElement(Il.a.Content,null,p.createElement(mm,null)),p.createElement(Il.a.Actions,null,p.createElement(K.a,{disabled:!s,mode:"contained",loading:m.loading,onPress:function(){return f()},style:{width:"100%"}},"Save template"))))}function pm(){var e,n,t=Un((function(e){return e.global})),r=Un((function(e){return e.forms.rig})),l=function(e){var n=ba(ba({},ya),e);return ga.a(Ro,n)}({variables:{dropzoneId:Number(t.currentDropzoneId)}}),i=l.data,s=l.loading,u=l.refetch,c=$n(),d=Object(Tl.useIsFocused)(),m=To(),f=H()(m,2),g=f[0],v=f[1],h=Nl(B.CreateDropzoneRig);return p.useEffect((function(){d&&u()}),[d,u]),p.createElement(ds,{style:gm.container,contentContainerStyle:[gm.content,{backgroundColor:"white"}],refreshControl:p.createElement(Ol.a,{refreshing:s,onRefresh:function(){return u()}})},p.createElement(y.a,{visible:s||v.loading,color:t.theme.colors.accent}),p.createElement(du.a,null,p.createElement(du.a.Header,null,p.createElement(du.a.Title,null,"Container"),p.createElement(du.a.Title,{numeric:!0},"Repack due"),p.createElement(du.a.Title,{numeric:!0},"Canopy size"),p.createElement(du.a.Title,{numeric:!0},"Type"),p.createElement(du.a.Title,{numeric:!0},"Public")),null==i||null==(e=i.dropzone)||null==(n=e.rigs)?void 0:n.map((function(e){return p.createElement(du.a.Row,{key:"rig-"+e.id},p.createElement(du.a.Cell,{onPress:function(){c(Dn.forms.rig.setOpen(e))}},[null==e?void 0:e.make,null==e?void 0:e.model,"#"+(null==e?void 0:e.serial)].join(" ")),p.createElement(du.a.Cell,{numeric:!0},null!=e&&e.repackExpiresAt?Object(Iu.a)(1e3*e.repackExpiresAt,"yyyy/MM/dd"):"-"),p.createElement(du.a.Cell,{numeric:!0},""+(null==e?void 0:e.canopySize)),p.createElement(du.a.Cell,{numeric:!0},e.rigType),p.createElement(du.a.Cell,{numeric:!0},p.createElement(o.e,{onValueChange:function(){var n,t,r,o;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,a.a.awrap(g({variables:{id:Number(e.id),isPublic:!e.isPublic}}));case 2:r=l.sent,null!=(o=r.data)&&null!=(n=o.updateRig)&&null!=(t=n.errors)&&t.length&&c(Dn.notifications.showSnackbar({message:null==o?void 0:o.updateRig.errors[0],variant:"error"}));case 5:case"end":return l.stop()}}),null,null,null,Promise)},value:!!e.isPublic})))}))),p.createElement(bc,{onClose:function(){return c(Dn.forms.rig.setOpen(!1))},onSuccess:function(){c(Dn.forms.rig.setOpen(!1)),u()},dropzoneId:Number(t.currentDropzoneId),open:r.open}),p.createElement(Ri.a,{visible:h,style:gm.fab,small:!0,icon:"plus",onPress:function(){return c(Dn.forms.rig.setOpen(!0))},label:"New rig"}))}var gm=F.a.create({container:{flex:1,display:"flex"},content:{flexGrow:1},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}});function vm(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function hm(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?vm(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vm(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function bm(e){var n=e.title,t=e.description,r=e.role,o=e.permissionName,l=Nl(B.GrantPermission),i=function(e){var n=ba(ba({},ya),e);return pa.a(jo,n)}(),s=H()(i,1)[0],u=$n();return p.createElement(_l.c.Item,{disabled:!l,style:{width:"100%"},right:function(){return p.createElement(wd.a,{value:r.permissions.includes(o),onValueChange:function(){var e,n,t,l,i,c,d;return a.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,a.a.awrap(s({variables:{roleId:Number(r.id),permissionName:o,enabled:!r.permissions.includes(o)},optimisticResponse:{updateRole:{role:hm(hm({},r),{},{permissions:r.permissions.includes(o)?[].concat(Gl()(r.permissions),[o]):r.permissions.filter((function(e){return e!==o}))}),errors:null,fieldErrors:null}}}));case 2:null!=(l=m.sent)&&null!=(e=l.data)&&null!=(n=e.updateRole)&&null!=(t=n.errors)&&t.length&&(null==l||null==(i=l.data)||null==(c=i.updateRole)||null==(d=c.errors)||d.map((function(e){return u(Dn.notifications.showSnackbar({message:e,variant:"error"}))})));case 4:case"end":return m.stop()}}),null,null,null,Promise)}})},title:n,description:t})}function ym(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Em(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ym(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ym(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function xm(){var e,n,t,r,a=Un((function(e){return e.global})),o=sl({variables:{dropzoneId:Number(a.currentDropzoneId)}}),l=o.data,i=o.loading,s=o.refetch,u=Object(Tl.useIsFocused)();return p.useEffect((function(){u&&s()}),[u,s]),i||null==l||null==(e=l.dropzone)||null==(n=e.roles)||!n.length?p.createElement(jl.a,{isLoading:!0,containerStyle:{flexGrow:1,paddingHorizontal:16},layout:[{key:"first",height:175,marginTop:70,marginBottom:35,width:"100%"},{key:"second",height:175,marginBottom:35,width:"100%"},{key:"third",height:175,marginBottom:35,width:"100%"},{key:"fourth",height:175,marginBottom:35,width:"100%"},{key:"fifth",height:175,marginBottom:35,width:"100%"}]}):p.createElement(ci.b,{defaultIndex:0,mode:"scrollable",theme:Em(Em({},a.theme),{},{colors:Em(Em({},a.theme.colors),{},{primary:a.palette.primary.light})})},null==l||null==(t=l.dropzone)||null==(r=t.roles)?void 0:r.map((function(e){var n;return p.createElement(ci.a,{label:Object(Zl.capitalize)(null==(n=e.name)?void 0:n.replace("_"," ")),key:"permission-tab-role-"+e.id},p.createElement(ds,{contentContainerStyle:{maxWidth:500,width:"100%",alignSelf:"center"}},p.createElement(Il.a,{style:wm.card},p.createElement(_l.c.Subheader,null,"User Management"),p.createElement(bm,{role:e,permissionName:"readUser",description:"View other users' profiles",title:"View Users"}),p.createElement(bm,{role:e,permissionName:"updateUser",description:"Update other users",title:"Update Users"})),p.createElement(Il.a,{style:wm.card},p.createElement(_l.c.Section,{title:"Manifest",style:{width:"100%"}},p.createElement(_l.c.Accordion,{title:"Loads"},p.createElement(bm,{role:e,permissionName:"readLoad",description:"See available loads on the manifest screen",title:"View Load"}),p.createElement(bm,{role:e,permissionName:"createLoad",title:"Create Loads"}),p.createElement(bm,{role:e,permissionName:"updateLoad",description:"Dispatch loads, update load master, change pilot / plane, etc",title:"Update Loads"}),p.createElement(bm,{role:e,permissionName:"deleteLoad",description:"Permanently delete existing loads",title:"Delete Load"})),p.createElement(_l.c.Accordion,{title:"Manifesting"},p.createElement(bm,{role:e,permissionName:"createSlot",description:"Create a slot for himself/herself only",title:"Manifest self"}),p.createElement(bm,{role:e,permissionName:"updateSlot",description:"Update own slot after manifesting themselves",title:"Update own slot"}),p.createElement(bm,{role:e,permissionName:"deleteSlot",description:"Take themselves off the load",title:"Remove own slot"}),p.createElement(bm,{role:e,permissionName:"createUserSlot",description:"Manifest other users, e.g yourself + others",title:"Manifest other people"}),p.createElement(bm,{role:e,permissionName:"createUserSlotWithSelf",description:"Allow manifesting others only if the user is part of the group",title:"Manifest own groups"}),p.createElement(bm,{role:e,permissionName:"updateUserSlot",description:"Update other people's slots on a load",title:"Update other users slot"}),p.createElement(bm,{role:e,permissionName:"deleteUserSlot",description:"Delete other users' slots off a load",title:"Take others off the load"}),p.createElement(bm,{role:e,permissionName:"createStudentSlot",description:"Manifest a student on a load",title:"Manifest students"}),p.createElement(bm,{role:e,permissionName:"updateStudentSlot",description:"Make changes to an already manifested student",title:"Update student slots"}),p.createElement(bm,{role:e,permissionName:"deleteStudentSlot",description:"Take a student off the load",title:"Remove student slots"})))),p.createElement(Il.a,{style:wm.card},p.createElement(_l.c.Section,{title:"Administration",style:{width:"100%"}},p.createElement(_l.c.Accordion,{title:"Dropzone"},p.createElement(bm,{role:e,permissionName:"updateDropzone",description:"Change dropzone name, visibility, and branding",title:"Update Dropzone"}),p.createElement(bm,{role:e,permissionName:"deleteDropzone",description:"Permanently delete dropzone",title:"Delete Dropzone"})),p.createElement(_l.c.Accordion,{title:"Ticket types"},p.createElement(bm,{role:e,permissionName:"createTicketType",description:"Create new jump tickets",title:"Create Ticket"}),p.createElement(bm,{role:e,permissionName:"updateTicketType",description:"Make changes to existing ticket types, including prices",title:"Update Tickets"}),p.createElement(bm,{role:e,permissionName:"deleteTicketType",description:"Delete existing ticket types",title:"Remove Tickets"})),p.createElement(_l.c.Accordion,{title:"Ticket addons"},p.createElement(bm,{role:e,permissionName:"createExtra",description:"Set up new ticket addons",title:"Create Ticket addon"}),p.createElement(bm,{role:e,permissionName:"updateExtra",description:"Make changes to existing ticket addons, including prices",title:"Update Ticket addons"}),p.createElement(bm,{role:e,permissionName:"deleteExtra",description:"Delete existing ticket addons",title:"Remove Ticket addons"})),p.createElement(_l.c.Accordion,{title:"Planes"},p.createElement(bm,{role:e,permissionName:"createPlane",description:"Add new aircrafts",title:"Create Aircraft"}),p.createElement(bm,{role:e,permissionName:"updatePlane",description:"Make changes to existing aircrafts",title:"Update Aircraft"}),p.createElement(bm,{role:e,permissionName:"deletePlane",description:"Remove existing aircrafts",title:"Remove Aircraft"})),p.createElement(_l.c.Accordion,{title:"Rigs"},p.createElement(bm,{role:e,permissionName:"createDropzoneRig",description:"Create dropzone managed rigs, e.g tandem and student rigs",title:"Create Rig"}),p.createElement(bm,{role:e,permissionName:"updateDropzoneRig",description:"Make changes to existing student and tandem rigs",title:"Update Rigs"}),p.createElement(bm,{role:e,permissionName:"deleteDropzoneRig",description:"Delete existing student and tandem rigs",title:"Remove Rigs"}),p.createElement(bm,{role:e,permissionName:"updateFormTemplate",description:"Make changes to the rig inspection template",title:"Modify Rig Inspection Form"}))))))})))}var km,wm=F.a.create({container:{flex:1,display:"flex"},card:{width:"100%",marginVertical:16},content:{flexGrow:1},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}}),Sm=Object(fa.a)(km||(km=ma()(["\n  query MasterLog($dropzoneId: Int!, $timestamp: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      masterLog(date: $timestamp) {\n        id\n        dzso {\n          id\n          user {\n            id\n            name\n          }\n        }\n\n        loads {\n          id\n          name\n          loadNumber\n\n          loadMaster {\n            id\n            user {\n              name\n            }\n          }\n\n          gca {\n            id\n            user {\n              name\n            }\n          }\n\n          slots {\n            id\n            dropzoneUser {\n              id\n              license {\n                id\n                name\n              }\n            }\n            user {\n              id\n              name\n              license {\n                id\n                name\n              }\n            }\n            ticketType {\n              id\n              name\n              altitude\n            }\n            jumpType {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n"])));function Cm(){var e,n,t,r,a=Sl(),o=p.useState(Object(ca.a)(new Date).getTime()),l=H()(o,2),i=l[0],s=l[1],u=Object(Tl.useNavigation)();p.useLayoutEffect((function(){u.setOptions({headerRight:function(){return p.createElement(ac,{onChange:function(e){return s(1e3*e)},timestamp:i/1e3,color:"#FFFFFF"})}})}),[u,i]);var c=Object(ga.a)(Sm,{variables:{dropzoneId:Number(null==a||null==(e=a.dropzone)?void 0:e.id),timestamp:Math.floor(i/1e3)}}).data;return p.createElement(ds,null,p.createElement(C.default,{style:{width:"100%"}}),null==c||null==(n=c.dropzone)||null==(t=n.masterLog)||null==(r=t.loads)?void 0:r.map((function(e){var n,t,r,a,o,l,i,s;return p.createElement(Il.a,{style:{width:"100%",marginVertical:16}},p.createElement(Il.a.Title,{title:"Load "+e.loadNumber}),p.createElement(Il.a.Content,null,p.createElement(_l.c.Item,{title:"Pilot",description:null==e||null==(n=e.pilot)||null==(t=n.user)?void 0:t.name}),p.createElement(_l.c.Item,{title:"GCA",description:null==e||null==(r=e.gca)||null==(a=r.user)?void 0:a.name}),p.createElement(_l.c.Item,{title:"Plane",description:null!=e&&null!=(o=e.plane)&&o.id?(null==e||null==(l=e.plane)?void 0:l.name)+" ("+(null==e||null==(i=e.plane)?void 0:i.registration)+")":"No plane selected"}),p.createElement(du.a,null,p.createElement(du.a.Header,null,p.createElement(du.a.Title,null,"Name"),p.createElement(du.a.Title,null,"Jump type"),p.createElement(du.a.Title,{numeric:!0},"Altitude")),null==(s=e.slots)?void 0:s.map((function(e){var n,t,r;return p.createElement(du.a.Row,null,p.createElement(du.a.Cell,null,null==(n=e.user)?void 0:n.name),p.createElement(du.a.Cell,null,null==(t=e.jumpType)?void 0:t.name),p.createElement(du.a.Cell,{numeric:!0},null==(r=e.ticketType)?void 0:r.altitude))})))))})))}function Om(){var e,n,t,r=Un((function(e){return e.forms.extra})),a=$n(),o=Sl(),l=dl({variables:{dropzoneId:Number(null==o||null==(e=o.dropzone)?void 0:e.id)}}).data;return p.createElement(p.Fragment,null,p.createElement(Yl.a,{style:zm.field,mode:"outlined",label:"Name",error:!!r.fields.name.error,value:r.fields.name.value||"",onChangeText:function(e){return a(Dn.forms.extra.setField(["name",e]))}}),p.createElement(ql.a,{type:r.fields.name.error?"error":"info"},r.fields.name.error||""),p.createElement(Yl.a,{style:zm.field,mode:"outlined",label:"Price",error:!!r.fields.cost.error,value:null==(n=r.fields.cost)||null==(t=n.value)?void 0:t.toString(),onChangeText:function(e){return a(Dn.forms.extra.setField(["cost",Number(e)]))}}),p.createElement(ql.a,{type:r.fields.cost.error?"error":"info"},r.fields.cost.error||""),p.createElement(C.default,{style:{width:"100%"}},p.createElement(_l.c.Subheader,null,"Compatible tickets"),null==l?void 0:l.ticketTypes.map((function(e){var n;return p.createElement(bi.a.Item,{label:e.name||"",status:null!=(n=r.fields.ticketTypes.value)&&n.map((function(e){return e.id})).includes(e.id)?"checked":"unchecked",onPress:function(){var n,t;return a(Dn.forms.extra.setField(["ticketTypes",null!=(n=r.fields.ticketTypes.value)&&n.map((function(e){return e.id})).includes(e.id)?null==(t=r.fields.ticketTypes.value)?void 0:t.filter((function(n){return n.id!==e.id})):[].concat(Gl()(r.fields.ticketTypes.value||[]),[e])]))}})}))))}var zm=F.a.create({fields:{width:"100%",flex:1},field:{marginBottom:8,width:"100%"}});function Im(){var e,n,t=Sl(),r=Un((function(e){return e.forms.extra})),o=$n(),l=Object(Tl.useNavigation)(),i=Object(Tl.useRoute)().params.extra;p.useEffect((function(){o(Dn.forms.extra.setOpen(i))}),[o,i,i.id]);var s=function(e){var n=ba(ba({},ya),e);return pa.a(Co,n)}(),u=H()(s,2),c=u[0],d=u[1],m=p.useCallback((function(){var e,n=!1;return((null==(e=r.fields.name.value)?void 0:e.length)||0)<3&&(n=!0,o(Dn.forms.extra.setFieldError(["name","Name is too short"]))),Number(r.fields.cost.value)<0&&(n=!0,o(Dn.forms.extra.setFieldError(["cost","Price must be a number"]))),!n}),[r.fields,o]),f=p.useCallback((function(){var e,n,i,s,u,d,f,p,g,v;return a.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(e=r.fields,n=e.name,i=e.cost,s=e.ticketTypes,!m()){h.next=12;break}return h.prev=2,h.next=5,a.a.awrap(c({variables:{id:Number(null==(u=r.original)?void 0:u.id),dropzoneId:Number(null==t||null==(d=t.dropzone)?void 0:d.id),name:n.value,cost:i.value,ticketTypeIds:null==(f=s.value)?void 0:f.map((function(e){var n=e.id;return Number(n)}))}}));case 5:v=h.sent,null!=(p=v.data)&&null!=(g=p.updateExtra)&&g.extra&&(o(yu.showSnackbar({message:"Saved",variant:"success"})),l.goBack()),h.next=12;break;case 9:h.prev=9,h.t0=h.catch(2),o(yu.showSnackbar({message:h.t0.message,variant:"error"}));case 12:case"end":return h.stop()}}),null,null,[[2,9]],Promise)}),[r.fields,null==(e=r.original)?void 0:e.id,m,c,null==t||null==(n=t.dropzone)?void 0:n.id,o,l]);return p.createElement(ds,{contentContainerStyle:{paddingHorizontal:48}},p.createElement(ia.a,{name:"ticket-percent",size:100,color:"#999999",style:{alignSelf:"center"}}),p.createElement(Om,null),p.createElement(Ci,{style:jm.fields},p.createElement(K.a,{mode:"contained",disabled:d.loading,onPress:f,loading:d.loading},"Save")))}var Tm,Pm,jm=F.a.create({container:{flex:1},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fields:{width:"100%",marginBottom:16},field:{marginBottom:8}}),Dm=El(Object(fa.a)(Tm||(Tm=ma()(["\n  mutation CreateExtra($name: String, $ticketTypeIds: [Int!], $cost: Float, $dropzoneId: Int) {\n    createExtra(\n      input: {\n        attributes: {\n          name: $name\n          ticketTypeIds: $ticketTypeIds\n          cost: $cost\n          dropzoneId: $dropzoneId\n        }\n      }\n    ) {\n      extra {\n        ...extra\n\n        dropzone {\n          id\n          extras {\n            ...extra\n          }\n        }\n      }\n    }\n  }\n\n  fragment extra on Extra {\n    id\n    name\n    cost\n\n    ticketTypes {\n      id\n      name\n      cost\n      altitude\n      allowManifestingSelf\n    }\n  }\n"]))),{getPayload:function(e){return e.createExtra},fieldErrorMap:{ticketTypeIds:"ticketTypes"},validates:{name:[vl("Tickets must have names")],cost:[vl("Tickets must have a price"),bl("Price must be a number")]}}),Fm=El(Object(fa.a)(Pm||(Pm=ma()(["\n  mutation UpdateExtra(\n    $id: Int!\n    $name: String\n    $ticketTypeIds: [Int!]\n    $cost: Float\n    $dropzoneId: Int\n  ) {\n    updateExtra(\n      input: {\n        id: $id\n        attributes: {\n          name: $name\n          ticketTypeIds: $ticketTypeIds\n          cost: $cost\n          dropzoneId: $dropzoneId\n        }\n      }\n    ) {\n      extra {\n        ...extra\n\n        dropzone {\n          id\n          extras {\n            ...extra\n          }\n        }\n      }\n    }\n  }\n\n  fragment extra on Extra {\n    id\n    name\n    cost\n\n    ticketTypes {\n      id\n      name\n      cost\n      altitude\n      allowManifestingSelf\n    }\n  }\n"]))),{getPayload:function(e){return e.updateExtra},fieldErrorMap:{id:"original",ticketTypeIds:"ticketTypes"}});function Am(e){var n,t,r,o=e.open,l=e.onClose,i=Sl(),s=Un((function(e){return e.forms.extra})),u=$n(),c=Dm({onSuccess:function(e){return requestAnimationFrame((function(){var n;u(Dn.notifications.showSnackbar({message:"Saved "+(null==e||null==(n=e.extra)?void 0:n.name),variant:"success"})),l(),u(Dn.forms.extra.reset())}))},onFieldError:function(e,n){return u(Dn.forms.extra.setFieldError([e,n]))},onError:function(e){return u(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),d=Fm({onSuccess:function(e){return requestAnimationFrame((function(){var n;u(Dn.notifications.showSnackbar({message:"Saved "+(null==e||null==(n=e.extra)?void 0:n.name),variant:"success"})),l(),u(Dn.forms.extra.reset())}))},onFieldError:function(e,n){return u(Dn.forms.extra.setFieldError([e,n]))},onError:function(e){return u(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),m=p.useCallback((function(){var e,n,t,r,o;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:null!=s&&null!=(e=s.original)&&e.id?d.mutate({id:Number(s.original.id),dropzoneId:Number(null==i||null==(n=i.dropzone)?void 0:n.id),name:s.fields.name.value,cost:s.fields.cost.value,ticketTypeIds:null==(t=s.fields.ticketTypes.value)?void 0:t.map((function(e){var n=e.id;return Number(n)}))}):c.mutate({dropzoneId:Number(null==i||null==(r=i.dropzone)?void 0:r.id),name:s.fields.name.value,cost:s.fields.cost.value,ticketTypeIds:null==(o=s.fields.ticketTypes.value)?void 0:o.map((function(e){var n=e.id;return Number(n)}))});case 1:case"end":return a.stop()}}),null,null,null,Promise)}),[c,null==i||null==(n=i.dropzone)?void 0:n.id,s.fields.cost.value,s.fields.name.value,s.fields.ticketTypes.value,null==(t=s.original)?void 0:t.id,d]),f=p.useMemo((function(){return[300,500]}),[]);return p.createElement(Su,{title:null!=(r=s.original)&&r.id?"Edit ticket addon":"New ticket addon",open:o,onClose:l,loading:c.loading||d.loading,buttonAction:m,buttonLabel:"Save",snapPoints:f},p.createElement(Om,null))}function Nm(){var e,n,t,r=Sl(),a=Un((function(e){return e.global})),o=Un((function(e){return e.forms.extra})),l=_o({variables:{dropzoneId:Number(null==r||null==(e=r.dropzone)?void 0:e.id)}}),i=l.data,s=l.loading,u=$n(),c=Nl(B.CreateExtra);return p.createElement(p.Fragment,null,p.createElement(y.a,{visible:s,indeterminate:!0,color:a.theme.colors.accent}),p.createElement(Ci,{style:Rm.container},p.createElement(du.a,null,p.createElement(du.a.Header,null,p.createElement(du.a.Title,null,"Name"),p.createElement(du.a.Title,{numeric:!0},"Cost")),null==i||null==(n=i.extras)?void 0:n.map((function(e){return p.createElement(du.a.Row,{onPress:function(){u(Dn.forms.extra.setOpen(e))},pointerEvents:"none"},p.createElement(du.a.Cell,null,e.name),p.createElement(du.a.Cell,{numeric:!0},"$",e.cost))}))),!s&&!(null!=i&&null!=(t=i.extras)&&t.length)&&p.createElement(Oi,{title:"No ticket addons",subtitle:"You can add multiple addons to assign to tickets, e.g outside camera, or coach"}),p.createElement(Ri.a,{style:Rm.fab,visible:c,small:!0,icon:"plus",onPress:function(){return u(Dn.forms.extra.setOpen(!0))},label:"New ticket addon"})),p.createElement(Am,{open:o.open,onClose:function(){return u(Dn.forms.extra.setOpen(!1))}}))}var Rm=F.a.create({container:{flex:1,padding:8,display:"flex"},fab:{position:"absolute",margin:16,right:0,bottom:0},empty:{flex:1,alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}}),$m=t(557);function Um(e){switch(e){case"paid":case"withdrawal":return"cash-minus";case"refunded":case"deposit":return"cash-plus";default:return"cash"}}function Bm(e){var n=e.transaction,t=e.onPress,r=Object(Dl.b)();return p.createElement(xt.a,{onPress:t,style:{width:"100%"}},p.createElement(Il.a,{style:Lm.transaction},p.createElement(Il.a.Content,{style:Lm.transactionContent},p.createElement(jc.a,{style:{position:"absolute",top:4,right:8}},(null==n?void 0:n.createdAt)&&Object(Iu.a)(1e3*(null==n?void 0:n.createdAt),"Mo MMM, h:mm aaa")),p.createElement(_l.c.Item,{description:Object(Zl.capitalize)(n.message||""),title:n.transactionType.toUpperCase(),style:{width:"100%"},titleStyle:Lm.transactionTitle,descriptionStyle:Lm.transactionDescription,left:function(){return p.createElement(C.default,{style:{width:165,alignItems:"center",flexDirection:"row"}},p.createElement(ia.a,{color:n.amount<0?"#FF1414":"#00C851",name:Um(n.status),size:36,style:{marginHorizontal:16}}),p.createElement(X.a,{style:{fontSize:30,fontWeight:"100",textAlign:"center",color:r.colors.onSurface}},n.amount<0?"-$"+-1*n.amount:"$"+n.amount))}}))))}var Lm=F.a.create({avatarIcon:{},transactionTitle:{paddingLeft:0,fontSize:14,fontWeight:"500",marginBottom:0},transactionDescription:{paddingLeft:0},transactionContent:{paddingLeft:0,paddingRight:4,paddingTop:8,paddingBottom:8},transaction:{marginHorizontal:0,marginVertical:F.a.hairlineWidth,borderRadius:2,width:"100%"}});function Wm(e){var n=e.receipt,t=e.index,r=Sl().currentUser,a=p.useCallback((function(e){return"__typename"in e&&"DropzoneUser"===e.__typename&&e.id===(null==r?void 0:r.id)}),[r]);return p.createElement(p.Fragment,null,p.createElement(_l.c.Subheader,null,"Receipt #"+(t+1)),null==n?void 0:n.transactions.filter((function(e){return a(e.receiver)})).map((function(e){return p.createElement(Bm,{transaction:e})})))}function Vm(){var e,n,t,r,a=Object(Tl.useRoute)(),o=Object(Dl.b)(),l=a.params.order,i=p.useMemo((function(){return JSON.parse(JSON.stringify($m).replace(/260,254,0/g,[un()(o.colors.primary).red(),un()(o.colors.primary).green(),un()(o.colors.primary).blue()].join(",")))}),[o.colors.primary]);return p.createElement(ds,null,p.createElement(Il.a,{style:{marginTop:32,width:"100%",maxWidth:600}},p.createElement(Il.a.Content,{style:{paddingBottom:16}},p.createElement(C.default,{style:{flexDirection:"row",alignItems:"center",flex:1}},p.createElement(te,{loop:!1,autoPlay:!0,speed:.5,style:{height:150,width:150},source:i}),p.createElement(C.default,{style:{flexGrow:1}},p.createElement(X.a,{style:{fontWeight:"bold",alignSelf:"flex-start",fontSize:26,marginLeft:16,width:"100%"}},"Order #"+l.id),p.createElement(X.a,{style:{fontWeight:"bold",opacity:.6,alignSelf:"flex-start",fontSize:14,marginLeft:16,width:"100%",marginBottom:48}},l.title),p.createElement(K.a,{mode:"outlined",color:"#00C851",style:{borderRadius:16,margin:8}},l.state)))),p.createElement(Hl.a,null),p.createElement(Il.a.Title,{style:{flexDirection:"row"},titleStyle:{width:"50%"},rightStyle:{width:"50%"},title:p.createElement(_l.c.Item,{description:"Buyer",title:(null==l||null==(e=l.buyer)||null==(n=e.user)?void 0:n.name)||(null==l||null==(t=l.buyer)?void 0:t.name),left:function(e){var n,t,r,a,o,i;return p.createElement(md,{name:(null==l||null==(n=l.buyer)||null==(t=n.user)?void 0:t.name)||(null==l||null==(r=l.buyer)?void 0:r.name)||"",image:(null==l||null==(a=l.buyer)||null==(o=a.user)?void 0:o.image)||(null==l||null==(i=l.buyer)?void 0:i.banner)||"",style:{alignSelf:"center"},size:36})},titleStyle:{width:100,fontSize:14},descriptionStyle:{width:100,fontSize:10}}),right:function(){var e,n,t;return p.createElement(_l.c.Item,{description:"Seller",right:function(e){var n,t,r,a,o,i;return p.createElement(md,{name:(null==l||null==(n=l.seller)||null==(t=n.user)?void 0:t.name)||(null==l||null==(r=l.seller)?void 0:r.name)||"",image:(null==l||null==(a=l.buyer)||null==(o=a.user)?void 0:o.image)||(null==l||null==(i=l.buyer)?void 0:i.banner)||"",style:{alignSelf:"center",marginLeft:8},size:36})},titleStyle:{textAlign:"right",fontSize:14},descriptionStyle:{textAlign:"right",fontSize:10},title:(null==l||null==(e=l.seller)||null==(n=e.user)?void 0:n.name)||(null==l||null==(t=l.seller)?void 0:t.name)})}})),null==l||null==(r=l.receipts)?void 0:r.map((function(e,n){return p.createElement(Wm,{receipt:e,order:l,index:n})})))}function Mm(){var e,n,t,r=Un((function(e){return e.global})),a=Un((function(e){return e.forms})),l=$n(),i=Sl().currentUser,s=function(e){var n=ba(ba({},ya),e);return va.a($o,n)}(),u=H()(s,1)[0],c=Object(Tl.useRoute)(),d=Vo({variables:{dropzoneId:Number(r.currentDropzoneId),dropzoneUserId:Number(null==c||null==(e=c.params)?void 0:e.userId)||Number(null==i?void 0:i.id)}}),m=d.data,f=d.loading,g=d.refetch,v=p.useMemo((function(){var e;return null==m||null==(e=m.dropzone)?void 0:e.dropzoneUser}),[null==m||null==(n=m.dropzone)?void 0:n.dropzoneUser]),h=Object(Tl.useIsFocused)(),b=Object(Tl.useNavigation)();return p.useEffect((function(){h&&g()}),[h,g]),p.useEffect((function(){r.currentDropzoneId&&u({variables:{dropzoneId:r.currentDropzoneId}})}),[null==r?void 0:r.currentDropzoneId,u]),p.createElement(p.Fragment,null,f&&p.createElement(y.a,{color:r.theme.colors.accent,indeterminate:!0,visible:f}),p.createElement(o.a,{style:Gm.flatList,data:(null==v||null==(t=v.orders)?void 0:t.edges)||[],refreshing:!1,onRefresh:g,renderItem:function(e){var n=e.item;return p.createElement(fd,{onPress:function(){return b.navigate("OrderScreen",{order:n.node})},order:null==n?void 0:n.node,showAvatar:!0,dropzoneUser:v})}}),p.createElement(fc,{onClose:function(){return l(Dn.forms.credits.setOpen(!1))},onSuccess:function(){return l(Dn.forms.credits.setOpen(!1))},open:a.credits.open,dropzoneUser:v||void 0}))}var Gm=F.a.create({flatList:{flex:1,paddingTop:0}});function qm(){var e=Un((function(e){return e.forms.rigInspection})),n=$n();return p.createElement(p.Fragment,null,e.fields.map((function(e,t){return p.createElement(um,{key:t,config:e,value:(null==e?void 0:e.value)||"",onChange:function(e){return n(Dn.forms.rigInspection.setField([t,e]))}})})))}function _m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Hm(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_m(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ym(){var e,n,t,r,o,l,i,s,u,c=Un((function(e){return e.forms.rigInspection})),d=Sl(),m=$n(),f=Object(Tl.useRoute)().params,g=f.rig,v=f.dropzoneUserId,h=Vo({variables:{dropzoneId:Number(null==d||null==(e=d.dropzone)?void 0:e.id),dropzoneUserId:v}}),b=h.data,y=h.refetch,E=Object(Tl.useIsFocused)();p.useEffect((function(){y()}),[E,y]);var x=Nl(B.ActAsRigInspector),k=function(e){var n=ba(ba({},ya),e);return pa.a(co,n)}(),w=H()(k,2),O=w[0],z=w[1],I=Object(Tl.useNavigation)();p.useEffect((function(){var e,n,t;if(null==b||null==(e=b.dropzone)||null==(n=e.dropzoneUser)||null==(t=n.rigInspections)?void 0:t.some((function(e){var n,t,r;return(null==(n=e.rig)||null==(t=n.id)?void 0:t.toString())===(null==(r=g.id)?void 0:r.toString())&&e.definition}))){var r,a,o,l=null==b||null==(r=b.dropzone)||null==(a=r.dropzoneUser)||null==(o=a.rigInspections)?void 0:o.find((function(e){var n;return(null==(n=e.rig)?void 0:n.id)===g.id}));l&&(m(Dn.forms.rigInspection.setFields(l.definition||"{}")),m(Dn.forms.rigInspection.setOk(l.isOk)))}else{var i;m(Dn.forms.rigInspection.setFields((null==b||null==(i=b.dropzone.rigInspectionTemplate)?void 0:i.definition)||"[]"))}}),[null==b||null==(n=b.dropzone)||null==(t=n.dropzoneUser)?void 0:t.rigInspections,null==b||null==(r=b.dropzone.rigInspectionTemplate)?void 0:r.definition,m,g.id]);var T=p.useCallback((function(){var e;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.a.awrap(O({variables:{dropzoneId:Number(null==d||null==(e=d.dropzone)?void 0:e.id),rigId:Number(g.id),definition:JSON.stringify(c.fields),isOk:!!c.ok},update:function(e,n){var t,r,o,l,i,s,u,c,m,f,p,g,v,h,b,y,E,x,k,w,S;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return h=null==(t=n.data)||null==(r=t.createRigInspection)?void 0:r.rigInspection,b=e.readQuery({query:Wo,variables:{dropzoneId:Number(null==d||null==(o=d.dropzone)?void 0:o.id),dropzoneUserId:Number(null==h||null==(l=h.dropzoneUser)?void 0:l.id)}}),(null==(y=e.readQuery({query:No,variables:{dropzoneId:Number(null==d||null==(i=d.dropzone)?void 0:i.id),earliestTimestamp:Object(ca.a)(new Date).getTime()/1e3}}))||null==(s=y.dropzone)||null==(u=s.currentUser)?void 0:u.id)===(null==h||null==(c=h.dropzoneUser)?void 0:c.id)&&e.writeQuery({query:No,variables:{dropzoneId:Number(null==d||null==(E=d.dropzone)?void 0:E.id),earliestTimestamp:Object(ca.a)(new Date).getTime()/1e3},data:Hm(Hm({},y),{},{dropzone:Hm(Hm({},null==y?void 0:y.dropzone),{},{currentUser:Hm(Hm({},null==y||null==(x=y.dropzone)?void 0:x.currentUser),{},{rigInspections:[].concat(Gl()(((null==y||null==(k=y.dropzone)||null==(w=k.currentUser)?void 0:w.rigInspections)||[]).filter((function(e){return e.id!==(null==h?void 0:h.id)}))),[h])})})})}),S=Hm(Hm({},null==b?void 0:b.dropzone),{},{dropzoneUser:Hm(Hm({},null==b||null==(m=b.dropzone)?void 0:m.dropzoneUser),{},{rigInspections:[].concat(Gl()(((null==b||null==(f=b.dropzone)||null==(p=f.dropzoneUser)?void 0:p.rigInspections)||[]).filter((function(e){return e.id!==(null==h?void 0:h.id)}))),[h])})}),e.writeQuery({query:Wo,variables:{dropzoneId:Number(null==d||null==(g=d.dropzone)?void 0:g.id),dropzoneUserId:Number(null==h||null==(v=h.dropzoneUser)?void 0:v.id)},data:S}),a.abrupt("return",{data:S});case 7:case"end":return a.stop()}}),null,null,null,Promise)}}));case 3:m(Dn.notifications.showSnackbar({message:"Rig inspection saved",variant:"success"})),m(Dn.forms.rigInspection.reset()),I.goBack(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),m(Dn.notifications.showSnackbar({message:n.t0.message,variant:"error"}));case 11:case"end":return n.stop()}}),null,null,[[0,8]],Promise)}),[O,null==d||null==(o=d.dropzone)?void 0:o.id,g.id,c.fields,c.ok,m,I]);return p.createElement(ds,null,p.createElement(Es.a,{behavior:"android"===S.a.OS?void 0:"padding",style:{width:"100%",flexGrow:1,maxWidth:400,backgroundColor:"transparent"}},p.createElement(hd,{rig:g}),p.createElement(Il.a,{style:{width:"100%"}},p.createElement(Il.a.Title,{title:null==b||null==(l=b.dropzone)||null==(i=l.rigInspectionTemplate)?void 0:i.name}),p.createElement(Il.a.Content,null,x?null:p.createElement(Ei.a,null,"You need Rig Inspector permissions to update this form, but you can still view it."),p.createElement(C.default,{style:{flex:1,flexGrow:1,opacity:x?1:.6}},p.createElement(qm,null)),p.createElement(Hl.a,null),p.createElement(bi.a.Item,{mode:"android",label:"This rig is OK to jump",onPress:function(){return m(Dn.forms.rigInspection.setOk(!c.ok))},status:c.ok?"checked":"unchecked"})),p.createElement(Il.a.Actions,null,p.createElement(K.a,{disabled:!x||JSON.stringify(c.fields)===(null==b||null==(s=b.dropzone)||null==(u=s.rigInspectionTemplate)?void 0:u.definition),mode:"contained",onPress:function(){return T()},loading:z.loading,style:{width:"100%"}},"Mark as inspected")))))}var Jm=Object(yt.a)();function Qm(){var e=Un((function(e){return e.global})),n=Sl().currentUser;return p.createElement(Jm.Navigator,{screenOptions:{headerShown:!(!e.credentials||!e.currentDropzone),header:function(e){return p.createElement(nu,e)},headerStyleInterpolator:ua.a.forUIKit,cardStyle:{flex:1}}},p.createElement(Jm.Screen,{name:"DropzoneScreen",component:Bu,options:{title:"Manifest"}}),p.createElement(Jm.Screen,{name:"WeatherConditionsScreen",component:qs,options:{headerShown:!1}}),p.createElement(Jm.Screen,{name:"WindScreen",component:Ys,options:{title:"Winds Aloft"}}),p.createElement(Jm.Screen,{name:"JumpRunScreen",component:_s,options:{title:"Jump Run"}}),p.createElement(Jm.Screen,{name:"LoadScreen",component:ns,options:{title:"Load"}}),p.createElement(Jm.Screen,{name:"ManifestGroupScreen",component:Wu,options:{title:"Manifest group"}}),p.createElement(Jm.Screen,{name:"ManifestGroupUserSelectScreen",component:Vu,options:{title:"Select users"}}),p.createElement(Jm.Screen,{name:"ProfileScreen",component:Mc,options:{title:"Profile"},initialParams:{userId:null==n?void 0:n.id}}),p.createElement(Jm.Screen,{name:"NotificationsScreen",component:id,options:{title:"Notifications"}}),p.createElement(Jm.Screen,{name:"EquipmentScreen",component:yd,options:{title:"Equipment"}}),p.createElement(Jm.Screen,{name:"TransactionsScreen",component:gd,options:{title:"Account History"}}),p.createElement(Jm.Screen,{name:"OrderScreen",component:Vm,options:{title:"Order"}}),p.createElement(Jm.Screen,{name:"SettingsScreen",component:xd,options:{title:"Settings"}}),p.createElement(Jm.Screen,{name:"UpdateDropzoneScreen",component:em,options:{title:"Basic settings"}}),p.createElement(Jm.Screen,{name:"PlanesScreen",component:om,options:{title:"Planes"}}),p.createElement(Jm.Screen,{name:"TicketTypesScreen",component:Pd,options:{title:"Ticket types"}}),p.createElement(Jm.Screen,{name:"UpdateExtraScreen",component:Im,options:{title:"Update ticket add-on"}}),p.createElement(Jm.Screen,{name:"ExtrasScreen",component:Nm,options:{title:"Ticket add-ons"}}),p.createElement(Jm.Screen,{name:"RigInspectionTemplateScreen",component:fm,options:{title:"Rig Inspection Form"}}),p.createElement(Jm.Screen,{name:"RigInspectionScreen",component:Ym,options:{title:"Rig Inspection"}}),p.createElement(Jm.Screen,{name:"DropzoneRigsScreen",component:pm,options:{title:"Dropzone rigs"}}),p.createElement(Jm.Screen,{name:"DropzoneTransactionsScreen",component:Mm,options:{title:"Order Activity"}}),p.createElement(Jm.Screen,{name:"DropzonePermissionScreen",component:xm,options:{title:"Permissions"}}),p.createElement(Jm.Screen,{name:"DropzoneMasterLogScreen",component:Cm,options:{title:"Master log"}}))}function Xm(){var e,n,t,r,a,o,l,i,s,u,c,d,m,f,g,v,h,b,y,E,x,k=Un((function(e){return e.forms.ghost})),w=$n();return p.createElement(p.Fragment,null,p.createElement(Yl.a,{style:Zm.field,mode:"outlined",label:"Name",error:!!k.fields.name.error,value:(null==(e=k.fields.name)||null==(n=e.value)?void 0:n.toString())||"",onChangeText:function(e){return w(Dn.forms.ghost.setField(["name",e]))}}),p.createElement(ql.a,{type:k.fields.name.error?"error":"info"},k.fields.name.error||" "),p.createElement(Yl.a,{style:Zm.field,mode:"outlined",label:"Email",error:!!k.fields.email.error,value:(null==(t=k.fields.email)||null==(r=t.value)?void 0:r.toString())||"",onChangeText:function(e){return w(Dn.forms.ghost.setField(["email",e]))}}),p.createElement(ql.a,{type:k.fields.email.error?"error":"info"},k.fields.email.error||" "),p.createElement(Ql,{label:"Exit weight (kg)",error:!!k.fields.exitWeight.error,value:Number(null==(a=k.fields.exitWeight)?void 0:a.value),onChangeText:function(e){return w(Dn.forms.ghost.setField(["exitWeight",null==e?void 0:e.toString()]))}}),p.createElement(ql.a,{type:k.fields.exitWeight.error?"error":"info"},k.fields.exitWeight.error||""),p.createElement(Hl.a,null),p.createElement(C.default,{style:{width:"100%"}},p.createElement(Ec,{value:(null==k||null==(o=k.fields)||null==(l=o.license)||null==(i=l.value)?void 0:i.federation)||k.federation.value,onSelect:function(e){return w(Dn.forms.ghost.setFederation(e))}}),p.createElement(ql.a,{type:k.federation.error?"error":"info"},k.federation.error||""),((null==k||null==(s=k.fields)||null==(u=s.license)||null==(c=u.value)||null==(d=c.federation)?void 0:d.id)||(null==k||null==(m=k.federation)||null==(f=m.value)?void 0:f.id))&&p.createElement(p.Fragment,null,p.createElement(yc,{value:k.fields.license.value,federationId:Number((null==k||null==(g=k.fields)||null==(v=g.license)||null==(h=v.value)||null==(b=h.federation)?void 0:b.id)||(null==(y=k.federation)||null==(E=y.value)?void 0:E.id)),onSelect:function(e){return w(Dn.forms.ghost.setField(["license",e]))}}),p.createElement(ql.a,{type:k.fields.license.error?"error":"info"},k.fields.license.error||""))),p.createElement(oc,{value:(null==(x=k.fields.role)?void 0:x.value)||null,onSelect:function(e){return w(Dn.forms.ghost.setField(["role",e]))}}),p.createElement(ql.a,{type:k.fields.phone.error?"error":"info"},k.fields.phone.error||""))}var Zm=F.a.create({fields:{flex:1,width:"100%",paddingTop:32},field:{marginBottom:8,width:"100%"},ticketAddons:{marginBottom:8}}),Km=El(mo,{getPayload:function(e){return e.createGhost},validates:{exitWeight:[vl("Exit weight must be provided"),bl("Please enter a valid number")],email:[vl("Please provide a valid email address"),hl("Please provide a valid email address")],name:[vl("Name is required")],roleId:[vl("You must select a role")]},fieldErrorMap:{licenseId:"license",exitWeight:"exit_weight",roleId:"role"}});function ef(e){var n,t,r=e.open,o=e.onSuccess,l=e.onClose,i=Un((function(e){return e.forms.ghost})),s=Un((function(e){return e.global})),u=$n(),c=Km({onSuccess:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){requestAnimationFrame((function(){var n;o(),u(Dn.notifications.showSnackbar({message:(null==e||null==(n=e.user)?void 0:n.name)+" has been added to your dropzone",variant:"success"}))}))})),onFieldError:function(e,n){u(Dn.forms.ghost.setFieldError([e,n]))},onError:function(e){return u(Dn.notifications.showSnackbar({message:e,variant:"error"}))}}),d=p.useCallback((function(){var e,n,t;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:c.mutate({dropzoneId:s.currentDropzoneId,name:i.fields.name.value||"",licenseId:null!=(e=i.fields.license.value)&&e.id?Number(null==(n=i.fields.license.value)?void 0:n.id):null,phone:i.fields.phone.value,exitWeight:Number(i.fields.exitWeight.value),email:i.fields.email.value||"",roleId:Number(null==(t=i.fields.role.value)?void 0:t.id)});case 1:case"end":return r.stop()}}),null,null,null,Promise)}),[c,s.currentDropzoneId,i.fields.name.value,null==(n=i.fields.license.value)?void 0:n.id,i.fields.phone.value,i.fields.exitWeight.value,i.fields.email.value,null==(t=i.fields.role.value)?void 0:t.id]),m=p.useMemo((function(){return[400,740]}),[]);return p.createElement(Su,{title:"Pre-register user",open:r,snapPoints:m,loading:c.loading,onClose:l,buttonAction:d,buttonLabel:"Save"},p.createElement(Xm,null))}function nf(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function tf(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nf(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nf(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function rf(){var e=Object(Dl.b)();return p.createElement(jl.a,{isLoading:!0,containerStyle:{height:75,backgroundColor:e.colors.surface,width:"100%",padding:16,margin:1,flexDirection:"row"},layout:[{key:"user-avatar",height:48,width:48,marginHorizontal:12,borderRadius:24},{key:"list-container",flexDirection:"column",children:[{key:"user-name",height:14,width:180,marginTop:2,marginLeft:8,borderRadius:27.5},{key:"user-role",height:14,width:100,marginTop:8,marginLeft:8,borderRadius:27.5}]}]})}function af(){var e,n,t=Un((function(e){return e.global})),r=Un((function(e){return e.screens.users})),a=Un((function(e){return e.forms.ghost})),l=$n(),i=Bo({variables:{dropzoneId:Number(t.currentDropzoneId),search:r.searchText},fetchPolicy:"cache-and-network"}),s=i.data,u=i.loading,c=i.refetch,d=Object(Tl.useNavigation)(),m=Object(Tl.useIsFocused)();p.useEffect((function(){r.isSearchVisible&&!m&&l(Dn.screens.users.setSearchVisible(!1))}),[l,m,r.isSearchVisible]);var f=Nl(B.CreateUser),g=Object(zl.a)().width,v=Math.floor(g/370)||1,h=(null==s||null==(e=s.dropzone)||null==(n=e.dropzoneUsers)?void 0:n.edges)||[],b=!(null!=h&&h.length)&&u,E=Object(Dl.b)();return p.createElement(C.default,{style:{flexGrow:1,backgroundColor:E.colors.surface}},p.createElement(y.a,{indeterminate:!0,color:t.theme.colors.accent,visible:u}),null!=h&&h.length?null:p.createElement(C.default,{style:of.empty},p.createElement(Oi,{title:"No users",subtitle:""})),p.createElement(o.a,{data:b?[1,1,1,11,1,1,1,1]:h,onRefresh:function(){return c({dropzoneId:Number(t.currentDropzoneId),search:r.searchText})},keyExtractor:function(e,n){var t,r=e.item;return"user-"+((null==r||null==(t=r.node)?void 0:t.id)||n)},style:{flex:1,paddingTop:0},refreshing:u,refreshControl:p.createElement(Ol.a,{refreshing:u,onRefresh:c}),numColumns:v,contentContainerStyle:{width:"100%",alignSelf:"center"},renderItem:function(e){var n,r,a,o,l,i=e.item;return 1===i?p.createElement(rf,null):p.createElement(Il.a,{key:"user-"+(null==i||null==(n=i.node)?void 0:n.id),style:{margin:0,marginVertical:0,borderRadius:2,width:"100%"}},p.createElement(Il.a.Content,{style:{paddingLeft:0,paddingTop:4,paddingRight:0,paddingBottom:4}},p.createElement(_l.c.Item,{style:{width:"100%"},title:null==i||null==(r=i.node)?void 0:r.user.name,titleStyle:{fontWeight:"bold"},descriptionStyle:{fontSize:12},description:null==i||null==(a=i.node)||null==(o=a.role)||null==(l=o.name)?void 0:l.replace("_"," ").toUpperCase(),left:function(){var e,n,r;return null!=i&&null!=(e=i.node)&&null!=(n=e.user)&&n.image?p.createElement(_l.a.Image,{source:{uri:null==i||null==(r=i.node)?void 0:r.user.image},style:{alignSelf:"center",marginHorizontal:22,backgroundColor:t.palette.primary.light},size:48}):p.createElement(_l.a.Icon,{icon:"account",style:{alignSelf:"center",marginHorizontal:22},size:48})},right:function(){return p.createElement(_l.c.Icon,{icon:"chevron-right"})},onPress:function(){var e;return d.navigate("UserProfileScreen",{userId:null==i||null==(e=i.node)?void 0:e.id})}})))}}),f&&p.createElement(Ri.a,{style:of.fab,small:!0,icon:"plus",onPress:function(){return l(Dn.forms.ghost.setOpen(!0))},label:"Add user"}),p.createElement(ef,{open:a.open,onClose:function(){return requestAnimationFrame((function(){return l(Dn.forms.ghost.setOpen(!1))}))},onSuccess:function(){requestAnimationFrame((function(){l(Dn.forms.ghost.setOpen(!1)),c()}))}}))}var of=F.a.create({container:{flex:1},empty:tf(tf({},F.a.absoluteFillObject),{},{flexGrow:1,flex:1,alignSelf:"center",alignItems:"center",justifyContent:"center"}),fab:{position:"absolute",margin:16,right:0,bottom:0},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}});var lf=F.a.create({inputContainer:{flexGrow:1},input:{backgroundColor:"transparent",color:"#FFFFFF",fontSize:20},icon:{marginHorizontal:8}}),sf=function(e){var n=e.navigation,t=e.previous,r=e.scene,a=e.onSearch,o=e.searchText,l=e.searchVisible,i=e.setSearchVisible,s=Un((function(e){return e.global})).theme;return p.createElement(Qs.a.Header,{style:{backgroundColor:s.dark?s.colors.background:s.colors.surface}},t?p.createElement(Qs.a.BackAction,{onPress:n.goBack}):null,l?p.createElement(Qs.a.BackAction,{onPress:function(){return i(!1)}}):null,l?p.createElement(C.default,{style:lf.inputContainer},p.createElement(Yl.a,{style:lf.input,placeholder:"Search users...",value:o||"",onChangeText:function(e){return a(e)},autoFocus:!0})):p.createElement(Qs.a.Content,{title:r.descriptor.options.title,titleStyle:{fontWeight:"bold"}}),l?p.createElement(Ad.a,{name:"close",onPress:function(){return i(!l)},color:s.colors.text,size:24,style:lf.icon}):p.createElement(Ad.a,{name:"search",onPress:function(){return i(!l)},color:s.colors.text,size:24,style:lf.icon}))},uf=Object(yt.a)();function cf(){var e=Un((function(e){return e.screens.users})),n=e.isSearchVisible,t=e.searchText,r=$n();return p.createElement(uf.Navigator,{screenOptions:{headerShown:!0,header:function(e){return p.createElement(sf,oa()({},e,{searchText:t,searchVisible:n,setSearchVisible:function(e){return r(Dn.screens.users.setSearchVisible(e))},onSearch:function(e){return r(Dn.screens.users.setSearchText(e))}}))},cardStyle:{flex:1}}},p.createElement(uf.Screen,{name:"UsersScreen",component:af,options:{title:"Dropzone users"}}),p.createElement(uf.Screen,{name:"UserProfileScreen",component:Mc,options:{title:"User"}}),p.createElement(uf.Screen,{name:"RigInspectionScreen",component:Ym,options:{title:"Inspection"}}),p.createElement(uf.Screen,{name:"TransactionsScreen",component:gd,options:{title:"Transactions"}}),p.createElement(uf.Screen,{name:"EquipmentScreen",component:yd,options:{title:"Equipment"}}))}var df=Object(yt.a)();function mf(){return p.createElement(df.Navigator,{screenOptions:{headerShown:!0,header:function(e){return p.createElement(nu,oa()({},e,{hideWarnings:!0}))},cardStyle:{flex:1}},initialRouteName:"NotificationsScreen"},p.createElement(df.Screen,{name:"NotificationsScreen",component:id,options:{title:"Notifications"}}),p.createElement(df.Screen,{name:"RigInspectionScreen",component:Ym,options:{title:"Rig inspection"}}))}var ff=function(){return p.createElement(p.Fragment,null)};function pf(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function gf(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pf(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pf(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var vf=Object(la.a)(),hf=sa.default.createAnimatedComponent(ia.a);function bf(){var e=Un((function(e){return e.global})),n=e.theme,t=e.palette,r="dark"===k.a.getColorScheme(),a=Nl(B.ReadUser),o=p.useMemo((function(){return{labelStyle:{color:n.dark?n.colors.onSurface:t.surface},icon:{activeColor:t.surface,inactiveColor:t.primary.dark},background:{activeColor:t.placeholder,inactiveColor:n.colors.surface}}}),[t.placeholder,t.primary.dark,t.surface,n.colors.onSurface,n.colors.surface,n.dark]),l=p.useMemo((function(){return{Manifest:gf(gf({},o),{},{icon:gf(gf({},o.icon),{},{component:function(e){var n=e.animatedFocus,t=e.size,r=e.color;return p.createElement(hf,{name:"airplane",style:[yf.icon,n?yf.iconActive:void 0],size:t,color:r})}})}),Notifications:gf(gf({},o),{},{icon:gf(gf({},o.icon),{},{component:function(e){var n=e.animatedFocus,t=e.size,r=e.color;return p.createElement(hf,{name:"bell-outline",style:[yf.icon,n?yf.iconActive:void 0],size:t,color:r})}})}),Users:gf(gf({},o),{},{icon:gf(gf({},o.icon),{},{component:function(e){var n=e.animatedFocus,t=e.size,r=e.color;return p.createElement(hf,{name:"account-group-outline",style:[yf.icon,n?yf.iconActive:void 0],size:t,color:r})}})})}}),[o]);return p.createElement(vf.Navigator,oa()({initialRouteName:"Manifest"},S.a.select({web:{},ios:{tabBar:function(e){return p.createElement(ff,oa()({preset:"bubble",tabs:l,animation:"iconWithLabelOnFocus",inactiveOpacity:.25,inactiveScale:.5},e))}},android:{tabBar:function(e){return p.createElement(ff,oa()({preset:"bubble",tabs:l,animation:"iconWithLabelOnFocus",inactiveOpacity:.25,inactiveScale:.5},e))}}}),{tabBarOptions:{activeTintColor:n.colors.primary,inactiveBackgroundColor:n.dark?n.colors.backdrop:n.colors.surface,activeBackgroundColor:n.colors.surface,inactiveTintColor:"#CCCCCC",showLabel:"web"!==S.a.OS,adaptive:!0,style:{backgroundColor:n.dark?n.colors.background:"#FFFFFF",borderTopWidth:F.a.hairlineWidth,borderTopColor:"#CCCCCC"}}}),p.createElement(vf.Screen,{name:"Manifest",component:Qm,options:{tabBarLabel:function(e){var t=e.focused,a=e.color;return t?p.createElement(X.a,{style:[yf.label,{color:r&&t?n.colors.primary:a}]},"Manifest"):null},tabBarIcon:function(e){var t=e.focused,a=e.color,o=e.size;return p.createElement(ia.a,{name:"airplane",style:[yf.icon,t?yf.iconActive:void 0],size:o,color:r&&t?n.colors.primary:a})},unmountOnBlur:!1}}),p.createElement(vf.Screen,{name:"Notifications",component:mf,options:{tabBarLabel:function(e){var t=e.focused,a=e.color;return t?p.createElement(X.a,{style:[yf.label,{color:r&&t?n.colors.primary:a}]},"Notifications"):null},tabBarIcon:function(e){var t=e.focused,a=e.color,o=e.size;return p.createElement(ia.a,{name:"bell",style:[yf.icon,t?yf.iconActive:void 0],size:o,color:r&&t?n.colors.primary:a})},unmountOnBlur:!0}}),a&&p.createElement(vf.Screen,{name:"Users",component:cf,options:{tabBarLabel:function(e){var t=e.focused,a=e.color;return t?p.createElement(X.a,{style:[yf.label,{color:r&&t?n.colors.primary:a}]},"Users"):null},tabBarIcon:function(e){var t=e.size,a=e.color,o=e.focused;return p.createElement(ia.a,{size:t,color:a,name:"account-group",style:[yf.icon,o?yf.iconActive:void 0],size:t,color:r&&o?n.colors.primary:a})},unmountOnBlur:!0}}))}var yf=F.a.create({icon:{opacity:.75},iconActive:{opacity:1},label:{color:"#FFFFFF",fontSize:12}}),Ef=t(113),xf=t(904);function kf(){var e,n=$n(),t=Un((function(e){return e.global})),r=Go(),o=r.data,l=r.loading,i=r.refetch,s=Object(Tl.useNavigation)();return p.createElement(xf.a,{style:wf.container},p.createElement(Ef.a,{data:(null==o||null==(e=o.dropzones)?void 0:e.edges)||[],numColumns:2,refreshing:l,onRefresh:function(){return i()},style:{flex:1,width:"100%"},contentContainerStyle:{flexGrow:1,width:"100%",paddingBottom:100},ListEmptyComponent:function(){return p.createElement(Oi,{title:"No dropzones?",subtitle:"You can set one up!"})},renderItem:function(e){var r,o,l,i,u,c=e.item;return p.createElement(Il.a,{style:{width:Cl.a.get("window").width/2-32,margin:8},onPress:function(){var e;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:null!=c&&c.node&&(e=!!t.currentDropzoneId,n(Dn.global.setDropzone(c.node)),e&&s.replace("Authenticated",{screen:"HomeScreen"}));case 1:case"end":return r.stop()}}),null,null,null,Promise)}},null!=c&&null!=(r=c.node)&&r.banner?p.createElement(Il.a.Cover,{source:{uri:null==c||null==(o=c.node)?void 0:o.banner}}):p.createElement(C.default,{style:[wf.dzIcon,{backgroundColor:(null==c||null==(l=c.node)?void 0:l.primaryColor)||void 0}]},p.createElement(_l.a.Icon,{style:{backgroundColor:(null==c||null==(i=c.node)?void 0:i.secondaryColor)||void 0},icon:"airplane-takeoff"})),p.createElement(Il.a.Content,null,p.createElement(yi.a,null,null==c||null==(u=c.node)?void 0:u.name)))}}),p.createElement(Ri.a,{style:wf.fab,small:!0,icon:"plus",onPress:function(){n(Dn.forms.plane.reset()),n(Dn.forms.ticketType.reset()),n(Dn.forms.dropzone.reset()),s.navigate("DropzoneSetupScreen")},label:"Create dropzone"}))}var wf=F.a.create({container:{flex:1,padding:8,display:"flex",flexGrow:1},dzIcon:{height:150,alignItems:"center",justifyContent:"center"},fab:{position:"absolute",margin:32,right:16,bottom:0,backgroundColor:"#FFFFFF"},empty:{flex:1,backgroundColor:"#FF1414",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}}),Sf=Object(yt.a)();function Cf(){return p.createElement(Sf.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}},initialRouteName:"Dropzones"},p.createElement(Sf.Screen,{name:"DropzonesScreen",component:kf}))}var Of=function(e){var n=e.style,t=Un((function(e){return e.global.palette}));return g.a.createElement(X.a,oa()({},e,{style:n}),g.a.createElement("span",oa()({},e,{style:{opacity:1,background:"linear-gradient(45deg, "+t.primary.dark+", "+t.primary.main+")","-webkit-background-clip":"text","-webkit-text-fill-color":"transparent","background-clip":"text"}})))};function zf(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function If(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?zf(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zf(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Tf(e){var n=e.children;return p.createElement(Es.a,{style:jf.fields,behavior:"android"===S.a.OS?void 0:"padding"},p.createElement(C.default,{style:jf.fieldContent},n))}function Pf(e){var n=e.children,t=e.title,r=e.hideContentUntilNavigatedTo;return!Object(Tl.useIsFocused)()&&r?null:p.createElement(C.default,{style:jf.container},t&&p.createElement(C.default,{style:jf.title},p.createElement(C.default,null,p.createElement(Of,{style:{marginTop:16,textAlign:"left",fontWeight:"bold",fontSize:72}},t))),p.createElement(o.c,{style:{flex:1},contentContainerStyle:jf.content},n))}var jf=F.a.create({container:If(If({},F.a.absoluteFillObject),{},{flexDirection:"column"}),content:{flexGrow:1,alignItems:"center",justifyContent:"center"},dots:{minWidth:400,maxWidth:500,flexDirection:"row",alignItems:"center",justifyContent:"center",padding:48},title:{minWidth:400,maxWidth:500,alignSelf:"center",paddingLeft:32},fields:{minWidth:400,maxWidth:500,flexDirection:"row",alignItems:"center",justifyContent:"center",padding:32},fieldContent:{flexDirection:"column",flexGrow:1}});function Df(e){var n=e.count,t=e.index,r=Un((function(e){return e.global.palette}));return p.createElement(C.default,{style:{flexDirection:"row"}},Array.from({length:n}).map((function(e,n){return p.createElement(C.default,{style:[n===t?Ff.activeDot:Ff.inactiveDot,{backgroundColor:n===t?r.primary.main:r.primary.light}]})})))}var Ff=F.a.create({inactiveDot:{width:6,height:6,marginTop:1,marginLeft:2,marginRight:2,borderRadius:3},activeDot:{width:8,height:8,marginLeft:2,marginRight:2,borderRadius:4}}),Af=Object(yt.a)(),Nf=Object(yt.a)();function Rf(e){var n=e.name,t=e.steps,r=e.dots,o=p.useState(0),l=H()(o,2),i=l[0],s=l[1],u=p.useState(!1),c=H()(u,2),d=c[0],m=c[1],f=Object(Tl.useNavigation)(),g=Un((function(e){return e.global})).palette;return p.createElement(C.default,{style:F.a.absoluteFill},r?p.createElement(C.default,{style:Bf.dots},p.createElement(Df,{count:t.length,index:i})):null,p.createElement(Es.a,{style:Bf.content,behavior:"android"===S.a.OS?void 0:"padding"},p.createElement(Af.Navigator,{screenOptions:{headerShown:!1,transitionSpec:{open:ua.b.TransitionIOSSpec,close:ua.b.TransitionIOSSpec},headerStyleInterpolator:ua.a.forFade,cardStyleInterpolator:function(e){var n=e.current,t=e.next,r=e.layouts;return{cardStyle:{backgroundColor:"transparent",transform:[{translateX:n.progress.interpolate({inputRange:[0,1],outputRange:[r.screen.width,0]})},{scale:t?t.progress.interpolate({inputRange:[0,1],outputRange:[1,.9]}):1}]},overlayStyle:{opacity:n.progress.interpolate({inputRange:[0,1],outputRange:[0,.5]})}}}}},t.map((function(e,t){if(!e)return null;var r=e.component;return p.createElement(Af.Screen,{name:""+n+t},(function(e){return p.createElement(r,oa()({},e,{index:t}))}))}))),p.createElement(C.default,{style:Bf.actions},p.createElement(K.a,{disabled:d,loading:d,onPress:function(){var e,r,o,l;return a.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,o=(null==(e=t[i])?void 0:e.nextIndexFactor)||1,null==(r=t[i])||!r.onNext){u.next=6;break}return m(!0),u.next=6,a.a.awrap(null==(l=t[i])||null==l.onNext?void 0:l.onNext());case 6:i===t.length-1?f.goBack():(f.navigate(""+n+(i+o)),s(i+o)),u.next=12;break;case 9:return u.prev=9,u.t0=u.catch(0),u.abrupt("return",void 0);case 12:return u.prev=12,m(!1),u.finish(12);case 15:return u.abrupt("return",void 0);case 16:case"end":return u.stop()}}),null,null,[[0,9,12,15]],Promise)},style:[Bf.next,{backgroundColor:g.placeholder}],mode:"contained"},i===t.length-1?"Done":"Next"),p.createElement(K.a,{disabled:d,mode:"text",onPress:function(){var e,r,o;return a.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return o=(null==(e=t[i])?void 0:e.backIndexFactor)||1,null==(r=t[i])||null==r.onBack||r.onBack(),0===i?f.goBack():(f.navigate(""+n+(i-o)),s(i-o||0)),a.abrupt("return",void 0);case 4:case"end":return a.stop()}}),null,null,null,Promise)}},"Back"))))}function $f(e){var n=e.name;return p.createElement(Nf.Navigator,{mode:"modal",screenOptions:{headerShown:!1}},p.createElement(Nf.Screen,{name:n},(function(){return p.createElement(Rf,e)})))}var Uf,Bf=F.a.create({dots:{alignSelf:"center",minWidth:400,maxWidth:500,flexDirection:"row",alignItems:"center",justifyContent:"center",padding:48},actions:{alignSelf:"center",alignItems:"center",justifyContent:"center",padding:16,paddingBottom:48},next:{width:"100%",borderRadius:20,minWidth:300},content:{flexGrow:1}}),Lf=t(558);function Wf(e){return Object(Lf.passwordStrength)(e,[{value:Uf.TooWeak,id:0,minDiversity:0,minLength:0},{value:Uf.Weak,id:1,minDiversity:2,minLength:8},{value:Uf.Acceptable,id:2,minDiversity:3,minLength:10},{value:Uf.Strong,id:3,minDiversity:4,minLength:16}],"!@#$%^&*()_+{}:\"<>?[]\\|;',./").value}!function(e){e[e.TooWeak=0]="TooWeak",e[e.Weak=1]="Weak",e[e.Acceptable=2]="Acceptable",e[e.Strong=3]="Strong"}(Uf||(Uf={}));var Vf=F.a.create({title:{fontWeight:"bold",marginLeft:4,marginTop:8},indicator:{flexDirection:"row",height:12,borderRadius:8,overflow:"hidden",marginTop:8},indicatorInactive:{backgroundColor:"#AAA"},indicatorWeak:{flex:1/3,backgroundColor:"#ff4444"},indicatorOk:{flex:2/3,backgroundColor:"#FF8800"},indicatorStrong:{backgroundColor:"#00C851",flex:1}}),Mf=function(e){var n=e.strength,t=[Vf.indicatorWeak,Vf.indicatorOk,Vf.indicatorStrong];return p.createElement(p.Fragment,null,p.createElement(X.a,{style:Vf.title},["Too weak","Weak","Acceptable","Strong"][n]),p.createElement(C.default,{style:Vf.indicator},p.createElement(C.default,{style:t[n]}),n<Uf.Acceptable?p.createElement(C.default,{style:[Vf.indicatorInactive,{flex:1/3}]}):null,[Uf.Weak,Uf.Acceptable].includes(n)?p.createElement(C.default,{style:[Vf.indicatorInactive,{flex:n<Uf.Acceptable?1/3:.5}]}):null))};var Gf=function(e){var n=Un((function(e){return e.screens.signup})).fields,t=$n();return p.createElement(Pf,oa()({},e,{title:"Password"}),p.createElement(Tf,null,p.createElement(Yl.a,{mode:"flat",label:"Password",error:Boolean(n.password.error),textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:n.password.value,onChangeText:function(e){return t(Dn.screens.signup.setField(["password",e]))},style:{width:"100%",backgroundColor:"transparent",fontSize:32,height:70}}),p.createElement(Mf,{strength:Wf(n.password.value)}),p.createElement(ql.a,{type:"error"},n.password.error)))};var qf=function(e){var n=Un((function(e){return e.screens.signup})).fields,t=$n();return p.createElement(Pf,oa()({},e,{title:"Email"}),p.createElement(Tf,null,p.createElement(Yl.a,{mode:"flat",label:"Email",value:n.email.value||"",onChangeText:function(e){t(Dn.screens.signup.setField(["email",e]))},style:{width:"100%",backgroundColor:"transparent",fontSize:32,height:70}}),p.createElement(ql.a,{type:"error"},n.email.error)))};var _f=function(e){var n=Un((function(e){return e.screens.signup})).fields,t=$n();return p.createElement(Pf,oa()({},e,{title:"Repeat password"}),p.createElement(Tf,null,p.createElement(Yl.a,{mode:"flat",label:"Password",error:Boolean(n.passwordConfirmation.error),textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:n.passwordConfirmation.value,onChangeText:function(e){return t(Dn.screens.signup.setField(["passwordConfirmation",e]))},style:{width:"100%",backgroundColor:"transparent",fontSize:32,height:70}}),p.createElement(ql.a,{type:"error"},n.passwordConfirmation.error)))};var Hf=function(e){return p.createElement(Pf,oa()({},e,{title:"Check your email"}),p.createElement(Tf,null,p.createElement(Ei.a,null,"Click the link in the email we sent to you to confirm your account.")))};function Yf(){var e,n,t=Un((function(e){return e.screens.signup})),r=Un((function(e){return e.global})),o=$n(),l=function(e){var n=ba(ba({},ya),e);return pa.a(Ao,n)}(),i=H()(l,1)[0],s=p.useCallback((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(t.fields.email.value)){e.next=5;break}throw o(Dn.screens.signup.setFieldError(["email","Please enter a valid email"])),new Error("Invalid email");case 5:case"end":return e.stop()}}),null,null,null,Promise)}),[o,t.fields.email.value]),u=p.useCallback((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Wf(t.fields.password.value)<Uf.Acceptable)){e.next=3;break}throw o(Dn.screens.signup.setFieldError(["password","Password too weak"])),new Error("Invalid email");case 3:case"end":return e.stop()}}),null,null,null,Promise)}),[o,t.fields.password.value]),c=p.useCallback((function(){var e,n,l,s,u,c,d,m,f;return a.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(t.fields.password.value===t.fields.passwordConfirmation.value){p.next=3;break}throw o(Dn.screens.signup.setFieldError(["passwordConfirmation","Password doesnt match"])),new Error("Password mismatch");case 3:return p.prev=3,p.next=6,a.a.awrap(i({variables:{pushToken:r.expoPushToken,email:t.fields.email.value,name:t.fields.name.value,exitWeight:t.fields.exitWeight.value,password:t.fields.password.value,passwordConfirmation:t.fields.passwordConfirmation.value,licenseId:Number(null==(e=t.fields.license)||null==(n=e.value)?void 0:n.id)||null,phone:t.fields.phone.value}}));case 6:null!=(c=p.sent)&&null!=(l=c.data)&&null!=(s=l.userSignUp)&&null!=(u=s.fieldErrors)&&u.length&&(null==c||null==(d=c.data)||null==(m=d.userSignUp)||null==(f=m.fieldErrors)||f.forEach((function(e){var n=e.field,t=e.message;switch(n){case"email":throw o(Dn.screens.signup.setFieldError(["email",t])),new Error("Email error");case"password":throw o(Dn.screens.signup.setFieldError(["password",t])),new Error("Password error");case"passwordConfirmation":throw o(Dn.screens.signup.setFieldError(["passwordConfirmation",t])),new Error("Email error");default:return}}))),p.next=14;break;case 10:throw p.prev=10,p.t0=p.catch(3),o(Dn.screens.signup.setFieldError(["passwordConfirmation",p.t0.message])),new Error;case 14:case"end":return p.stop()}}),null,null,[[3,10]],Promise)}),[o,r.expoPushToken,i,t.fields.email.value,t.fields.exitWeight.value,null==(e=t.fields.license)||null==(n=e.value)?void 0:n.id,t.fields.name.value,t.fields.password.value,t.fields.passwordConfirmation.value,t.fields.phone.value]);return p.createElement($f,{dots:!0,name:"SignupWizard",steps:[{onNext:s,component:qf},{onNext:u,component:Gf},{onNext:c,component:_f},{component:Hf}]})}var Jf=t(53),Qf=t(559),Xf=t.n(Qf);function Zf(){var e=Un((function(e){return e.screens.login})),n=$n(),r=Object(ts.useNavigation)(),l=function(e){var n=ba(ba({},ya),e);return pa.a(ho,n)}(),i=H()(l,2),s=i[0],u=i[1],c=Object(Dl.b)(),d=p.useCallback((function(){var t,r,o,l,i,u,c;return a.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(t=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),r=!1,e.fields.email.value||(r=!0,n(Dn.screens.login.setEmailError("Email is required"))),e.fields.password.value||(r=!0,n(Dn.screens.login.setPasswordError("Password is required"))),t.test(e.fields.email.value)||(r=!0,n(Dn.screens.login.setEmailError("Please enter a valid email"))),r){d.next=17;break}return d.prev=7,d.next=10,a.a.awrap(s({variables:{email:e.fields.email.value,password:e.fields.password.value}}));case 10:null!=(c=d.sent)&&null!=(o=c.data)&&null!=(l=o.userLogin)&&l.authenticatable&&null!=c&&null!=(i=c.data)&&null!=(u=i.userLogin)&&u.credentials&&(n(Dn.global.setCredentials(c.data.userLogin.credentials)),n(Dn.global.setUser(c.data.userLogin.authenticatable))),d.next=17;break;case 14:d.prev=14,d.t0=d.catch(7),n(Dn.notifications.showSnackbar({message:d.t0.message,variant:"error"}));case 17:case"end":return d.stop()}}),null,null,[[7,14]],Promise)}),[n,s,e.fields.email.value,e.fields.password.value]);return p.createElement(tu.a,{source:t(859),style:ep.container,resizeMode:"repeat"},p.createElement(Jf.a,{source:Xf.a,style:{height:300,width:"100%"},resizeMode:"contain"}),p.createElement(Es.a,{style:ep.fields,behavior:"android"===S.a.OS?void 0:"padding"},p.createElement(Il.a,{style:{padding:16,borderRadius:8},elevation:3},p.createElement(Il.a.Content,null,p.createElement(Yl.a,{label:"Email",mode:"outlined",value:e.fields.email.value,onChangeText:function(e){n(Dn.screens.login.setEmail(e))}}),p.createElement(ql.a,{type:"error"},e.fields.email.error),p.createElement(Yl.a,{label:"Password",mode:"outlined",value:e.fields.password.value,secureTextEntry:!0,onChangeText:function(e){n(Dn.screens.login.setPassword(e))},onSubmitEditing:d,error:!!e.fields.password.error}),p.createElement(ql.a,{type:"error"},e.fields.password.error||" "),p.createElement(K.a,{mode:"contained",labelStyle:ep.buttonLabel,style:[ep.button,{backgroundColor:c.colors.surface}],onPress:d,loading:u.loading},"Log in"),p.createElement(K.a,{labelStyle:ep.textButtonLabel,style:ep.textButton,onPress:function(){return r.navigate("SignUpWizard")}},"Sign up"),p.createElement(o.f,{onPress:function(){return r.navigate("RecoverPasswordScreen")}},p.createElement(X.a,{style:ep.forgotPassword},"Forgot your password?"))))))}var Kf,ep=F.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",paddingTop:10},title:{fontSize:20,fontWeight:"bold"},forgotPassword:{color:"rgb(50, 50, 50)"},fields:{marginBottom:10,marginTop:-50,maxWidth:400,width:"100%",paddingHorizontal:56,backgroundColor:"transparent"},button:{marginTop:10,backgroundColor:"white",borderColor:"#FF1414",borderWidth:1,width:"100%"},buttonLabel:{color:"#FF1414"},textButton:{marginTop:10,height:56,backgroundColor:"transparent",color:"white",width:"100%"},textButtonLabel:{}}),np=El(Object(fa.a)(Kf||(Kf=ma()(['\n  mutation UserSignUp(\n    $email: String!\n    $password: String!\n    $passwordConfirmation: String!\n    $name: String!\n    $phone: String!\n    $pushToken: String\n    $exitWeight: Float!\n    $licenseId: Int\n  ) {\n    userSignUp(\n      email: $email\n      password: $password\n      passwordConfirmation: $passwordConfirmation\n      exitWeight: $exitWeight\n      name: $name\n      phone: $phone\n      pushToken: $pushToken\n      licenseId: $licenseId\n      confirmSuccessUrl: "https://openmanifest.org/confirm/"\n    ) {\n      authenticatable {\n        createdAt\n        email\n        id\n        name\n        phone\n      }\n      credentials {\n        accessToken\n        tokenType\n        client\n        expiry\n        uid\n      }\n    }\n  }\n']))),{getPayload:function(e){return e.userSignUp},fieldErrorMap:{licenseId:"license"},validates:{name:[vl("Name is required")],email:[hl("Please enter a valid email")],passwordConfirmation:[yl("Password must have 1 uppercase, 1 lowercase, 1 digit and be at least 8 characters",(function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}.*$/.test(e.passwordConfirmation)})),yl("Passwords don't match",(function(e){return e.password===e.passwordConfirmation}))]}}),tp=t(560),rp=t.n(tp);function ap(){var e=Un((function(e){return e.screens.signup})),n=Un((function(e){return e.global})),t=$n(),r=Object(Tl.useNavigation)(),a=np({onSuccess:function(e){return t(Dn.notifications.showSnackbar({message:"A confirmation link has been sent to your email",variant:"success"})),r.navigate("LoginScreen"),null},onFieldError:function(e,n){return t(Dn.screens.signup.setFieldError([e,n]))}}),o=a.loading,l=a.mutate;return p.createElement(ds,{style:op.container,contentContainerStyle:op.content},p.createElement(Es.a,{style:op.fields,behavior:"android"===S.a.OS?void 0:"padding"},p.createElement(Jf.a,{source:rp.a,style:{width:"100%",height:200},resizeMode:"contain"}),p.createElement(Yl.a,{style:op.field,mode:"outlined",label:"Name",error:!!e.fields.name.error,value:e.fields.name.value,onChangeText:function(e){return t(Dn.screens.signup.setField(["name",e]))}}),p.createElement(ql.a,{type:"error"},e.fields.name.error||""),p.createElement(Yl.a,{style:op.field,mode:"outlined",label:"Email",error:!!e.fields.email.error,value:e.fields.email.value,onChangeText:function(e){return t(Dn.screens.signup.setField(["email",e]))}}),p.createElement(ql.a,{type:"error"},e.fields.email.error||""),p.createElement(Yl.a,{style:op.field,mode:"outlined",label:"Password",error:Boolean(e.fields.password.error||e.fields.passwordConfirmation.error),textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:e.fields.password.value,onChangeText:function(e){return t(Dn.screens.signup.setField(["password",e]))}}),p.createElement(ql.a,{type:"error"},e.fields.password.error||""),p.createElement(Yl.a,{style:op.field,mode:"outlined",label:"Repeat password",error:Boolean(e.fields.password.error||e.fields.passwordConfirmation.error),textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:e.fields.passwordConfirmation.value,onChangeText:function(e){return t(Dn.screens.signup.setField(["passwordConfirmation",e]))}}),p.createElement(ql.a,{type:"error"},e.fields.passwordConfirmation.error||""),p.createElement(K.a,{mode:"contained",labelStyle:op.buttonLabel,style:op.button,onPress:function(){var t,r;return l({pushToken:n.expoPushToken,email:e.fields.email.value,name:e.fields.name.value,exitWeight:e.fields.exitWeight.value,password:e.fields.password.value,passwordConfirmation:e.fields.passwordConfirmation.value,licenseId:Number(null==(t=e.fields.license)||null==(r=t.value)?void 0:r.id)||null,phone:e.fields.phone.value})},loading:o},"Sign up")))}var op=F.a.create({container:{flex:1,backgroundColor:"#FF1414"},content:{paddingHorizontal:60,alignItems:"center",backgroundColor:"transparent"},button:{marginTop:10,backgroundColor:"white",width:"100%"},buttonLabel:{color:"#FF1414"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"},fields:{width:"100%",flexGrow:1,maxWidth:400,backgroundColor:"transparent"},field:{marginBottom:8,backgroundColor:"white",borderColor:"white",color:"white"}});var lp=function(e){var n=Un((function(e){return e.screens.signup})).fields,t=$n();return p.createElement(Pf,oa()({},e,{title:"Email"}),p.createElement(Tf,null,p.createElement(Yl.a,{mode:"flat",label:"Email",value:n.email.value||"",onChangeText:function(e){t(Dn.screens.signup.setField(["email",e]))},style:{width:"100%",backgroundColor:"transparent",fontSize:32,height:70}}),p.createElement(ql.a,{type:"error"},n.email.error)))};var ip=function(e){return p.createElement(Pf,oa()({},e,{title:"Check your email"}),p.createElement(Tf,null,p.createElement(Ei.a,null,"We've sent you a link to restore your password.")))};var sp=function(){var e=Un((function(e){return e.screens.signup})),n=$n(),t=function(e){var n=ba(ba({},ya),e);return pa.a(xo,n)}(),r=H()(t,1)[0],o=p.useCallback((function(){var t,o,l;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,a.a.awrap(r({variables:{email:e.fields.email.value,redirectUrl:""}}));case 3:l=i.sent,console.log(null==l||null==(t=l.data)||null==(o=t.userSendPasswordReset)?void 0:o.message),i.next=11;break;case 7:throw i.prev=7,i.t0=i.catch(0),n(Dn.screens.signup.setFieldError(["email",i.t0.message])),new Error;case 11:case"end":return i.stop()}}),null,null,[[0,7]],Promise)}),[n,r,e.fields.email.value]);return p.createElement($f,{dots:!0,name:"RecoverPasswordWizard",steps:[{onNext:o,component:lp},{component:ip}]})},up=Object(yt.a)();function cp(){return p.createElement(up.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}},mode:"modal"},p.createElement(up.Screen,{name:"LoginScreen",component:Zf}),p.createElement(up.Screen,{name:"SignUpScreen",component:ap}),p.createElement(up.Screen,{name:"SignUpWizard",component:Yf}),p.createElement(up.Screen,{name:"RecoverPasswordScreen",component:sp}))}var dp,mp,fp=El(lo,{getPayload:function(e){return e.createDropzone},fieldErrorMap:{federationId:"federation"},validates:{name:[vl("Name is required")]}}),pp=El(Object(fa.a)(dp||(dp=ma()(["\n  mutation CreatePlane(\n    $name: String!\n    $registration: String!\n    $dropzoneId: Int!\n    $minSlots: Int!\n    $maxSlots: Int!\n    $hours: Int\n    $nextMaintenanceHours: Int\n  ) {\n    createPlane(\n      input: {\n        attributes: {\n          name: $name\n          registration: $registration\n          dropzoneId: $dropzoneId\n          minSlots: $minSlots\n          maxSlots: $maxSlots\n          hours: $hours\n          nextMaintenanceHours: $nextMaintenanceHours\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      plane {\n        id\n        name\n        registration\n        minSlots\n        maxSlots\n        hours\n        nextMaintenanceHours\n\n        dropzone {\n          id\n          name\n          planes {\n            id\n            name\n            registration\n            minSlots\n            maxSlots\n            hours\n            nextMaintenanceHours\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.createPlane},fieldErrorMap:{dropzoneId:"dropzone"},validates:{name:[vl("Name is required")],registration:[vl("Registration is required")]}}),gp=El(Object(fa.a)(mp||(mp=ma()(["\n  mutation UpdatePlane(\n    $id: Int!\n    $name: String!\n    $registration: String!\n    $minSlots: Int!\n    $maxSlots: Int!\n    $hours: Int\n    $nextMaintenanceHours: Int\n  ) {\n    updatePlane(\n      input: {\n        id: $id\n        attributes: {\n          name: $name\n          registration: $registration\n          minSlots: $minSlots\n          maxSlots: $maxSlots\n          hours: $hours\n          nextMaintenanceHours: $nextMaintenanceHours\n        }\n      }\n    ) {\n      errors\n      fieldErrors {\n        field\n        message\n      }\n      plane {\n        id\n        name\n        registration\n        minSlots\n        maxSlots\n        hours\n        nextMaintenanceHours\n\n        dropzone {\n          id\n          name\n          planes {\n            id\n            name\n            registration\n            minSlots\n            maxSlots\n            hours\n            nextMaintenanceHours\n          }\n        }\n      }\n    }\n  }\n"]))),{getPayload:function(e){return e.updatePlane},fieldErrorMap:{}});var vp=function(e){var n=Un((function(e){return e.forms.dropzone})),t=$n();return p.createElement(Pf,oa()({},e,{title:"Name"}),p.createElement(Tf,null,p.createElement(Yl.a,{mode:"flat",label:"Name",error:!!n.fields.name.error,value:n.fields.name.value||"",onChangeText:function(e){return t(Dn.forms.dropzone.setField(["name",e]))}}),p.createElement(ql.a,{type:"error"},n.fields.name.error||"")))};var hp=F.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},title:{color:"white",marginBottom:100,fontSize:24,fontWeight:"bold"},card:{padding:16,marginVertical:4,flex:1,opacity:.5},active:{opacity:1}}),bp=p.memo((function(e){var n=e.items,t=e.selected,r=e.isSelected,a=e.renderItemLabel,o=e.onChangeSelected,l=e.autoSelectFirst;return p.useEffect((function(){(!t||!t.length&&n.length&&l)&&o([n[0]])}),[t,l,o,n]),p.createElement(Ef.a,{data:n,contentContainerStyle:{paddingBottom:120},renderItem:function(e){var n=e.item,l=r?r(n):t.some((function(e){return Object(Zl.isEqual)(n,e)}));return p.createElement(Il.a,{style:[hp.card,l?hp.active:void 0],onPress:function(){return o(1===t.length?[n]:Object(Zl.xorBy)(t,[n],JSON.stringify))}},p.createElement(Il.a.Title,{title:a(n)}))}})}),(function(e,n){return Object(Zl.isEqual)(Object(Zl.pick)(e,["isDisabled","isSelected","items","selected"]),Object(Zl.pick)(n,["isDisabled","isSelected","items","selected"]))}));function yp(e){var n=e.value,t=e.onSelect,r=Yo().data;return p.createElement(bp,{autoSelectFirst:!0,items:(null==r?void 0:r.federations)||[],selected:[n].filter(Boolean),isSelected:function(e){return e.id===(null==n?void 0:n.id)},renderItemLabel:function(e){return null==e?void 0:e.name},onChangeSelected:function(e){var n=H()(e,1)[0];return n?t(n):null}})}var Ep=function(e){var n=Un((function(e){return e.forms.dropzone})),t=$n();return p.createElement(Pf,oa()({},e,{title:"Affiliation"}),p.createElement(Tf,null,p.createElement(yp,{value:n.fields.federation.value,onSelect:function(e){return t(Dn.forms.dropzone.setField(["federation",e]))}}),p.createElement(ql.a,{type:n.fields.federation.error?"error":"info"},n.fields.federation.error||"")))};function xp(e){return e*(Math.PI/180)}function kp(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=69.172,r=Math.cos(xp(e))*t;return n/r}var wp=t(561),Sp=t.n(wp);function Cp(e){var n=e.value,t=e.onChange,r=e.onSelect,a=p.useState([]),o=H()(a,2),l=o[0],i=o[1],s=p.useState(),u=H()(s,2),c=u[0],d=u[1],m=function(e){var n=ba(ba({},ya),e);return va.a(Jo,n)}(),f=H()(m,2),g=f[0],v=f[1].data,h=p.useCallback((function(e){g({variables:{search:e}})}),[g]),b=p.useMemo((function(){return Sp()(h)}),[h]);p.useEffect((function(){null!=v&&v.geocode&&i([v.geocode])}),[null==v?void 0:v.geocode]),p.useEffect((function(){n&&(null==n?void 0:n.length)>4?b(n):n||i([])}),[n,b]);var y=p.useCallback((function(e){r(e),t(e.formattedString||""),i([]),d(e)}),[t,r]);return p.createElement(C.default,{style:{width:"100%",borderRadius:3,backgroundColor:"white"}},p.createElement(hi.a,{value:n,onChangeText:t,allowFontScaling:!0,numberOfLines:1,onSubmitEditing:function(){Object(Zl.first)(l)&&y(Object(Zl.first)(l))}}),null==l?void 0:l.filter((function(e){return e.formattedString!==(null==c?void 0:c.formattedString)})).map((function(e){return p.createElement(p.Fragment,null,p.createElement(Hl.a,null),p.createElement(_l.c.Item,{title:e.formattedString,onPress:function(){y(e)}}))})))}function Op(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function zp(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Op(Object(t),!0).forEach((function(n){q()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Op(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ip=F.a.create({container:{paddingHorizontal:48,alignItems:"center",backgroundColor:"transparent"},titleContainer:{position:"absolute",top:32,left:0,width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"flex-start"},title:{fontSize:30,fontWeight:"bold",color:"white",textAlign:"center",textShadowColor:"rgba(15, 15, 15, 0.5)",textShadowRadius:10,textShadowOffset:{width:2,height:2}},markerFixed:zp(zp({},F.a.absoluteFillObject),{},{justifyContent:"center",zIndex:100,alignItems:"center",flexDirection:"column"}),content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:0,paddingVertical:16,marginVertical:16,width:"100%"},myLocation:{position:"absolute",bottom:"30%",right:30,backgroundColor:"white",borderRadius:50,padding:12}}),Tp=function(e){var n,t,r=Un((function(e){return e.forms.dropzone})),o=p.useState(""),l=H()(o,2),i=l[0],s=l[1],u=$n(),c=p.useState(),d=H()(c,2),m=d[0],f=d[1],g=p.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.a.awrap(Fs.b());case 3:if(e=t.sent,"granted"===e.status){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,a.a.awrap(Fs.a({}));case 9:n=t.sent,u(Dn.forms.dropzone.setField(["lat",n.coords.latitude])),u(Dn.forms.dropzone.setField(["lng",n.coords.longitude])),f({lat:n.coords.latitude,lng:n.coords.longitude}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}}),null,null,[[0,15]],Promise)}),[u]);p.useEffect((function(){null!==r.fields.lat.value&&null!=r.fields.lng.value||g()}),[g,r.fields.lat.value,r.fields.lng.value]);var v=p.useRef(new Vi.a.Value(0)),h=r.fields.lat.value&&r.fields.lng.value?{latitude:r.fields.lat.value,longitude:r.fields.lng.value,latitudeDelta:kp(r.fields.lat.value),longitudeDelta:kp(r.fields.lat.value)}:void 0,b=p.useRef(Vi.a.timing(v.current,{duration:100,toValue:0,useNativeDriver:!0})),y=p.useRef(Vi.a.timing(v.current,{duration:100,toValue:1,useNativeDriver:!0})),E=p.useCallback((function(e){(e?y:b).current.start()}),[]),x=Object(zl.a)(),k=x.height,w=x.width,S=p.useState(!1),O=H()(S,2),z=O[0],I=O[1];return Object(Tl.useIsFocused)()?p.createElement(Pf,oa()({},e,{title:"Location",hideContentUntilNavigatedTo:!0}),p.createElement($s.a,{mapStyle:zp({},F.a.absoluteFillObject),position:{x:0,y:0},height:k,width:w,coords:null!=h&&h.latitude&&null!=h&&h.longitude?{lat:null==h?void 0:h.latitude,lng:null==h?void 0:h.longitude}:void 0,onDragStart:function(){I(!0),E(!1)},center:m||void 0,onDragEnd:function(e){var n,t;null==(n=b.current)||n.stop(),null==(t=y.current)||t.stop(),E(!0),I(!1),u(Dn.forms.dropzone.setField(["lat",e.lat])),u(Dn.forms.dropzone.setField(["lng",e.lng]))},interactive:!0},h?p.createElement(C.default,{style:Ip.markerFixed,pointerEvents:"none"},p.createElement(ia.a,{pointerEvents:"none",size:60,style:{color:"#ffffff",textShadowColor:"rgba(14,14,14,0.8)",textShadowOffset:{width:5,height:5},textShadowRadius:10,zIndex:10},name:z?"map-marker":"map-marker-check-outline"})):null),p.createElement(xt.a,{style:Ip.myLocation,onPress:function(){g()}},p.createElement(Ad.a,{name:"my-location",size:30})),p.createElement(C.default,{style:Ip.titleContainer},p.createElement(C.default,{style:{width:300,display:"none",alignSelf:"flex-start",marginLeft:32}},p.createElement(Cp,{value:i,onChange:s,autocomplete:!0,onSelect:function(e){u(Dn.forms.dropzone.setField(["lat",e.lat])),u(Dn.forms.dropzone.setField(["lng",e.lng]))}})),p.createElement(Vi.a.Text,{style:{fontSize:24,marginTop:20,opacity:v.current,textAlign:"center",color:"#ffffff",textShadowColor:"rgba(14,14,14,0.8)",textShadowOffset:{width:3,height:3},textShadowRadius:10}},null!=h&&h.latitude&&null!=h&&h.longitude?p.createElement(p.Fragment,null,null==h||null==(n=h.latitude)?void 0:n.toFixed(5),",",null==h||null==(t=h.longitude)?void 0:t.toFixed(5)):null))):null};var Pp=F.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:4},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:10,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),jp=function(e){var n,t,r,a,o=Un((function(e){return e.forms.plane})),l=p.useState((null==o||null==(n=o.fields)||null==(t=n.maxSlots)?void 0:t.value)||0),i=H()(l,2),s=i[0],u=i[1],c=$n();return p.createElement(Pf,oa()({},e,{title:"Aircraft"}),p.createElement(Tf,null,p.createElement(_l.c.Subheader,null,"Information"),p.createElement(Yl.a,{style:Pp.field,mode:"flat",label:"Name",error:!!o.fields.name.error,value:o.fields.name.value||"",onChangeText:function(e){return c(Dn.forms.plane.setField(["name",e]))}}),p.createElement(ql.a,{type:o.fields.name.error?"error":"info"},o.fields.name.error||""),p.createElement(Yl.a,{style:Pp.field,mode:"flat",label:"Registration",error:!!o.fields.registration.error,value:o.fields.registration.value||"",onChangeText:function(e){return c(Dn.forms.plane.setField(["registration",e]))}}),p.createElement(ql.a,{type:o.fields.registration.error?"error":"info"},o.fields.registration.error||""),p.createElement(C.default,{style:Pp.cardTitle},p.createElement(_l.c.Subheader,null,"Max slots"),p.createElement(X.a,{style:Pp.cardValue},s||34)),p.createElement(C.default,{style:Pp.slider},p.createElement($d.a,{style:Pp.sliderControl,minimumValue:2,maximumValue:34,step:1,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",value:s,onValueChange:function(e){return u(e)},onSlidingComplete:function(){return c(Dn.forms.plane.setField(["maxSlots",Number(s)]))}})),p.createElement(ql.a,{type:null!=(r=o.fields.maxSlots)&&r.error?"error":"info"},(null==(a=o.fields.maxSlots)?void 0:a.error)||"Max available slots on this aircraft")))};var Dp=function(e){var n=Un((function(e){return e.forms.dropzone})),t=$n();return p.createElement(Pf,oa()({},e,{title:"Branding"}),p.createElement(Tf,null,p.createElement(C.default,{style:{flexDirection:"row",alignItems:"flex-end",justifyContent:"space-evenly"}},p.createElement(Md,{primaryColor:n.fields.primaryColor.value||"#000000"}),p.createElement(qd,{primaryColor:n.fields.primaryColor.value||"#000000"})),p.createElement(Wd,{title:"Brand color",helperText:"This color is used for active elements and calls to action",error:n.fields.primaryColor.error,onChange:function(e){return t(Dn.forms.dropzone.setField(["primaryColor",e]))},value:n.fields.primaryColor.value||"#000000"})))};var Fp,Ap=function(e){return p.createElement(Pf,oa()({},e,{title:"Setup complete"}),p.createElement(Tf,null,p.createElement(C.default,{style:{flexGrow:1,alignItems:"center",justifyContent:"center"}},p.createElement(te,{loop:!1,autoPlay:!0,speed:1.2,style:{height:300,width:300},source:ct}))))},Np=["permission"],Rp=Object(fa.a)(Fp||(Fp=ma()(["\n  query QueryDropzonePermissions($dropzoneId: Int!) {\n    dropzone(id: $dropzoneId) {\n      id\n      roles {\n        id\n        name\n        permissions\n      }\n    }\n  }\n"])));var $p=function(e){var n,t,r,a=e.permission,o=J()(e,Np),l=Un((function(e){return e.forms.dropzone})),i=Object(va.a)(Rp),s=H()(i,2),u=s[0],c=s[1],d=c.data,m=c.loading,f=c.called;return p.useEffect((function(){var e;null!=(e=l.original)&&e.id&&u({variables:{dropzoneId:Number(l.original.id)}})}),[l.original,u]),p.createElement(Pf,o,p.createElement(Tf,null,f&&!m&&null!=d&&null!=(n=d.dropzone)&&null!=(t=n.roles)&&t.length?p.createElement(Ef.a,{data:(null==d||null==(r=d.dropzone)?void 0:r.roles)||[],contentContainerStyle:{paddingBottom:200},renderItem:function(e){var n,t=e.item;return p.createElement(bm,{permissionName:a,role:t,title:Object(Zl.capitalize)(null==t||null==(n=t.name)?void 0:n.replace(/_/," "))})}}):null))};var Up=F.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:8,fontWeight:"bold",fontSize:25,textAlign:"center"},paragraph:{marginBottom:8,fontWeight:"bold",textAlign:"center"},field:{marginBottom:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),Bp=function(e){var n,t,r,a,l=Un((function(e){return e.forms.ticketType})),i=$n(),s=p.useState(!1),u=H()(s,2),c=u[0],d=u[1],m=p.useState(0),f=H()(m,2),g=f[0],v=f[1];return p.createElement(Pf,oa()({},e,{title:"Tickets"}),p.createElement(Tf,null,p.createElement(Yl.a,{style:Up.field,mode:"flat",label:"Name",error:!!l.fields.name.error,value:l.fields.name.value||"",onChangeText:function(e){return i(Dn.forms.ticketType.setField(["name",e]))}}),p.createElement(ql.a,{type:l.fields.name.error?"error":"info"},l.fields.name.error||""),p.createElement(Il.a,{style:Up.card,elevation:3},p.createElement(C.default,{style:Up.cardTitle},p.createElement(_l.c.Subheader,null,"Price"),p.createElement(X.a,{style:Up.cardValue},"$",g||0)),p.createElement(C.default,{style:Up.slider},p.createElement($d.a,{style:Up.sliderControl,minimumValue:0,maximumValue:500,step:1,value:g,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onSlidingComplete:function(){return i(Dn.forms.ticketType.setField(["cost",g]))},onValueChange:v})),p.createElement(ql.a,{type:null!=(n=l.fields.cost)&&n.error?"error":"info"},(null==(t=l.fields.cost)?void 0:t.error)||"How many slots are required to be filled to dispatch a load with this aircraft")),p.createElement(Il.a,{style:Up.card,elevation:3},p.createElement(Al.a,{onDismiss:function(){return d(!1)},visible:c,contentStyle:{width:300},anchor:p.createElement(o.f,{onPress:function(){return d(!0)}},p.createElement(C.default,{style:Up.cardTitle},p.createElement(_l.c.Subheader,null,"Altitude"),p.createElement(X.a,{style:Up.cardValue},l.fields.altitude.value&&[4e3,14e3].includes(l.fields.altitude.value)?{14e3:"Height",4e3:"Hop n Pop"}[l.fields.altitude.value.toString()]:"Custom")))},p.createElement(_l.c.Item,{onPress:function(){i(Dn.forms.ticketType.setField(["altitude",4e3])),d(!1)},title:"Hop n Pop",right:function(){return p.createElement(_l.c.Icon,{icon:"parachute"})}}),p.createElement(_l.c.Item,{onPress:function(){i(Dn.forms.ticketType.setField(["altitude",14e3])),d(!1)},title:"Height",right:function(){return p.createElement(_l.c.Icon,{icon:"airplane-takeoff"})}}),p.createElement(_l.c.Item,{onPress:function(){i(Dn.forms.ticketType.setField(["altitude",7e3])),d(!1)},title:"Other",right:function(){return p.createElement(_l.c.Icon,{icon:"parachute"})}})),(!l.fields.altitude.value||![4e3,14e3].includes(l.fields.altitude.value))&&p.createElement(Yl.a,{style:Up.field,mode:"outlined",label:"Custom altitude",error:!!l.fields.altitude.error,value:null==(r=l.fields.altitude)||null==(a=r.value)?void 0:a.toString(),onChangeText:function(e){return i(Dn.forms.ticketType.setField(["altitude",Number(e)]))}})),p.createElement(Ei.a,{style:Up.paragraph},"You can add more tickets later under Settings")))};var Lp=function(){var e,n,t,r,o,l,i=Un((function(e){return e.forms.plane})),s=Un((function(e){return e.forms.ticketType})),u=Un((function(e){return e.forms.dropzone})),c=$n(),d=Object(ts.useNavigation)(),m=fp({onError:function(e){c(Dn.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){c(Dn.forms.dropzone.setFieldError([e,n])),console.log(e,n)}}),f=Dd({onError:function(e){return c(Dn.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return null},onFieldError:function(e,n){return c(Dn.forms.dropzone.setFieldError([e,n]))}}),g=pp({onError:function(e){return c(Dn.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return c(Dn.forms.plane.setFieldError([e,n]))}}),v=gp({onError:function(e){return c(Dn.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return c(Dn.forms.plane.setFieldError([e,n]))}}),h=Sd({onError:function(e){return c(Dn.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return c(Dn.forms.ticketType.setFieldError([e,n]))}}),b=Cd({onError:function(e){return c(Dn.notifications.showSnackbar({message:e,variant:"error"}))},onSuccess:function(e){return console.log(e)},onFieldError:function(e,n){return c(Dn.forms.ticketType.setFieldError([e,n]))}}),y=p.useCallback((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.fields.name.value){e.next=3;break}throw c(Dn.forms.dropzone.setFieldError(["name","Your dropzone must have a name"])),new Error;case 3:case"end":return e.stop()}}),null,null,null,Promise)}),[c,u.fields.name.value]),E=p.useCallback((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.fields.name.value){e.next=3;break}throw c(Dn.forms.dropzone.setFieldError(["name","Your dropzone must have a name"])),new Error;case 3:if(u.fields.federation.value){e.next=6;break}throw c(Dn.forms.dropzone.setFieldError(["federation","Your dropzone must have an associated organization"])),new Error;case 6:case"end":return e.stop()}}),null,null,null,Promise)}),[c,u.fields.federation.value,u.fields.name.value]),x=p.useCallback((function(){var e,n,t,r,o,l,i,s,p,g;return a.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(u.fields.primaryColor.value){v.next=3;break}throw c(Dn.forms.dropzone.setFieldError(["primaryColor","Please pick a primary color"])),new Error;case 3:if(null!=(e=u.original)&&e.id){v.next=9;break}return v.next=6,a.a.awrap(m.mutate({federationId:Number(null==(n=u.fields.federation.value)?void 0:n.id),name:u.fields.name.value||"",banner:"",primaryColor:u.fields.primaryColor.value,secondaryColor:u.fields.secondaryColor.value,lat:u.fields.lat.value,lng:u.fields.lng.value}));case 6:v.t0=v.sent,v.next=12;break;case 9:return v.next=11,a.a.awrap(f.mutate({id:Number(u.original.id),federationId:Number(null==(t=u.fields.federation.value)?void 0:t.id),name:u.fields.name.value||"",primaryColor:u.fields.primaryColor.value,secondaryColor:u.fields.secondaryColor.value,lat:u.fields.lat.value,lng:u.fields.lng.value,banner:""}));case 11:v.t0=v.sent;case 12:if(null!=(i=v.t0)&&null!=(r=i.errors)&&r.length||null==i||null==(o=i.dropzone)||!o.id){v.next=20;break}c(Dn.forms.dropzone.setOpen(null==i?void 0:i.dropzone)),c(Dn.global.setDropzone(null==i?void 0:i.dropzone)),i.dropzone.primaryColor&&c(Dn.global.setPrimaryColor(null==i||null==(s=i.dropzone)?void 0:s.primaryColor)),i.dropzone.secondaryColor&&c(Dn.global.setAccentColor(null==i||null==(p=i.dropzone)?void 0:p.secondaryColor)),v.next=23;break;case 20:if(null==i||null==(l=i.fieldErrors)||!l.length){v.next=23;break}throw null==i||null==(g=i.fieldErrors)||g.forEach((function(e){var n=e.field,t=e.message;switch(fl()(n)){case"primaryColor":c(Dn.forms.dropzone.setFieldError(["primaryColor",t]));break;case"federationId":d.goBack(),d.goBack(),c(Dn.forms.dropzone.setFieldError(["primaryColor",t]));break;case"name":d.goBack(),d.goBack(),d.goBack(),c(Dn.forms.dropzone.setFieldError(["name",t]));break;case"lat":case"lng":d.goBack(),c(Dn.forms.dropzone.setFieldError(["lat",t]))}})),new Error;case 23:case"end":return v.stop()}}),null,null,null,Promise)}),[c,null==(e=u.fields.federation.value)?void 0:e.id,u.fields.lat.value,u.fields.lng.value,u.fields.name.value,u.fields.primaryColor.value,u.fields.secondaryColor.value,null==(n=u.original)?void 0:n.id,m,f,d]),k=p.useCallback((function(){var e,n,t,r,o,l;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(i.fields.name.value){s.next=3;break}throw c(Dn.forms.plane.setFieldError(["name","You must name your aircraft"])),new Error;case 3:if(i.fields.registration.value){s.next=6;break}throw c(Dn.forms.plane.setFieldError(["registration","Please provide aircraft registration"])),new Error;case 6:if(null!=(e=i.original)&&e.id){s.next=12;break}return s.next=9,a.a.awrap(g.mutate({dropzoneId:Number(null==u||null==(n=u.original)?void 0:n.id),name:i.fields.name.value,registration:i.fields.registration.value,minSlots:Number(i.fields.minSlots.value),maxSlots:Number(i.fields.maxSlots.value)}));case 9:s.t0=s.sent,s.next=15;break;case 12:return s.next=14,a.a.awrap(v.mutate({id:Number(i.original.id),name:i.fields.name.value,registration:i.fields.registration.value,minSlots:i.fields.minSlots.value,maxSlots:i.fields.maxSlots.value}));case 14:s.t0=s.sent;case 15:if(null!=(o=s.t0)&&null!=(t=o.errors)&&t.length||null==o||null==(r=o.plane)||!r.id){s.next=20;break}c(Dn.forms.plane.setOpen(null==o?void 0:o.plane)),s.next=22;break;case 20:throw null==o||null==(l=o.fieldErrors)||l.forEach((function(e){var n=e.field,t=e.message;switch(n){case"registration":c(Dn.forms.plane.setFieldError(["registration",t]));break;case"name":c(Dn.forms.plane.setFieldError(["name",t]));break;case"maxSlots":c(Dn.forms.plane.setFieldError(["maxSlots",t]))}})),new Error;case 22:case"end":return s.stop()}}),null,null,null,Promise)}),[i.fields.maxSlots.value,i.fields.minSlots.value,i.fields.name.value,i.fields.registration.value,null==(t=i.original)?void 0:t.id,c,null==u||null==(r=u.original)?void 0:r.id,g,v]),w=p.useCallback((function(){var e,n,t,r,o,l;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(s.fields.name.value){i.next=3;break}throw c(Dn.forms.ticketType.setFieldError(["name","You must name your ticket"])),new Error;case 3:if(s.fields.cost.value){i.next=6;break}throw c(Dn.forms.ticketType.setFieldError(["cost","Tickets must have a price"])),new Error;case 6:if(null!=(e=s.original)&&e.id){i.next=12;break}return i.next=9,a.a.awrap(h.mutate({dropzoneId:Number(null==(n=u.original)?void 0:n.id),name:s.fields.name.value,cost:s.fields.cost.value,altitude:s.fields.altitude.value,isTandem:!1,allowManifestingSelf:!0}));case 9:i.t0=i.sent,i.next=15;break;case 12:return i.next=14,a.a.awrap(b.mutate({id:Number(s.original.id),name:s.fields.name.value,cost:s.fields.cost.value,altitude:s.fields.altitude.value,isTandem:!1,allowManifestingSelf:!0}));case 14:i.t0=i.sent;case 15:if(null!=(o=i.t0)&&null!=(t=o.errors)&&t.length||null==o||null==(r=o.ticketType)||!r.id){i.next=20;break}c(Dn.forms.ticketType.setOpen(o.ticketType)),i.next=22;break;case 20:throw null==o||null==(l=o.fieldErrors)||l.forEach((function(e){var n=e.field,t=e.message;switch(n){case"cost":c(Dn.forms.ticketType.setFieldError(["cost",t]));break;case"name":c(Dn.forms.ticketType.setFieldError(["name",t]));break;case"altitude":c(Dn.forms.ticketType.setFieldError(["altitude",t]))}})),new Error;case 22:case"end":return i.stop()}}),null,null,null,Promise)}),[s.fields.name.value,s.fields.cost.value,s.fields.altitude.value,null==(o=s.original)?void 0:o.id,h,null==(l=u.original)?void 0:l.id,b,c]);return p.createElement($f,{dots:!0,name:"DropzoneWizard",steps:[{onBack:function(){c(Dn.forms.ticketType.setOpen(!1)),c(Dn.forms.plane.setOpen(!1)),c(Dn.forms.dropzone.setOpen(!1)),c(Dn.forms.ticketType.reset()),c(Dn.forms.plane.reset()),c(Dn.forms.dropzone.reset())},onNext:y,component:vp},{onNext:E,component:Ep},{component:Tp},{component:Dp,onNext:x},{component:jp,onNext:k},{component:Bp,onNext:w},{component:function(e){return p.createElement($p,oa()({},e,{permission:B.CreateSlot,title:"Manifest"}))}},{component:function(e){return p.createElement($p,oa()({},e,{permission:B.CreateUserSlot,title:"Manifest others"}))}},{component:Ap,onNext:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c(Dn.global.setDropzone(u.original)),u.fields.primaryColor.value&&c(Dn.global.setPrimaryColor(u.fields.primaryColor.value)),u.fields.secondaryColor.value&&c(Dn.global.setAccentColor(u.fields.secondaryColor.value)),c(Dn.global.setDropzone(u.original)),c(Dn.forms.ticketType.setOpen(!1)),c(Dn.forms.plane.setOpen(!1)),c(Dn.forms.dropzone.setOpen(!1)),c(Dn.forms.ticketType.reset()),c(Dn.forms.plane.reset()),c(Dn.forms.dropzone.reset()),c(Dn.screens.dropzoneWizard.complete()),d.replace("Authenticated",{screen:"HomeScreen"});case 12:case"end":return e.stop()}}),null,null,null,Promise)}}]})};var Wp=function(e){var n,t,r,a=Un((function(e){return e.forms.user})),o=$n();return p.createElement(Pf,oa()({},e,{title:"Affiliation"}),p.createElement(Tf,null,p.createElement(yp,{value:(null==a||null==(n=a.fields)||null==(t=n.license)||null==(r=t.value)?void 0:r.federation)||a.federation.value,onSelect:function(e){return o(Dn.forms.user.setFederation(e))}}),p.createElement(ql.a,{type:a.federation.error?"error":"info"},a.federation.error||"")))};var Vp=function(e){var n,t,r,a,o,l,i=Un((function(e){return e.forms.user})),s=$n();return p.createElement(Pf,oa()({},e,{title:(null==(n=i.federation)||null==(t=n.value)||null==(r=t.name)?void 0:r.toUpperCase())+" Number"}),p.createElement(Tf,null,p.createElement(Yl.a,{value:(null==(a=i.fields)||null==(o=a.apfNumber)?void 0:o.value)||"",mode:"flat",style:{backgroundColor:"transparent",fontSize:32,height:70},onChangeText:function(e){return s(Dn.forms.user.setField(["apfNumber",e]))},label:(null==(l=i.federation.value)?void 0:l.name)+" ID"}),p.createElement(ql.a,{type:i.federation.error?"error":"info"},i.federation.error||"")))};var Mp=function(e){var n,t,r=Un((function(e){return e.forms.user})),a=$n();return p.createElement(Pf,oa()({},e,{title:"Real name"}),p.createElement(Tf,null,p.createElement(Yl.a,{value:(null==(n=r.fields)||null==(t=n.name)?void 0:t.value)||"",mode:"flat",onChangeText:function(e){return a(Dn.forms.user.setField(["name",e]))},label:"Name",style:{backgroundColor:"transparent",fontSize:32,height:70}}),p.createElement(ql.a,{type:r.fields.name.error?"error":"info"},r.fields.name.error||"")))};var Gp=function(e){var n,t,r=Un((function(e){return e.forms.user})),a=$n();return p.createElement(Pf,oa()({},e,{title:"Nickname"}),p.createElement(Tf,null,p.createElement(Yl.a,{value:(null==(n=r.fields)||null==(t=n.nickname)?void 0:t.value)||"",mode:"flat",onChangeText:function(e){return a(Dn.forms.user.setField(["nickname",e]))},label:"Nickname",style:{backgroundColor:"transparent",fontSize:32,height:70}}),p.createElement(ql.a,{type:r.fields.nickname.error?"error":"info"},r.fields.nickname.error||"This will be displayed as your preferred name")))};function qp(e){var n=e.federationId,t=e.onSelect,r=e.value,a=Ko({variables:{federationId:n}}).data;return p.createElement(bp,{autoSelectFirst:!0,items:(null==a?void 0:a.licenses)||[],selected:[r].filter(Boolean),isSelected:function(e){return e.id===(null==r?void 0:r.id)},renderItemLabel:function(e){return null==e?void 0:e.name},onChangeSelected:function(e){var n=H()(e,1)[0];return n?t(n):null}})}var _p=function(e){var n,t,r,a,o,l,i,s,u,c,d,m,f=Un((function(e){return e.forms.user})),g=$n();return p.createElement(Pf,oa()({},e,{title:"License"}),p.createElement(Tf,null,((null==f||null==(n=f.fields)||null==(t=n.license)||null==(r=t.value)||null==(a=r.federation)?void 0:a.id)||(null==f||null==(o=f.federation)||null==(l=o.value)?void 0:l.id))&&p.createElement(p.Fragment,null,p.createElement(qp,{value:f.fields.license.value,federationId:Number((null==f||null==(i=f.fields)||null==(s=i.license)||null==(u=s.value)||null==(c=u.federation)?void 0:c.id)||(null==(d=f.federation)||null==(m=d.value)?void 0:m.id)),onSelect:function(e){return g(Dn.forms.user.setField(["license",e]))}}),p.createElement(ql.a,{type:f.fields.license.error?"error":"info"},f.fields.license.error||""))))};var Hp=F.a.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8,backgroundColor:"transparent",marginVertical:16},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:16,marginVertical:16},title:{color:"white",marginBottom:16,fontSize:24,fontWeight:"bold"}}),Yp=function(e){var n=Un((function(e){return e.forms.rig})),t=$n(),r=p.useState(!1),a=H()(r,2),l=a[0],i=a[1],s=p.useState(!1),u=H()(s,2),c=u[0],d=u[1];return p.createElement(Pf,oa()({},e,{title:"Your rig"}),p.createElement(Tf,null,p.createElement(Al.a,{onDismiss:function(){return i(!1)},visible:l,anchor:p.createElement(o.f,{onPress:function(){return i(!0)}},p.createElement(Yl.a,{pointerEvents:"box-only",style:Hp.field,mode:"outlined",error:!!n.fields.make.error,value:c?"Other":n.fields.make.value||"Select manufacturer",disabled:!0}))},["Icon","Javelin","Mirage","Vector","PA (Talon)","Infinity","Parachutes de France","Parachute Systems","Racer"].map((function(e){return p.createElement(Al.a.Item,{onPress:function(){i(!1),d(!1),t(Dn.forms.rig.setField(["make",e]))},title:e})})),p.createElement(Al.a.Item,{onPress:function(){i(!1),t(Dn.forms.rig.setField(["make",""])),d(!0)},title:"Other"})),c?p.createElement(Yl.a,{style:Hp.field,mode:"flat",label:"Other manufacturer",error:!!n.fields.make.error,value:n.fields.make.value||"",onChangeText:function(e){return t(Dn.forms.rig.setField(["make",e]))}}):null,p.createElement(ql.a,{type:n.fields.make.error?"error":"info"},n.fields.make.error||""),p.createElement(Yl.a,{style:Hp.field,mode:"flat",label:"Model",error:!!n.fields.model.error,value:n.fields.model.value||"",onChangeText:function(e){return t(Dn.forms.rig.setField(["model",e]))}}),p.createElement(ql.a,{type:n.fields.model.error?"error":"info"},n.fields.model.error||"e.g G4.1"),p.createElement(Yl.a,{style:Hp.field,mode:"flat",label:"Serial number",error:!!n.fields.serial.error,value:n.fields.serial.value||"",onChangeText:function(e){return t(Dn.forms.rig.setField(["serial",e]))}}),p.createElement(ql.a,{type:n.fields.serial.error?"error":"info"},n.fields.serial.error||"")))};var Jp=F.a.create({container:{paddingHorizontal:48,alignItems:"center"},field:{marginBottom:8},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},title:{color:"white",fontSize:24,fontWeight:"bold",marginBottom:80,textAlign:"center"}}),Qp=function(e){var n=Un((function(e){return e.forms.rig})),t=$n();return p.createElement(Pf,oa()({},e,{title:"Next reserve repack?"}),p.createElement(Tf,null,p.createElement(Il.a,{style:Jp.card},p.createElement(_l.c.Subheader,null,"Due date"),p.createElement(ac,{timestamp:n.fields.repackExpiresAt.value||(new Date).getTime()/1e3,onChange:function(e){return t(Dn.forms.rig.setField(["repackExpiresAt",e]))}}),p.createElement(ql.a,{type:n.fields.repackExpiresAt.error?"error":"info"},n.fields.repackExpiresAt.error||""))))};var Xp=function(e){var n=Un((function(e){return e.screens.userWizard})),t=$n();return p.createElement(Pf,oa()({},e,{title:"Got a rig?"}),p.createElement(Tf,null,p.createElement(bp,{items:[{value:!1,label:"I have my own rig"},{value:!0,label:"I dont have my own rig"}],renderItemLabel:function(e){return e.label},onChangeSelected:function(e){return t(Dn.screens.userWizard.skipRigSetup(e[0].value))},isSelected:function(e){return e.value===n.skipRigSetup},selected:[n.skipRigSetup?{value:!0,label:"I dont have my own rig"}:{value:!1,label:"I have my own rig"}]})))};var Zp=F.a.create({container:{paddingHorizontal:48,alignItems:"center"},content:{width:"100%",justifyContent:"space-around",flexDirection:"column"},card:{padding:8,marginVertical:16},cardTitle:{flexDirection:"row",justifyContent:"space-between"},cardValue:{fontWeight:"bold",marginRight:8,fontSize:16,alignSelf:"center"},title:{color:"white",marginBottom:50,fontWeight:"bold",fontSize:25,textAlign:"center"},field:{marginBottom:8},slider:{flexDirection:"column"},sliderControl:{width:"100%",height:40},wingLoading:{alignSelf:"center"},wingLoadingCardLeft:{width:"30%"},wingLoadingCardRight:{paddingLeft:16,width:"70%"}}),Kp=function(e){var n,t,r,a,o=Un((function(e){return e.forms.rig})),l=Un((function(e){return e.forms.user})),i=$n(),s=p.useState(o.fields.canopySize.value||120),u=H()(s,2),c=u[0],d=u[1],m=p.useState(Number(l.fields.exitWeight.value)||120),f=H()(m,2),g=f[0],v=f[1];return p.useEffect((function(){o.fields.canopySize.value&&d(o.fields.canopySize.value)}),[o.fields.canopySize.value]),p.createElement(Pf,oa()({},e,{title:"Wing Loading"}),p.createElement(Tf,null,p.createElement(C.default,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},p.createElement(C.default,{style:Zp.wingLoadingCardLeft},p.createElement(_l.a.Text,{label:Object(Zl.ceil)(2.205*Number(l.fields.exitWeight.value||50)/(o.fields.canopySize.value||150),2).toString(),size:100,style:Zp.wingLoading})),p.createElement(C.default,{style:Zp.wingLoadingCardRight},p.createElement(Il.a.Title,{title:"Your wingloading",style:{paddingLeft:0}}),p.createElement(Ei.a,null,"Your wingloading is an indicator of your descent rate under canopy"))),p.createElement(C.default,{style:Zp.cardTitle},p.createElement(_l.c.Subheader,null,"Your exit weight"),p.createElement(X.a,{style:Zp.cardValue},g||50,"kg")),p.createElement($d.a,{style:Zp.sliderControl,minimumValue:50,maximumValue:160,step:.5,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onSlidingComplete:function(){return i(Dn.forms.user.setField(["exitWeight",g.toString()]))},value:g,onValueChange:function(e){return v(e)}}),p.createElement(ql.a,{type:null!=(n=l.fields.exitWeight)&&n.error?"error":"info"},(null==(t=l.fields.exitWeight)?void 0:t.error)||"Your weight in kg's with all equipment on"),p.createElement(C.default,{style:Zp.cardTitle},p.createElement(_l.c.Subheader,null,"Canopy size"),p.createElement(X.a,{style:Zp.cardValue},c||120,"ft")),p.createElement(C.default,{style:Zp.slider},p.createElement($d.a,{style:Zp.sliderControl,minimumValue:34,maximumValue:350,step:1,value:c||120,minimumTrackTintColor:"#FF1414",maximumTrackTintColor:"#000000",onValueChange:function(e){return d(e)},onSlidingComplete:function(){return i(Dn.forms.rig.setField(["canopySize",c]))}})),p.createElement(ql.a,{type:null!=(r=l.fields.exitWeight)&&r.error?"error":"info"},(null==(a=l.fields.exitWeight)?void 0:a.error)||"Size of your main canopy in square feet")))};var eg=function(e){return p.createElement(Pf,oa()({},e,{title:"Profile updated"}),p.createElement(Tf,null,p.createElement(C.default,{style:{flexGrow:1,alignItems:"center",justifyContent:"center"}},p.createElement(te,{loop:!1,autoPlay:!0,speed:1.2,style:{height:300,width:300},source:ct}))))};var ng=function(){var e,n,t,r,o,l,i,s,u,c,d,m,f,g,v,h,b,y,E,x,k=Un((function(e){return e.forms.user})),w=Un((function(e){return e.forms.rig})),S=Un((function(e){return e.screens.userWizard})),C=$n(),O=vo(),z=H()(O,1)[0],I=xl({onSuccess:function(e){return!0},onError:function(e){return C(Dn.notifications.showSnackbar({message:e,variant:"error"}))},onFieldError:function(e,n){return C(Dn.forms.user.setFieldError([e,n]))}}),T=To(),P=H()(T,1)[0],j=function(e){var n=ba(ba({},ya),e);return pa.a(uo,n)}(),D=H()(j,1)[0],F=p.useCallback((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(k.fields.name.value&&/\s/.test(k.fields.name.value)){e.next=3;break}throw C(Dn.forms.user.setFieldError(["name","Please enter your full name, including surname"])),new Error;case 3:case"end":return e.stop()}}),null,null,null,Promise)}),[C,k.fields.name.value]),A=p.useCallback((function(){var e,n;return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.awrap(I.mutate({id:Number(null==(e=k.original)?void 0:e.id),nickname:k.fields.nickname.value,name:k.fields.name.value}));case 2:if(null==(n=t.sent)||!n.errors){t.next=5;break}throw new Error;case 5:case"end":return t.stop()}}),null,null,null,Promise)}),[I,k.fields.name.value,k.fields.nickname.value,null==(e=k.original)?void 0:e.id]),N=p.useCallback((function(){var e,n,t,r,o,l,i,s,u;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if("apf"!==(null==(e=k.federation.value)||null==(n=e.name)?void 0:n.toLowerCase())){c.next=6;break}return c.next=3,a.a.awrap(z({variables:{federationId:Number(null==(t=k.federation)||null==(r=t.value)?void 0:r.id)}}));case 3:s=c.sent,(u=null==s||null==(o=s.data)||null==(l=o.joinFederation)||null==(i=l.userFederation)?void 0:i.license)&&C(Dn.forms.user.setField(["license",u]));case 6:case"end":return c.stop()}}),null,null,null,Promise)}),[C,z,null==(n=k.federation.value)?void 0:n.id,null==(t=k.federation.value)?void 0:t.name]),R=p.useCallback((function(){var e,n,t,r,o,l,i,s,u,c,d;return a.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if("apf"!==(null==(e=k.federation.value)||null==(n=e.name)?void 0:n.toLowerCase())||k.fields.apfNumber.value){m.next=3;break}throw C(Dn.forms.user.setFieldError(["apfNumber","Please enter your APF number"])),new Error;case 3:if("apf"!==(null==(t=k.federation.value)||null==(r=t.name)?void 0:r.toLowerCase())){m.next=9;break}return m.next=6,a.a.awrap(z({variables:{uid:k.fields.apfNumber.value,federationId:Number(null==(o=k.federation)||null==(l=o.value)?void 0:l.id)}}));case 6:c=m.sent,(d=null==c||null==(i=c.data)||null==(s=i.joinFederation)||null==(u=s.userFederation)?void 0:u.license)&&C(Dn.forms.user.setField(["license",d]));case 9:case"end":return m.stop()}}),null,null,null,Promise)}),[C,z,null==(r=k.federation.value)?void 0:r.id,null==(o=k.federation.value)?void 0:o.name,k.fields.apfNumber.value]),$=p.useCallback((function(){var e,n,t,r,o,l,i,s,u;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(null!=(e=k.fields.license)&&null!=(n=e.value)&&n.id){c.next=3;break}throw C(Dn.forms.user.setFieldError(["license","You must select a license"])),new Error;case 3:return c.prev=3,c.next=6,a.a.awrap(z({variables:{federationId:Number(null==(t=k.federation)||null==(r=t.value)?void 0:r.id),licenseId:Number(null==(o=k.fields.license)||null==(l=o.value)?void 0:l.id)}}));case 6:if(u=c.sent,null==(i=u.data)||null==(s=i.joinFederation)||!s.errors){c.next=9;break}throw new Error;case 9:c.next=14;break;case 11:c.prev=11,c.t0=c.catch(3),console.log(c.t0);case 14:case"end":return c.stop()}}),null,null,[[3,11]],Promise)}),[C,z,null==(l=k.federation)||null==(i=l.value)?void 0:i.id,null==(s=k.fields.license)||null==(u=s.value)?void 0:u.id]),U=p.useCallback((function(){var e,n,t,r,o,l,i,s,u,c,d,m,f,p,g,v;return a.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(null!=(e=w.fields.make)&&e.value){h.next=3;break}throw C(Dn.forms.rig.setFieldError(["make","Please select manufacturer"])),new Error;case 3:if(null!=(n=w.fields.model)&&n.value){h.next=6;break}throw C(Dn.forms.rig.setFieldError(["model","Please enter a model name"])),new Error;case 6:if(h.prev=6,null!=(t=w.original)&&t.id){h.next=14;break}return h.next=10,a.a.awrap(D({variables:{make:w.fields.make.value,model:w.fields.model.value,serial:w.fields.serial.value,userId:Number(null==(r=k.original)?void 0:r.id)}}));case 10:null!=(i=h.sent)&&null!=(o=i.data)&&null!=(l=o.createRig)&&l.rig&&C(Dn.forms.rig.setOriginal(null==i||null==(s=i.data)||null==(u=s.createRig)?void 0:u.rig)),h.next=18;break;case 14:return h.next=16,a.a.awrap(P({variables:{id:Number(null==(c=w.original)?void 0:c.id),make:w.fields.make.value,model:w.fields.model.value,serial:w.fields.serial.value,userId:Number(null==(d=k.original)?void 0:d.id)}}));case 16:null!=(p=h.sent)&&null!=(m=p.data)&&null!=(f=m.updateRig)&&f.rig&&C(Dn.forms.rig.setOriginal(null==p||null==(g=p.data)||null==(v=g.updateRig)?void 0:v.rig));case 18:h.next=23;break;case 20:h.prev=20,h.t0=h.catch(6),console.error(h.t0);case 23:case"end":return h.stop()}}),null,null,[[6,20]],Promise)}),[w.fields.make.value,w.fields.model.value,w.fields.serial.value,null==(c=w.original)?void 0:c.id,C,D,null==(d=k.original)?void 0:d.id,P]),B=p.useCallback((function(){var e,n,t,r,o,l;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(null!=(e=w.fields.repackExpiresAt)&&e.value){i.next=3;break}throw C(Dn.forms.rig.setFieldError(["repackExpiresAt","Select repack date, even if it's in the past"])),new Error;case 3:return i.next=5,a.a.awrap(P({variables:{id:Number(null==(n=w.original)?void 0:n.id),repackExpiresAt:w.fields.repackExpiresAt.value}}));case 5:r=i.sent,null!=(o=r.data)&&null!=(t=o.updateRig)&&t.rig&&C(Dn.forms.rig.setOriginal(null==o||null==(l=o.updateRig)?void 0:l.rig));case 8:case"end":return i.stop()}}),null,null,null,Promise)}),[C,P,w.fields.repackExpiresAt.value,null==(m=w.original)?void 0:m.id]),L=p.useCallback((function(){var e,n,t,r,o;return a.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(null!=(e=w.fields.canopySize)&&e.value){l.next=3;break}throw C(Dn.forms.rig.setFieldError(["canopySize","You must provide a canopy size"])),new Error;case 3:if(null!=(n=k.fields.exitWeight)&&n.value){l.next=6;break}throw C(Dn.forms.user.setFieldError(["exitWeight","You must enter your exit weight"])),new Error;case 6:return l.next=8,a.a.awrap(P({variables:{id:Number(null==(t=w.original)?void 0:t.id),canopySize:w.fields.canopySize.value}}));case 8:return l.next=10,a.a.awrap(I.mutate({id:Number(null==(r=k.original)?void 0:r.id),exitWeight:Number(null==(o=k.fields.exitWeight)?void 0:o.value)}));case 10:case"end":return l.stop()}}),null,null,null,Promise)}),[w.fields.canopySize.value,null==(f=w.original)?void 0:f.id,null==(g=k.fields.exitWeight)?void 0:g.value,null==(v=k.original)?void 0:v.id,C,P,I]);return p.createElement($f,{name:"UserWizard",dots:!0,steps:[{component:Mp,onNext:F,onBack:function(){C(Dn.forms.user.setOpen(!1)),C(Dn.forms.rig.setOpen(!1)),C(Dn.forms.user.reset()),C(Dn.forms.rig.reset())}},{component:Gp,onNext:A},{component:Wp,onNext:N},null!=(h=k.federation)&&null!=(b=h.value)&&b.id&&"apf"===(null==k||null==(y=k.federation)||null==(E=y.value)||null==(x=E.name)?void 0:x.toLowerCase())?{component:Vp,onNext:R}:null,{component:_p,onNext:$},{component:Xp},null!=S&&S.skipRigSetup?null:{component:Yp,onNext:U},null!=S&&S.skipRigSetup?null:{component:Qp,onNext:B},null!=S&&S.skipRigSetup?null:{component:Kp,onNext:L},{component:eg,onNext:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:C(Dn.forms.user.setOpen(!1)),C(Dn.forms.rig.setOpen(!1)),C(Dn.forms.user.reset()),C(Dn.forms.rig.reset());case 4:case"end":return e.stop()}}),null,null,null,Promise)}}].filter(Boolean)})};var tg=F.a.create({container:{flexGrow:1,backgroundColor:"#EFEFEF",alignItems:"center",justifyContent:"center"},icon:{backgroundColor:"#00C851",marginBottom:16},errorIcon:{backgroundColor:"#FF8800",marginBottom:16},title:{fontSize:38,marginBottom:16},subtitle:{fontSize:26,textAlign:"center"}}),rg=function(){var e,n=Object(Tl.useRoute)(),r=$n(),a=function(e){var n=ba(ba({},ya),e);return pa.a(oo,n)}(),o=H()(a,2),l=o[0],i=o[1],s=p.useRef(null),u=p.useState(!1),c=H()(u,2),d=c[0],m=c[1],f=Object(Tl.useNavigation)();return p.useEffect((function(){var e;null!=n&&null!=(e=n.params)&&e.token&&l({variables:{token:n.params.token}}).then((function(e){var n,t,a=e.data;e.errors;null!=a&&null!=(n=a.userConfirmRegistrationWithToken)&&null!=(t=n.credentials)&&t.accessToken?(r(Dn.global.setCredentials(a.userConfirmRegistrationWithToken.credentials)),r(Dn.global.setUser(a.userConfirmRegistrationWithToken.authenticatable)),f.navigate("DropzonesScreen")):m(!0)})).catch((function(){m(!0)}))}),[l,r,f,null==(e=n.params)?void 0:e.token]),i.loading?p.createElement(C.default,{style:tg.container},p.createElement(X.a,{style:tg.title},"OpenManifest"),p.createElement(te,{autoPlay:!0,loop:!0,ref:s,style:{width:120,height:120,marginTop:24,marginBottom:32},source:t(435)}),p.createElement(X.a,{style:tg.subtitle},"Confirming...")):d?p.createElement(C.default,{style:tg.container},p.createElement(_l.a.Icon,{icon:"close",style:tg.errorIcon}),p.createElement(X.a,{style:tg.title},"Oops!"),p.createElement(X.a,{style:tg.subtitle},"Something went wrong.")):p.createElement(C.default,{style:tg.container},p.createElement(_l.a.Icon,{icon:"check",style:tg.icon}),p.createElement(X.a,{style:tg.title},"All done!"),p.createElement(X.a,{style:tg.subtitle},"You can now log in"))};var ag=function(e){return p.createElement(Pf,oa()({},e,{title:"Password changed"}),p.createElement(Tf,null,p.createElement(te,{loop:!1,autoPlay:!0,speed:1.2,style:{height:300,width:300,alignSelf:"center"},source:ct}),p.createElement(Ei.a,null,"Your password has been changed. You can now log in again.")))};var og=function(e){var n=Un((function(e){return e.screens.signup})).fields,t=$n();return p.createElement(Pf,oa()({},e,{title:"Password"}),p.createElement(Tf,null,p.createElement(Yl.a,{mode:"flat",label:"Password",error:Boolean(n.password.error),textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:n.password.value,onChangeText:function(e){return t(Dn.screens.signup.setField(["password",e]))},style:{width:"100%",backgroundColor:"transparent",fontSize:32,height:70}}),p.createElement(Mf,{strength:Wf(n.password.value)}),p.createElement(ql.a,{type:"error"},n.password.error)))};var lg=function(e){var n=Un((function(e){return e.screens.signup})).fields,t=$n();return p.createElement(Pf,oa()({},e,{title:"Repeat password"}),p.createElement(Tf,null,p.createElement(Yl.a,{mode:"flat",label:"Password",error:Boolean(n.passwordConfirmation.error),textContentType:"password",secureTextEntry:!0,passwordRules:"required: upper; required: lower; required: digit; minlength: 8;",value:n.passwordConfirmation.value,onChangeText:function(e){return t(Dn.screens.signup.setField(["passwordConfirmation",e]))},style:{width:"100%",backgroundColor:"transparent",fontSize:32,height:70}}),p.createElement(ql.a,{type:"error"},n.passwordConfirmation.error)))};var ig=function(){var e,n=Un((function(e){return e.screens.signup})),t=$n(),r=Object(Tl.useRoute)(),o=function(e){var n=ba(ba({},ya),e);return pa.a(Oo,n)}(),l=H()(o,1)[0],i=p.useCallback((function(){var e,o,i,s,u;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,n.fields.password.value===n.fields.passwordConfirmation.value){c.next=3;break}throw new Error("Password mismatch. Did you type exactly the same password?");case 3:if(null!=(e=r.params)&&e.token){c.next=5;break}throw new Error("Security token missing - try clicking the link in the email again");case 5:return c.next=7,a.a.awrap(l({variables:{password:n.fields.password.value,passwordConfirmation:n.fields.passwordConfirmation.value,token:r.params.token}}));case 7:if(null==(u=c.sent)||null==(o=u.data)||null==(i=o.userUpdatePasswordWithToken)||!i.authenticatable){c.next=11;break}return t(Dn.global.setUser(u.data.userUpdatePasswordWithToken.authenticatable)),c.abrupt("return");case 11:if(null==(s=u.errors)||!s.length){c.next=13;break}throw new Error(u.errors[0].message);case 13:throw new Error("Password change failed");case 16:throw c.prev=16,c.t0=c.catch(0),t(Dn.screens.signup.setFieldError(["passwordConfirmation",c.t0.message])),new Error;case 20:case"end":return c.stop()}}),null,null,[[0,16]],Promise)}),[t,null==(e=r.params)?void 0:e.token,n.fields.password.value,n.fields.passwordConfirmation.value,l]),s=Object(Tl.useNavigation)(),u=p.useCallback((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Wf(n.fields.password.value)<Uf.Acceptable)){e.next=3;break}throw t(Dn.screens.signup.setFieldError(["password","Password too weak"])),new Error("Password too weak");case 3:case"end":return e.stop()}}),null,null,null,Promise)}),[t,n.fields.password.value]),c=p.useCallback((function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:throw s.replace("Unauthenticated",{screen:"LoginScreen"}),new Error("Error thrown to prevent navigation.goBack");case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[s]);return p.createElement($f,{dots:!0,name:"ChangePasswordWizard",steps:[{onBack:s.goBack,onNext:u,component:og},{onNext:i,component:lg},{component:ag,onNext:c}]})},sg=t(377),ug=t.n(sg);function cg(){var e,n,t,r,a=Un((function(e){return e.global})).theme,l=$n(),i=Sl(),s=i.currentUser,u=i.dropzone,c=i.loading,d=Go({variables:{isPublic:!0},onError:function(e){return console.error(e)}}).data,m=Object(ts.useNavigation)(),f=Object(ts.useRoute)(),g=Object(ts.getFocusedRouteNameFromRoute)(f),v=m.dangerouslyGetState(),h=v.routes[v.index].state,b=null==h?void 0:h.routes[null==h?void 0:h.index],y=null==b?void 0:b.state,E=h&&Object(ts.getFocusedRouteNameFromRoute)(b);E=E||(null==y?void 0:y.routes[0].name);var x=Nl(B.UpdateDropzone),k=Nl(B.UpdatePlane),w=Nl(B.UpdateTicketType),S=Nl(B.UpdateExtra),O=Nl(B.GrantPermission),z=Nl(B.UpdateDropzoneRig),I=Nl(B.UpdateFormTemplate),T=x||k||w||S||O||z||I;return p.createElement(C.default,{style:{flex:1,paddingTop:100}},c?p.createElement(jl.a,{containerStyle:hg.skeleton,isLoading:!0,layout:[{key:"avatar",borderRadius:25,height:50,width:50},{key:"role",height:12,width:120,marginLeft:8,marginTop:12}]}):p.createElement(_l.c.Item,{left:function(){var e;return null!=s&&null!=(e=s.user)&&e.image?p.createElement(_l.a.Image,{size:50,source:{uri:null==s?void 0:s.user.image},style:{backgroundColor:a.colors.surface}}):p.createElement(_l.a.Icon,{size:50,icon:"account",color:a.colors.primary,style:{backgroundColor:a.colors.surface}})},title:null==s||null==(e=s.user)?void 0:e.name,description:"@ "+(null==u?void 0:u.name),titleStyle:hg.profileAvatarTitle,descriptionStyle:hg.profileAvatarSubtitle,style:hg.profileAvatar,onPress:function(){m.navigate("Authenticated",{screen:"Authenticated",params:{screen:"Manifest",params:{screen:"ProfileScreen"}}})}}),p.createElement(Ji,{items:[{title:"Role",value:ug()(((null==s||null==(n=s.role)?void 0:n.name)||"").replace("_"," "))},{title:"Funds",value:"$"+((null==s?void 0:s.credits)||0)}]}),p.createElement(o.c,{showsVerticalScrollIndicator:!1},p.createElement(_l.b.Section,{title:"Account"},p.createElement(_l.b.Item,{label:"Manifest",active:/Manifest/.test(E||""),icon:"home",onPress:function(){m.navigate("Authenticated",{screen:"Authenticated",params:{screen:"ManifestScreen"}})}}),p.createElement(_l.b.Item,{label:"Profile",active:"ProfileScreen"===E,icon:"account",onPress:function(){m.navigate("Authenticated",{screen:"Authenticated",params:{screen:"Manifest",params:{screen:"ProfileScreen"}}})}}),p.createElement(_l.b.Item,{label:"Equipment",active:"EquipmentScreen"===E,icon:"parachute",onPress:function(){m.navigate("Authenticated",{screen:"Authenticated",params:{screen:"Manifest",params:{screen:"EquipmentScreen"}}})}}),p.createElement(_l.b.Item,{label:"Notifications",active:"Notifications"===E,icon:"bell",onPress:function(){return m.navigate("Authenticated",{screen:"Authenticated",params:{screen:"Notifications"}})}}),p.createElement(_l.b.Item,{label:"Transactions",active:"TransactionsScreen"===E,icon:"cash",onPress:function(){m.navigate("Authenticated",{screen:"Authenticated",params:{screen:"Manifest",params:{screen:"TransactionsScreen"}}})}}),p.createElement(_l.b.Item,{label:"Log out",icon:"logout",onPress:function(){l(Dn.global.logout()),m.dispatch(ts.DrawerActions.closeDrawer())}})),p.createElement(_l.b.Section,{title:"Dropzone"},p.createElement(_l.b.Item,{label:"Order Activity",active:"DropzoneTransactionsScreen"===E,icon:"cash",onPress:function(){m.navigate("Authenticated",{screen:"Authenticated",params:{screen:"Manifest",params:{screen:"DropzoneTransactionsScreen"}}})}}),T?p.createElement(_l.b.Item,{active:"Settings"===g,label:"Settings",icon:"cog",onPress:function(){return m.navigate("Authenticated",{screen:"Authenticated",params:{screen:"Manifest",params:{screen:"SettingsScreen"}}})}}):null),p.createElement(_l.b.Section,{title:"Switch dropzone"},null==d||null==(t=d.dropzones)||null==(r=t.edges)?void 0:r.map((function(e){var n,t,r;return p.createElement(_l.b.Item,{key:(null==e||null==(n=e.node)?void 0:n.id)+"-dz",label:(null==e||null==(t=e.node)?void 0:t.name)||"",icon:"map-marker",active:(null==u?void 0:u.id)===(null==e||null==(r=e.node)?void 0:r.id),onPress:function(){null!=e&&e.node&&(l(Dn.global.setDropzone(e.node)),m.navigate("Authenticated",{screen:"Authenticated"}))}})})),p.createElement(_l.b.Item,{label:"Create new",icon:"plus",onPress:function(){m.navigate("DropzoneSetupScreen")}}))))}var dg,mg,fg,pg,gg,vg,hg=F.a.create({profileHeader:{backgroundColor:"#FF1414",flexGrow:1},skeleton:{height:50,width:"100%",paddingHorizontal:8,flexDirection:"row",marginBottom:16},profileAvatar:{marginBottom:16},profileAvatarTitle:{fontWeight:"bold",marginLeft:4},profileAvatarSubtitle:{fontSize:12,marginLeft:4}}),bg=Object(yt.a)(),yg=Object(Et.a)();function Eg(){var e=Un((function(e){return e.global}));return p.createElement(bg.Navigator,{screenOptions:{headerShown:!1,cardStyle:{flex:1}}},e.credentials?e.currentDropzone?p.createElement(bg.Screen,{name:"Authenticated"},(function(){return p.createElement(yg.Navigator,{drawerContent:function(){return p.createElement(cg,null)}},p.createElement(yg.Screen,{name:"Authenticated",component:bf}))})):p.createElement(bg.Screen,{name:"Dropzones",component:Cf}):p.createElement(bg.Screen,{name:"Unauthenticated",component:cp}),p.createElement(bg.Screen,{name:"DropzoneSetupScreen",component:Lp}),p.createElement(bg.Screen,{name:"UserSetupWizard",component:ng}),p.createElement(bg.Screen,{name:"confirm",component:rg}),p.createElement(bg.Screen,{name:"ChangePasswordScreen",component:ig}),p.createElement(bg.Screen,{name:"DropzonesScreen",component:kf}),p.createElement(bg.Screen,{name:"NotFound",component:kt,options:{title:"Oops!"}}))}s.a({handleNotification:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{shouldShowAlert:!0,shouldPlaySound:!0,shouldSetBadge:!0});case 1:case"end":return e.stop()}}),null,null,null,Promise)}}),I.init({dsn:Object({NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"OpenManifest",slug:"openmanifest",version:"1.0.0",orientation:"portrait",icon:"./assets/images/android-icon.png",scheme:"openmanifest",userInterfaceStyle:"automatic",splash:{image:"./assets/images/logo.png",resizeMode:"contain",backgroundColor:"#ff1414"},updates:{fallbackToCacheTimeout:0},assetBundlePatterns:["**/*"],web:{},_internal:{isDebug:!1,projectRoot:"/home/runner/work/openmanifest/openmanifest",dynamicConfigPath:"/home/runner/work/openmanifest/openmanifest/app.config.ts",staticConfigPath:"/home/runner/work/openmanifest/openmanifest/app.json",packageJsonPath:"/home/runner/work/openmanifest/openmanifest/package.json"},sdkVersion:"42.0.0",platforms:["ios","android","web"],hooks:{postPublish:[{file:"sentry-expo/upload-sourcemaps",config:{organization:"danger-technology",project:"openmanifest"}}]},extra:{url:"https://devapi.openmanifest.org/graphql",urls:{development:"http://127.0.0.1",staging:"https://devapi.openmanifest.org/graphql",default:"https://devapi.openmanifest.org/graphql",production:"https://api.openmanifest.org/graphql"},environment:"staging"}},CI:"true"}).SENTRY_DSN,enableInExpoDevelopment:!0,debug:!0});var xg=S.a.select({ios:null==(dg=i.a.manifest)||null==(mg=dg.extra)?void 0:mg.googleMapsIos,android:null==(fg=i.a.manifest)||null==(pg=fg.extra)?void 0:pg.googleMapsAndroid,web:null==(gg=i.a.manifest)||null==(vg=gg.extra)?void 0:vg.googleMapsWeb});function kg(){var e,n,t=Un((function(e){return e.global})),r=$n(),o=p.useRef(),s=p.useRef(),g=function(e){var n=P()(e.url).path();console.log(n)},h="dark"===k.a.getColorScheme();return p.useEffect((function(){h&&!t.isDarkMode||!h&&t.isDarkMode?r(Dn.global.toggleDarkMode()):r(Dn.global.setPrimaryColor(t.theme.colors.primary))}),[r,h,t.isDarkMode,t.theme.colors.primary]),p.useEffect((function(){if("web"!==S.a.OS)return function(){var e,n,t,r,o,l;return a.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e=null,!i.a.isDevice){s.next=21;break}return s.next=4,a.a.awrap(u.a());case 4:if(n=s.sent,t=n.status,r=t,"granted"===t){s.next=13;break}return s.next=10,a.a.awrap(u.b());case 10:o=s.sent,l=o.status,r=l;case 13:if("granted"===r){s.next=16;break}return console.warn("Failed to get push token for push notification!"),s.abrupt("return",null);case 16:return s.next=18,a.a.awrap(c.a());case 18:e=s.sent.data,s.next=22;break;case 21:console.warn("Must use physical device for Push Notifications");case 22:return"android"===S.a.OS&&d.a("default",{name:"default",importance:m.a.MAX,vibrationPattern:[0,250,250,250],lightColor:"#FF231F7C"}),s.abrupt("return",e||null);case 24:case"end":return s.stop()}}),null,null,null,Promise)}().then((function(e){e&&r(Dn.global.setExpoPushToken(e))})),o.current=f.a((function(e){e.request.content.body&&r(Dn.notifications.showSnackbar({message:e.request.content.body,variant:"info"}))})),s.current=f.b((function(e){console.log({notification:e})})),w.a.addEventListener("url",g),function(){o.current&&f.c(o.current),s.current&&f.c(s.current),w.a.removeEventListener("url",g)}}),[r]),p.createElement(Vn,null,p.createElement(p.Suspense,{fallback:p.createElement(C.default,{style:{flex:1,flexGrow:1}},p.createElement(y.a,{indeterminate:!0,color:null==t||null==(e=t.theme)||null==(n=e.colors)?void 0:n.accent,visible:!0}))},p.createElement(Kn,null,p.createElement(E.a,{theme:t.theme},p.createElement(v.b,null,p.createElement(nt,null),p.createElement(O.a,{linking:bt,theme:t.theme},p.createElement(A,null,p.createElement(Eg,null))),p.createElement(l.a,null),p.createElement(vt,null))))))}j.a.init(xg),Object(D.c)(xg);n.default=Object(z.a)((function(){return function(){var e=p.useState(!1),n=H()(e,2),r=n[0],o=n[1],l=rt.a({Inter_400Regular:lt.a,Inter_500Medium:lt.b,Inter_700Bold:lt.c}),i=H()(l,1)[0];return p.useEffect((function(){a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ot.b(),e.next=4,a.a.awrap(at.b(st(st({},tt.a.font),{},{"space-mono":t(809)})));case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:return e.prev=8,o(!0),ot.a(),e.finish(8);case 12:case"end":return e.stop()}}),null,null,[[0,6,8,12]],Promise)}),[]),r&&i}()?p.createElement(h.a,{store:Nn},p.createElement(b.a,{persistor:Rn,loading:p.createElement(C.default,{style:{flex:1,justifyContent:"center",alignItems:"center"}},p.createElement(x.a,{size:"large"}))},p.createElement(kg,null))):null}))}},[[601,2,3]]]);
//# sourceMappingURL=app.f53aa224.chunk.js.map